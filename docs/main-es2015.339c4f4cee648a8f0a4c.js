(window.webpackJsonp = window.webpackJsonp || []).push([
            [1], {
                0: function(t, e, n) { t.exports = n("zUnb") },
                "3Kre": function(t, e, n) {
                    "use strict";
                    n.r(e), n.d(e, "factory", (function() { return x })), n.d(e, "getGlobalVars", (function() { return S })), n.d(e, "registerAnalytics", (function() { return T })), n.d(e, "resetGlobalVars", (function() { return E })), n.d(e, "settings", (function() { return C }));
                    var r, i, o, s = n("wj3C"),
                        a = n.n(s),
                        c = (n("fSjL"), n("mrSG")),
                        l = n("q/0M"),
                        u = n("zVF4"),
                        h = n("S+S0"),
                        d = "https://www.googletagmanager.com/gtag/js",
                        p = function(t) { return t.EVENT = "event", t.SET = "set", t.CONFIG = "config", t }({}),
                        f = function(t) { return t.ADD_SHIPPING_INFO = "add_shipping_info", t.ADD_PAYMENT_INFO = "add_payment_info", t.ADD_TO_CART = "add_to_cart", t.ADD_TO_WISHLIST = "add_to_wishlist", t.BEGIN_CHECKOUT = "begin_checkout", t.CHECKOUT_PROGRESS = "checkout_progress", t.EXCEPTION = "exception", t.GENERATE_LEAD = "generate_lead", t.LOGIN = "login", t.PAGE_VIEW = "page_view", t.PURCHASE = "purchase", t.REFUND = "refund", t.REMOVE_FROM_CART = "remove_from_cart", t.SCREEN_VIEW = "screen_view", t.SEARCH = "search", t.SELECT_CONTENT = "select_content", t.SELECT_ITEM = "select_item", t.SELECT_PROMOTION = "select_promotion", t.SET_CHECKOUT_OPTION = "set_checkout_option", t.SHARE = "share", t.SIGN_UP = "sign_up", t.TIMING_COMPLETE = "timing_complete", t.VIEW_CART = "view_cart", t.VIEW_ITEM = "view_item", t.VIEW_ITEM_LIST = "view_item_list", t.VIEW_PROMOTION = "view_promotion", t.VIEW_SEARCH_RESULTS = "view_search_results", t }({}),
                        m = new l.Logger("@firebase/analytics"),
                        g = ((r = {})["no-ga-id"] = '"measurementId" field is empty in Firebase config. Firebase Analytics requires this field to contain a valid measurement ID.', r["already-exists"] = "A Firebase Analytics instance with the measurement ID ${id}  already exists. Only one Firebase Analytics instance can be created for each measurement ID.", r["already-initialized"] = "Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.", r["interop-component-reg-failed"] = "Firebase Analytics Interop Component failed to instantiate", r),
                        y = new u.ErrorFactory("analytics", "Analytics", g),
                        v = {},
                        _ = "dataLayer",
                        b = "gtag",
                        w = !1;

                    function E(t, e) { void 0 === t && (t = !1), void 0 === e && (e = {}), w = t, v = e, _ = "dataLayer", b = "gtag" }

                    function S() { return { initializedIdPromisesMap: v } }

                    function C(t) {
                        if (w) throw y.create("already-initialized");
                        t.dataLayerName && (_ = t.dataLayerName), t.gtagName && (b = t.gtagName)
                    }

                    function x(t, e) {
                        var n = t.options.measurementId;
                        if (!n) throw y.create("no-ga-id");
                        if (null != v[n]) throw y.create("already-exists", { id: n });
                        if (!w) {
                            (function() { for (var t = window.document.getElementsByTagName("script"), e = 0, n = Object.values(t); e < n.length; e++) { var r = n[e]; if (r.src && r.src.includes(d)) return r } return null })() || function(t) {
                                var e = document.createElement("script");
                                e.src = d + "?l=" + t, e.async = !0, document.head.appendChild(e)
                            }(_),
                            function(t) {
                                var e = [];
                                Array.isArray(window[t]) ? e = window[t] : window[t] = e
                            }(_);
                            var r = function(t, e, n) {
                                var r = function() {
                                    for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                                    window[e].push(arguments)
                                };
                                return window[n] && "function" == typeof window[n] && (r = window[n]), window[n] = function(t, e) {
                                    return function(n, r, i) {
                                        if (n === p.EVENT) {
                                            var o = [];
                                            if (i && i.send_to) {
                                                var s = i.send_to;
                                                Array.isArray(s) || (s = [s]);
                                                for (var a = 0, c = s; a < c.length; a++) {
                                                    var l = e[c[a]];
                                                    if (!l) { o = []; break }
                                                    o.push(l)
                                                }
                                            }
                                            if (0 === o.length)
                                                for (var u = 0, h = Object.values(e); u < h.length; u++) o.push(h[u]);
                                            Promise.all(o).then((function() { return t(p.EVENT, r, i || {}) })).catch((function(t) { return m.error(t) }))
                                        } else n === p.CONFIG ? (e[r] || Promise.resolve()).then((function() { t(p.CONFIG, r, i) })).catch((function(t) { return m.error(t) })) : t(p.SET, r)
                                    }
                                }(r, t), { gtagCore: r, wrappedGtag: window[n] }
                            }(v, _, b);
                            o = r.wrappedGtag, i = r.gtagCore, w = !0
                        }
                        return v[n] = function(t, e, n) {
                            return Object(c.__awaiter)(this, void 0, void 0, (function() {
                                var r, i;
                                return Object(c.__generator)(this, (function(o) {
                                    switch (o.label) {
                                        case 0:
                                            return [4, e.getId()];
                                        case 1:
                                            return r = o.sent(), n("js", new Date), n(p.CONFIG, t.options.measurementId, ((i = {}).firebase_id = r, i.origin = "firebase", i.update = !0, i)), [2]
                                    }
                                }))
                            }))
                        }(t, e, i), {
                            app: t,
                            logEvent: function(t, e, r) {
                                return function(t, e, n, r, i) {
                                    var o = r || {};
                                    i && i.global || (o = Object(c.__assign)(Object(c.__assign)({}, r), { send_to: e })), t(p.EVENT, n, o || {})
                                }(o, n, t, e, r)
                            },
                            setCurrentScreen: function(t, e) { return function(t, e, n, r) { r && r.global ? t(p.SET, { screen_name: n }) : t(p.CONFIG, e, { update: !0, screen_name: n }) }(o, n, t, e) },
                            setUserId: function(t, e) { return function(t, e, n, r) { r && r.global ? t(p.SET, { user_id: n }) : t(p.CONFIG, e, { update: !0, user_id: n }) }(o, n, t, e) },
                            setUserProperties: function(t, e) {
                                return function(t, e, n, r) {
                                    if (r && r.global) {
                                        for (var i = {}, o = 0, s = Object.keys(n); o < s.length; o++) {
                                            var a = s[o];
                                            i["user_properties." + a] = n[a]
                                        }
                                        t(p.SET, i)
                                    } else t(p.CONFIG, e, { update: !0, user_properties: n })
                                }(o, n, t, e)
                            },
                            setAnalyticsCollectionEnabled: function(t) { return function(t, e) { window["ga-disable-" + t] = !e }(n, t) }
                        }
                    }

                    function T(t) { t.INTERNAL.registerComponent(new h.Component("analytics", (function(t) { return x(t.getProvider("app").getImmediate(), t.getProvider("installations").getImmediate()) }), "PUBLIC").setServiceProps({ settings: C, EventName: f })), t.INTERNAL.registerComponent(new h.Component("analytics-internal", (function(t) { try { return { logEvent: t.getProvider("analytics").getImmediate().logEvent } } catch (e) { throw y.create("interop-component-reg-failed", { reason: e }) } }), "PRIVATE")), t.registerVersion("@firebase/analytics", "0.3.9") }
                    T(a.a)
                },
                "6Joi": function(t, e, n) {
                    "use strict";
                    Object.defineProperty(e, "__esModule", { value: !0 });
                    var r, i = n("mrSG"),
                        o = (r = n("wj3C")) && "object" == typeof r && "default" in r ? r.default : r,
                        s = n("q/0M"),
                        a = n("zVF4"),
                        c = n("x7I3"),
                        l = n("S+S0"),
                        u = o.SDK_VERSION,
                        h = new s.Logger("@firebase/firestore");

                    function d() { return h.logLevel }

                    function p(t) {
                        for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
                        if (h.logLevel <= s.LogLevel.DEBUG) {
                            var r = e.map(m);
                            h.debug.apply(h, i.__spreadArrays(["Firestore (" + u + "): " + t], r))
                        }
                    }

                    function f(t) {
                        for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
                        if (h.logLevel <= s.LogLevel.ERROR) {
                            var r = e.map(m);
                            h.error.apply(h, i.__spreadArrays(["Firestore (" + u + "): " + t], r))
                        }
                    }

                    function m(t) { if ("string" == typeof t) return t; try { return JSON.stringify(t) } catch (i) { return t } }

                    function g(t) { void 0 === t && (t = "Unexpected state"); var e = "FIRESTORE (" + u + ") INTERNAL ASSERTION FAILED: " + t; throw f(e), new Error(e) }

                    function y(t, e) { t || g() }

                    function v(t, e) { return t }

                    function _(t) {
                        var e = "undefined" != typeof self && (self.crypto || self.msCrypto),
                            n = new Uint8Array(t);
                        if (e) e.getRandomValues(n);
                        else
                            for (var r = 0; r < t; r++) n[r] = Math.floor(256 * Math.random());
                        return n
                    }
                    var b = function() {
                        function t() {}
                        return t.t = function() {
                            for (var t = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789", e = Math.floor(256 / t.length) * t.length, n = ""; n.length < 20;)
                                for (var r = _(40), i = 0; i < r.length; ++i) n.length < 20 && r[i] < e && (n += t.charAt(r[i] % t.length));
                            return n
                        }, t
                    }();

                    function w(t, e) { return t < e ? -1 : t > e ? 1 : 0 }

                    function E(t, e, n) { return t.length === e.length && t.every((function(t, r) { return n(t, e[r]) })) }

                    function S(t) { return t + "\0" }
                    var C = function(t, e, n, r, i) { this.s = t, this.persistenceKey = e, this.host = n, this.ssl = r, this.forceLongPolling = i },
                        x = function() {
                            function t(t, e) { this.projectId = t, this.database = e || "(default)" }
                            return Object.defineProperty(t.prototype, "i", { get: function() { return "(default)" === this.database }, enumerable: !1, configurable: !0 }), t.prototype.isEqual = function(e) { return e instanceof t && e.projectId === this.projectId && e.database === this.database }, t.prototype.o = function(t) { return w(this.projectId, t.projectId) || w(this.database, t.database) }, t
                        }();

                    function T(t) { var e = 0; for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && e++; return e }

                    function k(t, e) { for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && e(n, t[n]) }

                    function I(t) {
                        for (var e in t)
                            if (Object.prototype.hasOwnProperty.call(t, e)) return !1;
                        return !0
                    }
                    var A = function() {
                            function t(t, e) { this.h = t, this.u = e, this.l = {} }
                            return t.prototype.get = function(t) {
                                var e = this.h(t),
                                    n = this.l[e];
                                if (void 0 !== n)
                                    for (var r = 0, i = n; r < i.length; r++) {
                                        var o = i[r],
                                            s = o[1];
                                        if (this.u(o[0], t)) return s
                                    }
                            }, t.prototype.has = function(t) { return void 0 !== this.get(t) }, t.prototype.set = function(t, e) {
                                var n = this.h(t),
                                    r = this.l[n];
                                if (void 0 !== r) {
                                    for (var i = 0; i < r.length; i++)
                                        if (this.u(r[i][0], t)) return void(r[i] = [t, e]);
                                    r.push([t, e])
                                } else this.l[n] = [
                                    [t, e]
                                ]
                            }, t.prototype.delete = function(t) {
                                var e = this.h(t),
                                    n = this.l[e];
                                if (void 0 === n) return !1;
                                for (var r = 0; r < n.length; r++)
                                    if (this.u(n[r][0], t)) return 1 === n.length ? delete this.l[e] : n.splice(r, 1), !0;
                                return !1
                            }, t.prototype.forEach = function(t) {
                                k(this.l, (function(e, n) {
                                    for (var r = 0, i = n; r < i.length; r++) {
                                        var o = i[r];
                                        t(o[0], o[1])
                                    }
                                }))
                            }, t.prototype._ = function() { return I(this.l) }, t
                        }(),
                        R = { OK: "ok", CANCELLED: "cancelled", UNKNOWN: "unknown", INVALID_ARGUMENT: "invalid-argument", DEADLINE_EXCEEDED: "deadline-exceeded", NOT_FOUND: "not-found", ALREADY_EXISTS: "already-exists", PERMISSION_DENIED: "permission-denied", UNAUTHENTICATED: "unauthenticated", RESOURCE_EXHAUSTED: "resource-exhausted", FAILED_PRECONDITION: "failed-precondition", ABORTED: "aborted", OUT_OF_RANGE: "out-of-range", UNIMPLEMENTED: "unimplemented", INTERNAL: "internal", UNAVAILABLE: "unavailable", DATA_LOSS: "data-loss" },
                        O = function(t) {
                            function e(e, n) { var r = this; return (r = t.call(this, n) || this).code = e, r.message = n, r.name = "FirebaseError", r.toString = function() { return r.name + ": [code=" + r.code + "]: " + r.message }, r }
                            return i.__extends(e, t), e
                        }(Error),
                        N = function() {
                            function t(t, e) { if (this.seconds = t, this.nanoseconds = e, e < 0) throw new O(R.INVALID_ARGUMENT, "Timestamp nanoseconds out of range: " + e); if (e >= 1e9) throw new O(R.INVALID_ARGUMENT, "Timestamp nanoseconds out of range: " + e); if (t < -62135596800) throw new O(R.INVALID_ARGUMENT, "Timestamp seconds out of range: " + t); if (t >= 253402300800) throw new O(R.INVALID_ARGUMENT, "Timestamp seconds out of range: " + t) }
                            return t.now = function() { return t.fromMillis(Date.now()) }, t.fromDate = function(e) { return t.fromMillis(e.getTime()) }, t.fromMillis = function(e) { var n = Math.floor(e / 1e3); return new t(n, 1e6 * (e - 1e3 * n)) }, t.prototype.toDate = function() { return new Date(this.toMillis()) }, t.prototype.toMillis = function() { return 1e3 * this.seconds + this.nanoseconds / 1e6 }, t.prototype.T = function(t) { return this.seconds === t.seconds ? w(this.nanoseconds, t.nanoseconds) : w(this.seconds, t.seconds) }, t.prototype.isEqual = function(t) { return t.seconds === this.seconds && t.nanoseconds === this.nanoseconds }, t.prototype.toString = function() { return "Timestamp(seconds=" + this.seconds + ", nanoseconds=" + this.nanoseconds + ")" }, t.prototype.valueOf = function() { return String(this.seconds - -62135596800).padStart(12, "0") + "." + String(this.nanoseconds).padStart(9, "0") }, t
                        }(),
                        D = function() {
                            function t(t) { this.timestamp = t }
                            return t.I = function(e) { return new t(e) }, t.min = function() { return new t(new N(0, 0)) }, t.prototype.o = function(t) { return this.timestamp.T(t.timestamp) }, t.prototype.isEqual = function(t) { return this.timestamp.isEqual(t.timestamp) }, t.prototype.m = function() { return 1e6 * this.timestamp.seconds + this.timestamp.nanoseconds / 1e3 }, t.prototype.toString = function() { return "SnapshotVersion(" + this.timestamp.toString() + ")" }, t.prototype.A = function() { return this.timestamp }, t
                        }(),
                        P = function() {
                            function t(t, e, n) { void 0 === e ? e = 0 : e > t.length && g(), void 0 === n ? n = t.length - e : n > t.length - e && g(), this.segments = t, this.offset = e, this.R = n }
                            return Object.defineProperty(t.prototype, "length", { get: function() { return this.R }, enumerable: !1, configurable: !0 }), t.prototype.isEqual = function(e) { return 0 === t.P(this, e) }, t.prototype.child = function(e) { var n = this.segments.slice(this.offset, this.limit()); return e instanceof t ? e.forEach((function(t) { n.push(t) })) : n.push(e), this.V(n) }, t.prototype.limit = function() { return this.offset + this.length }, t.prototype.g = function(t) { return this.V(this.segments, this.offset + (t = void 0 === t ? 1 : t), this.length - t) }, t.prototype.p = function() { return this.V(this.segments, this.offset, this.length - 1) }, t.prototype.v = function() { return this.segments[this.offset] }, t.prototype.S = function() { return this.get(this.length - 1) }, t.prototype.get = function(t) { return this.segments[this.offset + t] }, t.prototype._ = function() { return 0 === this.length }, t.prototype.D = function(t) {
                                if (t.length < this.length) return !1;
                                for (var e = 0; e < this.length; e++)
                                    if (this.get(e) !== t.get(e)) return !1;
                                return !0
                            }, t.prototype.C = function(t) {
                                if (this.length + 1 !== t.length) return !1;
                                for (var e = 0; e < this.length; e++)
                                    if (this.get(e) !== t.get(e)) return !1;
                                return !0
                            }, t.prototype.forEach = function(t) { for (var e = this.offset, n = this.limit(); e < n; e++) t(this.segments[e]) }, t.prototype.F = function() { return this.segments.slice(this.offset, this.limit()) }, t.P = function(t, e) {
                                for (var n = Math.min(t.length, e.length), r = 0; r < n; r++) {
                                    var i = t.get(r),
                                        o = e.get(r);
                                    if (i < o) return -1;
                                    if (i > o) return 1
                                }
                                return t.length < e.length ? -1 : t.length > e.length ? 1 : 0
                            }, t
                        }(),
                        M = function(t) {
                            function e() { return null !== t && t.apply(this, arguments) || this }
                            return i.__extends(e, t), e.prototype.V = function(t, n, r) { return new e(t, n, r) }, e.prototype.N = function() { return this.F().join("/") }, e.prototype.toString = function() { return this.N() }, e.$ = function(t) { if (t.indexOf("//") >= 0) throw new O(R.INVALID_ARGUMENT, "Invalid path (" + t + "). Paths must not contain // in them."); return new e(t.split("/").filter((function(t) { return t.length > 0 }))) }, e.k = function() { return new e([]) }, e
                        }(P),
                        L = /^[_a-zA-Z][_a-zA-Z0-9]*$/,
                        F = function(t) {
                            function e() { return null !== t && t.apply(this, arguments) || this }
                            return i.__extends(e, t), e.prototype.V = function(t, n, r) { return new e(t, n, r) }, e.M = function(t) { return L.test(t) }, e.prototype.N = function() { return this.F().map((function(t) { return t = t.replace("\\", "\\\\").replace("`", "\\`"), e.M(t) || (t = "`" + t + "`"), t })).join(".") }, e.prototype.toString = function() { return this.N() }, e.prototype.O = function() { return 1 === this.length && "__name__" === this.get(0) }, e.L = function() { return new e(["__name__"]) }, e.B = function(t) {
                                for (var n = [], r = "", i = 0, o = function() {
                                        if (0 === r.length) throw new O(R.INVALID_ARGUMENT, "Invalid field path (" + t + "). Paths must not be empty, begin with '.', end with '.', or contain '..'");
                                        n.push(r), r = ""
                                    }, s = !1; i < t.length;) {
                                    var a = t[i];
                                    if ("\\" === a) {
                                        if (i + 1 === t.length) throw new O(R.INVALID_ARGUMENT, "Path has trailing escape character: " + t);
                                        var c = t[i + 1];
                                        if ("\\" !== c && "." !== c && "`" !== c) throw new O(R.INVALID_ARGUMENT, "Path has invalid escape sequence: " + t);
                                        r += c, i += 2
                                    } else "`" === a ? (s = !s, i++) : "." !== a || s ? (r += a, i++) : (o(), i++)
                                }
                                if (o(), s) throw new O(R.INVALID_ARGUMENT, "Unterminated ` in path: " + t);
                                return new e(n)
                            }, e.k = function() { return new e([]) }, e
                        }(P),
                        j = function() {
                            function t(t) { this.path = t }
                            return t.q = function(e) { return new t(M.$(e).g(5)) }, t.prototype.U = function(t) { return this.path.length >= 2 && this.path.get(this.path.length - 2) === t }, t.prototype.isEqual = function(t) { return null !== t && 0 === M.P(this.path, t.path) }, t.prototype.toString = function() { return this.path.toString() }, t.P = function(t, e) { return M.P(t.path, e.path) }, t.W = function(t) { return t.length % 2 == 0 }, t.j = function(e) { return new t(new M(e.slice())) }, t
                        }();

                    function U(t) { return null == t }

                    function V(t) { return -0 === t && 1 / t == -1 / 0 }

                    function B(t) { return "number" == typeof t && Number.isInteger(t) && !V(t) && t <= Number.MAX_SAFE_INTEGER && t >= Number.MIN_SAFE_INTEGER }
                    var q = function(t, e, n, r, i, o, s) { void 0 === e && (e = null), void 0 === n && (n = []), void 0 === r && (r = []), void 0 === i && (i = null), void 0 === o && (o = null), void 0 === s && (s = null), this.path = t, this.collectionGroup = e, this.orderBy = n, this.filters = r, this.limit = i, this.startAt = o, this.endAt = s, this.K = null };

                    function H(t, e, n, r, i, o, s) { return void 0 === e && (e = null), void 0 === n && (n = []), void 0 === r && (r = []), void 0 === i && (i = null), void 0 === o && (o = null), void 0 === s && (s = null), new q(t, e, n, r, i, o, s) }

                    function W(t) {
                        var e = v(t);
                        if (null === e.K) {
                            var n = e.path.N();
                            null !== e.collectionGroup && (n += "|cg:" + e.collectionGroup), n += "|f:", n += e.filters.map((function(t) { return function(t) { return t.field.N() + t.op.toString() + Mt(t.value) }(t) })).join(","), n += "|ob:", n += e.orderBy.map((function(t) { return (e = t).field.N() + e.dir; var e })).join(","), U(e.limit) || (n += "|l:", n += e.limit), e.startAt && (n += "|lb:", n += bn(e.startAt)), e.endAt && (n += "|ub:", n += bn(e.endAt)), e.K = n
                        }
                        return e.K
                    }

                    function z(t, e) {
                        if (t.limit !== e.limit) return !1;
                        if (t.orderBy.length !== e.orderBy.length) return !1;
                        for (var n = 0; n < t.orderBy.length; n++)
                            if (!xn(t.orderBy[n], e.orderBy[n])) return !1;
                        if (t.filters.length !== e.filters.length) return !1;
                        for (var r = 0; r < t.filters.length; r++)
                            if (o = e.filters[r], !((i = t.filters[r]) instanceof pn && o instanceof pn && i.op === o.op && i.field.isEqual(o.field) && Ot(i.value, o.value))) return !1;
                        var i, o;
                        return t.collectionGroup === e.collectionGroup && !!t.path.isEqual(e.path) && !!En(t.startAt, e.startAt) && En(t.endAt, e.endAt)
                    }

                    function G(t) { return j.W(t.path) && null === t.collectionGroup && 0 === t.filters.length }
                    var $ = function() {
                        function t(t) { this.G = t }
                        return t.fromBase64String = function(e) { return new t(atob(e)) }, t.fromUint8Array = function(e) { return new t(function(t) { for (var e = "", n = 0; n < t.length; ++n) e += String.fromCharCode(t[n]); return e }(e)) }, t.prototype.toBase64 = function() { return btoa(this.G) }, t.prototype.toUint8Array = function() { return function(t) { for (var e = new Uint8Array(t.length), n = 0; n < t.length; n++) e[n] = t.charCodeAt(n); return e }(this.G) }, t.prototype.H = function() { return 2 * this.G.length }, t.prototype.o = function(t) { return w(this.G, t.G) }, t.prototype.isEqual = function(t) { return this.G === t.G }, t
                    }();
                    $.Y = new $("");
                    var K, Y, X = function() {
                            function t(t, e, n, r, i, o, s) { void 0 === i && (i = D.min()), void 0 === o && (o = D.min()), void 0 === s && (s = $.Y), this.target = t, this.targetId = e, this.J = n, this.sequenceNumber = r, this.X = i, this.lastLimboFreeSnapshotVersion = o, this.resumeToken = s }
                            return t.prototype.Z = function(e) { return new t(this.target, this.targetId, this.J, e, this.X, this.lastLimboFreeSnapshotVersion, this.resumeToken) }, t.prototype.tt = function(e, n) { return new t(this.target, this.targetId, this.J, this.sequenceNumber, n, this.lastLimboFreeSnapshotVersion, e) }, t.prototype.et = function(e) { return new t(this.target, this.targetId, this.J, this.sequenceNumber, this.X, e, this.resumeToken) }, t
                        }(),
                        Q = function(t) { this.count = t };

                    function Z(t) {
                        switch (t) {
                            case R.OK:
                                return g();
                            case R.CANCELLED:
                            case R.UNKNOWN:
                            case R.DEADLINE_EXCEEDED:
                            case R.RESOURCE_EXHAUSTED:
                            case R.INTERNAL:
                            case R.UNAVAILABLE:
                            case R.UNAUTHENTICATED:
                                return !1;
                            case R.INVALID_ARGUMENT:
                            case R.NOT_FOUND:
                            case R.ALREADY_EXISTS:
                            case R.PERMISSION_DENIED:
                            case R.FAILED_PRECONDITION:
                            case R.ABORTED:
                            case R.OUT_OF_RANGE:
                            case R.UNIMPLEMENTED:
                            case R.DATA_LOSS:
                                return !0;
                            default:
                                return g()
                        }
                    }

                    function J(t) {
                        if (void 0 === t) return f("GRPC error has no .code"), R.UNKNOWN;
                        switch (t) {
                            case K.OK:
                                return R.OK;
                            case K.CANCELLED:
                                return R.CANCELLED;
                            case K.UNKNOWN:
                                return R.UNKNOWN;
                            case K.DEADLINE_EXCEEDED:
                                return R.DEADLINE_EXCEEDED;
                            case K.RESOURCE_EXHAUSTED:
                                return R.RESOURCE_EXHAUSTED;
                            case K.INTERNAL:
                                return R.INTERNAL;
                            case K.UNAVAILABLE:
                                return R.UNAVAILABLE;
                            case K.UNAUTHENTICATED:
                                return R.UNAUTHENTICATED;
                            case K.INVALID_ARGUMENT:
                                return R.INVALID_ARGUMENT;
                            case K.NOT_FOUND:
                                return R.NOT_FOUND;
                            case K.ALREADY_EXISTS:
                                return R.ALREADY_EXISTS;
                            case K.PERMISSION_DENIED:
                                return R.PERMISSION_DENIED;
                            case K.FAILED_PRECONDITION:
                                return R.FAILED_PRECONDITION;
                            case K.ABORTED:
                                return R.ABORTED;
                            case K.OUT_OF_RANGE:
                                return R.OUT_OF_RANGE;
                            case K.UNIMPLEMENTED:
                                return R.UNIMPLEMENTED;
                            case K.DATA_LOSS:
                                return R.DATA_LOSS;
                            default:
                                return g()
                        }
                    }(Y = K || (K = {}))[Y.OK = 0] = "OK", Y[Y.CANCELLED = 1] = "CANCELLED", Y[Y.UNKNOWN = 2] = "UNKNOWN", Y[Y.INVALID_ARGUMENT = 3] = "INVALID_ARGUMENT", Y[Y.DEADLINE_EXCEEDED = 4] = "DEADLINE_EXCEEDED", Y[Y.NOT_FOUND = 5] = "NOT_FOUND", Y[Y.ALREADY_EXISTS = 6] = "ALREADY_EXISTS", Y[Y.PERMISSION_DENIED = 7] = "PERMISSION_DENIED", Y[Y.UNAUTHENTICATED = 16] = "UNAUTHENTICATED", Y[Y.RESOURCE_EXHAUSTED = 8] = "RESOURCE_EXHAUSTED", Y[Y.FAILED_PRECONDITION = 9] = "FAILED_PRECONDITION", Y[Y.ABORTED = 10] = "ABORTED", Y[Y.OUT_OF_RANGE = 11] = "OUT_OF_RANGE", Y[Y.UNIMPLEMENTED = 12] = "UNIMPLEMENTED", Y[Y.INTERNAL = 13] = "INTERNAL", Y[Y.UNAVAILABLE = 14] = "UNAVAILABLE", Y[Y.DATA_LOSS = 15] = "DATA_LOSS";
                    var tt = function() {
                            function t(t, e) { this.P = t, this.root = e || nt.EMPTY }
                            return t.prototype.nt = function(e, n) { return new t(this.P, this.root.nt(e, n, this.P).copy(null, null, nt.st, null, null)) }, t.prototype.remove = function(e) { return new t(this.P, this.root.remove(e, this.P).copy(null, null, nt.st, null, null)) }, t.prototype.get = function(t) {
                                for (var e = this.root; !e._();) {
                                    var n = this.P(t, e.key);
                                    if (0 === n) return e.value;
                                    n < 0 ? e = e.left : n > 0 && (e = e.right)
                                }
                                return null
                            }, t.prototype.indexOf = function(t) {
                                for (var e = 0, n = this.root; !n._();) {
                                    var r = this.P(t, n.key);
                                    if (0 === r) return e + n.left.size;
                                    r < 0 ? n = n.left : (e += n.left.size + 1, n = n.right)
                                }
                                return -1
                            }, t.prototype._ = function() { return this.root._() }, Object.defineProperty(t.prototype, "size", { get: function() { return this.root.size }, enumerable: !1, configurable: !0 }), t.prototype.it = function() { return this.root.it() }, t.prototype.rt = function() { return this.root.rt() }, t.prototype.ot = function(t) { return this.root.ot(t) }, t.prototype.forEach = function(t) { this.ot((function(e, n) { return t(e, n), !1 })) }, t.prototype.toString = function() { var t = []; return this.ot((function(e, n) { return t.push(e + ":" + n), !1 })), "{" + t.join(", ") + "}" }, t.prototype.ht = function(t) { return this.root.ht(t) }, t.prototype.at = function() { return new et(this.root, null, this.P, !1) }, t.prototype.ut = function(t) { return new et(this.root, t, this.P, !1) }, t.prototype.ct = function() { return new et(this.root, null, this.P, !0) }, t.prototype.lt = function(t) { return new et(this.root, t, this.P, !0) }, t
                        }(),
                        et = function() {
                            function t(t, e, n, r) {
                                this._t = r, this.ft = [];
                                for (var i = 1; !t._();)
                                    if (i = e ? n(t.key, e) : 1, r && (i *= -1), i < 0) t = this._t ? t.left : t.right;
                                    else {
                                        if (0 === i) { this.ft.push(t); break }
                                        this.ft.push(t), t = this._t ? t.right : t.left
                                    }
                            }
                            return t.prototype.dt = function() {
                                var t = this.ft.pop(),
                                    e = { key: t.key, value: t.value };
                                if (this._t)
                                    for (t = t.left; !t._();) this.ft.push(t), t = t.right;
                                else
                                    for (t = t.right; !t._();) this.ft.push(t), t = t.left;
                                return e
                            }, t.prototype.wt = function() { return this.ft.length > 0 }, t.prototype.Tt = function() { if (0 === this.ft.length) return null; var t = this.ft[this.ft.length - 1]; return { key: t.key, value: t.value } }, t
                        }(),
                        nt = function() {
                            function t(e, n, r, i, o) { this.key = e, this.value = n, this.color = null != r ? r : t.RED, this.left = null != i ? i : t.EMPTY, this.right = null != o ? o : t.EMPTY, this.size = this.left.size + 1 + this.right.size }
                            return t.prototype.copy = function(e, n, r, i, o) { return new t(null != e ? e : this.key, null != n ? n : this.value, null != r ? r : this.color, null != i ? i : this.left, null != o ? o : this.right) }, t.prototype._ = function() { return !1 }, t.prototype.ot = function(t) { return this.left.ot(t) || t(this.key, this.value) || this.right.ot(t) }, t.prototype.ht = function(t) { return this.right.ht(t) || t(this.key, this.value) || this.left.ht(t) }, t.prototype.min = function() { return this.left._() ? this : this.left.min() }, t.prototype.it = function() { return this.min().key }, t.prototype.rt = function() { return this.right._() ? this.key : this.right.rt() }, t.prototype.nt = function(t, e, n) {
                                var r = this,
                                    i = n(t, r.key);
                                return (r = i < 0 ? r.copy(null, null, null, r.left.nt(t, e, n), null) : 0 === i ? r.copy(null, e, null, null, null) : r.copy(null, null, null, null, r.right.nt(t, e, n))).Et()
                            }, t.prototype.It = function() { if (this.left._()) return t.EMPTY; var e = this; return e.left.At() || e.left.left.At() || (e = e.Rt()), (e = e.copy(null, null, null, e.left.It(), null)).Et() }, t.prototype.remove = function(e, n) {
                                var r, i = this;
                                if (n(e, i.key) < 0) i.left._() || i.left.At() || i.left.left.At() || (i = i.Rt()), i = i.copy(null, null, null, i.left.remove(e, n), null);
                                else {
                                    if (i.left.At() && (i = i.Pt()), i.right._() || i.right.At() || i.right.left.At() || (i = i.Vt()), 0 === n(e, i.key)) {
                                        if (i.right._()) return t.EMPTY;
                                        r = i.right.min(), i = i.copy(r.key, r.value, null, null, i.right.It())
                                    }
                                    i = i.copy(null, null, null, null, i.right.remove(e, n))
                                }
                                return i.Et()
                            }, t.prototype.At = function() { return this.color }, t.prototype.Et = function() { var t = this; return t.right.At() && !t.left.At() && (t = t.gt()), t.left.At() && t.left.left.At() && (t = t.Pt()), t.left.At() && t.right.At() && (t = t.yt()), t }, t.prototype.Rt = function() { var t = this.yt(); return t.right.left.At() && (t = (t = (t = t.copy(null, null, null, null, t.right.Pt())).gt()).yt()), t }, t.prototype.Vt = function() { var t = this.yt(); return t.left.left.At() && (t = (t = t.Pt()).yt()), t }, t.prototype.gt = function() { var e = this.copy(null, null, t.RED, null, this.right.left); return this.right.copy(null, null, this.color, e, null) }, t.prototype.Pt = function() { var e = this.copy(null, null, t.RED, this.left.right, null); return this.left.copy(null, null, this.color, null, e) }, t.prototype.yt = function() {
                                var t = this.left.copy(null, null, !this.left.color, null, null),
                                    e = this.right.copy(null, null, !this.right.color, null, null);
                                return this.copy(null, null, !this.color, t, e)
                            }, t.prototype.pt = function() { var t = this.bt(); return Math.pow(2, t) <= this.size + 1 }, t.prototype.bt = function() { if (this.At() && this.left.At()) throw g(); if (this.right.At()) throw g(); var t = this.left.bt(); if (t !== this.right.bt()) throw g(); return t + (this.At() ? 0 : 1) }, t
                        }();
                    nt.EMPTY = null, nt.RED = !0, nt.st = !1, nt.EMPTY = new(function() {
                        function t() { this.size = 0 }
                        return Object.defineProperty(t.prototype, "key", { get: function() { throw g() }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, "value", { get: function() { throw g() }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, "color", { get: function() { throw g() }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, "left", { get: function() { throw g() }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, "right", { get: function() { throw g() }, enumerable: !1, configurable: !0 }), t.prototype.copy = function(t, e, n, r, i) { return this }, t.prototype.nt = function(t, e, n) { return new nt(t, e) }, t.prototype.remove = function(t, e) { return this }, t.prototype._ = function() { return !0 }, t.prototype.ot = function(t) { return !1 }, t.prototype.ht = function(t) { return !1 }, t.prototype.it = function() { return null }, t.prototype.rt = function() { return null }, t.prototype.At = function() { return !1 }, t.prototype.pt = function() { return !0 }, t.prototype.bt = function() { return 0 }, t
                    }());
                    var rt = function() {
                            function t(t) { this.P = t, this.data = new tt(this.P) }
                            return t.prototype.has = function(t) { return null !== this.data.get(t) }, t.prototype.first = function() { return this.data.it() }, t.prototype.last = function() { return this.data.rt() }, Object.defineProperty(t.prototype, "size", { get: function() { return this.data.size }, enumerable: !1, configurable: !0 }), t.prototype.indexOf = function(t) { return this.data.indexOf(t) }, t.prototype.forEach = function(t) { this.data.ot((function(e, n) { return t(e), !1 })) }, t.prototype.vt = function(t, e) {
                                for (var n = this.data.ut(t[0]); n.wt();) {
                                    var r = n.dt();
                                    if (this.P(r.key, t[1]) >= 0) return;
                                    e(r.key)
                                }
                            }, t.prototype.St = function(t, e) {
                                var n;
                                for (n = void 0 !== e ? this.data.ut(e) : this.data.at(); n.wt();)
                                    if (!t(n.dt().key)) return
                            }, t.prototype.Dt = function(t) { var e = this.data.ut(t); return e.wt() ? e.dt().key : null }, t.prototype.at = function() { return new it(this.data.at()) }, t.prototype.ut = function(t) { return new it(this.data.ut(t)) }, t.prototype.add = function(t) { return this.copy(this.data.remove(t).nt(t, !0)) }, t.prototype.delete = function(t) { return this.has(t) ? this.copy(this.data.remove(t)) : this }, t.prototype._ = function() { return this.data._() }, t.prototype.Ct = function(t) { var e = this; return e.size < t.size && (e = t, t = this), t.forEach((function(t) { e = e.add(t) })), e }, t.prototype.isEqual = function(e) {
                                if (!(e instanceof t)) return !1;
                                if (this.size !== e.size) return !1;
                                for (var n = this.data.at(), r = e.data.at(); n.wt();) {
                                    var i = n.dt().key,
                                        o = r.dt().key;
                                    if (0 !== this.P(i, o)) return !1
                                }
                                return !0
                            }, t.prototype.F = function() { var t = []; return this.forEach((function(e) { t.push(e) })), t }, t.prototype.toString = function() { var t = []; return this.forEach((function(e) { return t.push(e) })), "SortedSet(" + t.toString() + ")" }, t.prototype.copy = function(e) { var n = new t(this.P); return n.data = e, n }, t
                        }(),
                        it = function() {
                            function t(t) { this.Ft = t }
                            return t.prototype.dt = function() { return this.Ft.dt().key }, t.prototype.wt = function() { return this.Ft.wt() }, t
                        }(),
                        ot = new tt(j.P);

                    function st() { return ot }

                    function at() { return st() }
                    var ct = new tt(j.P);

                    function lt() { return ct }
                    var ut = new tt(j.P),
                        ht = new rt(j.P);

                    function dt() {
                        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                        for (var n = ht, r = 0, i = t; r < i.length; r++) {
                            var o = i[r];
                            n = n.add(o)
                        }
                        return n
                    }
                    var pt = new rt(w);

                    function ft() { return pt }
                    var mt = function() {
                            function t(t) { this.P = t ? function(e, n) { return t(e, n) || j.P(e.key, n.key) } : function(t, e) { return j.P(t.key, e.key) }, this.Nt = lt(), this.$t = new tt(this.P) }
                            return t.kt = function(e) { return new t(e.P) }, t.prototype.has = function(t) { return null != this.Nt.get(t) }, t.prototype.get = function(t) { return this.Nt.get(t) }, t.prototype.first = function() { return this.$t.it() }, t.prototype.last = function() { return this.$t.rt() }, t.prototype._ = function() { return this.$t._() }, t.prototype.indexOf = function(t) { var e = this.Nt.get(t); return e ? this.$t.indexOf(e) : -1 }, Object.defineProperty(t.prototype, "size", { get: function() { return this.$t.size }, enumerable: !1, configurable: !0 }), t.prototype.forEach = function(t) { this.$t.ot((function(e, n) { return t(e), !1 })) }, t.prototype.add = function(t) { var e = this.delete(t.key); return e.copy(e.Nt.nt(t.key, t), e.$t.nt(t, null)) }, t.prototype.delete = function(t) { var e = this.get(t); return e ? this.copy(this.Nt.remove(t), this.$t.remove(e)) : this }, t.prototype.isEqual = function(e) {
                                if (!(e instanceof t)) return !1;
                                if (this.size !== e.size) return !1;
                                for (var n = this.$t.at(), r = e.$t.at(); n.wt();) {
                                    var i = n.dt().key,
                                        o = r.dt().key;
                                    if (!i.isEqual(o)) return !1
                                }
                                return !0
                            }, t.prototype.toString = function() { var t = []; return this.forEach((function(e) { t.push(e.toString()) })), 0 === t.length ? "DocumentSet ()" : "DocumentSet (\n  " + t.join("  \n") + "\n)" }, t.prototype.copy = function(e, n) { var r = new t; return r.P = this.P, r.Nt = e, r.$t = n, r }, t
                        }(),
                        gt = function() {
                            function t() { this.xt = new tt(j.P) }
                            return t.prototype.track = function(t) {
                                var e = t.doc.key,
                                    n = this.xt.get(e);
                                n ? 0 !== t.type && 3 === n.type ? this.xt = this.xt.nt(e, t) : 3 === t.type && 1 !== n.type ? this.xt = this.xt.nt(e, { type: n.type, doc: t.doc }) : 2 === t.type && 2 === n.type ? this.xt = this.xt.nt(e, { type: 2, doc: t.doc }) : 2 === t.type && 0 === n.type ? this.xt = this.xt.nt(e, { type: 0, doc: t.doc }) : 1 === t.type && 0 === n.type ? this.xt = this.xt.remove(e) : 1 === t.type && 2 === n.type ? this.xt = this.xt.nt(e, { type: 1, doc: n.doc }) : 0 === t.type && 1 === n.type ? this.xt = this.xt.nt(e, { type: 2, doc: t.doc }) : g() : this.xt = this.xt.nt(e, t)
                            }, t.prototype.Mt = function() { var t = []; return this.xt.ot((function(e, n) { t.push(n) })), t }, t
                        }(),
                        yt = function() {
                            function t(t, e, n, r, i, o, s, a) { this.query = t, this.docs = e, this.Ot = n, this.docChanges = r, this.Lt = i, this.fromCache = o, this.Bt = s, this.qt = a }
                            return t.Ut = function(e, n, r, i) { var o = []; return n.forEach((function(t) { o.push({ type: 0, doc: t }) })), new t(e, n, mt.kt(n), o, r, i, !0, !1) }, Object.defineProperty(t.prototype, "hasPendingWrites", { get: function() { return !this.Lt._() }, enumerable: !1, configurable: !0 }), t.prototype.isEqual = function(t) {
                                if (!(this.fromCache === t.fromCache && this.Bt === t.Bt && this.Lt.isEqual(t.Lt) && cn(this.query, t.query) && this.docs.isEqual(t.docs) && this.Ot.isEqual(t.Ot))) return !1;
                                var e = this.docChanges,
                                    n = t.docChanges;
                                if (e.length !== n.length) return !1;
                                for (var r = 0; r < e.length; r++)
                                    if (e[r].type !== n[r].type || !e[r].doc.isEqual(n[r].doc)) return !1;
                                return !0
                            }, t
                        }(),
                        vt = function() {
                            function t(t, e, n, r, i) { this.X = t, this.Qt = e, this.Wt = n, this.jt = r, this.Kt = i }
                            return t.Gt = function(e, n) { var r = new Map; return r.set(e, _t.zt(e, n)), new t(D.min(), r, ft(), st(), dt()) }, t
                        }(),
                        _t = function() {
                            function t(t, e, n, r, i) { this.resumeToken = t, this.Ht = e, this.Yt = n, this.Jt = r, this.Xt = i }
                            return t.zt = function(e, n) { return new t($.Y, n, dt(), dt(), dt()) }, t
                        }(),
                        bt = function(t, e, n, r) { this.Zt = t, this.removedTargetIds = e, this.key = n, this.te = r },
                        wt = function(t, e) { this.targetId = t, this.ee = e },
                        Et = function(t, e, n, r) { void 0 === n && (n = $.Y), void 0 === r && (r = null), this.state = t, this.targetIds = e, this.resumeToken = n, this.cause = r },
                        St = function() {
                            function t() { this.ne = 0, this.se = Tt(), this.ie = $.Y, this.re = !1, this.oe = !0 }
                            return Object.defineProperty(t.prototype, "Ht", { get: function() { return this.re }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, "resumeToken", { get: function() { return this.ie }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, "he", { get: function() { return 0 !== this.ne }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, "ae", { get: function() { return this.oe }, enumerable: !1, configurable: !0 }), t.prototype.ue = function(t) { t.H() > 0 && (this.oe = !0, this.ie = t) }, t.prototype.ce = function() {
                                var t = dt(),
                                    e = dt(),
                                    n = dt();
                                return this.se.forEach((function(r, i) {
                                    switch (i) {
                                        case 0:
                                            t = t.add(r);
                                            break;
                                        case 2:
                                            e = e.add(r);
                                            break;
                                        case 1:
                                            n = n.add(r);
                                            break;
                                        default:
                                            g()
                                    }
                                })), new _t(this.ie, this.re, t, e, n)
                            }, t.prototype.le = function() { this.oe = !1, this.se = Tt() }, t.prototype._e = function(t, e) { this.oe = !0, this.se = this.se.nt(t, e) }, t.prototype.fe = function(t) { this.oe = !0, this.se = this.se.remove(t) }, t.prototype.de = function() { this.ne += 1 }, t.prototype.we = function() { this.ne -= 1 }, t.prototype.Te = function() { this.oe = !0, this.re = !0 }, t
                        }(),
                        Ct = function() {
                            function t(t) { this.Ee = t, this.Ie = new Map, this.me = st(), this.Ae = xt(), this.Re = new rt(w) }
                            return t.prototype.Pe = function(t) {
                                for (var e = 0, n = t.Zt; e < n.length; e++) {
                                    var r = n[e];
                                    t.te instanceof rn ? this.Ve(r, t.te) : t.te instanceof on && this.ge(r, t.key, t.te)
                                }
                                for (var i = 0, o = t.removedTargetIds; i < o.length; i++) this.ge(o[i], t.key, t.te)
                            }, t.prototype.ye = function(t) {
                                var e = this;
                                this.pe(t, (function(n) {
                                    var r = e.be(n);
                                    switch (t.state) {
                                        case 0:
                                            e.ve(n) && r.ue(t.resumeToken);
                                            break;
                                        case 1:
                                            r.we(), r.he || r.le(), r.ue(t.resumeToken);
                                            break;
                                        case 2:
                                            r.we(), r.he || e.removeTarget(n);
                                            break;
                                        case 3:
                                            e.ve(n) && (r.Te(), r.ue(t.resumeToken));
                                            break;
                                        case 4:
                                            e.ve(n) && (e.Se(n), r.ue(t.resumeToken));
                                            break;
                                        default:
                                            g()
                                    }
                                }))
                            }, t.prototype.pe = function(t, e) {
                                var n = this;
                                t.targetIds.length > 0 ? t.targetIds.forEach(e) : this.Ie.forEach((function(t, r) { n.ve(r) && e(r) }))
                            }, t.prototype.De = function(t) {
                                var e = t.targetId,
                                    n = t.ee.count,
                                    r = this.Ce(e);
                                if (r) {
                                    var i = r.target;
                                    if (G(i))
                                        if (0 === n) {
                                            var o = new j(i.path);
                                            this.ge(e, o, new on(o, D.min()))
                                        } else y(1 === n);
                                    else this.Fe(e) !== n && (this.Se(e), this.Re = this.Re.add(e))
                                }
                            }, t.prototype.Ne = function(t) {
                                var e = this,
                                    n = new Map;
                                this.Ie.forEach((function(r, i) {
                                    var o = e.Ce(i);
                                    if (o) {
                                        if (r.Ht && G(o.target)) {
                                            var s = new j(o.target.path);
                                            null !== e.me.get(s) || e.$e(i, s) || e.ge(i, s, new on(s, t))
                                        }
                                        r.ae && (n.set(i, r.ce()), r.le())
                                    }
                                }));
                                var r = dt();
                                this.Ae.forEach((function(t, n) {
                                    var i = !0;
                                    n.St((function(t) { var n = e.Ce(t); return !n || 2 === n.J || (i = !1, !1) })), i && (r = r.add(t))
                                }));
                                var i = new vt(t, n, this.Re, this.me, r);
                                return this.me = st(), this.Ae = xt(), this.Re = new rt(w), i
                            }, t.prototype.Ve = function(t, e) {
                                if (this.ve(t)) {
                                    var n = this.$e(t, e.key) ? 2 : 0;
                                    this.be(t)._e(e.key, n), this.me = this.me.nt(e.key, e), this.Ae = this.Ae.nt(e.key, this.ke(e.key).add(t))
                                }
                            }, t.prototype.ge = function(t, e, n) {
                                if (this.ve(t)) {
                                    var r = this.be(t);
                                    this.$e(t, e) ? r._e(e, 1) : r.fe(e), this.Ae = this.Ae.nt(e, this.ke(e).delete(t)), n && (this.me = this.me.nt(e, n))
                                }
                            }, t.prototype.removeTarget = function(t) { this.Ie.delete(t) }, t.prototype.Fe = function(t) { var e = this.be(t).ce(); return this.Ee.xe(t).size + e.Yt.size - e.Xt.size }, t.prototype.de = function(t) { this.be(t).de() }, t.prototype.be = function(t) { var e = this.Ie.get(t); return e || (e = new St, this.Ie.set(t, e)), e }, t.prototype.ke = function(t) { var e = this.Ae.get(t); return e || (e = new rt(w), this.Ae = this.Ae.nt(t, e)), e }, t.prototype.ve = function(t) { var e = null !== this.Ce(t); return e || p("WatchChangeAggregator", "Detected inactive target", t), e }, t.prototype.Ce = function(t) { var e = this.Ie.get(t); return e && e.he ? null : this.Ee.Me(t) }, t.prototype.Se = function(t) {
                                var e = this;
                                this.Ie.set(t, new St), this.Ee.xe(t).forEach((function(n) { e.ge(t, n, null) }))
                            }, t.prototype.$e = function(t, e) { return this.Ee.xe(t).has(e) }, t
                        }();

                    function xt() { return new tt(j.P) }

                    function Tt() { return new tt(j.P) }

                    function kt(t) { var e, n; return "server_timestamp" === (null === (n = ((null === (e = null == t ? void 0 : t.mapValue) || void 0 === e ? void 0 : e.fields) || {}).__type__) || void 0 === n ? void 0 : n.stringValue) }

                    function It(t) { var e = Lt(t.mapValue.fields.__local_write_time__.timestampValue); return new N(e.seconds, e.nanos) }
                    var At = new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);

                    function Rt(t) { return "nullValue" in t ? 0 : "booleanValue" in t ? 1 : "integerValue" in t || "doubleValue" in t ? 2 : "timestampValue" in t ? 3 : "stringValue" in t ? 5 : "bytesValue" in t ? 6 : "referenceValue" in t ? 7 : "geoPointValue" in t ? 8 : "arrayValue" in t ? 9 : "mapValue" in t ? kt(t) ? 4 : 10 : g() }

                    function Ot(t, e) {
                        var n = Rt(t);
                        if (n !== Rt(e)) return !1;
                        switch (n) {
                            case 0:
                                return !0;
                            case 1:
                                return t.booleanValue === e.booleanValue;
                            case 4:
                                return It(t).isEqual(It(e));
                            case 3:
                                return function(t, e) {
                                    if ("string" == typeof t.timestampValue && "string" == typeof e.timestampValue && t.timestampValue.length === e.timestampValue.length) return t.timestampValue === e.timestampValue;
                                    var n = Lt(t.timestampValue),
                                        r = Lt(e.timestampValue);
                                    return n.seconds === r.seconds && n.nanos === r.nanos
                                }(t, e);
                            case 5:
                                return t.stringValue === e.stringValue;
                            case 6:
                                return function(t, e) { return jt(t.bytesValue).isEqual(jt(e.bytesValue)) }(t, e);
                            case 7:
                                return t.referenceValue === e.referenceValue;
                            case 8:
                                return function(t, e) { return Ft(t.geoPointValue.latitude) === Ft(e.geoPointValue.latitude) && Ft(t.geoPointValue.longitude) === Ft(e.geoPointValue.longitude) }(t, e);
                            case 2:
                                return function(t, e) {
                                    if ("integerValue" in t && "integerValue" in e) return Ft(t.integerValue) === Ft(e.integerValue);
                                    if ("doubleValue" in t && "doubleValue" in e) {
                                        var n = Ft(t.doubleValue),
                                            r = Ft(e.doubleValue);
                                        return n === r ? V(n) === V(r) : isNaN(n) && isNaN(r)
                                    }
                                    return !1
                                }(t, e);
                            case 9:
                                return E(t.arrayValue.values || [], e.arrayValue.values || [], Ot);
                            case 10:
                                return function(t, e) {
                                    var n = t.mapValue.fields || {},
                                        r = e.mapValue.fields || {};
                                    if (T(n) !== T(r)) return !1;
                                    for (var i in n)
                                        if (n.hasOwnProperty(i) && (void 0 === r[i] || !Ot(n[i], r[i]))) return !1;
                                    return !0
                                }(t, e);
                            default:
                                return g()
                        }
                    }

                    function Nt(t, e) { return void 0 !== (t.values || []).find((function(t) { return Ot(t, e) })) }

                    function Dt(t, e) {
                        var n = Rt(t),
                            r = Rt(e);
                        if (n !== r) return w(n, r);
                        switch (n) {
                            case 0:
                                return 0;
                            case 1:
                                return w(t.booleanValue, e.booleanValue);
                            case 2:
                                return function(t, e) {
                                    var n = Ft(t.integerValue || t.doubleValue),
                                        r = Ft(e.integerValue || e.doubleValue);
                                    return n < r ? -1 : n > r ? 1 : n === r ? 0 : isNaN(n) ? isNaN(r) ? 0 : -1 : 1
                                }(t, e);
                            case 3:
                                return Pt(t.timestampValue, e.timestampValue);
                            case 4:
                                return Pt(It(t), It(e));
                            case 5:
                                return w(t.stringValue, e.stringValue);
                            case 6:
                                return function(t, e) {
                                    var n = jt(t),
                                        r = jt(e);
                                    return n.o(r)
                                }(t.bytesValue, e.bytesValue);
                            case 7:
                                return function(t, e) { for (var n = t.split("/"), r = e.split("/"), i = 0; i < n.length && i < r.length; i++) { var o = w(n[i], r[i]); if (0 !== o) return o } return w(n.length, r.length) }(t.referenceValue, e.referenceValue);
                            case 8:
                                return function(t, e) { var n = w(Ft(t.latitude), Ft(e.latitude)); return 0 !== n ? n : w(Ft(t.longitude), Ft(e.longitude)) }(t.geoPointValue, e.geoPointValue);
                            case 9:
                                return function(t, e) { for (var n = t.values || [], r = e.values || [], i = 0; i < n.length && i < r.length; ++i) { var o = Dt(n[i], r[i]); if (o) return o } return w(n.length, r.length) }(t.arrayValue, e.arrayValue);
                            case 10:
                                return function(t, e) {
                                    var n = t.fields || {},
                                        r = Object.keys(n),
                                        i = e.fields || {},
                                        o = Object.keys(i);
                                    r.sort(), o.sort();
                                    for (var s = 0; s < r.length && s < o.length; ++s) { var a = w(r[s], o[s]); if (0 !== a) return a; var c = Dt(n[r[s]], i[o[s]]); if (0 !== c) return c }
                                    return w(r.length, o.length)
                                }(t.mapValue, e.mapValue);
                            default:
                                throw g()
                        }
                    }

                    function Pt(t, e) {
                        if ("string" == typeof t && "string" == typeof e && t.length === e.length) return w(t, e);
                        var n = Lt(t),
                            r = Lt(e),
                            i = w(n.seconds, r.seconds);
                        return 0 !== i ? i : w(n.nanos, r.nanos)
                    }

                    function Mt(t) {
                        return function t(e) {
                            return "nullValue" in e ? "null" : "booleanValue" in e ? "" + e.booleanValue : "integerValue" in e ? "" + e.integerValue : "doubleValue" in e ? "" + e.doubleValue : "timestampValue" in e ? function(t) { var e = Lt(t); return "time(" + e.seconds + "," + e.nanos + ")" }(e.timestampValue) : "stringValue" in e ? e.stringValue : "bytesValue" in e ? jt(e.bytesValue).toBase64() : "referenceValue" in e ? j.q(e.referenceValue).toString() : "geoPointValue" in e ? "geo(" + (n = e.geoPointValue).latitude + "," + n.longitude + ")" : "arrayValue" in e ? function(e) { for (var n = "[", r = !0, i = 0, o = e.values || []; i < o.length; i++) r ? r = !1 : n += ",", n += t(o[i]); return n + "]" }(e.arrayValue) : "mapValue" in e ? function(e) {
                                for (var n = "{", r = !0, i = 0, o = Object.keys(e.fields || {}).sort(); i < o.length; i++) {
                                    var s = o[i];
                                    r ? r = !1 : n += ",", n += s + ":" + t(e.fields[s])
                                }
                                return n + "}"
                            }(e.mapValue) : g();
                            var n
                        }(t)
                    }

                    function Lt(t) {
                        if (y(!!t), "string" == typeof t) {
                            var e = 0,
                                n = At.exec(t);
                            if (y(!!n), n[1]) {
                                var r = n[1];
                                r = (r + "000000000").substr(0, 9), e = Number(r)
                            }
                            var i = new Date(t);
                            return { seconds: Math.floor(i.getTime() / 1e3), nanos: e }
                        }
                        return { seconds: Ft(t.seconds), nanos: Ft(t.nanos) }
                    }

                    function Ft(t) { return "number" == typeof t ? t : "string" == typeof t ? Number(t) : 0 }

                    function jt(t) { return "string" == typeof t ? $.fromBase64String(t) : $.fromUint8Array(t) }

                    function Ut(t, e) { return { referenceValue: "projects/" + t.projectId + "/databases/" + t.database + "/documents/" + e.path.N() } }

                    function Vt(t) { return !!t && "integerValue" in t }

                    function Bt(t) { return !!t && "arrayValue" in t }

                    function qt(t) { return !!t && "nullValue" in t }

                    function Ht(t) { return !!t && "doubleValue" in t && isNaN(Number(t.doubleValue)) }

                    function Wt(t) { return !!t && "mapValue" in t }
                    var zt = { asc: "ASCENDING", desc: "DESCENDING" },
                        Gt = { "<": "LESS_THAN", "<=": "LESS_THAN_OR_EQUAL", ">": "GREATER_THAN", ">=": "GREATER_THAN_OR_EQUAL", "==": "EQUAL", "array-contains": "ARRAY_CONTAINS", in: "IN", "array-contains-any": "ARRAY_CONTAINS_ANY" },
                        $t = function(t, e) { this.s = t, this.Oe = e };

                    function Kt(t) { return { integerValue: "" + t } }

                    function Yt(t, e) { if (t.Oe) { if (isNaN(e)) return { doubleValue: "NaN" }; if (e === 1 / 0) return { doubleValue: "Infinity" }; if (e === -1 / 0) return { doubleValue: "-Infinity" } } return { doubleValue: V(e) ? "-0" : e } }

                    function Xt(t, e) { return B(e) ? Kt(e) : Yt(t, e) }

                    function Qt(t, e) { return t.Oe ? new Date(1e3 * e.seconds).toISOString().replace(/\.\d*/, "").replace("Z", "") + "." + ("000000000" + e.nanoseconds).slice(-9) + "Z" : { seconds: "" + e.seconds, nanos: e.nanoseconds } }

                    function Zt(t, e) { return t.Oe ? e.toBase64() : e.toUint8Array() }

                    function Jt(t, e) { return Qt(t, e.A()) }

                    function te(t) { return y(!!t), D.I(function(t) { var e = Lt(t); return new N(e.seconds, e.nanos) }(t)) }

                    function ee(t, e) { return function(t) { return new M(["projects", t.projectId, "databases", t.database]) }(t).child("documents").child(e).N() }

                    function ne(t) { var e = M.$(t); return y(we(e)), e }

                    function re(t, e) { return ee(t.s, e.path) }

                    function ie(t, e) { var n = ne(e); return y(n.get(1) === t.s.projectId), y(!n.get(3) && !t.s.database || n.get(3) === t.s.database), new j(ce(n)) }

                    function oe(t, e) { return ee(t.s, e) }

                    function se(t) { var e = ne(t); return 4 === e.length ? M.k() : ce(e) }

                    function ae(t) { return new M(["projects", t.s.projectId, "databases", t.s.database]).N() }

                    function ce(t) { return y(t.length > 4 && "documents" === t.get(4)), t.g(5) }

                    function le(t, e, n) { return { name: re(t, e), fields: n.proto.mapValue.fields } }

                    function ue(t, e) {
                        var n;
                        if (e instanceof ze) n = { update: le(t, e.key, e.value) };
                        else if (e instanceof Qe) n = { delete: re(t, e.key) };
                        else if (e instanceof Ge) n = { update: le(t, e.key, e.data), updateMask: be(e.Le) };
                        else if (e instanceof Ke) n = { transform: { document: re(t, e.key), fieldTransforms: e.fieldTransforms.map((function(t) { return function(t, e) { var n = e.transform; if (n instanceof Te) return { fieldPath: e.field.N(), setToServerValue: "REQUEST_TIME" }; if (n instanceof ke) return { fieldPath: e.field.N(), appendMissingElements: { values: n.elements } }; if (n instanceof Ae) return { fieldPath: e.field.N(), removeAllFromArray: { values: n.elements } }; if (n instanceof Oe) return { fieldPath: e.field.N(), increment: n.Be }; throw g() }(0, t) })) } };
                        else {
                            if (!(e instanceof Ze)) return g();
                            n = { verify: re(t, e.key) }
                        }
                        return e.Ue.qe || (n.currentDocument = function(t, e) { return void 0 !== e.updateTime ? { updateTime: Jt(t, e.updateTime) } : void 0 !== e.exists ? { exists: e.exists } : g() }(t, e.Ue)), n
                    }

                    function he(t, e) {
                        var n = e.currentDocument ? function(t) { return void 0 !== t.updateTime ? Fe.updateTime(te(t.updateTime)) : void 0 !== t.exists ? Fe.exists(t.exists) : Fe.Qe() }(e.currentDocument) : Fe.Qe();
                        if (e.update) {
                            var r = ie(t, e.update.name),
                                i = new Je({ mapValue: { fields: e.update.fields } });
                            if (e.updateMask) { var o = function(t) { return new Pe((t.fieldPaths || []).map((function(t) { return F.B(t) }))) }(e.updateMask); return new Ge(r, i, o, n) }
                            return new ze(r, i, n)
                        }
                        if (e.delete) { var s = ie(t, e.delete); return new Qe(s, n) }
                        if (e.transform) {
                            var a = ie(t, e.transform.document),
                                c = e.transform.fieldTransforms.map((function(e) { return function(t, e) { var n = null; "setToServerValue" in e ? (y("REQUEST_TIME" === e.setToServerValue), n = new Te) : "appendMissingElements" in e ? n = new ke(e.appendMissingElements.values || []) : "removeAllFromArray" in e ? n = new Ae(e.removeAllFromArray.values || []) : "increment" in e ? n = new Oe(t, e.increment) : g(); var r = F.B(e.fieldPath); return new Me(r, n) }(t, e) }));
                            return y(!0 === n.exists), new Ke(a, c)
                        }
                        if (e.verify) { var l = ie(t, e.verify); return new Ze(l, n) }
                        return g()
                    }

                    function de(t, e) { return { documents: [oe(t, e.path)] } }

                    function pe(t, e) {
                        var n = { structuredQuery: {} },
                            r = e.path;
                        null !== e.collectionGroup ? (n.parent = oe(t, r), n.structuredQuery.from = [{ collectionId: e.collectionGroup, allDescendants: !0 }]) : (n.parent = oe(t, r.p()), n.structuredQuery.from = [{ collectionId: r.S() }]);
                        var i = function(t) { if (0 !== t.length) { var e = t.map((function(t) { return t instanceof pn ? function(t) { if ("==" === t.op) { if (Ht(t.value)) return { unaryFilter: { field: ge(t.field), op: "IS_NAN" } }; if (qt(t.value)) return { unaryFilter: { field: ge(t.field), op: "IS_NULL" } } } return { fieldFilter: { field: ge(t.field), op: (e = t.op, Gt[e]), value: t.value } }; var e }(t) : g() })); return 1 === e.length ? e[0] : { compositeFilter: { op: "AND", filters: e } } } }(e.filters);
                        i && (n.structuredQuery.where = i);
                        var o = function(t) { if (0 !== t.length) return t.map((function(t) { return { field: ge((e = t).field), direction: (n = e.dir, zt[n]) }; var e, n })) }(e.orderBy);
                        o && (n.structuredQuery.orderBy = o);
                        var s = function(t, e) { return t.Oe || U(e) ? e : { value: e } }(t, e.limit);
                        return null !== s && (n.structuredQuery.limit = s), e.startAt && (n.structuredQuery.startAt = fe(e.startAt)), e.endAt && (n.structuredQuery.endAt = fe(e.endAt)), n
                    }

                    function fe(t) { return { before: t.before, values: t.position } }

                    function me(t) { return new _n(t.values || [], !!t.before) }

                    function ge(t) { return { fieldPath: t.N() } }

                    function ye(t) { return F.B(t.fieldPath) }

                    function ve(t) {
                        return pn.create(ye(t.fieldFilter.field), function(t) {
                            switch (t) {
                                case "EQUAL":
                                    return "==";
                                case "GREATER_THAN":
                                    return ">";
                                case "GREATER_THAN_OR_EQUAL":
                                    return ">=";
                                case "LESS_THAN":
                                    return "<";
                                case "LESS_THAN_OR_EQUAL":
                                    return "<=";
                                case "ARRAY_CONTAINS":
                                    return "array-contains";
                                case "IN":
                                    return "in";
                                case "ARRAY_CONTAINS_ANY":
                                    return "array-contains-any";
                                case "OPERATOR_UNSPECIFIED":
                                default:
                                    return g()
                            }
                        }(t.fieldFilter.op), t.fieldFilter.value)
                    }

                    function _e(t) {
                        switch (t.unaryFilter.op) {
                            case "IS_NAN":
                                var e = ye(t.unaryFilter.field);
                                return pn.create(e, "==", { doubleValue: NaN });
                            case "IS_NULL":
                                var n = ye(t.unaryFilter.field);
                                return pn.create(n, "==", { nullValue: "NULL_VALUE" });
                            case "OPERATOR_UNSPECIFIED":
                            default:
                                return g()
                        }
                    }

                    function be(t) { var e = []; return t.fields.forEach((function(t) { return e.push(t.N()) })), { fieldPaths: e } }

                    function we(t) { return t.length >= 4 && "projects" === t.get(0) && "databases" === t.get(2) }
                    var Ee = function() { this.je = void 0 };

                    function Se(t, e, n) {
                        return t instanceof Te ? function(t, e) { var n = { fields: { __type__: { stringValue: "server_timestamp" }, __local_write_time__: { timestampValue: { seconds: t.seconds, nanos: t.nanoseconds } } } }; return e && (n.fields.__previous_value__ = e), { mapValue: n } }(n, e) : t instanceof ke ? Ie(t, e) : t instanceof Ae ? Re(t, e) : function(t, e) {
                            var n = xe(t, e),
                                r = Ne(n) + Ne(t.Be);
                            return Vt(n) && Vt(t.Be) ? Kt(r) : Yt(t.serializer, r)
                        }(t, e)
                    }

                    function Ce(t, e, n) { return t instanceof ke ? Ie(t, e) : t instanceof Ae ? Re(t, e) : n }

                    function xe(t, e) { return t instanceof Oe ? Vt(n = e) || function(t) { return !!t && "doubleValue" in t }(n) ? e : { integerValue: 0 } : null; var n }
                    var Te = function(t) {
                            function e() { return null !== t && t.apply(this, arguments) || this }
                            return i.__extends(e, t), e
                        }(Ee),
                        ke = function(t) {
                            function e(e) { var n = this; return (n = t.call(this) || this).elements = e, n }
                            return i.__extends(e, t), e
                        }(Ee);

                    function Ie(t, e) { for (var n = De(e), r = function(t) { n.some((function(e) { return Ot(e, t) })) || n.push(t) }, i = 0, o = t.elements; i < o.length; i++) r(o[i]); return { arrayValue: { values: n } } }
                    var Ae = function(t) {
                        function e(e) { var n = this; return (n = t.call(this) || this).elements = e, n }
                        return i.__extends(e, t), e
                    }(Ee);

                    function Re(t, e) { for (var n = De(e), r = function(t) { n = n.filter((function(e) { return !Ot(e, t) })) }, i = 0, o = t.elements; i < o.length; i++) r(o[i]); return { arrayValue: { values: n } } }
                    var Oe = function(t) {
                        function e(e, n) { var r = this; return (r = t.call(this) || this).serializer = e, r.Be = n, r }
                        return i.__extends(e, t), e
                    }(Ee);

                    function Ne(t) { return Ft(t.integerValue || t.doubleValue) }

                    function De(t) { return Bt(t) && t.arrayValue.values ? t.arrayValue.values.slice() : [] }
                    var Pe = function() {
                            function t(t) { this.fields = t, t.sort(F.P) }
                            return t.prototype.Ke = function(t) {
                                for (var e = 0, n = this.fields; e < n.length; e++)
                                    if (n[e].D(t)) return !0;
                                return !1
                            }, t.prototype.isEqual = function(t) { return E(this.fields, t.fields, (function(t, e) { return t.isEqual(e) })) }, t
                        }(),
                        Me = function(t, e) { this.field = t, this.transform = e },
                        Le = function(t, e) { this.version = t, this.transformResults = e },
                        Fe = function() {
                            function t(t, e) { this.updateTime = t, this.exists = e }
                            return t.Qe = function() { return new t }, t.exists = function(e) { return new t(void 0, e) }, t.updateTime = function(e) { return new t(e) }, Object.defineProperty(t.prototype, "qe", { get: function() { return void 0 === this.updateTime && void 0 === this.exists }, enumerable: !1, configurable: !0 }), t.prototype.isEqual = function(t) { return this.exists === t.exists && (this.updateTime ? !!t.updateTime && this.updateTime.isEqual(t.updateTime) : !t.updateTime) }, t
                        }();

                    function je(t, e) { return void 0 !== t.updateTime ? e instanceof rn && e.version.isEqual(t.updateTime) : void 0 === t.exists || t.exists === e instanceof rn }
                    var Ue = function() {};

                    function Ve(t, e, n) {
                        return t instanceof ze ? function(t, e, n) { return new rn(t.key, n.version, t.value, { hasCommittedMutations: !0 }) }(t, 0, n) : t instanceof Ge ? function(t, e, n) { if (!je(t.Ue, e)) return new sn(t.key, n.version); var r = $e(t, e); return new rn(t.key, n.version, r, { hasCommittedMutations: !0 }) }(t, e, n) : t instanceof Ke ? function(t, e, n) {
                            if (y(null != n.transformResults), !je(t.Ue, e)) return new sn(t.key, n.version);
                            var r = Ye(0, e),
                                i = function(t, e, n) {
                                    var r = [];
                                    y(t.length === n.length);
                                    for (var i = 0; i < n.length; i++) {
                                        var o = t[i],
                                            s = o.transform,
                                            a = null;
                                        e instanceof rn && (a = e.field(o.field)), r.push(Ce(s, a, n[i]))
                                    }
                                    return r
                                }(t.fieldTransforms, e, n.transformResults),
                                o = n.version,
                                s = Xe(t, r.data(), i);
                            return new rn(t.key, o, s, { hasCommittedMutations: !0 })
                        }(t, e, n) : function(t, e, n) { return new on(t.key, n.version, { hasCommittedMutations: !0 }) }(t, 0, n)
                    }

                    function Be(t, e, n, r) {
                        return t instanceof ze ? function(t, e) { if (!je(t.Ue, e)) return e; var n = We(e); return new rn(t.key, n, t.value, { Ge: !0 }) }(t, e) : t instanceof Ge ? function(t, e) {
                            if (!je(t.Ue, e)) return e;
                            var n = We(e),
                                r = $e(t, e);
                            return new rn(t.key, n, r, { Ge: !0 })
                        }(t, e) : t instanceof Ke ? function(t, e, n, r) {
                            if (!je(t.Ue, e)) return e;
                            var i = Ye(0, e),
                                o = function(t, e, n, r) {
                                    for (var i = [], o = 0, s = t; o < s.length; o++) {
                                        var a = s[o],
                                            c = a.transform,
                                            l = null;
                                        n instanceof rn && (l = n.field(a.field)), null === l && r instanceof rn && (l = r.field(a.field)), i.push(Se(c, l, e))
                                    }
                                    return i
                                }(t.fieldTransforms, n, e, r),
                                s = Xe(t, i.data(), o);
                            return new rn(t.key, i.version, s, { Ge: !0 })
                        }(t, e, r, n) : function(t, e) { return je(t.Ue, e) ? new on(t.key, D.min()) : e }(t, e)
                    }

                    function qe(t, e) {
                        return t instanceof Ke ? function(t, e) {
                            for (var n = null, r = 0, i = t.fieldTransforms; r < i.length; r++) {
                                var o = i[r],
                                    s = e instanceof rn ? e.field(o.field) : void 0,
                                    a = xe(o.transform, s || null);
                                null != a && (n = null == n ? (new tn).set(o.field, a) : n.set(o.field, a))
                            }
                            return n ? n.ze() : null
                        }(t, e) : null
                    }

                    function He(t, e) { return t.type === e.type && !!t.key.isEqual(e.key) && !!t.Ue.isEqual(e.Ue) && (0 === t.type ? t.value.isEqual(e.value) : 1 === t.type ? t.data.isEqual(e.data) && t.Le.isEqual(e.Le) : 2 !== t.type || E(t.fieldTransforms, t.fieldTransforms, (function(t, e) { return function(t, e) { return t.field.isEqual(e.field) && function(t, e) { return t instanceof ke && e instanceof ke || t instanceof Ae && e instanceof Ae ? E(t.elements, e.elements, Ot) : t instanceof Oe && e instanceof Oe ? Ot(t.Be, e.Be) : t instanceof Te && e instanceof Te }(t.transform, e.transform) }(t, e) }))) }

                    function We(t) { return t instanceof rn ? t.version : D.min() }
                    var ze = function(t) {
                            function e(e, n, r) { var i = this; return (i = t.call(this) || this).key = e, i.value = n, i.Ue = r, i.type = 0, i }
                            return i.__extends(e, t), e
                        }(Ue),
                        Ge = function(t) {
                            function e(e, n, r, i) { var o = this; return (o = t.call(this) || this).key = e, o.data = n, o.Le = r, o.Ue = i, o.type = 1, o }
                            return i.__extends(e, t), e
                        }(Ue);

                    function $e(t, e) {
                        return function(t, e) {
                            var n = new tn(e);
                            return t.Le.fields.forEach((function(e) {
                                if (!e._()) {
                                    var r = t.data.field(e);
                                    null !== r ? n.set(e, r) : n.delete(e)
                                }
                            })), n.ze()
                        }(t, e instanceof rn ? e.data() : Je.empty())
                    }
                    var Ke = function(t) {
                        function e(e, n) { var r = this; return (r = t.call(this) || this).key = e, r.fieldTransforms = n, r.type = 2, r.Ue = Fe.exists(!0), r }
                        return i.__extends(e, t), e
                    }(Ue);

                    function Ye(t, e) { return e }

                    function Xe(t, e, n) { for (var r = new tn(e), i = 0; i < t.fieldTransforms.length; i++) r.set(t.fieldTransforms[i].field, n[i]); return r.ze() }
                    var Qe = function(t) {
                            function e(e, n) { var r = this; return (r = t.call(this) || this).key = e, r.Ue = n, r.type = 3, r }
                            return i.__extends(e, t), e
                        }(Ue),
                        Ze = function(t) {
                            function e(e, n) { var r = this; return (r = t.call(this) || this).key = e, r.Ue = n, r.type = 4, r }
                            return i.__extends(e, t), e
                        }(Ue),
                        Je = function() {
                            function t(t) { this.proto = t }
                            return t.empty = function() { return new t({ mapValue: {} }) }, t.prototype.field = function(t) { if (t._()) return this.proto; for (var e = this.proto, n = 0; n < t.length - 1; ++n) { if (!e.mapValue.fields) return null; if (!Wt(e = e.mapValue.fields[t.get(n)])) return null } return (e = (e.mapValue.fields || {})[t.S()]) || null }, t.prototype.isEqual = function(t) { return Ot(this.proto, t.proto) }, t
                        }(),
                        tn = function() {
                            function t(t) { void 0 === t && (t = Je.empty()), this.He = t, this.Ye = new Map }
                            return t.prototype.set = function(t, e) { return this.Je(t, e), this }, t.prototype.delete = function(t) { return this.Je(t, null), this }, t.prototype.Je = function(t, e) {
                                for (var n = this.Ye, r = 0; r < t.length - 1; ++r) {
                                    var i = t.get(r),
                                        o = n.get(i);
                                    o instanceof Map ? n = o : o && 10 === Rt(o) ? (o = new Map(Object.entries(o.mapValue.fields || {})), n.set(i, o), n = o) : (o = new Map, n.set(i, o), n = o)
                                }
                                n.set(t.S(), e)
                            }, t.prototype.ze = function() { var t = this.Xe(F.k(), this.Ye); return null != t ? new Je(t) : this.He }, t.prototype.Xe = function(t, e) {
                                var n = this,
                                    r = !1,
                                    i = this.He.field(t),
                                    o = Wt(i) ? Object.assign({}, i.mapValue.fields) : {};
                                return e.forEach((function(e, i) {
                                    if (e instanceof Map) {
                                        var s = n.Xe(t.child(i), e);
                                        null != s && (o[i] = s, r = !0)
                                    } else null !== e ? (o[i] = e, r = !0) : o.hasOwnProperty(i) && (delete o[i], r = !0)
                                })), r ? { mapValue: { fields: o } } : null
                            }, t
                        }();

                    function en(t) {
                        var e = [];
                        return k(t.fields || {}, (function(t, n) {
                            var r = new F([t]);
                            if (Wt(n)) {
                                var i = en(n.mapValue).fields;
                                if (0 === i.length) e.push(r);
                                else
                                    for (var o = 0, s = i; o < s.length; o++) e.push(r.child(s[o]))
                            } else e.push(r)
                        })), new Pe(e)
                    }
                    var nn = function(t, e) { this.key = t, this.version = e },
                        rn = function(t) {
                            function e(e, n, r, i) { var o = this; return (o = t.call(this, e, n) || this).Ze = r, o.Ge = !!i.Ge, o.hasCommittedMutations = !!i.hasCommittedMutations, o }
                            return i.__extends(e, t), e.prototype.field = function(t) { return this.Ze.field(t) }, e.prototype.data = function() { return this.Ze }, e.prototype.tn = function() { return this.Ze.proto }, e.prototype.isEqual = function(t) { return t instanceof e && this.key.isEqual(t.key) && this.version.isEqual(t.version) && this.Ge === t.Ge && this.hasCommittedMutations === t.hasCommittedMutations && this.Ze.isEqual(t.Ze) }, e.prototype.toString = function() { return "Document(" + this.key + ", " + this.version + ", " + this.Ze.toString() + ", {hasLocalMutations: " + this.Ge + "}), {hasCommittedMutations: " + this.hasCommittedMutations + "})" }, Object.defineProperty(e.prototype, "hasPendingWrites", { get: function() { return this.Ge || this.hasCommittedMutations }, enumerable: !1, configurable: !0 }), e
                        }(nn),
                        on = function(t) {
                            function e(e, n, r) { var i = this; return (i = t.call(this, e, n) || this).hasCommittedMutations = !(!r || !r.hasCommittedMutations), i }
                            return i.__extends(e, t), e.prototype.toString = function() { return "NoDocument(" + this.key + ", " + this.version + ")" }, Object.defineProperty(e.prototype, "hasPendingWrites", { get: function() { return this.hasCommittedMutations }, enumerable: !1, configurable: !0 }), e.prototype.isEqual = function(t) { return t instanceof e && t.hasCommittedMutations === this.hasCommittedMutations && t.version.isEqual(this.version) && t.key.isEqual(this.key) }, e
                        }(nn),
                        sn = function(t) {
                            function e() { return null !== t && t.apply(this, arguments) || this }
                            return i.__extends(e, t), e.prototype.toString = function() { return "UnknownDocument(" + this.key + ", " + this.version + ")" }, Object.defineProperty(e.prototype, "hasPendingWrites", { get: function() { return !0 }, enumerable: !1, configurable: !0 }), e.prototype.isEqual = function(t) { return t instanceof e && t.version.isEqual(this.version) && t.key.isEqual(this.key) }, e
                        }(nn),
                        an = function() {
                            function t(t, e, n, r, i, o, s, a) { void 0 === e && (e = null), void 0 === n && (n = []), void 0 === r && (r = []), void 0 === i && (i = null), void 0 === o && (o = "F"), void 0 === s && (s = null), void 0 === a && (a = null), this.path = t, this.collectionGroup = e, this.en = n, this.filters = r, this.limit = i, this.nn = o, this.startAt = s, this.endAt = a, this.sn = null, this.rn = null, this.startAt && this.on(this.startAt), this.endAt && this.on(this.endAt) }
                            return t.hn = function(e) { return new t(e) }, Object.defineProperty(t.prototype, "orderBy", {
                                get: function() {
                                    if (null === this.sn) {
                                        this.sn = [];
                                        var t = this.an(),
                                            e = this.un();
                                        if (null !== t && null === e) t.O() || this.sn.push(new Sn(t)), this.sn.push(new Sn(F.L(), "asc"));
                                        else {
                                            for (var n = !1, r = 0, i = this.en; r < i.length; r++) {
                                                var o = i[r];
                                                this.sn.push(o), o.field.O() && (n = !0)
                                            }
                                            if (!n) {
                                                var s = this.en.length > 0 ? this.en[this.en.length - 1].dir : "asc";
                                                this.sn.push(new Sn(F.L(), s))
                                            }
                                        }
                                    }
                                    return this.sn
                                },
                                enumerable: !1,
                                configurable: !0
                            }), t.prototype.cn = function(e) { var n = this.filters.concat([e]); return new t(this.path, this.collectionGroup, this.en.slice(), n, this.limit, this.nn, this.startAt, this.endAt) }, t.prototype.ln = function(e) { var n = this.en.concat([e]); return new t(this.path, this.collectionGroup, n, this.filters.slice(), this.limit, this.nn, this.startAt, this.endAt) }, t.prototype._n = function(e) { return new t(this.path, this.collectionGroup, this.en.slice(), this.filters.slice(), e, "F", this.startAt, this.endAt) }, t.prototype.fn = function(e) { return new t(this.path, this.collectionGroup, this.en.slice(), this.filters.slice(), e, "L", this.startAt, this.endAt) }, t.prototype.dn = function(e) { return new t(this.path, this.collectionGroup, this.en.slice(), this.filters.slice(), this.limit, this.nn, e, this.endAt) }, t.prototype.wn = function(e) { return new t(this.path, this.collectionGroup, this.en.slice(), this.filters.slice(), this.limit, this.nn, this.startAt, e) }, t.prototype.Tn = function(e) { return new t(e, null, this.en.slice(), this.filters.slice(), this.limit, this.nn, this.startAt, this.endAt) }, t.prototype.En = function() { return 0 === this.filters.length && null === this.limit && null == this.startAt && null == this.endAt && (0 === this.en.length || 1 === this.en.length && this.en[0].field.O()) }, t.prototype.In = function() { return !U(this.limit) && "F" === this.nn }, t.prototype.mn = function() { return !U(this.limit) && "L" === this.nn }, t.prototype.un = function() { return this.en.length > 0 ? this.en[0].field : null }, t.prototype.an = function() { for (var t = 0, e = this.filters; t < e.length; t++) { var n = e[t]; if (n instanceof pn && n.An()) return n.field } return null }, t.prototype.Rn = function(t) { for (var e = 0, n = this.filters; e < n.length; e++) { var r = n[e]; if (r instanceof pn && t.indexOf(r.op) >= 0) return r.op } return null }, t.prototype.Pn = function() { return G(this.We()) }, t.prototype.Vn = function() { return null !== this.collectionGroup }, t.prototype.We = function() {
                                if (!this.rn)
                                    if ("F" === this.nn) this.rn = H(this.path, this.collectionGroup, this.orderBy, this.filters, this.limit, this.startAt, this.endAt);
                                    else {
                                        for (var t = [], e = 0, n = this.orderBy; e < n.length; e++) {
                                            var r = n[e];
                                            t.push(new Sn(r.field, "desc" === r.dir ? "asc" : "desc"))
                                        }
                                        var i = this.endAt ? new _n(this.endAt.position, !this.endAt.before) : null,
                                            o = this.startAt ? new _n(this.startAt.position, !this.startAt.before) : null;
                                        this.rn = H(this.path, this.collectionGroup, t, this.filters, this.limit, i, o)
                                    }
                                return this.rn
                            }, t.prototype.on = function(t) {}, t
                        }();

                    function cn(t, e) { return z(t.We(), e.We()) && t.nn === e.nn }

                    function ln(t) { return W(t.We()) + "|lt:" + t.nn }

                    function un(t) { return "Query(target=" + function(t) { var e = t.path.N(); return null !== t.collectionGroup && (e += " collectionGroup=" + t.collectionGroup), t.filters.length > 0 && (e += ", filters: [" + t.filters.map((function(t) { return (e = t).field.N() + " " + e.op + " " + Mt(e.value); var e })).join(", ") + "]"), U(t.limit) || (e += ", limit: " + t.limit), t.orderBy.length > 0 && (e += ", orderBy: [" + t.orderBy.map((function(t) { return (e = t).field.N() + " (" + e.dir + ")"; var e })).join(", ") + "]"), t.startAt && (e += ", startAt: " + bn(t.startAt)), t.endAt && (e += ", endAt: " + bn(t.endAt)), "Target(" + e + ")" }(t.We()) + "; limitType=" + t.nn + ")" }

                    function hn(t, e) {
                        return function(t, e) { var n = e.key.path; return null !== t.collectionGroup ? e.key.U(t.collectionGroup) && t.path.D(n) : j.W(t.path) ? t.path.isEqual(n) : t.path.C(n) }(t, e) && function(t, e) { for (var n = 0, r = t.en; n < r.length; n++) { var i = r[n]; if (!i.field.O() && null === e.field(i.field)) return !1 } return !0 }(t, e) && function(t, e) {
                            for (var n = 0, r = t.filters; n < r.length; n++)
                                if (!r[n].matches(e)) return !1;
                            return !0
                        }(t, e) && function(t, e) { return !(t.startAt && !wn(t.startAt, t.orderBy, e) || t.endAt && wn(t.endAt, t.orderBy, e)) }(t, e)
                    }

                    function dn(t) {
                        return function(e, n) {
                            for (var r = !1, i = 0, o = t.orderBy; i < o.length; i++) {
                                var s = o[i],
                                    a = Cn(s, e, n);
                                if (0 !== a) return a;
                                r = r || s.field.O()
                            }
                            return 0
                        }
                    }
                    var pn = function(t) {
                            function e(e, n, r) { var i = this; return (i = t.call(this) || this).field = e, i.op = n, i.value = r, i }
                            return i.__extends(e, t), e.create = function(t, n, r) { if (t.O()) return "in" === n ? new mn(t, r) : new fn(t, n, r); if (qt(r)) { if ("==" !== n) throw new O(R.INVALID_ARGUMENT, "Invalid query. Null supports only equality comparisons."); return new e(t, n, r) } if (Ht(r)) { if ("==" !== n) throw new O(R.INVALID_ARGUMENT, "Invalid query. NaN supports only equality comparisons."); return new e(t, n, r) } return "array-contains" === n ? new gn(t, r) : "in" === n ? new yn(t, r) : "array-contains-any" === n ? new vn(t, r) : new e(t, n, r) }, e.prototype.matches = function(t) { var e = t.field(this.field); return null !== e && Rt(this.value) === Rt(e) && this.gn(Dt(e, this.value)) }, e.prototype.gn = function(t) {
                                switch (this.op) {
                                    case "<":
                                        return t < 0;
                                    case "<=":
                                        return t <= 0;
                                    case "==":
                                        return 0 === t;
                                    case ">":
                                        return t > 0;
                                    case ">=":
                                        return t >= 0;
                                    default:
                                        return g()
                                }
                            }, e.prototype.An = function() { return ["<", "<=", ">", ">="].indexOf(this.op) >= 0 }, e
                        }((function() {})),
                        fn = function(t) {
                            function e(e, n, r) { var i = this; return (i = t.call(this, e, n, r) || this).key = j.q(r.referenceValue), i }
                            return i.__extends(e, t), e.prototype.matches = function(t) { var e = j.P(t.key, this.key); return this.gn(e) }, e
                        }(pn),
                        mn = function(t) {
                            function e(e, n) { var r = this; return (r = t.call(this, e, "in", n) || this).keys = (n.arrayValue.values || []).map((function(t) { return j.q(t.referenceValue) })), r }
                            return i.__extends(e, t), e.prototype.matches = function(t) { return this.keys.some((function(e) { return e.isEqual(t.key) })) }, e
                        }(pn),
                        gn = function(t) {
                            function e(e, n) { return t.call(this, e, "array-contains", n) || this }
                            return i.__extends(e, t), e.prototype.matches = function(t) { var e = t.field(this.field); return Bt(e) && Nt(e.arrayValue, this.value) }, e
                        }(pn),
                        yn = function(t) {
                            function e(e, n) { return t.call(this, e, "in", n) || this }
                            return i.__extends(e, t), e.prototype.matches = function(t) { var e = t.field(this.field); return null !== e && Nt(this.value.arrayValue, e) }, e
                        }(pn),
                        vn = function(t) {
                            function e(e, n) { return t.call(this, e, "array-contains-any", n) || this }
                            return i.__extends(e, t), e.prototype.matches = function(t) {
                                var e = this,
                                    n = t.field(this.field);
                                return !(!Bt(n) || !n.arrayValue.values) && n.arrayValue.values.some((function(t) { return Nt(e.value.arrayValue, t) }))
                            }, e
                        }(pn),
                        _n = function(t, e) { this.position = t, this.before = e };

                    function bn(t) { return (t.before ? "b" : "a") + ":" + t.position.map((function(t) { return Mt(t) })).join(",") }

                    function wn(t, e, n) {
                        for (var r = 0, i = 0; i < t.position.length; i++) {
                            var o = e[i],
                                s = t.position[i];
                            if (r = o.field.O() ? j.P(j.q(s.referenceValue), n.key) : Dt(s, n.field(o.field)), "desc" === o.dir && (r *= -1), 0 !== r) break
                        }
                        return t.before ? r <= 0 : r < 0
                    }

                    function En(t, e) {
                        if (null === t) return null === e;
                        if (null === e) return !1;
                        if (t.before !== e.before || t.position.length !== e.position.length) return !1;
                        for (var n = 0; n < t.position.length; n++)
                            if (!Ot(t.position[n], e.position[n])) return !1;
                        return !0
                    }
                    var Sn = function(t, e) { void 0 === e && (e = "asc"), this.field = t, this.dir = e };

                    function Cn(t, e, n) {
                        var r = t.field.O() ? j.P(e.key, n.key) : function(t, e, n) {
                            var r = e.field(t),
                                i = n.field(t);
                            return null !== r && null !== i ? Dt(r, i) : g()
                        }(t.field, e, n);
                        switch (t.dir) {
                            case "asc":
                                return r;
                            case "desc":
                                return -1 * r;
                            default:
                                return g()
                        }
                    }

                    function xn(t, e) { return t.dir === e.dir && t.field.isEqual(e.field) }
                    var Tn = function() {
                            function t(t, e, n, r) { this.batchId = t, this.yn = e, this.baseMutations = n, this.mutations = r }
                            return t.prototype.pn = function(t, e, n) {
                                for (var r = n.bn, i = 0; i < this.mutations.length; i++) {
                                    var o = this.mutations[i];
                                    o.key.isEqual(t) && (e = Ve(o, e, r[i]))
                                }
                                return e
                            }, t.prototype.vn = function(t, e) {
                                for (var n = 0, r = this.baseMutations; n < r.length; n++) {
                                    var i = r[n];
                                    i.key.isEqual(t) && (e = Be(i, e, e, this.yn))
                                }
                                for (var o = e, s = 0, a = this.mutations; s < a.length; s++) {
                                    var c = a[s];
                                    c.key.isEqual(t) && (e = Be(c, e, o, this.yn))
                                }
                                return e
                            }, t.prototype.Sn = function(t) {
                                var e = this,
                                    n = t;
                                return this.mutations.forEach((function(r) {
                                    var i = e.vn(r.key, t.get(r.key));
                                    i && (n = n.nt(r.key, i))
                                })), n
                            }, t.prototype.keys = function() { return this.mutations.reduce((function(t, e) { return t.add(e.key) }), dt()) }, t.prototype.isEqual = function(t) { return this.batchId === t.batchId && E(this.mutations, t.mutations, (function(t, e) { return He(t, e) })) && E(this.baseMutations, t.baseMutations, (function(t, e) { return He(t, e) })) }, t
                        }(),
                        kn = function() {
                            function t(t, e, n, r) { this.batch = t, this.Dn = e, this.bn = n, this.Cn = r }
                            return t.from = function(e, n, r) { y(e.mutations.length === r.length); for (var i = ut, o = e.mutations, s = 0; s < o.length; s++) i = i.nt(o[s].key, r[s].version); return new t(e, n, r, i) }, t
                        }(),
                        In = function() {
                            function t(t) {
                                var e = this;
                                this.Fn = null, this.Nn = null, this.result = void 0, this.error = void 0, this.$n = !1, this.kn = !1, t((function(t) { e.$n = !0, e.result = t, e.Fn && e.Fn(t) }), (function(t) { e.$n = !0, e.error = t, e.Nn && e.Nn(t) }))
                            }
                            return t.prototype.catch = function(t) { return this.next(void 0, t) }, t.prototype.next = function(e, n) { var r = this; return this.kn && g(), this.kn = !0, this.$n ? this.error ? this.xn(n, this.error) : this.Mn(e, this.result) : new t((function(t, i) { r.Fn = function(n) { r.Mn(e, n).next(t, i) }, r.Nn = function(e) { r.xn(n, e).next(t, i) } })) }, t.prototype.On = function() { var t = this; return new Promise((function(e, n) { t.next(e, n) })) }, t.prototype.Ln = function(e) { try { var n = e(); return n instanceof t ? n : t.resolve(n) } catch (e) { return t.reject(e) } }, t.prototype.Mn = function(e, n) { return e ? this.Ln((function() { return e(n) })) : t.resolve(n) }, t.prototype.xn = function(e, n) { return e ? this.Ln((function() { return e(n) })) : t.reject(n) }, t.resolve = function(e) { return new t((function(t, n) { t(e) })) }, t.reject = function(e) { return new t((function(t, n) { n(e) })) }, t.Bn = function(e) {
                                return new t((function(t, n) {
                                    var r = 0,
                                        i = 0,
                                        o = !1;
                                    e.forEach((function(e) {++r, e.next((function() {++i, o && i === r && t() }), (function(t) { return n(t) })) })), o = !0, i === r && t()
                                }))
                            }, t.qn = function(e) { for (var n = t.resolve(!1), r = function(e) { n = n.next((function(n) { return n ? t.resolve(n) : e() })) }, i = 0, o = e; i < o.length; i++) r(o[i]); return n }, t.forEach = function(t, e) {
                                var n = this,
                                    r = [];
                                return t.forEach((function(t, i) { r.push(e.call(n, t, i)) })), this.Bn(r)
                            }, t
                        }(),
                        An = function() {
                            function t() { this.Un = new A((function(t) { return t.toString() }), (function(t, e) { return t.isEqual(e) })), this.Qn = !1 }
                            return Object.defineProperty(t.prototype, "readTime", { get: function() { return this.Wn }, set: function(t) { this.Wn = t }, enumerable: !1, configurable: !0 }), t.prototype.jn = function(t, e) { this.Kn(), this.readTime = e, this.Un.set(t.key, t) }, t.prototype.Gn = function(t, e) { this.Kn(), e && (this.readTime = e), this.Un.set(t, null) }, t.prototype.zn = function(t, e) { this.Kn(); var n = this.Un.get(e); return void 0 !== n ? In.resolve(n) : this.Hn(t, e) }, t.prototype.getEntries = function(t, e) { return this.Yn(t, e) }, t.prototype.apply = function(t) { return this.Kn(), this.Qn = !0, this.Jn(t) }, t.prototype.Kn = function() {}, t
                        }(),
                        Rn = "The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",
                        On = function() {
                            function t() { this.Xn = [] }
                            return t.prototype.Zn = function(t) { this.Xn.push(t) }, t.prototype.ts = function() { this.Xn.forEach((function(t) { return t() })) }, t
                        }(),
                        Nn = function() {
                            function t(t, e, n) { this.es = t, this.ns = e, this.ss = n }
                            return t.prototype.rs = function(t, e) { var n = this; return this.ns.os(t, e).next((function(r) { return n.hs(t, e, r) })) }, t.prototype.hs = function(t, e, n) { return this.es.zn(t, e).next((function(t) { for (var r = 0, i = n; r < i.length; r++) t = i[r].vn(e, t); return t })) }, t.prototype.as = function(t, e, n) {
                                var r = at();
                                return e.forEach((function(t, e) {
                                    for (var i = 0, o = n; i < o.length; i++) e = o[i].vn(t, e);
                                    r = r.nt(t, e)
                                })), r
                            }, t.prototype.us = function(t, e) { var n = this; return this.es.getEntries(t, e).next((function(e) { return n.cs(t, e) })) }, t.prototype.cs = function(t, e) {
                                var n = this;
                                return this.ns.ls(t, e).next((function(r) {
                                    var i = n.as(t, e, r),
                                        o = st();
                                    return i.forEach((function(t, e) { e || (e = new on(t, D.min())), o = o.nt(t, e) })), o
                                }))
                            }, t.prototype._s = function(t, e, n) { return e.Pn() ? this.fs(t, e.path) : e.Vn() ? this.ds(t, e, n) : this.ws(t, e, n) }, t.prototype.fs = function(t, e) { return this.rs(t, new j(e)).next((function(t) { var e = lt(); return t instanceof rn && (e = e.nt(t.key, t)), e })) }, t.prototype.ds = function(t, e, n) {
                                var r = this,
                                    i = e.collectionGroup,
                                    o = lt();
                                return this.ss.Ts(t, i).next((function(s) { return In.forEach(s, (function(s) { var a = e.Tn(s.child(i)); return r.ws(t, a, n).next((function(t) { t.forEach((function(t, e) { o = o.nt(t, e) })) })) })).next((function() { return o })) }))
                            }, t.prototype.ws = function(t, e, n) {
                                var r, i, o = this;
                                return this.es._s(t, e, n).next((function(n) { return r = n, o.ns.Es(t, e) })).next((function(e) {
                                    return o.Is(t, i = e, r).next((function(t) {
                                        r = t;
                                        for (var e = 0, n = i; e < n.length; e++)
                                            for (var o = n[e], s = 0, a = o.mutations; s < a.length; s++) {
                                                var c = a[s],
                                                    l = c.key,
                                                    u = r.get(l),
                                                    h = Be(c, u, u, o.yn);
                                                r = h instanceof rn ? r.nt(l, h) : r.remove(l)
                                            }
                                    }))
                                })).next((function() { return r.forEach((function(t, n) { hn(e, n) || (r = r.remove(t)) })), r }))
                            }, t.prototype.Is = function(t, e, n) {
                                for (var r = dt(), i = 0, o = e; i < o.length; i++)
                                    for (var s = 0, a = o[i].mutations; s < a.length; s++) {
                                        var c = a[s];
                                        c instanceof Ge && null === n.get(c.key) && (r = r.add(c.key))
                                    }
                                var l = n;
                                return this.es.getEntries(t, r).next((function(t) { return t.forEach((function(t, e) { null !== e && e instanceof rn && (l = l.nt(t, e)) })), l }))
                            }, t
                        }(),
                        Dn = function() {
                            function t(t, e, n, r) { this.targetId = t, this.fromCache = e, this.ms = n, this.As = r }
                            return t.Rs = function(e, n) {
                                for (var r = dt(), i = dt(), o = 0, s = n.docChanges; o < s.length; o++) {
                                    var a = s[o];
                                    switch (a.type) {
                                        case 0:
                                            r = r.add(a.doc.key);
                                            break;
                                        case 1:
                                            i = i.add(a.doc.key)
                                    }
                                }
                                return new t(e, n.fromCache, r, i)
                            }, t
                        }(),
                        Pn = function() {
                            function t(t, e) {
                                var n = this;
                                this.previousValue = t, e && (e.Ps = function(t) { return n.Vs(t) }, this.gs = function(t) { return e.ys(t) })
                            }
                            return t.prototype.Vs = function(t) { return this.previousValue = Math.max(t, this.previousValue), this.previousValue }, t.prototype.next = function() { var t = ++this.previousValue; return this.gs && this.gs(t), t }, t
                        }();
                    Pn.ps = -1;
                    var Mn = function() {
                            var t = this;
                            this.promise = new Promise((function(e, n) { t.resolve = e, t.reject = n }))
                        },
                        Ln = function() {
                            function t(t, e, n, r, i) { void 0 === n && (n = 1e3), void 0 === r && (r = 1.5), void 0 === i && (i = 6e4), this.bs = t, this.vs = e, this.Ss = n, this.Ds = r, this.Cs = i, this.Fs = 0, this.Ns = null, this.$s = Date.now(), this.reset() }
                            return t.prototype.reset = function() { this.Fs = 0 }, t.prototype.ks = function() { this.Fs = this.Cs }, t.prototype.xs = function(t) {
                                var e = this;
                                this.cancel();
                                var n = Math.floor(this.Fs + this.Ms()),
                                    r = Math.max(0, Date.now() - this.$s),
                                    i = Math.max(0, n - r);
                                i > 0 && p("ExponentialBackoff", "Backing off for " + i + " ms (base delay: " + this.Fs + " ms, delay with jitter: " + n + " ms, last attempt: " + r + " ms ago)"), this.Ns = this.bs.Os(this.vs, i, (function() { return e.$s = Date.now(), t() })), this.Fs *= this.Ds, this.Fs < this.Ss && (this.Fs = this.Ss), this.Fs > this.Cs && (this.Fs = this.Cs)
                            }, t.prototype.Ls = function() { null !== this.Ns && (this.Ns.Bs(), this.Ns = null) }, t.prototype.cancel = function() { null !== this.Ns && (this.Ns.cancel(), this.Ns = null) }, t.prototype.Ms = function() { return (Math.random() - .5) * this.Fs }, t
                        }();

                    function Fn(t) { for (var e = "", n = 0; n < t.length; n++) e.length > 0 && (e = Un(e)), e = jn(t.get(n), e); return Un(e) }

                    function jn(t, e) {
                        for (var n = e, r = t.length, i = 0; i < r; i++) {
                            var o = t.charAt(i);
                            switch (o) {
                                case "\0":
                                    n += "\x01\x10";
                                    break;
                                case "\x01":
                                    n += "\x01\x11";
                                    break;
                                default:
                                    n += o
                            }
                        }
                        return n
                    }

                    function Un(t) { return t + "\x01\x01" }

                    function Vn(t) {
                        var e = t.length;
                        if (y(e >= 2), 2 === e) return y("\x01" === t.charAt(0) && "\x01" === t.charAt(1)), M.k();
                        for (var n = e - 2, r = [], i = "", o = 0; o < e;) {
                            var s = t.indexOf("\x01", o);
                            switch ((s < 0 || s > n) && g(), t.charAt(s + 1)) {
                                case "\x01":
                                    var a = t.substring(o, s),
                                        c = void 0;
                                    0 === i.length ? c = a : (c = i += a, i = ""), r.push(c);
                                    break;
                                case "\x10":
                                    i += t.substring(o, s), i += "\0";
                                    break;
                                case "\x11":
                                    i += t.substring(o, s + 1);
                                    break;
                                default:
                                    g()
                            }
                            o = s + 2
                        }
                        return new M(r)
                    }
                    var Bn = function() {
                            function t() { this.qs = new qn }
                            return t.prototype.Us = function(t, e) { return this.qs.add(e), In.resolve() }, t.prototype.Ts = function(t, e) { return In.resolve(this.qs.getEntries(e)) }, t
                        }(),
                        qn = function() {
                            function t() { this.index = {} }
                            return t.prototype.add = function(t) {
                                var e = t.S(),
                                    n = t.p(),
                                    r = this.index[e] || new rt(M.P),
                                    i = !r.has(n);
                                return this.index[e] = r.add(n), i
                            }, t.prototype.has = function(t) {
                                var e = t.S(),
                                    n = t.p(),
                                    r = this.index[e];
                                return r && r.has(n)
                            }, t.prototype.getEntries = function(t) { return (this.index[t] || new rt(M.P)).F() }, t
                        }(),
                        Hn = function() {
                            function t() { this.Qs = new qn }
                            return t.prototype.Us = function(t, e) {
                                var n = this;
                                if (!this.Qs.has(e)) {
                                    var r = e.S(),
                                        i = e.p();
                                    t.Zn((function() { n.Qs.add(e) }));
                                    var o = { collectionId: r, parent: Fn(i) };
                                    return Wn(t).put(o)
                                }
                                return In.resolve()
                            }, t.prototype.Ts = function(t, e) {
                                var n = [],
                                    r = IDBKeyRange.bound([e, ""], [S(e), ""], !1, !0);
                                return Wn(t).Ws(r).next((function(t) {
                                    for (var r = 0, i = t; r < i.length; r++) {
                                        var o = i[r];
                                        if (o.collectionId !== e) break;
                                        n.push(Vn(o.parent))
                                    }
                                    return n
                                }))
                            }, t
                        }();

                    function Wn(t) { return pr.js(t, jr.store) }
                    var zn = function(t) { this.Ks = t };

                    function Gn(t, e) {
                        if (e.document) return function(t, e, n) {
                            var r = ie(t, e.name),
                                i = te(e.updateTime),
                                o = new Je({ mapValue: { fields: e.fields } });
                            return new rn(r, i, o, { hasCommittedMutations: !!n })
                        }(t.Ks, e.document, !!e.hasCommittedMutations);
                        if (e.noDocument) {
                            var n = j.j(e.noDocument.path),
                                r = Qn(e.noDocument.readTime);
                            return new on(n, r, { hasCommittedMutations: !!e.hasCommittedMutations })
                        }
                        if (e.unknownDocument) {
                            var i = j.j(e.unknownDocument.path),
                                o = Qn(e.unknownDocument.version);
                            return new sn(i, o)
                        }
                        return g()
                    }

                    function $n(t, e, n) {
                        var r = Kn(n),
                            i = e.key.path.p().F();
                        if (e instanceof rn) { var o = function(t, e) { return { name: re(t, e.key), fields: e.tn().mapValue.fields, updateTime: Qt(t, e.version.A()) } }(t.Ks, e); return new Dr(null, null, o, e.hasCommittedMutations, r, i) }
                        if (e instanceof on) {
                            var s = e.key.path.F(),
                                a = Xn(e.version),
                                c = e.hasCommittedMutations;
                            return new Dr(null, new Or(s, a), null, c, r, i)
                        }
                        if (e instanceof sn) {
                            var l = e.key.path.F(),
                                u = Xn(e.version);
                            return new Dr(new Nr(l, u), null, null, !0, r, i)
                        }
                        return g()
                    }

                    function Kn(t) { var e = t.A(); return [e.seconds, e.nanoseconds] }

                    function Yn(t) { var e = new N(t[0], t[1]); return D.I(e) }

                    function Xn(t) { var e = t.A(); return new Tr(e.seconds, e.nanoseconds) }

                    function Qn(t) { var e = new N(t.seconds, t.nanoseconds); return D.I(e) }

                    function Zn(t, e) {
                        var n = (e.baseMutations || []).map((function(e) { return he(t.Ks, e) })),
                            r = e.mutations.map((function(e) { return he(t.Ks, e) })),
                            i = N.fromMillis(e.localWriteTimeMs);
                        return new Tn(e.batchId, i, n, r)
                    }

                    function Jn(t) {
                        var e, n = Qn(t.readTime),
                            r = void 0 !== t.lastLimboFreeSnapshotVersion ? Qn(t.lastLimboFreeSnapshotVersion) : D.min();
                        return e = void 0 !== t.query.documents ? function(t) { return y(1 === t.documents.length), an.hn(se(t.documents[0])).We() }(t.query) : function(t) {
                            var e = se(t.parent),
                                n = t.structuredQuery,
                                r = n.from ? n.from.length : 0,
                                i = null;
                            if (r > 0) {
                                y(1 === r);
                                var o = n.from[0];
                                o.allDescendants ? i = o.collectionId : e = e.child(o.collectionId)
                            }
                            var s = [];
                            n.where && (s = function t(e) { return e ? void 0 !== e.unaryFilter ? [_e(e)] : void 0 !== e.fieldFilter ? [ve(e)] : void 0 !== e.compositeFilter ? e.compositeFilter.filters.map((function(e) { return t(e) })).reduce((function(t, e) { return t.concat(e) })) : g() : [] }(n.where));
                            var a = [];
                            n.orderBy && (a = n.orderBy.map((function(t) {
                                return new Sn(ye((e = t).field), function(t) {
                                    switch (t) {
                                        case "ASCENDING":
                                            return "asc";
                                        case "DESCENDING":
                                            return "desc";
                                        default:
                                            return
                                    }
                                }(e.direction));
                                var e
                            })));
                            var c = null;
                            n.limit && (c = function(t) { var e; return U(e = "object" == typeof t ? t.value : t) ? null : e }(n.limit));
                            var l = null;
                            n.startAt && (l = me(n.startAt));
                            var u = null;
                            return n.endAt && (u = me(n.endAt)), new an(e, i, a, s, c, "F", l, u).We()
                        }(t.query), new X(e, t.targetId, 0, t.lastListenSequenceNumber, n, r, $.fromBase64String(t.resumeToken))
                    }

                    function tr(t, e) {
                        var n, r = Xn(e.X),
                            i = Xn(e.lastLimboFreeSnapshotVersion);
                        n = G(e.target) ? de(t.Ks, e.target) : pe(t.Ks, e.target);
                        var o = e.resumeToken.toBase64();
                        return new Mr(e.targetId, W(e.target), r, o, e.sequenceNumber, i, n)
                    }
                    var er = function() {
                        function t(t, e) { this.serializer = t, this.ss = e }
                        return t.prototype.jn = function(t, e, n) { return rr(t).put(ir(e), n) }, t.prototype.Gn = function(t, e) {
                            var n = rr(t),
                                r = ir(e);
                            return n.delete(r)
                        }, t.prototype.updateMetadata = function(t, e) { var n = this; return this.getMetadata(t).next((function(r) { return r.byteSize += e, n.Gs(t, r) })) }, t.prototype.zn = function(t, e) { var n = this; return rr(t).get(ir(e)).next((function(t) { return n.zs(t) })) }, t.prototype.Hs = function(t, e) { var n = this; return rr(t).get(ir(e)).next((function(t) { var e = n.zs(t); return e ? { Ys: e, size: or(t) } : null })) }, t.prototype.getEntries = function(t, e) {
                            var n = this,
                                r = at();
                            return this.Js(t, e, (function(t, e) {
                                var i = n.zs(e);
                                r = r.nt(t, i)
                            })).next((function() { return r }))
                        }, t.prototype.Xs = function(t, e) {
                            var n = this,
                                r = at(),
                                i = new tt(j.P);
                            return this.Js(t, e, (function(t, e) {
                                var o = n.zs(e);
                                o ? (r = r.nt(t, o), i = i.nt(t, or(e))) : (r = r.nt(t, null), i = i.nt(t, 0))
                            })).next((function() { return { Zs: r, ti: i } }))
                        }, t.prototype.Js = function(t, e, n) {
                            if (e._()) return In.resolve();
                            var r = IDBKeyRange.bound(e.first().path.F(), e.last().path.F()),
                                i = e.at(),
                                o = i.dt();
                            return rr(t).ei({ range: r }, (function(t, e, r) {
                                for (var s = j.j(t); o && j.P(o, s) < 0;) n(o, null), o = i.dt();
                                o && o.isEqual(s) && (n(o, e), o = i.wt() ? i.dt() : null), o ? r.ni(o.path.F()) : r.done()
                            })).next((function() { for (; o;) n(o, null), o = i.wt() ? i.dt() : null }))
                        }, t.prototype._s = function(t, e, n) {
                            var r = this,
                                i = lt(),
                                o = e.path.length + 1,
                                s = {};
                            if (n.isEqual(D.min())) {
                                var a = e.path.F();
                                s.range = IDBKeyRange.lowerBound(a)
                            } else {
                                var c = e.path.F(),
                                    l = Kn(n);
                                s.range = IDBKeyRange.lowerBound([c, l], !0), s.index = Dr.collectionReadTimeIndex
                            }
                            return rr(t).ei(s, (function(t, n, s) {
                                if (t.length === o) {
                                    var a = Gn(r.serializer, n);
                                    e.path.D(a.key.path) ? a instanceof rn && hn(e, a) && (i = i.nt(a.key, a)) : s.done()
                                }
                            })).next((function() { return i }))
                        }, t.prototype.si = function(t, e) {
                            var n = this,
                                r = st(),
                                i = Kn(e),
                                o = rr(t),
                                s = IDBKeyRange.lowerBound(i, !0);
                            return o.ei({ index: Dr.readTimeIndex, range: s }, (function(t, e) {
                                var o = Gn(n.serializer, e);
                                r = r.nt(o.key, o), i = e.readTime
                            })).next((function() { return { ii: r, readTime: Yn(i) } }))
                        }, t.prototype.ri = function(t) {
                            var e = rr(t),
                                n = D.min();
                            return e.ei({ index: Dr.readTimeIndex, reverse: !0 }, (function(t, e, r) { e.readTime && (n = Yn(e.readTime)), r.done() })).next((function() { return n }))
                        }, t.prototype.oi = function(e) { return new t.hi(this, !!e && e.ai) }, t.prototype.ui = function(t) { return this.getMetadata(t).next((function(t) { return t.byteSize })) }, t.prototype.getMetadata = function(t) { return nr(t).get(Pr.key).next((function(t) { return y(!!t), t })) }, t.prototype.Gs = function(t, e) { return nr(t).put(Pr.key, e) }, t.prototype.zs = function(t) { if (t) { var e = Gn(this.serializer, t); return e instanceof on && e.version.isEqual(D.min()) ? null : e } return null }, t
                    }();

                    function nr(t) { return pr.js(t, Pr.store) }

                    function rr(t) { return pr.js(t, Dr.store) }

                    function ir(t) { return t.path.F() }

                    function or(t) {
                        var e;
                        if (t.document) e = t.document;
                        else if (t.unknownDocument) e = t.unknownDocument;
                        else {
                            if (!t.noDocument) throw g();
                            e = t.noDocument
                        }
                        return JSON.stringify(e).length
                    }
                    er.hi = function(t) {
                        function e(e, n) { var r = this; return (r = t.call(this) || this).ci = e, r.ai = n, r.li = new A((function(t) { return t.toString() }), (function(t, e) { return t.isEqual(e) })), r }
                        return i.__extends(e, t), e.prototype.Jn = function(t) {
                            var e = this,
                                n = [],
                                r = 0,
                                i = new rt((function(t, e) { return w(t.N(), e.N()) }));
                            return this.Un.forEach((function(o, s) {
                                var a = e.li.get(o);
                                if (s) {
                                    var c = $n(e.ci.serializer, s, e.readTime);
                                    i = i.add(o.path.p());
                                    var l = or(c);
                                    r += l - a, n.push(e.ci.jn(t, o, c))
                                } else if (r -= a, e.ai) {
                                    var u = $n(e.ci.serializer, new on(o, D.min()), e.readTime);
                                    n.push(e.ci.jn(t, o, u))
                                } else n.push(e.ci.Gn(t, o))
                            })), i.forEach((function(r) { n.push(e.ci.ss.Us(t, r)) })), n.push(this.ci.updateMetadata(t, r)), In.Bn(n)
                        }, e.prototype.Hn = function(t, e) { var n = this; return this.ci.Hs(t, e).next((function(t) { return null === t ? (n.li.set(e, 0), null) : (n.li.set(e, t.size), t.Ys) })) }, e.prototype.Yn = function(t, e) { var n = this; return this.ci.Xs(t, e).next((function(t) { var e = t.Zs; return t.ti.forEach((function(t, e) { n.li.set(t, e) })), e })) }, e
                    }(An);
                    var sr = function() {
                            function t(t) { this._i = t }
                            return t.prototype.next = function() { return this._i += 2, this._i }, t.fi = function() { return new t(0) }, t.di = function() { return new t(-1) }, t
                        }(),
                        ar = function() {
                            function t(t, e) { this.wi = t, this.serializer = e }
                            return t.prototype.Ti = function(t) { var e = this; return this.Ei(t).next((function(n) { var r = new sr(n.highestTargetId); return n.highestTargetId = r.next(), e.Ii(t, n).next((function() { return n.highestTargetId })) })) }, t.prototype.mi = function(t) { return this.Ei(t).next((function(t) { return D.I(new N(t.lastRemoteSnapshotVersion.seconds, t.lastRemoteSnapshotVersion.nanoseconds)) })) }, t.prototype.Ai = function(t) { return this.Ei(t).next((function(t) { return t.highestListenSequenceNumber })) }, t.prototype.Ri = function(t, e, n) { var r = this; return this.Ei(t).next((function(i) { return i.highestListenSequenceNumber = e, n && (i.lastRemoteSnapshotVersion = n.A()), e > i.highestListenSequenceNumber && (i.highestListenSequenceNumber = e), r.Ii(t, i) })) }, t.prototype.Pi = function(t, e) { var n = this; return this.Vi(t, e).next((function() { return n.Ei(t).next((function(r) { return r.targetCount += 1, n.gi(e, r), n.Ii(t, r) })) })) }, t.prototype.yi = function(t, e) { return this.Vi(t, e) }, t.prototype.pi = function(t, e) { var n = this; return this.bi(t, e.targetId).next((function() { return cr(t).delete(e.targetId) })).next((function() { return n.Ei(t) })).next((function(e) { return y(e.targetCount > 0), e.targetCount -= 1, n.Ii(t, e) })) }, t.prototype.vi = function(t, e, n) {
                                var r = this,
                                    i = 0,
                                    o = [];
                                return cr(t).ei((function(s, a) {
                                    var c = Jn(a);
                                    c.sequenceNumber <= e && null === n.get(c.targetId) && (i++, o.push(r.pi(t, c)))
                                })).next((function() { return In.Bn(o) })).next((function() { return i }))
                            }, t.prototype.pe = function(t, e) {
                                return cr(t).ei((function(t, n) {
                                    var r = Jn(n);
                                    e(r)
                                }))
                            }, t.prototype.Ei = function(t) { return lr(t).get(Fr.key).next((function(t) { return y(null !== t), t })) }, t.prototype.Ii = function(t, e) { return lr(t).put(Fr.key, e) }, t.prototype.Vi = function(t, e) { return cr(t).put(tr(this.serializer, e)) }, t.prototype.gi = function(t, e) { var n = !1; return t.targetId > e.highestTargetId && (e.highestTargetId = t.targetId, n = !0), t.sequenceNumber > e.highestListenSequenceNumber && (e.highestListenSequenceNumber = t.sequenceNumber, n = !0), n }, t.prototype.Si = function(t) { return this.Ei(t).next((function(t) { return t.targetCount })) }, t.prototype.Di = function(t, e) {
                                var n = W(e),
                                    r = IDBKeyRange.bound([n, Number.NEGATIVE_INFINITY], [n, Number.POSITIVE_INFINITY]),
                                    i = null;
                                return cr(t).ei({ range: r, index: Mr.queryTargetsIndexName }, (function(t, n, r) {
                                    var o = Jn(n);
                                    z(e, o.target) && (i = o, r.done())
                                })).next((function() { return i }))
                            }, t.prototype.Ci = function(t, e, n) {
                                var r = this,
                                    i = [],
                                    o = ur(t);
                                return e.forEach((function(e) {
                                    var s = Fn(e.path);
                                    i.push(o.put(new Lr(n, s))), i.push(r.wi.Fi(t, n, e))
                                })), In.Bn(i)
                            }, t.prototype.Ni = function(t, e, n) {
                                var r = this,
                                    i = ur(t);
                                return In.forEach(e, (function(e) { var o = Fn(e.path); return In.Bn([i.delete([n, o]), r.wi.$i(t, n, e)]) }))
                            }, t.prototype.bi = function(t, e) {
                                var n = ur(t),
                                    r = IDBKeyRange.bound([e], [e + 1], !1, !0);
                                return n.delete(r)
                            }, t.prototype.ki = function(t, e) {
                                var n = IDBKeyRange.bound([e], [e + 1], !1, !0),
                                    r = ur(t),
                                    i = dt();
                                return r.ei({ range: n, xi: !0 }, (function(t, e, n) {
                                    var r = Vn(t[1]),
                                        o = new j(r);
                                    i = i.add(o)
                                })).next((function() { return i }))
                            }, t.prototype.Mi = function(t, e) {
                                var n = Fn(e.path),
                                    r = IDBKeyRange.bound([n], [S(n)], !1, !0),
                                    i = 0;
                                return ur(t).ei({ index: Lr.documentTargetsIndex, xi: !0, range: r }, (function(t, e, n) { 0 !== t[0] && (i++, n.done()) })).next((function() { return i > 0 }))
                            }, t.prototype.Me = function(t, e) { return cr(t).get(e).next((function(t) { return t ? Jn(t) : null })) }, t
                        }();

                    function cr(t) { return pr.js(t, Mr.store) }

                    function lr(t) { return pr.js(t, Fr.store) }

                    function ur(t) { return pr.js(t, Lr.store) }
                    var hr = "Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",
                        dr = function(t) {
                            function e(e, n) { var r = this; return (r = t.call(this) || this).Oi = e, r.Li = n, r }
                            return i.__extends(e, t), e
                        }(On),
                        pr = function() {
                            function t(e, n, r, i, o, s, a, c, l, u) {
                                if (this.allowTabSynchronization = e, this.persistenceKey = n, this.clientId = r, this.bs = o, this.window = s, this.document = a, this.Bi = l, this.qi = u, this.Ui = null, this.Qi = !1, this.isPrimary = !1, this.networkEnabled = !0, this.Wi = null, this.inForeground = !1, this.ji = null, this.Ki = null, this.Gi = Number.NEGATIVE_INFINITY, this.zi = function(t) { return Promise.resolve() }, !t.Hi()) throw new O(R.UNIMPLEMENTED, "This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");
                                this.wi = new gr(this, i), this.Yi = n + t.Ji, this.serializer = new zn(c), this.Xi = new ar(this.wi, this.serializer), this.ss = new Hn, this.es = new er(this.serializer, this.ss), this.window && this.window.localStorage ? this.Zi = this.window.localStorage : (this.Zi = null, !1 === u && f("IndexedDbPersistence", "LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))
                            }
                            return t.js = function(t, e) { if (t instanceof dr) return qr.js(t.Oi, e); throw g() }, t.prototype.start = function() { var t = this; return qr.tr(this.Yi, Cr, new xr(this.serializer)).then((function(e) { return t.er = e, t.nr() })).then((function() { if (!t.isPrimary && !t.allowTabSynchronization) throw new O(R.FAILED_PRECONDITION, hr); return t.sr(), t.ir(), t.rr(), t.runTransaction("getHighestListenSequenceNumber", "readonly", (function(e) { return t.Xi.Ai(e) })) })).then((function(e) { t.Ui = new Pn(e, t.Bi) })).then((function() { t.Qi = !0 })).catch((function(e) { return t.er && t.er.close(), Promise.reject(e) })) }, t.prototype.or = function(t) { var e = this; return this.zi = function(n) { return i.__awaiter(e, void 0, void 0, (function() { return i.__generator(this, (function(e) { return this.hr ? [2, t(n)] : [2] })) })) }, t(this.isPrimary) }, t.prototype.ar = function(t) {
                                var e = this;
                                this.er.ur((function(n) {
                                    return i.__awaiter(e, void 0, void 0, (function() {
                                        return i.__generator(this, (function(e) {
                                            switch (e.label) {
                                                case 0:
                                                    return null === n.newVersion ? [4, t()] : [3, 2];
                                                case 1:
                                                    e.sent(), e.label = 2;
                                                case 2:
                                                    return [2]
                                            }
                                        }))
                                    }))
                                }))
                            }, t.prototype.cr = function(t) {
                                var e = this;
                                this.networkEnabled !== t && (this.networkEnabled = t, this.bs.lr((function() {
                                    return i.__awaiter(e, void 0, void 0, (function() {
                                        return i.__generator(this, (function(t) {
                                            switch (t.label) {
                                                case 0:
                                                    return this.hr ? [4, this.nr()] : [3, 2];
                                                case 1:
                                                    t.sent(), t.label = 2;
                                                case 2:
                                                    return [2]
                                            }
                                        }))
                                    }))
                                })))
                            }, t.prototype.nr = function() { var t = this; return this.runTransaction("updateClientMetadataAndTryBecomePrimary", "readwrite", (function(e) { return mr(e).put(new Vr(t.clientId, Date.now(), t.networkEnabled, t.inForeground)).next((function() { if (t.isPrimary) return t._r(e).next((function(e) { e || (t.isPrimary = !1, t.bs.dr((function() { return t.zi(!1) }))) })) })).next((function() { return t.wr(e) })).next((function(n) { return t.isPrimary && !n ? t.Tr(e).next((function() { return !1 })) : !!n && t.Er(e).next((function() { return !0 })) })) })).catch((function(e) { if (zr(e)) return p("IndexedDbPersistence", "Failed to extend owner lease: ", e), t.isPrimary; if (!t.allowTabSynchronization) throw e; return p("IndexedDbPersistence", "Releasing owner lease after error during lease refresh", e), !1 })).then((function(e) { t.isPrimary !== e && t.bs.dr((function() { return t.zi(e) })), t.isPrimary = e })) }, t.prototype._r = function(t) { var e = this; return fr(t).get(kr.key).next((function(t) { return In.resolve(e.Ir(t)) })) }, t.prototype.mr = function(t) { return mr(t).delete(this.clientId) }, t.prototype.Ar = function() {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var e, n, r, o = this;
                                    return i.__generator(this, (function(i) {
                                        switch (i.label) {
                                            case 0:
                                                return !this.isPrimary || this.Rr(this.Gi, 18e5) ? [3, 2] : (this.Gi = Date.now(), [4, this.runTransaction("maybeGarbageCollectMultiClientState", "readwrite-primary", (function(e) {
                                                    var n = t.js(e, Vr.store);
                                                    return n.Ws().next((function(t) {
                                                        var e = o.Pr(t, 18e5),
                                                            r = t.filter((function(t) { return -1 === e.indexOf(t) }));
                                                        return In.forEach(r, (function(t) { return n.delete(t.clientId) })).next((function() { return r }))
                                                    }))
                                                })).catch((function() { return [] }))]);
                                            case 1:
                                                if (e = i.sent(), this.Zi)
                                                    for (n = 0, r = e; n < r.length; n++) this.Zi.removeItem(this.Vr(r[n].clientId));
                                                i.label = 2;
                                            case 2:
                                                return [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.rr = function() {
                                var t = this;
                                this.Ki = this.bs.Os("client_metadata_refresh", 4e3, (function() { return t.nr().then((function() { return t.Ar() })).then((function() { return t.rr() })) }))
                            }, t.prototype.Ir = function(t) { return !!t && t.ownerId === this.clientId }, t.prototype.wr = function(t) { var e = this; return this.qi ? In.resolve(!0) : fr(t).get(kr.key).next((function(n) { if (null !== n && e.Rr(n.leaseTimestampMs, 5e3) && !e.gr(n.ownerId)) { if (e.Ir(n) && e.networkEnabled) return !0; if (!e.Ir(n)) { if (!n.allowTabSynchronization) throw new O(R.FAILED_PRECONDITION, hr); return !1 } } return !(!e.networkEnabled || !e.inForeground) || mr(t).Ws().next((function(t) { return void 0 === e.Pr(t, 5e3).find((function(t) { return !(e.clientId === t.clientId || !(!e.networkEnabled && t.networkEnabled || !e.inForeground && t.inForeground && e.networkEnabled === t.networkEnabled)) })) })) })).next((function(t) { return e.isPrimary !== t && p("IndexedDbPersistence", "Client " + (t ? "is" : "is not") + " eligible for a primary lease."), t })) }, t.prototype.yr = function() {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var t = this;
                                    return i.__generator(this, (function(e) {
                                        switch (e.label) {
                                            case 0:
                                                return this.Qi = !1, this.pr(), this.Ki && (this.Ki.cancel(), this.Ki = null), this.br(), this.vr(), [4, this.runTransaction("shutdown", "readwrite", (function(e) { return t.Tr(e).next((function() { return t.mr(e) })) })).catch((function(t) { p("IndexedDbPersistence", "Proceeding with shutdown despite failure: ", t) }))];
                                            case 1:
                                                return e.sent(), this.er.close(), this.Sr(), [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.Pr = function(t, e) { var n = this; return t.filter((function(t) { return n.Rr(t.updateTimeMs, e) && !n.gr(t.clientId) })) }, t.prototype.Dr = function() { var t = this; return this.runTransaction("getActiveClients", "readonly", (function(e) { return mr(e).Ws().next((function(e) { return t.Pr(e, 18e5).map((function(t) { return t.clientId })) })) })) }, t.clearPersistence = function(e) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    return i.__generator(this, (function(n) {
                                        switch (n.label) {
                                            case 0:
                                                return t.Hi() ? [4, qr.delete(e + t.Ji)] : [2, Promise.resolve()];
                                            case 1:
                                                return n.sent(), [2]
                                        }
                                    }))
                                }))
                            }, Object.defineProperty(t.prototype, "hr", { get: function() { return this.Qi }, enumerable: !1, configurable: !0 }), t.prototype.Cr = function(t) { return vr.Fr(t, this.serializer, this.ss, this.wi) }, t.prototype.Nr = function() { return this.Xi }, t.prototype.$r = function() { return this.es }, t.prototype.kr = function() { return this.ss }, t.prototype.runTransaction = function(t, e, n) { var r, i = this; return p("IndexedDbPersistence", "Starting transaction:", t), this.er.runTransaction("readonly" === e ? "readonly" : "readwrite", Br, (function(o) { return r = new dr(o, i.Ui ? i.Ui.next() : Pn.ps), "readwrite-primary" === e ? i._r(r).next((function(t) { return !!t || i.wr(r) })).next((function(e) { if (!e) throw f("Failed to obtain primary lease for action '" + t + "'."), i.isPrimary = !1, i.bs.dr((function() { return i.zi(!1) })), new O(R.FAILED_PRECONDITION, Rn); return n(r) })).next((function(t) { return i.Er(r).next((function() { return t })) })) : i.xr(r).next((function() { return n(r) })) })).then((function(t) { return r.ts(), t })) }, t.prototype.xr = function(t) { var e = this; return fr(t).get(kr.key).next((function(t) { if (null !== t && e.Rr(t.leaseTimestampMs, 5e3) && !e.gr(t.ownerId) && !e.Ir(t) && !(e.qi || e.allowTabSynchronization && t.allowTabSynchronization)) throw new O(R.FAILED_PRECONDITION, hr) })) }, t.prototype.Er = function(t) { var e = new kr(this.clientId, this.allowTabSynchronization, Date.now()); return fr(t).put(kr.key, e) }, t.Hi = function() { return qr.Hi() }, t.Mr = function(t) { var e = t.s.projectId; return t.s.i || (e += "." + t.s.database), "firestore/" + t.persistenceKey + "/" + e + "/" }, t.prototype.Tr = function(t) {
                                var e = this,
                                    n = fr(t);
                                return n.get(kr.key).next((function(t) { return e.Ir(t) ? (p("IndexedDbPersistence", "Releasing primary lease."), n.delete(kr.key)) : In.resolve() }))
                            }, t.prototype.Rr = function(t, e) { var n = Date.now(); return !(t < n - e || t > n && (f("Detected an update time that is in the future: " + t + " > " + n), 1)) }, t.prototype.sr = function() {
                                var t = this;
                                null !== this.document && "function" == typeof this.document.addEventListener && (this.ji = function() { t.bs.lr((function() { return t.inForeground = "visible" === t.document.visibilityState, t.nr() })) }, this.document.addEventListener("visibilitychange", this.ji), this.inForeground = "visible" === this.document.visibilityState)
                            }, t.prototype.br = function() { this.ji && (this.document.removeEventListener("visibilitychange", this.ji), this.ji = null) }, t.prototype.ir = function() { var t, e = this; "function" == typeof(null === (t = this.window) || void 0 === t ? void 0 : t.addEventListener) && (this.Wi = function() { e.pr(), e.bs.lr((function() { return e.yr() })) }, this.window.addEventListener("unload", this.Wi)) }, t.prototype.vr = function() { this.Wi && (this.window.removeEventListener("unload", this.Wi), this.Wi = null) }, t.prototype.gr = function(t) { var e; try { var n = null !== (null === (e = this.Zi) || void 0 === e ? void 0 : e.getItem(this.Vr(t))); return p("IndexedDbPersistence", "Client '" + t + "' " + (n ? "is" : "is not") + " zombied in LocalStorage"), n } catch (t) { return f("IndexedDbPersistence", "Failed to get zombied client id.", t), !1 } }, t.prototype.pr = function() { if (this.Zi) try { this.Zi.setItem(this.Vr(this.clientId), String(Date.now())) } catch (t) { f("Failed to set zombie client id.", t) } }, t.prototype.Sr = function() { if (this.Zi) try { this.Zi.removeItem(this.Vr(this.clientId)) } catch (t) {} }, t.prototype.Vr = function(t) { return "firestore_zombie_" + this.persistenceKey + "_" + t }, t
                        }();

                    function fr(t) { return pr.js(t, kr.store) }

                    function mr(t) { return pr.js(t, Vr.store) }
                    pr.Ji = "main";
                    var gr = function() {
                        function t(t, e) { this.db = t, this.Or = new si(this, e) }
                        return t.prototype.Lr = function(t) { var e = this.Br(t); return this.db.Nr().Si(t).next((function(t) { return e.next((function(e) { return t + e })) })) }, t.prototype.Br = function(t) { var e = 0; return this.qr(t, (function(t) { e++ })).next((function() { return e })) }, t.prototype.pe = function(t, e) { return this.db.Nr().pe(t, e) }, t.prototype.qr = function(t, e) { return this.Ur(t, (function(t, n) { return e(n) })) }, t.prototype.Fi = function(t, e, n) { return yr(t, n) }, t.prototype.$i = function(t, e, n) { return yr(t, n) }, t.prototype.vi = function(t, e, n) { return this.db.Nr().vi(t, e, n) }, t.prototype.Qr = function(t, e) { return yr(t, e) }, t.prototype.Wr = function(t, e) { return function(t, e) { var n = !1; return Sr(t).jr((function(r) { return _r(t, r, e).next((function(t) { return t && (n = !0), In.resolve(!t) })) })).next((function() { return n })) }(t, e) }, t.prototype.Kr = function(t, e) {
                            var n = this,
                                r = this.db.$r().oi(),
                                i = [],
                                o = 0;
                            return this.Ur(t, (function(s, a) {
                                if (a <= e) {
                                    var c = n.Wr(t, s).next((function(e) { if (!e) return o++, r.zn(t, s).next((function() { return r.Gn(s), ur(t).delete([0, Fn(s.path)]) })) }));
                                    i.push(c)
                                }
                            })).next((function() { return In.Bn(i) })).next((function() { return r.apply(t) })).next((function() { return o }))
                        }, t.prototype.removeTarget = function(t, e) { var n = e.Z(t.Li); return this.db.Nr().yi(t, n) }, t.prototype.Gr = function(t, e) { return yr(t, e) }, t.prototype.Ur = function(t, e) {
                            var n, r = ur(t),
                                i = Pn.ps;
                            return r.ei({ index: Lr.documentTargetsIndex }, (function(t, r) {
                                var o = r.path,
                                    s = r.sequenceNumber;
                                0 === t[0] ? (i !== Pn.ps && e(new j(Vn(n)), i), i = s, n = o) : i = Pn.ps
                            })).next((function() { i !== Pn.ps && e(new j(Vn(n)), i) }))
                        }, t.prototype.zr = function(t) { return this.db.$r().ui(t) }, t
                    }();

                    function yr(t, e) { return ur(t).put(function(t, e) { return new Lr(0, Fn(t.path), e) }(e, t.Li)) }
                    var vr = function() {
                        function t(t, e, n, r) { this.userId = t, this.serializer = e, this.ss = n, this.wi = r, this.Hr = {} }
                        return t.Fr = function(e, n, r, i) { return y("" !== e.uid), new t(e.Yr() ? e.uid : "", n, r, i) }, t.prototype.Jr = function(t) {
                            var e = !0,
                                n = IDBKeyRange.bound([this.userId, Number.NEGATIVE_INFINITY], [this.userId, Number.POSITIVE_INFINITY]);
                            return wr(t).ei({ index: Ar.userMutationsIndex, range: n }, (function(t, n, r) { e = !1, r.done() })).next((function() { return e }))
                        }, t.prototype.Xr = function(t, e, n, r) {
                            var i = this,
                                o = Er(t),
                                s = wr(t);
                            return s.add({}).next((function(a) {
                                y("number" == typeof a);
                                for (var c = new Tn(a, e, n, r), l = function(t, e, n) {
                                        var r = n.baseMutations.map((function(e) { return ue(t.Ks, e) })),
                                            i = n.mutations.map((function(e) { return ue(t.Ks, e) }));
                                        return new Ar(e, n.batchId, n.yn.toMillis(), r, i)
                                    }(i.serializer, i.userId, c), u = [], h = new rt((function(t, e) { return w(t.N(), e.N()) })), d = 0, p = r; d < p.length; d++) {
                                    var f = p[d],
                                        m = Rr.key(i.userId, f.key.path, a);
                                    h = h.add(f.key.path.p()), u.push(s.put(l)), u.push(o.put(m, Rr.PLACEHOLDER))
                                }
                                return h.forEach((function(e) { u.push(i.ss.Us(t, e)) })), t.Zn((function() { i.Hr[a] = c.keys() })), In.Bn(u).next((function() { return c }))
                            }))
                        }, t.prototype.Zr = function(t, e) { var n = this; return wr(t).get(e).next((function(t) { return t ? (y(t.userId === n.userId), Zn(n.serializer, t)) : null })) }, t.prototype.to = function(t, e) { var n = this; return this.Hr[e] ? In.resolve(this.Hr[e]) : this.Zr(t, e).next((function(t) { if (t) { var r = t.keys(); return n.Hr[e] = r, r } return null })) }, t.prototype.eo = function(t, e) {
                            var n = this,
                                r = e + 1,
                                i = IDBKeyRange.lowerBound([this.userId, r]),
                                o = null;
                            return wr(t).ei({ index: Ar.userMutationsIndex, range: i }, (function(t, e, i) { e.userId === n.userId && (y(e.batchId >= r), o = Zn(n.serializer, e)), i.done() })).next((function() { return o }))
                        }, t.prototype.no = function(t) {
                            var e = IDBKeyRange.upperBound([this.userId, Number.POSITIVE_INFINITY]),
                                n = -1;
                            return wr(t).ei({ index: Ar.userMutationsIndex, range: e, reverse: !0 }, (function(t, e, r) { n = e.batchId, r.done() })).next((function() { return n }))
                        }, t.prototype.so = function(t) {
                            var e = this,
                                n = IDBKeyRange.bound([this.userId, -1], [this.userId, Number.POSITIVE_INFINITY]);
                            return wr(t).Ws(Ar.userMutationsIndex, n).next((function(t) { return t.map((function(t) { return Zn(e.serializer, t) })) }))
                        }, t.prototype.os = function(t, e) {
                            var n = this,
                                r = Rr.prefixForPath(this.userId, e.path),
                                i = IDBKeyRange.lowerBound(r),
                                o = [];
                            return Er(t).ei({ range: i }, (function(r, i, s) {
                                var a = r[0],
                                    c = r[2],
                                    l = Vn(r[1]);
                                if (a === n.userId && e.path.isEqual(l)) return wr(t).get(c).next((function(t) {
                                    if (!t) throw g();
                                    y(t.userId === n.userId), o.push(Zn(n.serializer, t))
                                }));
                                s.done()
                            })).next((function() { return o }))
                        }, t.prototype.ls = function(t, e) {
                            var n = this,
                                r = new rt(w),
                                i = [];
                            return e.forEach((function(e) {
                                var o = Rr.prefixForPath(n.userId, e.path),
                                    s = IDBKeyRange.lowerBound(o),
                                    a = Er(t).ei({ range: s }, (function(t, i, o) {
                                        var s = t[0],
                                            a = t[2],
                                            c = Vn(t[1]);
                                        s === n.userId && e.path.isEqual(c) ? r = r.add(a) : o.done()
                                    }));
                                i.push(a)
                            })), In.Bn(i).next((function() { return n.io(t, r) }))
                        }, t.prototype.Es = function(t, e) {
                            var n = this,
                                r = e.path,
                                i = r.length + 1,
                                o = Rr.prefixForPath(this.userId, r),
                                s = IDBKeyRange.lowerBound(o),
                                a = new rt(w);
                            return Er(t).ei({ range: s }, (function(t, e, o) {
                                var s = t[0],
                                    c = t[2],
                                    l = Vn(t[1]);
                                s === n.userId && r.D(l) ? l.length === i && (a = a.add(c)) : o.done()
                            })).next((function() { return n.io(t, a) }))
                        }, t.prototype.io = function(t, e) {
                            var n = this,
                                r = [],
                                i = [];
                            return e.forEach((function(e) {
                                i.push(wr(t).get(e).next((function(t) {
                                    if (null === t) throw g();
                                    y(t.userId === n.userId), r.push(Zn(n.serializer, t))
                                })))
                            })), In.Bn(i).next((function() { return r }))
                        }, t.prototype.ro = function(t, e) { var n = this; return br(t.Oi, this.userId, e).next((function(r) { return t.Zn((function() { n.oo(e.batchId) })), In.forEach(r, (function(e) { return n.wi.Qr(t, e) })) })) }, t.prototype.oo = function(t) { delete this.Hr[t] }, t.prototype.ho = function(t) {
                            var e = this;
                            return this.Jr(t).next((function(n) {
                                if (!n) return In.resolve();
                                var r = IDBKeyRange.lowerBound(Rr.prefixForUser(e.userId)),
                                    i = [];
                                return Er(t).ei({ range: r }, (function(t, n, r) {
                                    if (t[0] === e.userId) {
                                        var o = Vn(t[1]);
                                        i.push(o)
                                    } else r.done()
                                })).next((function() { y(0 === i.length) }))
                            }))
                        }, t.prototype.Mi = function(t, e) { return _r(t, this.userId, e) }, t.prototype.ao = function(t) { var e = this; return Sr(t).get(this.userId).next((function(t) { return t || new Ir(e.userId, -1, "") })) }, t
                    }();

                    function _r(t, e, n) {
                        var r = Rr.prefixForPath(e, n.path),
                            i = r[1],
                            o = IDBKeyRange.lowerBound(r),
                            s = !1;
                        return Er(t).ei({ range: o, xi: !0 }, (function(t, n, r) { t[0] === e && t[1] === i && (s = !0), r.done() })).next((function() { return s }))
                    }

                    function br(t, e, n) {
                        var r = t.store(Ar.store),
                            i = t.store(Rr.store),
                            o = [],
                            s = IDBKeyRange.only(n.batchId),
                            a = 0,
                            c = r.ei({ range: s }, (function(t, e, n) { return a++, n.delete() }));
                        o.push(c.next((function() { y(1 === a) })));
                        for (var l = [], u = 0, h = n.mutations; u < h.length; u++) {
                            var d = h[u],
                                p = Rr.key(e, d.key.path, n.batchId);
                            o.push(i.delete(p)), l.push(d.key)
                        }
                        return In.Bn(o).next((function() { return l }))
                    }

                    function wr(t) { return pr.js(t, Ar.store) }

                    function Er(t) { return pr.js(t, Rr.store) }

                    function Sr(t) { return pr.js(t, Ir.store) }
                    var Cr = 10,
                        xr = function() {
                            function t(t) { this.serializer = t }
                            return t.prototype.createOrUpgrade = function(t, e, n, r) {
                                var i = this;
                                y(n < r && n >= 0 && r <= Cr);
                                var o = new Gr(e);
                                n < 1 && r >= 1 && (function(t) { t.createObjectStore(kr.store) }(t), function(t) { t.createObjectStore(Ir.store, { keyPath: Ir.keyPath }), t.createObjectStore(Ar.store, { keyPath: Ar.keyPath, autoIncrement: !0 }).createIndex(Ar.userMutationsIndex, Ar.userMutationsKeyPath, { unique: !0 }), t.createObjectStore(Rr.store) }(t), Ur(t), function(t) { t.createObjectStore(Dr.store) }(t));
                                var s = In.resolve();
                                return n < 3 && r >= 3 && (0 !== n && (function(t) { t.deleteObjectStore(Lr.store), t.deleteObjectStore(Mr.store), t.deleteObjectStore(Fr.store) }(t), Ur(t)), s = s.next((function() {
                                    return function(t) {
                                        var e = t.store(Fr.store),
                                            n = new Fr(0, 0, D.min().A(), 0);
                                        return e.put(Fr.key, n)
                                    }(o)
                                }))), n < 4 && r >= 4 && (0 !== n && (s = s.next((function() {
                                    return function(t, e) {
                                        return e.store(Ar.store).Ws().next((function(n) {
                                            t.deleteObjectStore(Ar.store), t.createObjectStore(Ar.store, { keyPath: Ar.keyPath, autoIncrement: !0 }).createIndex(Ar.userMutationsIndex, Ar.userMutationsKeyPath, { unique: !0 });
                                            var r = e.store(Ar.store),
                                                i = n.map((function(t) { return r.put(t) }));
                                            return In.Bn(i)
                                        }))
                                    }(t, o)
                                }))), s = s.next((function() {! function(t) { t.createObjectStore(Vr.store, { keyPath: Vr.keyPath }) }(t) }))), n < 5 && r >= 5 && (s = s.next((function() { return i.removeAcknowledgedMutations(o) }))), n < 6 && r >= 6 && (s = s.next((function() { return function(t) { t.createObjectStore(Pr.store) }(t), i.addDocumentGlobal(o) }))), n < 7 && r >= 7 && (s = s.next((function() { return i.ensureSequenceNumbers(o) }))), n < 8 && r >= 8 && (s = s.next((function() { return i.createCollectionParentIndex(t, o) }))), n < 9 && r >= 9 && (s = s.next((function() {
                                    ! function(t) { t.objectStoreNames.contains("remoteDocumentChanges") && t.deleteObjectStore("remoteDocumentChanges") }(t),
                                    function(t) {
                                        var e = t.objectStore(Dr.store);
                                        e.createIndex(Dr.readTimeIndex, Dr.readTimeIndexPath, { unique: !1 }), e.createIndex(Dr.collectionReadTimeIndex, Dr.collectionReadTimeIndexPath, { unique: !1 })
                                    }(e)
                                }))), n < 10 && r >= 10 && (s = s.next((function() { return i.rewriteCanonicalIds(o) }))), s
                            }, t.prototype.addDocumentGlobal = function(t) { var e = 0; return t.store(Dr.store).ei((function(t, n) { e += or(n) })).next((function() { var n = new Pr(e); return t.store(Pr.store).put(Pr.key, n) })) }, t.prototype.removeAcknowledgedMutations = function(t) {
                                var e = this,
                                    n = t.store(Ir.store),
                                    r = t.store(Ar.store);
                                return n.Ws().next((function(n) { return In.forEach(n, (function(n) { var i = IDBKeyRange.bound([n.userId, -1], [n.userId, n.lastAcknowledgedBatchId]); return r.Ws(Ar.userMutationsIndex, i).next((function(r) { return In.forEach(r, (function(r) { y(r.userId === n.userId); var i = Zn(e.serializer, r); return br(t, n.userId, i).next((function() {})) })) })) })) }))
                            }, t.prototype.ensureSequenceNumbers = function(t) {
                                var e = t.store(Lr.store),
                                    n = t.store(Dr.store);
                                return t.store(Fr.store).get(Fr.key).next((function(t) {
                                    var r = [];
                                    return n.ei((function(n, i) {
                                        var o = new M(n),
                                            s = function(t) { return [0, Fn(t)] }(o);
                                        r.push(e.get(s).next((function(n) { return n ? In.resolve() : function(n) { return e.put(new Lr(0, Fn(n), t.highestListenSequenceNumber)) }(o) })))
                                    })).next((function() { return In.Bn(r) }))
                                }))
                            }, t.prototype.createCollectionParentIndex = function(t, e) {
                                t.createObjectStore(jr.store, { keyPath: jr.keyPath });
                                var n = e.store(jr.store),
                                    r = new qn,
                                    i = function(t) {
                                        if (r.add(t)) {
                                            var e = t.S(),
                                                i = t.p();
                                            return n.put({ collectionId: e, parent: Fn(i) })
                                        }
                                    };
                                return e.store(Dr.store).ei({ xi: !0 }, (function(t, e) { var n = new M(t); return i(n.p()) })).next((function() { return e.store(Rr.store).ei({ xi: !0 }, (function(t, e) { var n = Vn(t[1]); return i(n.p()) })) }))
                            }, t.prototype.rewriteCanonicalIds = function(t) {
                                var e = this,
                                    n = t.store(Mr.store);
                                return n.ei((function(t, r) {
                                    var i = Jn(r),
                                        o = tr(e.serializer, i);
                                    return n.put(o)
                                }))
                            }, t
                        }(),
                        Tr = function(t, e) { this.seconds = t, this.nanoseconds = e },
                        kr = function(t, e, n) { this.ownerId = t, this.allowTabSynchronization = e, this.leaseTimestampMs = n };
                    kr.store = "owner", kr.key = "owner";
                    var Ir = function(t, e, n) { this.userId = t, this.lastAcknowledgedBatchId = e, this.lastStreamToken = n };
                    Ir.store = "mutationQueues", Ir.keyPath = "userId";
                    var Ar = function(t, e, n, r, i) { this.userId = t, this.batchId = e, this.localWriteTimeMs = n, this.baseMutations = r, this.mutations = i };
                    Ar.store = "mutations", Ar.keyPath = "batchId", Ar.userMutationsIndex = "userMutationsIndex", Ar.userMutationsKeyPath = ["userId", "batchId"];
                    var Rr = function() {
                        function t() {}
                        return t.prefixForUser = function(t) { return [t] }, t.prefixForPath = function(t, e) { return [t, Fn(e)] }, t.key = function(t, e, n) { return [t, Fn(e), n] }, t
                    }();
                    Rr.store = "documentMutations", Rr.PLACEHOLDER = new Rr;
                    var Or = function(t, e) { this.path = t, this.readTime = e },
                        Nr = function(t, e) { this.path = t, this.version = e },
                        Dr = function(t, e, n, r, i, o) { this.unknownDocument = t, this.noDocument = e, this.document = n, this.hasCommittedMutations = r, this.readTime = i, this.parentPath = o };
                    Dr.store = "remoteDocuments", Dr.readTimeIndex = "readTimeIndex", Dr.readTimeIndexPath = "readTime", Dr.collectionReadTimeIndex = "collectionReadTimeIndex", Dr.collectionReadTimeIndexPath = ["parentPath", "readTime"];
                    var Pr = function(t) { this.byteSize = t };
                    Pr.store = "remoteDocumentGlobal", Pr.key = "remoteDocumentGlobalKey";
                    var Mr = function(t, e, n, r, i, o, s) { this.targetId = t, this.canonicalId = e, this.readTime = n, this.resumeToken = r, this.lastListenSequenceNumber = i, this.lastLimboFreeSnapshotVersion = o, this.query = s };
                    Mr.store = "targets", Mr.keyPath = "targetId", Mr.queryTargetsIndexName = "queryTargetsIndex", Mr.queryTargetsKeyPath = ["canonicalId", "targetId"];
                    var Lr = function(t, e, n) { this.targetId = t, this.path = e, this.sequenceNumber = n };
                    Lr.store = "targetDocuments", Lr.keyPath = ["targetId", "path"], Lr.documentTargetsIndex = "documentTargetsIndex", Lr.documentTargetsKeyPath = ["path", "targetId"];
                    var Fr = function(t, e, n, r) { this.highestTargetId = t, this.highestListenSequenceNumber = e, this.lastRemoteSnapshotVersion = n, this.targetCount = r };
                    Fr.key = "targetGlobalKey", Fr.store = "targetGlobal";
                    var jr = function(t, e) { this.collectionId = t, this.parent = e };

                    function Ur(t) { t.createObjectStore(Lr.store, { keyPath: Lr.keyPath }).createIndex(Lr.documentTargetsIndex, Lr.documentTargetsKeyPath, { unique: !0 }), t.createObjectStore(Mr.store, { keyPath: Mr.keyPath }).createIndex(Mr.queryTargetsIndexName, Mr.queryTargetsKeyPath, { unique: !0 }), t.createObjectStore(Fr.store) }
                    jr.store = "collectionParents", jr.keyPath = ["collectionId", "parent"];
                    var Vr = function(t, e, n, r) { this.clientId = t, this.updateTimeMs = e, this.networkEnabled = n, this.inForeground = r };
                    Vr.store = "clientMetadata", Vr.keyPath = "clientId";
                    var Br = i.__spreadArrays(i.__spreadArrays(i.__spreadArrays([Ir.store, Ar.store, Rr.store, Dr.store, Mr.store, kr.store, Fr.store, Lr.store], [Vr.store]), [Pr.store]), [jr.store]),
                        qr = function() {
                            function t(e) { this.db = e, 12.2 === t.uo(a.getUA()) && f("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.") }
                            return t.tr = function(e, n, r) {
                                return p("SimpleDb", "Opening database:", e), new In((function(i, o) {
                                    var s = indexedDB.open(e, n);
                                    s.onsuccess = function(e) { i(new t(e.target.result)) }, s.onblocked = function() { o(new O(R.FAILED_PRECONDITION, "Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed.")) }, s.onerror = function(t) {
                                        var e = t.target.error;
                                        o("VersionError" === e.name ? new O(R.FAILED_PRECONDITION, "A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.") : e)
                                    }, s.onupgradeneeded = function(t) { p("SimpleDb", 'Database "' + e + '" requires upgrade from version:', t.oldVersion), r.createOrUpgrade(t.target.result, s.transaction, t.oldVersion, Cr).next((function() { p("SimpleDb", "Database upgrade to version " + Cr + " complete") })) }
                                })).On()
                            }, t.delete = function(t) { return p("SimpleDb", "Removing database:", t), Kr(window.indexedDB.deleteDatabase(t)).On() }, t.Hi = function() {
                                if ("undefined" == typeof indexedDB) return !1;
                                if (t.co()) return !0;
                                var e = a.getUA(),
                                    n = t.uo(e),
                                    r = 0 < n && n < 10,
                                    i = t.lo(e),
                                    o = 0 < i && i < 4.5;
                                return !(e.indexOf("MSIE ") > 0 || e.indexOf("Trident/") > 0 || e.indexOf("Edge/") > 0 || r || o)
                            }, t.co = function() { var t; return "undefined" != typeof process && "YES" === (null === (t = process.env) || void 0 === t ? void 0 : t._o) }, t.js = function(t, e) { return t.store(e) }, t.uo = function(t) {
                                var e = t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),
                                    n = e ? e[1].split("_").slice(0, 2).join(".") : "-1";
                                return Number(n)
                            }, t.lo = function(t) {
                                var e = t.match(/Android ([\d.]+)/i),
                                    n = e ? e[1].split(".").slice(0, 2).join(".") : "-1";
                                return Number(n)
                            }, t.prototype.ur = function(t) { this.db.onversionchange = function(e) { return t(e) } }, t.prototype.runTransaction = function(t, e, n) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var r, o, s, a, c;
                                    return i.__generator(this, (function(l) {
                                        switch (l.label) {
                                            case 0:
                                                r = "readonly" === t, o = 0, s = function() {
                                                    var t, s, c, l, u;
                                                    return i.__generator(this, (function(i) {
                                                        switch (i.label) {
                                                            case 0:
                                                                ++o, t = Gr.open(a.db, r ? "readonly" : "readwrite", e), i.label = 1;
                                                            case 1:
                                                                return i.trys.push([1, 3, , 4]), s = n(t).catch((function(e) { return t.abort(e), In.reject(e) })).On(), c = {}, s.catch((function() {})), [4, t.fo];
                                                            case 2:
                                                                return [2, (c.value = (i.sent(), s), c)];
                                                            case 3:
                                                                return p("SimpleDb", "Transaction failed with error: %s. Retrying: %s.", (l = i.sent()).message, u = "FirebaseError" !== l.name && o < 3), u ? [3, 4] : [2, { value: Promise.reject(l) }];
                                                            case 4:
                                                                return [2]
                                                        }
                                                    }))
                                                }, a = this, l.label = 1;
                                            case 1:
                                                return [5, s()];
                                            case 2:
                                                if ("object" == typeof(c = l.sent())) return [2, c.value];
                                                l.label = 3;
                                            case 3:
                                                return [3, 1];
                                            case 4:
                                                return [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.close = function() { this.db.close() }, t
                        }(),
                        Hr = function() {
                            function t(t) { this.do = t, this.wo = !1, this.To = null }
                            return Object.defineProperty(t.prototype, "$n", { get: function() { return this.wo }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, "Eo", { get: function() { return this.To }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, "cursor", { set: function(t) { this.do = t }, enumerable: !1, configurable: !0 }), t.prototype.done = function() { this.wo = !0 }, t.prototype.ni = function(t) { this.To = t }, t.prototype.delete = function() { return Kr(this.do.delete()) }, t
                        }(),
                        Wr = function(t) {
                            function e(e) { var n = this; return (n = t.call(this, R.UNAVAILABLE, "IndexedDB transaction failed: " + e) || this).name = "IndexedDbTransactionError", n }
                            return i.__extends(e, t), e
                        }(O);

                    function zr(t) { return "IndexedDbTransactionError" === t.name }
                    var Gr = function() {
                            function t(t) {
                                var e = this;
                                this.transaction = t, this.aborted = !1, this.Io = new Mn, this.transaction.oncomplete = function() { e.Io.resolve() }, this.transaction.onabort = function() { t.error ? e.Io.reject(new Wr(t.error)) : e.Io.resolve() }, this.transaction.onerror = function(t) {
                                    var n = Xr(t.target.error);
                                    e.Io.reject(new Wr(n))
                                }
                            }
                            return t.open = function(e, n, r) { return new t(e.transaction(r, n)) }, Object.defineProperty(t.prototype, "fo", { get: function() { return this.Io.promise }, enumerable: !1, configurable: !0 }), t.prototype.abort = function(t) { t && this.Io.reject(t), this.aborted || (p("SimpleDb", "Aborting transaction:", t ? t.message : "Client-initiated abort"), this.aborted = !0, this.transaction.abort()) }, t.prototype.store = function(t) { var e = this.transaction.objectStore(t); return new $r(e) }, t
                        }(),
                        $r = function() {
                            function t(t) { this.store = t }
                            return t.prototype.put = function(t, e) { var n; return void 0 !== e ? (p("SimpleDb", "PUT", this.store.name, t, e), n = this.store.put(e, t)) : (p("SimpleDb", "PUT", this.store.name, "<auto-key>", t), n = this.store.put(t)), Kr(n) }, t.prototype.add = function(t) { return p("SimpleDb", "ADD", this.store.name, t, t), Kr(this.store.add(t)) }, t.prototype.get = function(t) { var e = this; return Kr(this.store.get(t)).next((function(n) { return void 0 === n && (n = null), p("SimpleDb", "GET", e.store.name, t, n), n })) }, t.prototype.delete = function(t) { return p("SimpleDb", "DELETE", this.store.name, t), Kr(this.store.delete(t)) }, t.prototype.count = function() { return p("SimpleDb", "COUNT", this.store.name), Kr(this.store.count()) }, t.prototype.Ws = function(t, e) {
                                var n = this.cursor(this.options(t, e)),
                                    r = [];
                                return this.mo(n, (function(t, e) { r.push(e) })).next((function() { return r }))
                            }, t.prototype.Ao = function(t, e) {
                                p("SimpleDb", "DELETE ALL", this.store.name);
                                var n = this.options(t, e);
                                n.xi = !1;
                                var r = this.cursor(n);
                                return this.mo(r, (function(t, e, n) { return n.delete() }))
                            }, t.prototype.ei = function(t, e) {
                                var n;
                                e ? n = t : (n = {}, e = t);
                                var r = this.cursor(n);
                                return this.mo(r, e)
                            }, t.prototype.jr = function(t) {
                                var e = this.cursor({});
                                return new In((function(n, r) {
                                    e.onerror = function(t) {
                                        var e = Xr(t.target.error);
                                        r(e)
                                    }, e.onsuccess = function(e) {
                                        var r = e.target.result;
                                        r ? t(r.primaryKey, r.value).next((function(t) { t ? r.continue() : n() })) : n()
                                    }
                                }))
                            }, t.prototype.mo = function(t, e) {
                                var n = [];
                                return new In((function(r, i) {
                                    t.onerror = function(t) { i(t.target.error) }, t.onsuccess = function(t) {
                                        var i = t.target.result;
                                        if (i) {
                                            var o = new Hr(i),
                                                s = e(i.primaryKey, i.value, o);
                                            if (s instanceof In) {
                                                var a = s.catch((function(t) { return o.done(), In.reject(t) }));
                                                n.push(a)
                                            }
                                            o.$n ? r() : null === o.Eo ? i.continue() : i.continue(o.Eo)
                                        } else r()
                                    }
                                })).next((function() { return In.Bn(n) }))
                            }, t.prototype.options = function(t, e) { var n = void 0; return void 0 !== t && ("string" == typeof t ? n = t : e = t), { index: n, range: e } }, t.prototype.cursor = function(t) { var e = "next"; if (t.reverse && (e = "prev"), t.index) { var n = this.store.index(t.index); return t.xi ? n.openKeyCursor(t.range, e) : n.openCursor(t.range, e) } return this.store.openCursor(t.range, e) }, t
                        }();

                    function Kr(t) {
                        return new In((function(e, n) {
                            t.onsuccess = function(t) { e(t.target.result) }, t.onerror = function(t) {
                                var e = Xr(t.target.error);
                                n(e)
                            }
                        }))
                    }
                    var Yr = !1;

                    function Xr(t) { var e = qr.uo(a.getUA()); if (e >= 12.2 && e < 13) { var n = "An internal error was encountered in the Indexed Database server"; if (t.message.indexOf(n) >= 0) { var r = new O("internal", "IOS_INDEXEDDB_BUG1: IndexedDb has thrown '" + n + "'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."); return Yr || (Yr = !0, setTimeout((function() { throw r }), 0)), r } } return t }

                    function Qr() { return "undefined" != typeof window ? window : null }
                    var Zr = function() {
                            function t(t, e, n, r, i) { this.Ro = t, this.vs = e, this.Po = n, this.op = r, this.Vo = i, this.yo = new Mn, this.then = this.yo.promise.then.bind(this.yo.promise), this.yo.promise.catch((function(t) {})) }
                            return t.po = function(e, n, r, i, o) { var s = new t(e, n, Date.now() + r, i, o); return s.start(r), s }, t.prototype.start = function(t) {
                                var e = this;
                                this.bo = setTimeout((function() { return e.vo() }), t)
                            }, t.prototype.Bs = function() { return this.vo() }, t.prototype.cancel = function(t) { null !== this.bo && (this.clearTimeout(), this.yo.reject(new O(R.CANCELLED, "Operation cancelled" + (t ? ": " + t : "")))) }, t.prototype.vo = function() {
                                var t = this;
                                this.Ro.lr((function() { return null !== t.bo ? (t.clearTimeout(), t.op().then((function(e) { return t.yo.resolve(e) }))) : Promise.resolve() }))
                            }, t.prototype.clearTimeout = function() { null !== this.bo && (this.Vo(this), clearTimeout(this.bo), this.bo = null) }, t
                        }(),
                        Jr = function() {
                            function t() {
                                var t = this;
                                this.So = Promise.resolve(), this.Do = [], this.Co = !1, this.Fo = [], this.No = null, this.$o = !1, this.ko = [], this.xo = new Ln(this, "async_queue_retry"), this.Mo = function() { return t.xo.Ls() };
                                var e = Qr();
                                e && "function" == typeof e.addEventListener && e.addEventListener("visibilitychange", this.Mo)
                            }
                            return Object.defineProperty(t.prototype, "Oo", { get: function() { return this.Co }, enumerable: !1, configurable: !0 }), t.prototype.lr = function(t) { this.enqueue(t) }, t.prototype.Lo = function(t) { this.Bo(), this.qo(t) }, t.prototype.Uo = function(t) { return this.Bo(), this.qo(t) }, t.prototype.Qo = function(t) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var e;
                                    return i.__generator(this, (function(n) {
                                        switch (n.label) {
                                            case 0:
                                                return this.Bo(), this.Co ? [3, 2] : (this.Co = !0, (e = Qr()) && e.removeEventListener("visibilitychange", this.Mo), [4, this.Uo(t)]);
                                            case 1:
                                                n.sent(), n.label = 2;
                                            case 2:
                                                return [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.enqueue = function(t) { return this.Bo(), this.Co ? new Promise((function(t) {})) : this.qo(t) }, t.prototype.dr = function(t) {
                                var e = this;
                                this.Do.push(t), this.lr((function() { return e.Wo() }))
                            }, t.prototype.Wo = function() {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var t, e = this;
                                    return i.__generator(this, (function(n) {
                                        switch (n.label) {
                                            case 0:
                                                if (0 === this.Do.length) return [3, 5];
                                                n.label = 1;
                                            case 1:
                                                return n.trys.push([1, 3, , 4]), [4, this.Do[0]()];
                                            case 2:
                                                return n.sent(), this.Do.shift(), this.xo.reset(), [3, 4];
                                            case 3:
                                                if (!zr(t = n.sent())) throw t;
                                                return p("AsyncQueue", "Operation failed with retryable error: " + t), [3, 4];
                                            case 4:
                                                this.Do.length > 0 && this.xo.xs((function() { return e.Wo() })), n.label = 5;
                                            case 5:
                                                return [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.qo = function(t) {
                                var e = this,
                                    n = this.So.then((function() { return e.$o = !0, t().catch((function(t) { throw e.No = t, e.$o = !1, f("INTERNAL UNHANDLED ERROR: ", function(t) { var e = t.message || ""; return t.stack && (e = t.stack.includes(t.message) ? t.stack : t.message + "\n" + t.stack), e }(t)), t })).then((function(t) { return e.$o = !1, t })) }));
                                return this.So = n, n
                            }, t.prototype.Os = function(t, e, n) {
                                var r = this;
                                this.Bo(), this.ko.indexOf(t) > -1 && (e = 0);
                                var i = Zr.po(this, t, e, n, (function(t) { return r.jo(t) }));
                                return this.Fo.push(i), i
                            }, t.prototype.Bo = function() { this.No && g() }, t.prototype.Ko = function() {}, t.prototype.Go = function() {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var t;
                                    return i.__generator(this, (function(e) {
                                        switch (e.label) {
                                            case 0:
                                                return [4, t = this.So];
                                            case 1:
                                                e.sent(), e.label = 2;
                                            case 2:
                                                if (t !== this.So) return [3, 0];
                                                e.label = 3;
                                            case 3:
                                                return [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.zo = function(t) {
                                for (var e = 0, n = this.Fo; e < n.length; e++)
                                    if (n[e].vs === t) return !0;
                                return !1
                            }, t.prototype.Ho = function(t) { var e = this; return this.Go().then((function() { e.Fo.sort((function(t, e) { return t.Po - e.Po })); for (var n = 0, r = e.Fo; n < r.length; n++) { var i = r[n]; if (i.Bs(), "all" !== t && i.vs === t) break } return e.Go() })) }, t.prototype.Yo = function(t) { this.ko.push(t) }, t.prototype.jo = function(t) {
                                var e = this.Fo.indexOf(t);
                                this.Fo.splice(e, 1)
                            }, t
                        }();

                    function ti(t, e) { if (f("AsyncQueue", e + ": " + t), zr(t)) return new O(R.UNAVAILABLE, e + ": " + t); throw t }

                    function ei(t, e) {
                        var n = t[1],
                            r = e[1],
                            i = w(t[0], e[0]);
                        return 0 === i ? w(n, r) : i
                    }
                    var ni = function() {
                            function t(t) { this.Jo = t, this.buffer = new rt(ei), this.Xo = 0 }
                            return t.prototype.Zo = function() { return ++this.Xo }, t.prototype.th = function(t) {
                                var e = [t, this.Zo()];
                                if (this.buffer.size < this.Jo) this.buffer = this.buffer.add(e);
                                else {
                                    var n = this.buffer.last();
                                    ei(e, n) < 0 && (this.buffer = this.buffer.delete(n).add(e))
                                }
                            }, Object.defineProperty(t.prototype, "maxValue", { get: function() { return this.buffer.last()[0] }, enumerable: !1, configurable: !0 }), t
                        }(),
                        ri = { eh: !1, nh: 0, sh: 0, ih: 0 },
                        ii = function() {
                            function t(t, e, n) { this.rh = t, this.oh = e, this.hh = n }
                            return t.ah = function(e) { return new t(e, t.uh, t.lh) }, t
                        }();
                    ii._h = -1, ii.fh = 1048576, ii.dh = 41943040, ii.uh = 10, ii.lh = 1e3, ii.wh = new ii(ii.dh, ii.uh, ii.lh), ii.Th = new ii(ii._h, 0, 0);
                    var oi = function() {
                            function t(t, e) { this.Or = t, this.Ro = e, this.Eh = !1, this.Ih = null }
                            return t.prototype.start = function(t) { this.Or.params.rh !== ii._h && this.mh(t) }, t.prototype.stop = function() { this.Ih && (this.Ih.cancel(), this.Ih = null) }, Object.defineProperty(t.prototype, "hr", { get: function() { return null !== this.Ih }, enumerable: !1, configurable: !0 }), t.prototype.mh = function(t) {
                                var e = this,
                                    n = this.Eh ? 3e5 : 6e4;
                                p("LruGarbageCollector", "Garbage collection scheduled in " + n + "ms"), this.Ih = this.Ro.Os("lru_garbage_collection", n, (function() {
                                    return i.__awaiter(e, void 0, void 0, (function() {
                                        var e;
                                        return i.__generator(this, (function(n) {
                                            switch (n.label) {
                                                case 0:
                                                    this.Ih = null, this.Eh = !0, n.label = 1;
                                                case 1:
                                                    return n.trys.push([1, 3, , 7]), [4, t.Ah(this.Or)];
                                                case 2:
                                                    return n.sent(), [3, 7];
                                                case 3:
                                                    return zr(e = n.sent()) ? (p("LruGarbageCollector", "Ignoring IndexedDB error during garbage collection: ", e), [3, 6]) : [3, 4];
                                                case 4:
                                                    return [4, li(e)];
                                                case 5:
                                                    n.sent(), n.label = 6;
                                                case 6:
                                                    return [3, 7];
                                                case 7:
                                                    return [4, this.mh(t)];
                                                case 8:
                                                    return n.sent(), [2]
                                            }
                                        }))
                                    }))
                                }))
                            }, t
                        }(),
                        si = function() {
                            function t(t, e) { this.Rh = t, this.params = e }
                            return t.prototype.Ph = function(t, e) { return this.Rh.Lr(t).next((function(t) { return Math.floor(e / 100 * t) })) }, t.prototype.Vh = function(t, e) { var n = this; if (0 === e) return In.resolve(Pn.ps); var r = new ni(e); return this.Rh.pe(t, (function(t) { return r.th(t.sequenceNumber) })).next((function() { return n.Rh.qr(t, (function(t) { return r.th(t) })) })).next((function() { return r.maxValue })) }, t.prototype.vi = function(t, e, n) { return this.Rh.vi(t, e, n) }, t.prototype.Kr = function(t, e) { return this.Rh.Kr(t, e) }, t.prototype.gh = function(t, e) { var n = this; return this.params.rh === ii._h ? (p("LruGarbageCollector", "Garbage collection skipped; disabled"), In.resolve(ri)) : this.zr(t).next((function(r) { return r < n.params.rh ? (p("LruGarbageCollector", "Garbage collection skipped; Cache size " + r + " is lower than threshold " + n.params.rh), ri) : n.yh(t, e) })) }, t.prototype.zr = function(t) { return this.Rh.zr(t) }, t.prototype.yh = function(t, e) {
                                var n, r, i, o, a, c, l, u = this,
                                    h = Date.now();
                                return this.Ph(t, this.params.oh).next((function(e) { return e > u.params.hh ? (p("LruGarbageCollector", "Capping sequence numbers to collect down to the maximum of " + u.params.hh + " from " + e), r = u.params.hh) : r = e, o = Date.now(), u.Vh(t, r) })).next((function(r) { return n = r, a = Date.now(), u.vi(t, n, e) })).next((function(e) { return i = e, c = Date.now(), u.Kr(t, n) })).next((function(t) { return l = Date.now(), d() <= s.LogLevel.DEBUG && p("LruGarbageCollector", "LRU Garbage Collection\n\tCounted targets in " + (o - h) + "ms\n\tDetermined least recently used " + r + " in " + (a - o) + "ms\n\tRemoved " + i + " targets in " + (c - a) + "ms\n\tRemoved " + t + " documents in " + (l - c) + "ms\nTotal Duration: " + (l - h) + "ms"), In.resolve({ eh: !0, nh: r, sh: i, ih: t }) }))
                            }, t
                        }(),
                        ai = function() {
                            function t(t, e, n) { this.persistence = t, this.ph = e, this.bh = new tt(w), this.vh = new A((function(t) { return W(t) }), z), this.Sh = D.min(), this.ns = t.Cr(n), this.Dh = t.$r(), this.Xi = t.Nr(), this.Ch = new Nn(this.Dh, this.ns, this.persistence.kr()), this.ph.Fh(this.Ch) }
                            return t.prototype.start = function() { return Promise.resolve() }, t.prototype.Nh = function(t) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var e, n, r, o = this;
                                    return i.__generator(this, (function(i) {
                                        switch (i.label) {
                                            case 0:
                                                return e = this.ns, n = this.Ch, [4, this.persistence.runTransaction("Handle user change", "readonly", (function(r) {
                                                    var i;
                                                    return o.ns.so(r).next((function(s) { return i = s, e = o.persistence.Cr(t), n = new Nn(o.Dh, e, o.persistence.kr()), e.so(r) })).next((function(t) {
                                                        for (var e = [], o = [], s = dt(), a = 0, c = i; a < c.length; a++) {
                                                            var l = c[a];
                                                            e.push(l.batchId);
                                                            for (var u = 0, h = l.mutations; u < h.length; u++) s = s.add(h[u].key)
                                                        }
                                                        for (var d = 0, p = t; d < p.length; d++) {
                                                            var f = p[d];
                                                            o.push(f.batchId);
                                                            for (var m = 0, g = f.mutations; m < g.length; m++) s = s.add(g[m].key)
                                                        }
                                                        return n.us(r, s).next((function(t) { return { $h: t, kh: e, xh: o } }))
                                                    }))
                                                }))];
                                            case 1:
                                                return r = i.sent(), [2, (this.ns = e, this.Ch = n, this.ph.Fh(this.Ch), r)]
                                        }
                                    }))
                                }))
                            }, t.prototype.Mh = function(t) {
                                var e, n = this,
                                    r = N.now(),
                                    i = t.reduce((function(t, e) { return t.add(e.key) }), dt());
                                return this.persistence.runTransaction("Locally write mutations", "readwrite", (function(o) {
                                    return n.Ch.us(o, i).next((function(i) {
                                        e = i;
                                        for (var s = [], a = 0, c = t; a < c.length; a++) {
                                            var l = c[a],
                                                u = qe(l, e.get(l.key));
                                            null != u && s.push(new Ge(l.key, u, en(u.proto.mapValue), Fe.exists(!0)))
                                        }
                                        return n.ns.Xr(o, r, s, t)
                                    }))
                                })).then((function(t) { var n = t.Sn(e); return { batchId: t.batchId, Un: n } }))
                            }, t.prototype.Oh = function(t) {
                                var e = this;
                                return this.persistence.runTransaction("Acknowledge batch", "readwrite-primary", (function(n) {
                                    var r = t.batch.keys(),
                                        i = e.Dh.oi({ ai: !0 });
                                    return e.Lh(n, t, i).next((function() { return i.apply(n) })).next((function() { return e.ns.ho(n) })).next((function() { return e.Ch.us(n, r) }))
                                }))
                            }, t.prototype.Bh = function(t) { var e = this; return this.persistence.runTransaction("Reject batch", "readwrite-primary", (function(n) { var r; return e.ns.Zr(n, t).next((function(t) { return y(null !== t), r = t.keys(), e.ns.ro(n, t) })).next((function() { return e.ns.ho(n) })).next((function() { return e.Ch.us(n, r) })) })) }, t.prototype.no = function() { var t = this; return this.persistence.runTransaction("Get highest unacknowledged batch id", "readonly", (function(e) { return t.ns.no(e) })) }, t.prototype.mi = function() { var t = this; return this.persistence.runTransaction("Get last remote snapshot version", "readonly", (function(e) { return t.Xi.mi(e) })) }, t.prototype.qh = function(e) {
                                var n = this,
                                    r = e.X,
                                    i = this.bh;
                                return this.persistence.runTransaction("Apply remote event", "readwrite-primary", (function(o) {
                                    var s = n.Dh.oi({ ai: !0 });
                                    i = n.bh;
                                    var a = [];
                                    e.Qt.forEach((function(e, s) {
                                        var c = i.get(s);
                                        if (c) {
                                            a.push(n.Xi.Ni(o, e.Xt, s).next((function() { return n.Xi.Ci(o, e.Yt, s) })));
                                            var l = e.resumeToken;
                                            if (l.H() > 0) {
                                                var u = c.tt(l, r).Z(o.Li);
                                                i = i.nt(s, u), t.Uh(c, u, e) && a.push(n.Xi.yi(o, u))
                                            }
                                        }
                                    }));
                                    var c = st(),
                                        l = dt();
                                    if (e.jt.forEach((function(t, e) { l = l.add(t) })), a.push(s.getEntries(o, l).next((function(t) {
                                            e.jt.forEach((function(i, l) {
                                                var u = t.get(i);
                                                l instanceof on && l.version.isEqual(D.min()) ? (s.Gn(i, r), c = c.nt(i, l)) : null == u || l.version.o(u.version) > 0 || 0 === l.version.o(u.version) && u.hasPendingWrites ? (s.jn(l, r), c = c.nt(i, l)) : p("LocalStore", "Ignoring outdated watch update for ", i, ". Current version:", u.version, " Watch version:", l.version), e.Kt.has(i) && a.push(n.persistence.wi.Gr(o, i))
                                            }))
                                        }))), !r.isEqual(D.min())) {
                                        var u = n.Xi.mi(o).next((function(t) { return n.Xi.Ri(o, o.Li, r) }));
                                        a.push(u)
                                    }
                                    return In.Bn(a).next((function() { return s.apply(o) })).next((function() { return n.Ch.cs(o, c) }))
                                })).then((function(t) { return n.bh = i, t }))
                            }, t.Uh = function(t, e, n) { return y(e.resumeToken.H() > 0), 0 === t.resumeToken.H() || e.X.m() - t.X.m() >= this.Qh || n.Yt.size + n.Jt.size + n.Xt.size > 0 }, t.prototype.Wh = function(t) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var e, n, r, o, s, a, c, l = this;
                                    return i.__generator(this, (function(i) {
                                        switch (i.label) {
                                            case 0:
                                                return i.trys.push([0, 2, , 3]), [4, this.persistence.runTransaction("notifyLocalViewChanges", "readwrite", (function(e) { return In.forEach(t, (function(t) { return In.forEach(t.ms, (function(n) { return l.persistence.wi.Fi(e, t.targetId, n) })).next((function() { return In.forEach(t.As, (function(n) { return l.persistence.wi.$i(e, t.targetId, n) })) })) })) }))];
                                            case 1:
                                                return i.sent(), [3, 3];
                                            case 2:
                                                if (!zr(e = i.sent())) throw e;
                                                return p("LocalStore", "Failed to update sequence numbers: " + e), [3, 3];
                                            case 3:
                                                for (n = 0, r = t; n < r.length; n++) s = (o = r[n]).targetId, o.fromCache || (a = this.bh.get(s), c = a.et(a.X), this.bh = this.bh.nt(s, c));
                                                return [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.jh = function(t) { var e = this; return this.persistence.runTransaction("Get next mutation batch", "readonly", (function(n) { return void 0 === t && (t = -1), e.ns.eo(n, t) })) }, t.prototype.Kh = function(t) { var e = this; return this.persistence.runTransaction("read document", "readonly", (function(n) { return e.Ch.rs(n, t) })) }, t.prototype.Gh = function(t) { var e = this; return this.persistence.runTransaction("Allocate target", "readwrite", (function(n) { var r; return e.Xi.Di(n, t).next((function(i) { return i ? In.resolve(r = i) : e.Xi.Ti(n).next((function(i) { return r = new X(t, i, 0, n.Li), e.Xi.Pi(n, r).next((function() { return r })) })) })) })).then((function(n) { var r = e.bh.get(n.targetId); return (null === r || n.X.o(r.X) > 0) && (e.bh = e.bh.nt(n.targetId, n), e.vh.set(t, n.targetId)), n })) }, t.prototype.Di = function(t, e) { var n = this.vh.get(e); return void 0 !== n ? In.resolve(this.bh.get(n)) : this.Xi.Di(t, e) }, t.prototype.zh = function(t, e) {
                                var n = this,
                                    r = this.bh.get(t);
                                return this.persistence.runTransaction("Release target", e ? "readwrite" : "readwrite-primary", (function(t) { return e ? In.resolve() : n.persistence.wi.removeTarget(t, r) })).then((function() { n.bh = n.bh.remove(t), n.vh.delete(r.target) }))
                            }, t.prototype.Hh = function(t, e) {
                                var n = this,
                                    r = D.min(),
                                    i = dt();
                                return this.persistence.runTransaction("Execute query", "readonly", (function(o) { return n.Di(o, t.We()).next((function(t) { if (t) return r = t.lastLimboFreeSnapshotVersion, n.Xi.ki(o, t.targetId).next((function(t) { i = t })) })).next((function() { return n.ph._s(o, t, e ? r : D.min(), e ? i : dt()) })).next((function(t) { return { documents: t, Yh: i } })) }))
                            }, t.prototype.Lh = function(t, e, n) {
                                var r = this,
                                    i = e.batch,
                                    o = i.keys(),
                                    s = In.resolve();
                                return o.forEach((function(r) {
                                    s = s.next((function() { return n.zn(t, r) })).next((function(t) {
                                        var o = t,
                                            s = e.Cn.get(r);
                                        y(null !== s), (!o || o.version.o(s) < 0) && (o = i.pn(r, o, e)) && n.jn(o, e.Dn)
                                    }))
                                })), s.next((function() { return r.ns.ro(t, i) }))
                            }, t.prototype.Ah = function(t) { var e = this; return this.persistence.runTransaction("Collect garbage", "readwrite-primary", (function(n) { return t.gh(n, e.bh) })) }, t
                        }();
                    ai.Qh = 3e8;
                    var ci = function(t) {
                        function e(e, n, r) { var i = this; return (i = t.call(this, e, n, r) || this).persistence = e, i.ns = e.Cr(r), i.Dh = e.$r(), i.Xi = e.Nr(), i }
                        return i.__extends(e, t), e.prototype.start = function() { return this.Jh() }, e.prototype.Xh = function(t) { var e = this; return this.persistence.runTransaction("Lookup mutation documents", "readonly", (function(n) { return e.ns.to(n, t).next((function(t) { return t ? e.Ch.us(n, t) : In.resolve(null) })) })) }, e.prototype.Zh = function(t) { this.ns.oo(t) }, e.prototype.cr = function(t) { this.persistence.cr(t) }, e.prototype.Dr = function() { return this.persistence.Dr() }, e.prototype.ta = function(t) {
                            var e = this,
                                n = this.bh.get(t);
                            return n ? Promise.resolve(n.target) : this.persistence.runTransaction("Get target data", "readonly", (function(n) { return e.Xi.Me(n, t).next((function(t) { return t ? t.target : null })) }))
                        }, e.prototype.si = function() { var t = this; return this.persistence.runTransaction("Get new document changes", "readonly", (function(e) { return t.Dh.si(e, t.Sh) })).then((function(e) { var n = e.ii; return t.Sh = e.readTime, n })) }, e.prototype.Jh = function() {
                            return i.__awaiter(this, void 0, void 0, (function() {
                                var t, e = this;
                                return i.__generator(this, (function(n) {
                                    switch (n.label) {
                                        case 0:
                                            return t = this, [4, this.persistence.runTransaction("Synchronize last document change read time", "readonly", (function(t) { return e.Dh.ri(t) }))];
                                        case 1:
                                            return t.Sh = n.sent(), [2]
                                    }
                                }))
                            }))
                        }, e
                    }(ai);

                    function li(t) { return i.__awaiter(this, void 0, void 0, (function() { return i.__generator(this, (function(e) { if (t.code !== R.FAILED_PRECONDITION || t.message !== Rn) throw t; return p("LocalStore", "Unexpectedly lost primary lease"), [2] })) })) }
                    var ui = function() {
                            function t() { this.ea = new rt(hi.na), this.sa = new rt(hi.ia) }
                            return t.prototype._ = function() { return this.ea._() }, t.prototype.Fi = function(t, e) {
                                var n = new hi(t, e);
                                this.ea = this.ea.add(n), this.sa = this.sa.add(n)
                            }, t.prototype.ra = function(t, e) {
                                var n = this;
                                t.forEach((function(t) { return n.Fi(t, e) }))
                            }, t.prototype.$i = function(t, e) { this.oa(new hi(t, e)) }, t.prototype.ha = function(t, e) {
                                var n = this;
                                t.forEach((function(t) { return n.$i(t, e) }))
                            }, t.prototype.aa = function(t) {
                                var e = this,
                                    n = new j(new M([])),
                                    r = new hi(n, t),
                                    i = new hi(n, t + 1),
                                    o = [];
                                return this.sa.vt([r, i], (function(t) { e.oa(t), o.push(t.key) })), o
                            }, t.prototype.ua = function() {
                                var t = this;
                                this.ea.forEach((function(e) { return t.oa(e) }))
                            }, t.prototype.oa = function(t) { this.ea = this.ea.delete(t), this.sa = this.sa.delete(t) }, t.prototype.ca = function(t) {
                                var e = new j(new M([])),
                                    n = new hi(e, t),
                                    r = new hi(e, t + 1),
                                    i = dt();
                                return this.sa.vt([n, r], (function(t) { i = i.add(t.key) })), i
                            }, t.prototype.Mi = function(t) {
                                var e = new hi(t, 0),
                                    n = this.ea.Dt(e);
                                return null !== n && t.isEqual(n.key)
                            }, t
                        }(),
                        hi = function() {
                            function t(t, e) { this.key = t, this.la = e }
                            return t.na = function(t, e) { return j.P(t.key, e.key) || w(t.la, e.la) }, t.ia = function(t, e) { return w(t.la, e.la) || j.P(t.key, e.key) }, t
                        }();

                    function di(t, e) { if (0 !== e.length) throw new O(R.INVALID_ARGUMENT, "Function " + t + "() does not support arguments, but was called with " + Ri(e.length, "argument") + ".") }

                    function pi(t, e, n) { if (e.length !== n) throw new O(R.INVALID_ARGUMENT, "Function " + t + "() requires " + Ri(n, "argument") + ", but was called with " + Ri(e.length, "argument") + ".") }

                    function fi(t, e, n) { if (e.length < n) throw new O(R.INVALID_ARGUMENT, "Function " + t + "() requires at least " + Ri(n, "argument") + ", but was called with " + Ri(e.length, "argument") + ".") }

                    function mi(t, e, n, r) { if (e.length < n || e.length > r) throw new O(R.INVALID_ARGUMENT, "Function " + t + "() requires between " + n + " and " + r + " arguments, but was called with " + Ri(e.length, "argument") + ".") }

                    function gi(t, e, n, r) { Ei(t, e, Ai(n) + " argument", r) }

                    function yi(t, e, n, r) { void 0 !== r && gi(t, e, n, r) }

                    function vi(t, e, n, r) { Ei(t, e, n + " option", r) }

                    function _i(t, e, n, r) { void 0 !== r && vi(t, e, n, r) }

                    function bi(t, e, n, r, i) {
                        void 0 !== r && function(t, e, n, r, i) {
                            for (var o = [], s = 0, a = i; s < a.length; s++) {
                                var c = a[s];
                                if (c === r) return;
                                o.push(Ci(c))
                            }
                            var l = Ci(r);
                            throw new O(R.INVALID_ARGUMENT, "Invalid value " + l + " provided to function " + t + '() for option "' + n + '". Acceptable values: ' + o.join(", "))
                        }(t, 0, n, r, i)
                    }

                    function wi(t, e, n, r) { if (!e.some((function(t) { return t === r }))) throw new O(R.INVALID_ARGUMENT, "Invalid value " + Ci(r) + " provided to function " + t + "() for its " + Ai(n) + " argument. Acceptable values: " + e.join(", ")); return r }

                    function Ei(t, e, n, r) { if (!("object" === e ? Si(r) : "non-empty string" === e ? "string" == typeof r && "" !== r : typeof r === e)) { var i = Ci(r); throw new O(R.INVALID_ARGUMENT, "Function " + t + "() requires its " + n + " to be of type " + e + ", but it was: " + i) } }

                    function Si(t) { return "object" == typeof t && null !== t && (Object.getPrototypeOf(t) === Object.prototype || null === Object.getPrototypeOf(t)) }

                    function Ci(t) { if (void 0 === t) return "undefined"; if (null === t) return "null"; if ("string" == typeof t) return t.length > 20 && (t = t.substring(0, 20) + "..."), JSON.stringify(t); if ("number" == typeof t || "boolean" == typeof t) return "" + t; if ("object" == typeof t) { if (t instanceof Array) return "an array"; var e = function(t) { if (t.constructor) { var e = /function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString()); if (e && e.length > 1) return e[1] } return null }(t); return e ? "a custom " + e + " object" : "an object" } return "function" == typeof t ? "a function" : g() }

                    function xi(t, e, n) { if (void 0 === n) throw new O(R.INVALID_ARGUMENT, "Function " + t + "() requires a valid " + Ai(e) + " argument, but it was undefined.") }

                    function Ti(t, e, n) { k(e, (function(e, r) { if (n.indexOf(e) < 0) throw new O(R.INVALID_ARGUMENT, "Unknown option '" + e + "' passed to function " + t + "(). Available options: " + n.join(", ")) })) }

                    function ki(t, e, n, r) { var i = Ci(r); return new O(R.INVALID_ARGUMENT, "Function " + t + "() requires its " + Ai(n) + " argument to be a " + e + ", but it was: " + i) }

                    function Ii(t, e, n) { if (n <= 0) throw new O(R.INVALID_ARGUMENT, "Function " + t + "() requires its " + Ai(e) + " argument to be a positive number, but it was: " + n + ".") }

                    function Ai(t) {
                        switch (t) {
                            case 1:
                                return "first";
                            case 2:
                                return "second";
                            case 3:
                                return "third";
                            default:
                                return t + "th"
                        }
                    }

                    function Ri(t, e) { return t + " " + e + (1 === t ? "" : "s") }

                    function Oi() { if ("undefined" == typeof Uint8Array) throw new O(R.UNIMPLEMENTED, "Uint8Arrays are not available in this environment.") }

                    function Ni() { if ("undefined" == typeof atob) throw new O(R.UNIMPLEMENTED, "Blobs are unavailable in Firestore in this environment.") }
                    var Di = function() {
                            function t(t) { Ni(), this._a = t }
                            return t.fromBase64String = function(e) { pi("Blob.fromBase64String", arguments, 1), gi("Blob.fromBase64String", "string", 1, e), Ni(); try { return new t($.fromBase64String(e)) } catch (e) { throw new O(R.INVALID_ARGUMENT, "Failed to construct Blob from Base64 string: " + e) } }, t.fromUint8Array = function(e) { if (pi("Blob.fromUint8Array", arguments, 1), Oi(), !(e instanceof Uint8Array)) throw ki("Blob.fromUint8Array", "Uint8Array", 1, e); return new t($.fromUint8Array(e)) }, t.prototype.toBase64 = function() { return pi("Blob.toBase64", arguments, 0), Ni(), this._a.toBase64() }, t.prototype.toUint8Array = function() { return pi("Blob.toUint8Array", arguments, 0), Oi(), this._a.toUint8Array() }, t.prototype.toString = function() { return "Blob(base64: " + this.toBase64() + ")" }, t.prototype.isEqual = function(t) { return this._a.isEqual(t._a) }, t
                        }(),
                        Pi = function(t) {
                            ! function(t, e, n, r) { if (!(e instanceof Array) || e.length < 1) throw new O(R.INVALID_ARGUMENT, "Function FieldPath() requires its fieldNames argument to be an array with at least " + Ri(1, "element") + ".") }(0, t);
                            for (var e = 0; e < t.length; ++e)
                                if (gi("FieldPath", "string", e, t[e]), 0 === t[e].length) throw new O(R.INVALID_ARGUMENT, "Invalid field name at argument $(i + 1). Field names must not be empty.");
                            this.fa = new F(t)
                        },
                        Mi = function(t) {
                            function e() { for (var e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n]; return t.call(this, e) || this }
                            return i.__extends(e, t), e.documentId = function() { return new e(F.L().N()) }, e.prototype.isEqual = function(t) { if (!(t instanceof e)) throw ki("isEqual", "FieldPath", 1, t); return this.fa.isEqual(t.fa) }, e
                        }(Pi),
                        Li = new RegExp("[~\\*/\\[\\]]"),
                        Fi = function() { this.da = this },
                        ji = function(t) {
                            function e(e) { var n = this; return (n = t.call(this) || this).wa = e, n }
                            return i.__extends(e, t), e.prototype.Ta = function(t) { if (2 !== t.Ea) throw t.Ia(1 === t.Ea ? this.wa + "() can only appear at the top level of your update data" : this.wa + "() cannot be used with set() unless you pass {merge:true}"); return t.Le.push(t.path), null }, e.prototype.isEqual = function(t) { return t instanceof e }, e
                        }(Fi);

                    function Ui(t, e, n) { return new Ji({ Ea: 3, ma: e.settings.ma, methodName: t.wa, Aa: n }, e.s, e.serializer, e.ignoreUndefinedProperties) }
                    var Vi = function(t) {
                            function e(e) { var n = this; return (n = t.call(this) || this).wa = e, n }
                            return i.__extends(e, t), e.prototype.Ta = function(t) { return new Me(t.path, new Te) }, e.prototype.isEqual = function(t) { return t instanceof e }, e
                        }(Fi),
                        Bi = function(t) {
                            function e(e, n) { var r = this; return (r = t.call(this) || this).wa = e, r.Ra = n, r }
                            return i.__extends(e, t), e.prototype.Ta = function(t) {
                                var e = Ui(this, t, !0),
                                    n = this.Ra.map((function(t) { return oo(t, e) })),
                                    r = new ke(n);
                                return new Me(t.path, r)
                            }, e.prototype.isEqual = function(t) { return this === t }, e
                        }(Fi),
                        qi = function(t) {
                            function e(e, n) { var r = this; return (r = t.call(this) || this).wa = e, r.Ra = n, r }
                            return i.__extends(e, t), e.prototype.Ta = function(t) {
                                var e = Ui(this, t, !0),
                                    n = this.Ra.map((function(t) { return oo(t, e) })),
                                    r = new Ae(n);
                                return new Me(t.path, r)
                            }, e.prototype.isEqual = function(t) { return this === t }, e
                        }(Fi),
                        Hi = function(t) {
                            function e(e, n) { var r = this; return (r = t.call(this) || this).wa = e, r.Pa = n, r }
                            return i.__extends(e, t), e.prototype.Ta = function(t) { var e = new Oe(t.serializer, Xt(t.serializer, this.Pa)); return new Me(t.path, e) }, e.prototype.isEqual = function(t) { return this === t }, e
                        }(Fi),
                        Wi = function(t) {
                            function e() { return t.call(this) || this }
                            return i.__extends(e, t), e.delete = function() { return di("FieldValue.delete", arguments), new zi(new ji("FieldValue.delete")) }, e.serverTimestamp = function() { return di("FieldValue.serverTimestamp", arguments), new zi(new Vi("FieldValue.serverTimestamp")) }, e.arrayUnion = function() { for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e]; return fi("FieldValue.arrayUnion", arguments, 1), new zi(new Bi("FieldValue.arrayUnion", t)) }, e.arrayRemove = function() { for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e]; return fi("FieldValue.arrayRemove", arguments, 1), new zi(new qi("FieldValue.arrayRemove", t)) }, e.increment = function(t) { return gi("FieldValue.increment", "number", 1, t), pi("FieldValue.increment", arguments, 1), new zi(new Hi("FieldValue.increment", t)) }, e
                        }(Fi),
                        zi = function(t) {
                            function e(e) { var n = this; return (n = t.call(this) || this).da = e, n.wa = e.wa, n }
                            return i.__extends(e, t), e.prototype.Ta = function(t) { return this.da.Ta(t) }, e.prototype.isEqual = function(t) { return t instanceof e && this.da.isEqual(t.da) }, e
                        }(Wi),
                        Gi = function() {
                            function t(t, e) {
                                if (pi("GeoPoint", arguments, 2), gi("GeoPoint", "number", 1, t), gi("GeoPoint", "number", 2, e), !isFinite(t) || t < -90 || t > 90) throw new O(R.INVALID_ARGUMENT, "Latitude must be a number between -90 and 90, but was: " + t);
                                if (!isFinite(e) || e < -180 || e > 180) throw new O(R.INVALID_ARGUMENT, "Longitude must be a number between -180 and 180, but was: " + e);
                                this.Va = t, this.ga = e
                            }
                            return Object.defineProperty(t.prototype, "latitude", { get: function() { return this.Va }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, "longitude", { get: function() { return this.ga }, enumerable: !1, configurable: !0 }), t.prototype.isEqual = function(t) { return this.Va === t.Va && this.ga === t.ga }, t.prototype.T = function(t) { return w(this.Va, t.Va) || w(this.ga, t.ga) }, t
                        }();

                    function $i(t) { return new $t(t, !0) }
                    var Ki = /^__.*__$/,
                        Yi = function(t, e, n) { this.ya = t, this.pa = e, this.ba = n },
                        Xi = function() {
                            function t(t, e, n) { this.data = t, this.Le = e, this.fieldTransforms = n }
                            return t.prototype.va = function(t, e) { var n = []; return n.push(null !== this.Le ? new Ge(t, this.data, this.Le, e) : new ze(t, this.data, e)), this.fieldTransforms.length > 0 && n.push(new Ke(t, this.fieldTransforms)), n }, t
                        }(),
                        Qi = function() {
                            function t(t, e, n) { this.data = t, this.Le = e, this.fieldTransforms = n }
                            return t.prototype.va = function(t, e) { var n = [new Ge(t, this.data, this.Le, e)]; return this.fieldTransforms.length > 0 && n.push(new Ke(t, this.fieldTransforms)), n }, t
                        }();

                    function Zi(t) {
                        switch (t) {
                            case 0:
                            case 2:
                            case 1:
                                return !0;
                            case 3:
                            case 4:
                                return !1;
                            default:
                                throw g()
                        }
                    }
                    var Ji = function() {
                            function t(t, e, n, r, i, o) { this.settings = t, this.s = e, this.serializer = n, this.ignoreUndefinedProperties = r, void 0 === i && this.Sa(), this.fieldTransforms = i || [], this.Le = o || [] }
                            return Object.defineProperty(t.prototype, "path", { get: function() { return this.settings.path }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, "Ea", { get: function() { return this.settings.Ea }, enumerable: !1, configurable: !0 }), t.prototype.Da = function(e) { return new t(Object.assign(Object.assign({}, this.settings), e), this.s, this.serializer, this.ignoreUndefinedProperties, this.fieldTransforms, this.Le) }, t.prototype.Ca = function(t) {
                                var e, n = null === (e = this.path) || void 0 === e ? void 0 : e.child(t),
                                    r = this.Da({ path: n, Aa: !1 });
                                return r.Fa(t), r
                            }, t.prototype.Na = function(t) {
                                var e, n = null === (e = this.path) || void 0 === e ? void 0 : e.child(t),
                                    r = this.Da({ path: n, Aa: !1 });
                                return r.Sa(), r
                            }, t.prototype.$a = function(t) { return this.Da({ path: void 0, Aa: !0 }) }, t.prototype.Ia = function(t) { return ho(t, this.settings.methodName, this.settings.ka || !1, this.path, this.settings.ma) }, t.prototype.contains = function(t) { return void 0 !== this.Le.find((function(e) { return t.D(e) })) || void 0 !== this.fieldTransforms.find((function(e) { return t.D(e.field) })) }, t.prototype.Sa = function() {
                                if (this.path)
                                    for (var t = 0; t < this.path.length; t++) this.Fa(this.path.get(t))
                            }, t.prototype.Fa = function(t) { if (0 === t.length) throw this.Ia("Document fields must not be empty"); if (Zi(this.Ea) && Ki.test(t)) throw this.Ia('Document fields cannot begin and end with "__"') }, t
                        }(),
                        to = function() {
                            function t(t, e, n) { this.s = t, this.ignoreUndefinedProperties = e, this.serializer = n || $i(t) }
                            return t.prototype.xa = function(t, e, n, r) { return void 0 === r && (r = !1), new Ji({ Ea: t, methodName: e, ma: n, path: F.k(), Aa: !1, ka: r }, this.s, this.serializer, this.ignoreUndefinedProperties) }, t
                        }();

                    function eo(t, e, n, r, i, o) {
                        void 0 === o && (o = {});
                        var s = t.xa(o.merge || o.mergeFields ? 2 : 0, e, n, i);
                        co("Data must be an object, but it was:", s, r);
                        var a, c, l = so(r, s);
                        if (o.merge) a = new Pe(s.Le), c = s.fieldTransforms;
                        else if (o.mergeFields) {
                            for (var u = [], h = 0, d = o.mergeFields; h < d.length; h++) {
                                var p = d[h],
                                    f = void 0;
                                if (p instanceof Pi) f = p.fa;
                                else {
                                    if ("string" != typeof p) throw g();
                                    f = uo(e, p, n)
                                }
                                if (!s.contains(f)) throw new O(R.INVALID_ARGUMENT, "Field '" + f + "' is specified in your field mask but missing from your input data.");
                                po(u, f) || u.push(f)
                            }
                            a = new Pe(u), c = s.fieldTransforms.filter((function(t) { return a.Ke(t.field) }))
                        } else a = null, c = s.fieldTransforms;
                        return new Xi(new Je(l), a, c)
                    }

                    function no(t, e, n, r) {
                        var i = t.xa(1, e, n);
                        co("Data must be an object, but it was:", i, r);
                        var o = [],
                            s = new tn;
                        k(r, (function(t, r) {
                            var a = uo(e, t, n),
                                c = i.Na(a);
                            if (r instanceof Fi && r.da instanceof ji) o.push(a);
                            else {
                                var l = oo(r, c);
                                null != l && (o.push(a), s.set(a, l))
                            }
                        }));
                        var a = new Pe(o);
                        return new Qi(s.ze(), a, i.fieldTransforms)
                    }

                    function ro(t, e, n, r, i, o) {
                        var s = t.xa(1, e, n),
                            a = [lo(e, r, n)],
                            c = [i];
                        if (o.length % 2 != 0) throw new O(R.INVALID_ARGUMENT, "Function " + e + "() needs to be called with an even number of arguments that alternate between field names and values.");
                        for (var l = 0; l < o.length; l += 2) a.push(lo(e, o[l])), c.push(o[l + 1]);
                        for (var u = [], h = new tn, d = a.length - 1; d >= 0; --d)
                            if (!po(u, a[d])) {
                                var p = a[d],
                                    f = c[d],
                                    m = s.Na(p);
                                if (f instanceof Fi && f.da instanceof ji) u.push(p);
                                else {
                                    var g = oo(f, m);
                                    null != g && (u.push(p), h.set(p, g))
                                }
                            }
                        var y = new Pe(u);
                        return new Qi(h.ze(), y, s.fieldTransforms)
                    }

                    function io(t, e, n, r) { return void 0 === r && (r = !1), oo(n, t.xa(r ? 4 : 3, e)) }

                    function oo(t, e) {
                        if (ao(t)) return co("Unsupported field value:", e, t), so(t, e);
                        if (t instanceof Fi) return function(t, e) {
                            if (!Zi(e.Ea)) throw e.Ia(t.wa + "() can only be used with update() and set()");
                            if (!e.path) throw e.Ia(t.wa + "() is not currently supported inside arrays");
                            var n = t.Ta(e);
                            n && e.fieldTransforms.push(n)
                        }(t, e), null;
                        if (e.path && e.Le.push(e.path), t instanceof Array) {
                            if (e.settings.Aa && 4 !== e.Ea) throw e.Ia("Nested arrays are not supported");
                            return function(t, e) {
                                for (var n = [], r = 0, i = 0, o = t; i < o.length; i++) {
                                    var s = oo(o[i], e.$a(r));
                                    null == s && (s = { nullValue: "NULL_VALUE" }), n.push(s), r++
                                }
                                return { arrayValue: { values: n } }
                            }(t, e)
                        }
                        return function(t, e) {
                            if (null === t) return { nullValue: "NULL_VALUE" };
                            if ("number" == typeof t) return Xt(e.serializer, t);
                            if ("boolean" == typeof t) return { booleanValue: t };
                            if ("string" == typeof t) return { stringValue: t };
                            if (t instanceof Date) { var n = N.fromDate(t); return { timestampValue: Qt(e.serializer, n) } }
                            if (t instanceof N) { var r = new N(t.seconds, 1e3 * Math.floor(t.nanoseconds / 1e3)); return { timestampValue: Qt(e.serializer, r) } }
                            if (t instanceof Gi) return { geoPointValue: { latitude: t.latitude, longitude: t.longitude } };
                            if (t instanceof Di) return { bytesValue: Zt(e.serializer, t) };
                            if (t instanceof Yi) {
                                var i = e.s,
                                    o = t.ya;
                                if (!o.isEqual(i)) throw e.Ia("Document reference is for database " + o.projectId + "/" + o.database + " but should be for database " + i.projectId + "/" + i.database);
                                return { referenceValue: ee(t.ya || e.s, t.pa.path) }
                            }
                            if (void 0 === t && e.ignoreUndefinedProperties) return null;
                            throw e.Ia("Unsupported field value: " + Ci(t))
                        }(t, e)
                    }

                    function so(t, e) {
                        var n = {};
                        return I(t) ? e.path && e.path.length > 0 && e.Le.push(e.path) : k(t, (function(t, r) {
                            var i = oo(r, e.Ca(t));
                            null != i && (n[t] = i)
                        })), { mapValue: { fields: n } }
                    }

                    function ao(t) { return !("object" != typeof t || null === t || t instanceof Array || t instanceof Date || t instanceof N || t instanceof Gi || t instanceof Di || t instanceof Yi || t instanceof Fi) }

                    function co(t, e, n) { if (!ao(n) || !Si(n)) { var r = Ci(n); throw e.Ia("an object" === r ? t + " a custom object" : t + " " + r) } }

                    function lo(t, e, n) { if (e instanceof Pi) return e.fa; if ("string" == typeof e) return uo(t, e); throw ho("Field path arguments must be of type string or FieldPath.", t, !1, void 0, n) }

                    function uo(t, e, n) { try { return function(t) { if (t.search(Li) >= 0) throw new O(R.INVALID_ARGUMENT, "Invalid field path (" + t + "). Paths must not contain '~', '*', '/', '[', or ']'"); try { return new(Mi.bind.apply(Mi, i.__spreadArrays([void 0], t.split(".")))) } catch (i) { throw new O(R.INVALID_ARGUMENT, "Invalid field path (" + t + "). Paths must not be empty, begin with '.', end with '.', or contain '..'") } }(e).fa } catch (e) { throw ho((r = e) instanceof Error ? r.message : r.toString(), t, !1, void 0, n) } var r }

                    function ho(t, e, n, r, i) {
                        var o = r && !r._(),
                            s = void 0 !== i,
                            a = "Function " + e + "() called with invalid data";
                        n && (a += " (via `toFirestore()`)");
                        var c = "";
                        return (o || s) && (c += " (found", o && (c += " in field " + r), s && (c += " in document " + i), c += ")"), new O(R.INVALID_ARGUMENT, (a += ". ") + t + c)
                    }

                    function po(t, e) { return t.some((function(t) { return t.isEqual(e) })) }
                    var fo = function() {
                        function t(t) { this.uid = t }
                        return t.prototype.Yr = function() { return null != this.uid }, t.prototype.Ma = function() { return this.Yr() ? "uid:" + this.uid : "anonymous-user" }, t.prototype.isEqual = function(t) { return t.uid === this.uid }, t
                    }();
                    fo.UNAUTHENTICATED = new fo(null), fo.Oa = new fo("google-credentials-uid"), fo.La = new fo("first-party-uid");
                    var mo = function(t, e) { this.user = e, this.type = "OAuth", this.Ba = {}, this.Ba.Authorization = "Bearer " + t },
                        go = function() {
                            function t() { this.qa = null }
                            return t.prototype.getToken = function() { return Promise.resolve(null) }, t.prototype.Ua = function() {}, t.prototype.Qa = function(t) { this.qa = t, t(fo.UNAUTHENTICATED) }, t.prototype.Wa = function() { this.qa = null }, t
                        }(),
                        yo = function() {
                            function t(t) {
                                var e = this;
                                this.ja = null, this.currentUser = fo.UNAUTHENTICATED, this.Ka = !1, this.Ga = 0, this.qa = null, this.forceRefresh = !1, this.ja = function() { e.Ga++, e.currentUser = e.za(), e.Ka = !0, e.qa && e.qa(e.currentUser) }, this.Ga = 0, this.auth = t.getImmediate({ optional: !0 }), this.auth ? this.auth.addAuthTokenListener(this.ja) : (this.ja(null), t.get().then((function(t) { e.auth = t, e.ja && e.auth.addAuthTokenListener(e.ja) }), (function() {})))
                            }
                            return t.prototype.getToken = function() {
                                var t = this,
                                    e = this.Ga,
                                    n = this.forceRefresh;
                                return this.forceRefresh = !1, this.auth ? this.auth.getToken(n).then((function(n) { return t.Ga !== e ? (p("FirebaseCredentialsProvider", "getToken aborted due to token change."), t.getToken()) : n ? (y("string" == typeof n.accessToken), new mo(n.accessToken, t.currentUser)) : null })) : Promise.resolve(null)
                            }, t.prototype.Ua = function() { this.forceRefresh = !0 }, t.prototype.Qa = function(t) { this.qa = t, this.Ka && t(this.currentUser) }, t.prototype.Wa = function() { this.auth && this.auth.removeAuthTokenListener(this.ja), this.ja = null, this.qa = null }, t.prototype.za = function() { var t = this.auth && this.auth.getUid(); return y(null === t || "string" == typeof t), new fo(t) }, t
                        }(),
                        vo = function() {
                            function t(t, e) { this.Ha = t, this.Ya = e, this.type = "FirstParty", this.user = fo.La }
                            return Object.defineProperty(t.prototype, "Ba", {
                                get: function() {
                                    var t = { "X-Goog-AuthUser": this.Ya },
                                        e = this.Ha.auth.Ja([]);
                                    return e && (t.Authorization = e), t
                                },
                                enumerable: !1,
                                configurable: !0
                            }), t
                        }(),
                        _o = function() {
                            function t(t, e) { this.Ha = t, this.Ya = e }
                            return t.prototype.getToken = function() { return Promise.resolve(new vo(this.Ha, this.Ya)) }, t.prototype.Qa = function(t) { t(fo.La) }, t.prototype.Wa = function() {}, t.prototype.Ua = function() {}, t
                        }(),
                        bo = function() {
                            function t(t, e, n, r, i, o) { this.bs = t, this.Xa = n, this.Za = r, this.tu = i, this.listener = o, this.state = 0, this.eu = 0, this.nu = null, this.stream = null, this.xo = new Ln(t, e) }
                            return t.prototype.su = function() { return 1 === this.state || 2 === this.state || 4 === this.state }, t.prototype.iu = function() { return 2 === this.state }, t.prototype.start = function() { 3 !== this.state ? this.auth() : this.ru() }, t.prototype.stop = function() {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    return i.__generator(this, (function(t) {
                                        switch (t.label) {
                                            case 0:
                                                return this.su() ? [4, this.close(0)] : [3, 2];
                                            case 1:
                                                t.sent(), t.label = 2;
                                            case 2:
                                                return [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.ou = function() { this.state = 0, this.xo.reset() }, t.prototype.hu = function() {
                                var t = this;
                                this.iu() && null === this.nu && (this.nu = this.bs.Os(this.Xa, 6e4, (function() { return t.au() })))
                            }, t.prototype.uu = function(t) { this.cu(), this.stream.send(t) }, t.prototype.au = function() { return i.__awaiter(this, void 0, void 0, (function() { return i.__generator(this, (function(t) { return this.iu() ? [2, this.close(0)] : [2] })) })) }, t.prototype.cu = function() { this.nu && (this.nu.cancel(), this.nu = null) }, t.prototype.close = function(t, e) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    return i.__generator(this, (function(n) {
                                        switch (n.label) {
                                            case 0:
                                                return this.cu(), this.xo.cancel(), this.eu++, 3 !== t ? this.xo.reset() : e && e.code === R.RESOURCE_EXHAUSTED ? (f(e.toString()), f("Using maximum backoff delay to prevent overloading the backend."), this.xo.ks()) : e && e.code === R.UNAUTHENTICATED && this.tu.Ua(), null !== this.stream && (this.lu(), this.stream.close(), this.stream = null), this.state = t, [4, this.listener._u(e)];
                                            case 1:
                                                return n.sent(), [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.lu = function() {}, t.prototype.auth = function() {
                                var t = this;
                                this.state = 1;
                                var e = this.fu(this.eu),
                                    n = this.eu;
                                this.tu.getToken().then((function(e) { t.eu === n && t.du(e) }), (function(n) { e((function() { var e = new O(R.UNKNOWN, "Fetching auth token failed: " + n.message); return t.wu(e) })) }))
                            }, t.prototype.du = function(t) {
                                var e = this,
                                    n = this.fu(this.eu);
                                this.stream = this.Tu(t), this.stream.Eu((function() { n((function() { return e.state = 2, e.listener.Eu() })) })), this.stream._u((function(t) { n((function() { return e.wu(t) })) })), this.stream.onMessage((function(t) { n((function() { return e.onMessage(t) })) }))
                            }, t.prototype.ru = function() {
                                var t = this;
                                this.state = 4, this.xo.xs((function() { return i.__awaiter(t, void 0, void 0, (function() { return i.__generator(this, (function(t) { return this.state = 0, this.start(), [2] })) })) }))
                            }, t.prototype.wu = function(t) { return p("PersistentStream", "close with error: " + t), this.stream = null, this.close(3, t) }, t.prototype.fu = function(t) { var e = this; return function(n) { e.bs.lr((function() { return e.eu === t ? n() : (p("PersistentStream", "stream callback skipped by getCloseGuardedDispatcher."), Promise.resolve()) })) } }, t
                        }(),
                        wo = function(t) {
                            function e(e, n, r, i, o) { var s = this; return (s = t.call(this, e, "listen_stream_connection_backoff", "listen_stream_idle", n, r, o) || this).serializer = i, s }
                            return i.__extends(e, t), e.prototype.Tu = function(t) { return this.Za.Iu("Listen", t) }, e.prototype.onMessage = function(t) {
                                this.xo.reset();
                                var e = function(t, e) {
                                        var n;
                                        if ("targetChange" in e) {
                                            var r = function(t) { return "NO_CHANGE" === t ? 0 : "ADD" === t ? 1 : "REMOVE" === t ? 2 : "CURRENT" === t ? 3 : "RESET" === t ? 4 : g() }(e.targetChange.targetChangeType || "NO_CHANGE"),
                                                i = e.targetChange.targetIds || [],
                                                o = function(t, e) { return t.Oe ? (y(void 0 === e || "string" == typeof e), $.fromBase64String(e || "")) : (y(void 0 === e || e instanceof Uint8Array), $.fromUint8Array(e || new Uint8Array)) }(t, e.targetChange.resumeToken),
                                                s = e.targetChange.cause,
                                                a = s && function(t) { var e = void 0 === t.code ? R.UNKNOWN : J(t.code); return new O(e, t.message || "") }(s);
                                            n = new Et(r, i, o, a || null)
                                        } else if ("documentChange" in e) {
                                            var c = e.documentChange,
                                                l = ie(t, c.document.name),
                                                u = te(c.document.updateTime),
                                                h = new Je({ mapValue: { fields: c.document.fields } }),
                                                d = new rn(l, u, h, {});
                                            n = new bt(c.targetIds || [], c.removedTargetIds || [], d.key, d)
                                        } else if ("documentDelete" in e) {
                                            var p = e.documentDelete,
                                                f = ie(t, p.document),
                                                m = p.readTime ? te(p.readTime) : D.min(),
                                                v = new on(f, m);
                                            n = new bt([], p.removedTargetIds || [], v.key, v)
                                        } else if ("documentRemove" in e) {
                                            var _ = e.documentRemove,
                                                b = ie(t, _.document);
                                            n = new bt([], _.removedTargetIds || [], b, null)
                                        } else {
                                            if (!("filter" in e)) return g();
                                            var w = e.filter,
                                                E = new Q(w.count || 0);
                                            n = new wt(w.targetId, E)
                                        }
                                        return n
                                    }(this.serializer, t),
                                    n = function(t) { if (!("targetChange" in t)) return D.min(); var e = t.targetChange; return e.targetIds && e.targetIds.length ? D.min() : e.readTime ? te(e.readTime) : D.min() }(t);
                                return this.listener.mu(e, n)
                            }, e.prototype.Au = function(t) {
                                var e = {};
                                e.database = ae(this.serializer), e.addTarget = function(t, e) { var n, r = e.target; return (n = G(r) ? { documents: de(t, r) } : { query: pe(t, r) }).targetId = e.targetId, e.resumeToken.H() > 0 && (n.resumeToken = Zt(t, e.resumeToken)), n }(this.serializer, t);
                                var n = function(t, e) {
                                    var n = function(t, e) {
                                        switch (e) {
                                            case 0:
                                                return null;
                                            case 1:
                                                return "existence-filter-mismatch";
                                            case 2:
                                                return "limbo-document";
                                            default:
                                                return g()
                                        }
                                    }(0, e.J);
                                    return null == n ? null : { "goog-listen-tags": n }
                                }(0, t);
                                n && (e.labels = n), this.uu(e)
                            }, e.prototype.Ru = function(t) {
                                var e = {};
                                e.database = ae(this.serializer), e.removeTarget = t, this.uu(e)
                            }, e
                        }(bo),
                        Eo = function(t) {
                            function e(e, n, r, i, o) { var s = this; return (s = t.call(this, e, "write_stream_connection_backoff", "write_stream_idle", n, r, o) || this).serializer = i, s.Pu = !1, s }
                            return i.__extends(e, t), Object.defineProperty(e.prototype, "Vu", { get: function() { return this.Pu }, enumerable: !1, configurable: !0 }), e.prototype.start = function() { this.Pu = !1, this.lastStreamToken = void 0, t.prototype.start.call(this) }, e.prototype.lu = function() { this.Pu && this.gu([]) }, e.prototype.Tu = function(t) { return this.Za.Iu("Write", t) }, e.prototype.onMessage = function(t) {
                                if (y(!!t.streamToken), this.lastStreamToken = t.streamToken, this.Pu) {
                                    this.xo.reset();
                                    var e = function(t, e) {
                                            return t && t.length > 0 ? (y(void 0 !== e), t.map((function(t) {
                                                return function(t, e) {
                                                    var n = te(t.updateTime ? t.updateTime : e);
                                                    n.isEqual(D.min()) && (n = te(e));
                                                    var r = null;
                                                    return t.transformResults && t.transformResults.length > 0 && (r = t.transformResults), new Le(n, r)
                                                }(t, e)
                                            }))) : []
                                        }(t.writeResults, t.commitTime),
                                        n = te(t.commitTime);
                                    return this.listener.yu(n, e)
                                }
                                return y(!t.writeResults || 0 === t.writeResults.length), this.Pu = !0, this.listener.pu()
                            }, e.prototype.bu = function() {
                                var t = {};
                                t.database = ae(this.serializer), this.uu(t)
                            }, e.prototype.gu = function(t) {
                                var e = this,
                                    n = { streamToken: this.lastStreamToken, writes: t.map((function(t) { return ue(e.serializer, t) })) };
                                this.uu(n)
                            }, e
                        }(bo),
                        So = function(t) {
                            function e(e, n, r) { var i = this; return (i = t.call(this) || this).Za = e, i.credentials = n, i.serializer = r, i.vu = !1, i }
                            return i.__extends(e, t), e.prototype.Su = function() { if (this.vu) throw new O(R.FAILED_PRECONDITION, "The client has already been terminated.") }, e.prototype.Du = function(t, e) { var n = this; return this.Su(), this.credentials.getToken().then((function(r) { return n.Za.Du(t, e, r) })).catch((function(t) { throw t.code === R.UNAUTHENTICATED && n.credentials.Ua(), t })) }, e.prototype.Cu = function(t, e) { var n = this; return this.Su(), this.credentials.getToken().then((function(r) { return n.Za.Cu(t, e, r) })).catch((function(t) { throw t.code === R.UNAUTHENTICATED && n.credentials.Ua(), t })) }, e
                        }((function() { this.je = void 0 })),
                        Co = function() {
                            function t(t) { this.Fu = t, this.Nu = new Map, this.mutations = [], this.$u = !1, this.ku = null, this.xu = new Set }
                            return t.prototype.Mu = function(t) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var e, n = this;
                                    return i.__generator(this, (function(r) {
                                        switch (r.label) {
                                            case 0:
                                                if (this.Ou(), this.mutations.length > 0) throw new O(R.INVALID_ARGUMENT, "Firestore transactions require all reads to be executed before all writes.");
                                                return [4, function(t, e) {
                                                    return i.__awaiter(this, void 0, void 0, (function() {
                                                        var n, r, o, s, a;
                                                        return i.__generator(this, (function(i) {
                                                            switch (i.label) {
                                                                case 0:
                                                                    return n = v(t), r = { database: ae(n.serializer), documents: e.map((function(t) { return re(n.serializer, t) })) }, [4, n.Cu("BatchGetDocuments", r)];
                                                                case 1:
                                                                    return o = i.sent(), s = new Map, o.forEach((function(t) {
                                                                        var e = function(t, e) {
                                                                            return "found" in e ? function(t, e) {
                                                                                y(!!e.found);
                                                                                var n = ie(t, e.found.name),
                                                                                    r = te(e.found.updateTime),
                                                                                    i = new Je({ mapValue: { fields: e.found.fields } });
                                                                                return new rn(n, r, i, {})
                                                                            }(t, e) : "missing" in e ? function(t, e) {
                                                                                y(!!e.missing), y(!!e.readTime);
                                                                                var n = ie(t, e.missing),
                                                                                    r = te(e.readTime);
                                                                                return new on(n, r)
                                                                            }(t, e) : g()
                                                                        }(n.serializer, t);
                                                                        s.set(e.key.toString(), e)
                                                                    })), a = [], [2, (e.forEach((function(t) {
                                                                        var e = s.get(t.toString());
                                                                        y(!!e), a.push(e)
                                                                    })), a)]
                                                            }
                                                        }))
                                                    }))
                                                }(this.Fu, t)];
                                            case 1:
                                                return [2, ((e = r.sent()).forEach((function(t) { t instanceof on || t instanceof rn ? n.Lu(t) : g() })), e)]
                                        }
                                    }))
                                }))
                            }, t.prototype.set = function(t, e) { this.write(e.va(t, this.Ue(t))), this.xu.add(t) }, t.prototype.update = function(t, e) {
                                try { this.write(e.va(t, this.Bu(t))) } catch (t) { this.ku = t }
                                this.xu.add(t)
                            }, t.prototype.delete = function(t) { this.write([new Qe(t, this.Ue(t))]), this.xu.add(t) }, t.prototype.commit = function() {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var t, e = this;
                                    return i.__generator(this, (function(n) {
                                        switch (n.label) {
                                            case 0:
                                                if (this.Ou(), this.ku) throw this.ku;
                                                return t = this.Nu, this.mutations.forEach((function(e) { t.delete(e.key.toString()) })), t.forEach((function(t, n) {
                                                    var r = new j(M.$(n));
                                                    e.mutations.push(new Ze(r, e.Ue(r)))
                                                })), [4, function(t, e) {
                                                    return i.__awaiter(this, void 0, void 0, (function() {
                                                        var n, r;
                                                        return i.__generator(this, (function(i) {
                                                            switch (i.label) {
                                                                case 0:
                                                                    return n = v(t), r = { database: ae(n.serializer), writes: e.map((function(t) { return ue(n.serializer, t) })) }, [4, n.Du("Commit", r)];
                                                                case 1:
                                                                    return i.sent(), [2]
                                                            }
                                                        }))
                                                    }))
                                                }(this.Fu, this.mutations)];
                                            case 1:
                                                return n.sent(), this.$u = !0, [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.Lu = function(t) {
                                var e;
                                if (t instanceof rn) e = t.version;
                                else {
                                    if (!(t instanceof on)) throw g();
                                    e = D.min()
                                }
                                var n = this.Nu.get(t.key.toString());
                                if (n) { if (!e.isEqual(n)) throw new O(R.ABORTED, "Document version changed between two reads.") } else this.Nu.set(t.key.toString(), e)
                            }, t.prototype.Ue = function(t) { var e = this.Nu.get(t.toString()); return !this.xu.has(t) && e ? Fe.updateTime(e) : Fe.Qe() }, t.prototype.Bu = function(t) { var e = this.Nu.get(t.toString()); if (!this.xu.has(t) && e) { if (e.isEqual(D.min())) throw new O(R.INVALID_ARGUMENT, "Can't update a document that doesn't exist."); return Fe.updateTime(e) } return Fe.exists(!0) }, t.prototype.write = function(t) { this.Ou(), this.mutations = this.mutations.concat(t) }, t.prototype.Ou = function() {}, t
                        }(),
                        xo = function() {
                            function t(t, e) { this.Ro = t, this.qu = e, this.state = "Unknown", this.Uu = 0, this.Qu = null, this.Wu = !0 }
                            return t.prototype.ju = function() {
                                var t = this;
                                0 === this.Uu && (this.Ku("Unknown"), this.Qu = this.Ro.Os("online_state_timeout", 1e4, (function() { return t.Qu = null, t.Gu("Backend didn't respond within 10 seconds."), t.Ku("Offline"), Promise.resolve() })))
                            }, t.prototype.zu = function(t) { "Online" === this.state ? this.Ku("Unknown") : (this.Uu++, this.Uu >= 1 && (this.Hu(), this.Gu("Connection failed 1 times. Most recent error: " + t.toString()), this.Ku("Offline"))) }, t.prototype.set = function(t) { this.Hu(), this.Uu = 0, "Online" === t && (this.Wu = !1), this.Ku(t) }, t.prototype.Ku = function(t) { t !== this.state && (this.state = t, this.qu(t)) }, t.prototype.Gu = function(t) {
                                var e = "Could not reach Cloud Firestore backend. " + t + "\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";
                                this.Wu ? (f(e), this.Wu = !1) : p("OnlineStateTracker", e)
                            }, t.prototype.Hu = function() { null !== this.Qu && (this.Qu.cancel(), this.Qu = null) }, t
                        }(),
                        To = function() {
                            function t(t, e, n, r, o) {
                                var s = this;
                                this.Yu = t, this.Fu = e, this.Ro = n, this.Ju = [], this.Xu = new Map, this.Zu = null, this.tc = new Set, this.ec = o, this.ec.nc((function(t) {
                                    n.lr((function() {
                                        return i.__awaiter(s, void 0, void 0, (function() {
                                            return i.__generator(this, (function(t) {
                                                switch (t.label) {
                                                    case 0:
                                                        return this.sc() ? (p("RemoteStore", "Restarting streams for network reachability change."), [4, this.ic()]) : [3, 2];
                                                    case 1:
                                                        t.sent(), t.label = 2;
                                                    case 2:
                                                        return [2]
                                                }
                                            }))
                                        }))
                                    }))
                                })), this.rc = new xo(n, r), this.oc = function(t, e, n) { var r = v(t); return new wo(e, r.Za, r.credentials, r.serializer, n) }(this.Fu, n, { Eu: this.hc.bind(this), _u: this.ac.bind(this), mu: this.uc.bind(this) }), this.cc = function(t, e, n) { var r = v(t); return new Eo(e, r.Za, r.credentials, r.serializer, n) }(this.Fu, n, { Eu: this.lc.bind(this), _u: this._c.bind(this), pu: this.fc.bind(this), yu: this.yu.bind(this) })
                            }
                            return t.prototype.start = function() { return this.enableNetwork() }, t.prototype.enableNetwork = function() { return this.tc.delete(0), this.dc() }, t.prototype.dc = function() {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    return i.__generator(this, (function(t) {
                                        switch (t.label) {
                                            case 0:
                                                return this.sc() ? (this.wc() ? this.Tc() : this.rc.set("Unknown"), [4, this.Ec()]) : [3, 2];
                                            case 1:
                                                t.sent(), t.label = 2;
                                            case 2:
                                                return [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.disableNetwork = function() {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    return i.__generator(this, (function(t) {
                                        switch (t.label) {
                                            case 0:
                                                return this.tc.add(0), [4, this.Ic()];
                                            case 1:
                                                return t.sent(), this.rc.set("Offline"), [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.Ic = function() {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    return i.__generator(this, (function(t) {
                                        switch (t.label) {
                                            case 0:
                                                return [4, this.cc.stop()];
                                            case 1:
                                                return t.sent(), [4, this.oc.stop()];
                                            case 2:
                                                return t.sent(), this.Ju.length > 0 && (p("RemoteStore", "Stopping write stream with " + this.Ju.length + " pending writes"), this.Ju = []), this.mc(), [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.yr = function() {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    return i.__generator(this, (function(t) {
                                        switch (t.label) {
                                            case 0:
                                                return p("RemoteStore", "RemoteStore shutting down."), this.tc.add(5), [4, this.Ic()];
                                            case 1:
                                                return t.sent(), this.ec.yr(), this.rc.set("Unknown"), [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.listen = function(t) { this.Xu.has(t.targetId) || (this.Xu.set(t.targetId, t), this.wc() ? this.Tc() : this.oc.iu() && this.Ac(t)) }, t.prototype.Rc = function(t) { this.Xu.delete(t), this.oc.iu() && this.Pc(t), 0 === this.Xu.size && (this.oc.iu() ? this.oc.hu() : this.sc() && this.rc.set("Unknown")) }, t.prototype.Me = function(t) { return this.Xu.get(t) || null }, t.prototype.xe = function(t) { return this.Vc.xe(t) }, t.prototype.Ac = function(t) { this.Zu.de(t.targetId), this.oc.Au(t) }, t.prototype.Pc = function(t) { this.Zu.de(t), this.oc.Ru(t) }, t.prototype.Tc = function() { this.Zu = new Ct(this), this.oc.start(), this.rc.ju() }, t.prototype.wc = function() { return this.sc() && !this.oc.su() && this.Xu.size > 0 }, t.prototype.sc = function() { return 0 === this.tc.size }, t.prototype.mc = function() { this.Zu = null }, t.prototype.hc = function() { return i.__awaiter(this, void 0, void 0, (function() { var t = this; return i.__generator(this, (function(e) { return this.Xu.forEach((function(e, n) { t.Ac(e) })), [2] })) })) }, t.prototype.ac = function(t) { return i.__awaiter(this, void 0, void 0, (function() { return i.__generator(this, (function(e) { return this.mc(), this.wc() ? (this.rc.zu(t), this.Tc()) : this.rc.set("Unknown"), [2] })) })) }, t.prototype.uc = function(t, e) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var n, r, o;
                                    return i.__generator(this, (function(i) {
                                        switch (i.label) {
                                            case 0:
                                                if (this.rc.set("Online"), !(t instanceof Et && 2 === t.state && t.cause)) return [3, 6];
                                                i.label = 1;
                                            case 1:
                                                return i.trys.push([1, 3, , 5]), [4, this.gc(t)];
                                            case 2:
                                                return i.sent(), [3, 5];
                                            case 3:
                                                return n = i.sent(), p("RemoteStore", "Failed to remove targets %s: %s ", t.targetIds.join(","), n), [4, this.yc(n)];
                                            case 4:
                                                return i.sent(), [3, 5];
                                            case 5:
                                                return [3, 13];
                                            case 6:
                                                if (t instanceof bt ? this.Zu.Pe(t) : t instanceof wt ? this.Zu.De(t) : this.Zu.ye(t), e.isEqual(D.min())) return [3, 13];
                                                i.label = 7;
                                            case 7:
                                                return i.trys.push([7, 11, , 13]), [4, this.Yu.mi()];
                                            case 8:
                                                return r = i.sent(), e.o(r) >= 0 ? [4, this.pc(e)] : [3, 10];
                                            case 9:
                                                i.sent(), i.label = 10;
                                            case 10:
                                                return [3, 13];
                                            case 11:
                                                return p("RemoteStore", "Failed to raise snapshot:", o = i.sent()), [4, this.yc(o)];
                                            case 12:
                                                return i.sent(), [3, 13];
                                            case 13:
                                                return [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.yc = function(t, e) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var n = this;
                                    return i.__generator(this, (function(r) {
                                        switch (r.label) {
                                            case 0:
                                                if (!zr(t)) throw t;
                                                return this.tc.add(1), [4, this.Ic()];
                                            case 1:
                                                return r.sent(), this.rc.set("Offline"), e || (e = function() { return n.Yu.mi() }), this.Ro.dr((function() {
                                                    return i.__awaiter(n, void 0, void 0, (function() {
                                                        return i.__generator(this, (function(t) {
                                                            switch (t.label) {
                                                                case 0:
                                                                    return p("RemoteStore", "Retrying IndexedDB access"), [4, e()];
                                                                case 1:
                                                                    return t.sent(), this.tc.delete(1), [4, this.dc()];
                                                                case 2:
                                                                    return t.sent(), [2]
                                                            }
                                                        }))
                                                    }))
                                                })), [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.bc = function(t) { var e = this; return t().catch((function(n) { return e.yc(n, t) })) }, t.prototype.pc = function(t) {
                                var e = this,
                                    n = this.Zu.Ne(t);
                                return n.Qt.forEach((function(n, r) {
                                    if (n.resumeToken.H() > 0) {
                                        var i = e.Xu.get(r);
                                        i && e.Xu.set(r, i.tt(n.resumeToken, t))
                                    }
                                })), n.Wt.forEach((function(t) {
                                    var n = e.Xu.get(t);
                                    if (n) {
                                        e.Xu.set(t, n.tt($.Y, n.X)), e.Pc(t);
                                        var r = new X(n.target, t, 1, n.sequenceNumber);
                                        e.Ac(r)
                                    }
                                })), this.Vc.qh(n)
                            }, t.prototype.gc = function(t) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var e, n, r, o;
                                    return i.__generator(this, (function(i) {
                                        switch (i.label) {
                                            case 0:
                                                e = t.cause, n = 0, r = t.targetIds, i.label = 1;
                                            case 1:
                                                return n < r.length ? this.Xu.has(o = r[n]) ? [4, this.Vc.vc(o, e)] : [3, 3] : [3, 5];
                                            case 2:
                                                i.sent(), this.Xu.delete(o), this.Zu.removeTarget(o), i.label = 3;
                                            case 3:
                                                i.label = 4;
                                            case 4:
                                                return n++, [3, 1];
                                            case 5:
                                                return [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.Ec = function() {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var t, e, n;
                                    return i.__generator(this, (function(r) {
                                        switch (r.label) {
                                            case 0:
                                                t = this.Ju.length > 0 ? this.Ju[this.Ju.length - 1].batchId : -1, r.label = 1;
                                            case 1:
                                                if (!this.Sc()) return [3, 7];
                                                r.label = 2;
                                            case 2:
                                                return r.trys.push([2, 4, , 6]), [4, this.Yu.jh(t)];
                                            case 3:
                                                return null === (e = r.sent()) ? (0 === this.Ju.length && this.cc.hu(), [3, 7]) : (t = e.batchId, this.Dc(e), [3, 6]);
                                            case 4:
                                                return n = r.sent(), [4, this.yc(n)];
                                            case 5:
                                                return r.sent(), [3, 6];
                                            case 6:
                                                return [3, 1];
                                            case 7:
                                                return this.Cc() && this.Fc(), [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.Sc = function() { return this.sc() && this.Ju.length < 10 }, t.prototype.Nc = function() { return this.Ju.length }, t.prototype.Dc = function(t) { this.Ju.push(t), this.cc.iu() && this.cc.Vu && this.cc.gu(t.mutations) }, t.prototype.Cc = function() { return this.sc() && !this.cc.su() && this.Ju.length > 0 }, t.prototype.Fc = function() { this.cc.start() }, t.prototype.lc = function() { return i.__awaiter(this, void 0, void 0, (function() { return i.__generator(this, (function(t) { return this.cc.bu(), [2] })) })) }, t.prototype.fc = function() { return i.__awaiter(this, void 0, void 0, (function() { var t, e; return i.__generator(this, (function(n) { for (t = 0, e = this.Ju; t < e.length; t++) this.cc.gu(e[t].mutations); return [2] })) })) }, t.prototype.yu = function(t, e) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var n, r, o = this;
                                    return i.__generator(this, (function(i) {
                                        switch (i.label) {
                                            case 0:
                                                return n = this.Ju.shift(), r = kn.from(n, t, e), [4, this.bc((function() { return o.Vc.$c(r) }))];
                                            case 1:
                                                return i.sent(), [4, this.Ec()];
                                            case 2:
                                                return i.sent(), [2]
                                        }
                                    }))
                                }))
                            }, t.prototype._c = function(t) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    return i.__generator(this, (function(e) {
                                        switch (e.label) {
                                            case 0:
                                                return t && this.cc.Vu ? [4, this.kc(t)] : [3, 2];
                                            case 1:
                                                e.sent(), e.label = 2;
                                            case 2:
                                                return this.Cc() && this.Fc(), [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.kc = function(t) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var e, n, r = this;
                                    return i.__generator(this, (function(i) {
                                        switch (i.label) {
                                            case 0:
                                                return Z(n = t.code) && n !== R.ABORTED ? (e = this.Ju.shift(), this.cc.ou(), [4, this.bc((function() { return r.Vc.xc(e.batchId, t) }))]) : [3, 3];
                                            case 1:
                                                return i.sent(), [4, this.Ec()];
                                            case 2:
                                                i.sent(), i.label = 3;
                                            case 3:
                                                return [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.Mc = function() { return new Co(this.Fu) }, t.prototype.ic = function() {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    return i.__generator(this, (function(t) {
                                        switch (t.label) {
                                            case 0:
                                                return this.tc.add(4), [4, this.Ic()];
                                            case 1:
                                                return t.sent(), this.rc.set("Unknown"), this.tc.delete(4), [4, this.dc()];
                                            case 2:
                                                return t.sent(), [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.Oc = function(t) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    return i.__generator(this, (function(e) {
                                        switch (e.label) {
                                            case 0:
                                                return this.Ro.Ko(), p("RemoteStore", "RemoteStore received new credentials"), this.tc.add(3), [4, this.Ic()];
                                            case 1:
                                                return e.sent(), this.rc.set("Unknown"), [4, this.Vc.Oc(t)];
                                            case 2:
                                                return e.sent(), this.tc.delete(3), [4, this.dc()];
                                            case 3:
                                                return e.sent(), [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.Lc = function(t) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    return i.__generator(this, (function(e) {
                                        switch (e.label) {
                                            case 0:
                                                return t ? (this.tc.delete(2), [4, this.dc()]) : [3, 2];
                                            case 1:
                                                return e.sent(), [3, 5];
                                            case 2:
                                                return t ? [3, 4] : (this.tc.add(2), [4, this.Ic()]);
                                            case 3:
                                                e.sent(), this.rc.set("Unknown"), e.label = 4;
                                            case 4:
                                                e.label = 5;
                                            case 5:
                                                return [2]
                                        }
                                    }))
                                }))
                            }, t
                        }();

                    function ko(t, e) { return "firestore_clients_" + t + "_" + e }

                    function Io(t, e, n) { var r = "firestore_mutations_" + t + "_" + n; return e.Yr() && (r += "_" + e.uid), r }

                    function Ao(t, e) { return "firestore_targets_" + t + "_" + e }
                    var Ro = function() {
                            function t(t, e, n, r) { this.user = t, this.batchId = e, this.state = n, this.error = r }
                            return t.Bc = function(e, n, r) {
                                var i = JSON.parse(r),
                                    o = "object" == typeof i && -1 !== ["pending", "acknowledged", "rejected"].indexOf(i.state) && (void 0 === i.error || "object" == typeof i.error),
                                    s = void 0;
                                return o && i.error && (o = "string" == typeof i.error.message && "string" == typeof i.error.code) && (s = new O(i.error.code, i.error.message)), o ? new t(e, n, i.state, s) : (f("SharedClientState", "Failed to parse mutation state for ID '" + n + "': " + r), null)
                            }, t.prototype.qc = function() { var t = { state: this.state, updateTimeMs: Date.now() }; return this.error && (t.error = { code: this.error.code, message: this.error.message }), JSON.stringify(t) }, t
                        }(),
                        Oo = function() {
                            function t(t, e, n) { this.targetId = t, this.state = e, this.error = n }
                            return t.Bc = function(e, n) {
                                var r = JSON.parse(n),
                                    i = "object" == typeof r && -1 !== ["not-current", "current", "rejected"].indexOf(r.state) && (void 0 === r.error || "object" == typeof r.error),
                                    o = void 0;
                                return i && r.error && (i = "string" == typeof r.error.message && "string" == typeof r.error.code) && (o = new O(r.error.code, r.error.message)), i ? new t(e, r.state, o) : (f("SharedClientState", "Failed to parse target state for ID '" + e + "': " + n), null)
                            }, t.prototype.qc = function() { var t = { state: this.state, updateTimeMs: Date.now() }; return this.error && (t.error = { code: this.error.code, message: this.error.message }), JSON.stringify(t) }, t
                        }(),
                        No = function() {
                            function t(t, e) { this.clientId = t, this.activeTargetIds = e }
                            return t.Bc = function(e, n) { for (var r = JSON.parse(n), i = "object" == typeof r && r.activeTargetIds instanceof Array, o = ft(), s = 0; i && s < r.activeTargetIds.length; ++s) i = B(r.activeTargetIds[s]), o = o.add(r.activeTargetIds[s]); return i ? new t(e, o) : (f("SharedClientState", "Failed to parse client data for instance '" + e + "': " + n), null) }, t
                        }(),
                        Do = function() {
                            function t(t, e) { this.clientId = t, this.onlineState = e }
                            return t.Bc = function(e) { var n = JSON.parse(e); return "object" == typeof n && -1 !== ["Unknown", "Online", "Offline"].indexOf(n.onlineState) && "string" == typeof n.clientId ? new t(n.clientId, n.onlineState) : (f("SharedClientState", "Failed to parse online state: " + e), null) }, t
                        }(),
                        Po = function() {
                            function t() { this.activeTargetIds = ft() }
                            return t.prototype.Uc = function(t) { this.activeTargetIds = this.activeTargetIds.add(t) }, t.prototype.Qc = function(t) { this.activeTargetIds = this.activeTargetIds.delete(t) }, t.prototype.qc = function() { var t = { activeTargetIds: this.activeTargetIds.F(), updateTimeMs: Date.now() }; return JSON.stringify(t) }, t
                        }(),
                        Mo = function() {
                            function t(t, e, n, r, i) {
                                this.window = t, this.bs = e, this.persistenceKey = n, this.Wc = r, this.Vc = null, this.qu = null, this.Ps = null, this.jc = this.Kc.bind(this), this.Gc = new tt(w), this.hr = !1, this.zc = [];
                                var o = n.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
                                this.storage = this.window.localStorage, this.currentUser = i, this.Hc = ko(this.persistenceKey, this.Wc), this.Yc = function(t) { return "firestore_sequence_number_" + t }(this.persistenceKey), this.Gc = this.Gc.nt(this.Wc, new Po), this.Jc = new RegExp("^firestore_clients_" + o + "_([^_]*)$"), this.Xc = new RegExp("^firestore_mutations_" + o + "_(\\d+)(?:_(.*))?$"), this.Zc = new RegExp("^firestore_targets_" + o + "_(\\d+)$"), this.tl = function(t) { return "firestore_online_state_" + t }(this.persistenceKey), this.window.addEventListener("storage", this.jc)
                            }
                            return t.Hi = function(t) { return !(!t || !t.localStorage) }, t.prototype.start = function() {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var t, e, n, r, o, s, a, c, l, u, h = this;
                                    return i.__generator(this, (function(i) {
                                        switch (i.label) {
                                            case 0:
                                                return [4, this.Vc.Dr()];
                                            case 1:
                                                for (t = i.sent(), e = 0, n = t; e < n.length; e++)(r = n[e]) !== this.Wc && (o = this.getItem(ko(this.persistenceKey, r))) && (s = No.Bc(r, o)) && (this.Gc = this.Gc.nt(s.clientId, s));
                                                for (this.el(), (a = this.storage.getItem(this.tl)) && (c = this.nl(a)) && this.sl(c), l = 0, u = this.zc; l < u.length; l++) this.Kc(u[l]);
                                                return this.zc = [], this.window.addEventListener("unload", (function() { return h.yr() })), this.hr = !0, [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.ys = function(t) { this.setItem(this.Yc, JSON.stringify(t)) }, t.prototype.il = function() { return this.rl(this.Gc) }, t.prototype.ol = function(t) { var e = !1; return this.Gc.forEach((function(n, r) { r.activeTargetIds.has(t) && (e = !0) })), e }, t.prototype.hl = function(t) { this.al(t, "pending") }, t.prototype.ul = function(t, e, n) { this.al(t, e, n), this.cl(t) }, t.prototype.ll = function(t) {
                                var e = "not-current";
                                if (this.ol(t)) {
                                    var n = this.storage.getItem(Ao(this.persistenceKey, t));
                                    if (n) {
                                        var r = Oo.Bc(t, n);
                                        r && (e = r.state)
                                    }
                                }
                                return this._l.Uc(t), this.el(), e
                            }, t.prototype.fl = function(t) { this._l.Qc(t), this.el() }, t.prototype.dl = function(t) { return this._l.activeTargetIds.has(t) }, t.prototype.wl = function(t) { this.removeItem(Ao(this.persistenceKey, t)) }, t.prototype.Tl = function(t, e, n) { this.El(t, e, n) }, t.prototype.Nh = function(t, e, n) {
                                var r = this;
                                e.forEach((function(t) { r.cl(t) })), this.currentUser = t, n.forEach((function(t) { r.hl(t) }))
                            }, t.prototype.Il = function(t) { this.ml(t) }, t.prototype.yr = function() { this.hr && (this.window.removeEventListener("storage", this.jc), this.removeItem(this.Hc), this.hr = !1) }, t.prototype.getItem = function(t) { var e = this.storage.getItem(t); return p("SharedClientState", "READ", t, e), e }, t.prototype.setItem = function(t, e) { p("SharedClientState", "SET", t, e), this.storage.setItem(t, e) }, t.prototype.removeItem = function(t) { p("SharedClientState", "REMOVE", t), this.storage.removeItem(t) }, t.prototype.Kc = function(t) {
                                var e = this,
                                    n = t;
                                if (n.storageArea === this.storage) {
                                    if (p("SharedClientState", "EVENT", n.key, n.newValue), n.key === this.Hc) return void f("Received WebStorage notification for local change. Another client might have garbage-collected our state");
                                    this.bs.dr((function() {
                                        return i.__awaiter(e, void 0, void 0, (function() {
                                            var t, e, r, o, s, a;
                                            return i.__generator(this, (function(i) {
                                                if (this.hr) {
                                                    if (null !== n.key)
                                                        if (this.Jc.test(n.key)) { if (null == n.newValue) return t = this.Al(n.key), [2, this.Rl(t, null)]; if (e = this.Pl(n.key, n.newValue)) return [2, this.Rl(e.clientId, e)] } else if (this.Xc.test(n.key)) { if (null !== n.newValue && (r = this.Vl(n.key, n.newValue))) return [2, this.gl(r)] } else if (this.Zc.test(n.key)) { if (null !== n.newValue && (o = this.yl(n.key, n.newValue))) return [2, this.pl(o)] } else if (n.key === this.tl) { if (null !== n.newValue && (s = this.nl(n.newValue))) return [2, this.sl(s)] } else n.key === this.Yc && (a = function(t) {
                                                        var e = Pn.ps;
                                                        if (null != t) try {
                                                            var n = JSON.parse(t);
                                                            y("number" == typeof n), e = n
                                                        } catch (t) { f("SharedClientState", "Failed to read sequence number from WebStorage", t) }
                                                        return e
                                                    }(n.newValue)) !== Pn.ps && this.Ps(a)
                                                } else this.zc.push(n);
                                                return [2]
                                            }))
                                        }))
                                    }))
                                }
                            }, Object.defineProperty(t.prototype, "_l", { get: function() { return this.Gc.get(this.Wc) }, enumerable: !1, configurable: !0 }), t.prototype.el = function() { this.setItem(this.Hc, this._l.qc()) }, t.prototype.al = function(t, e, n) {
                                var r = new Ro(this.currentUser, t, e, n),
                                    i = Io(this.persistenceKey, this.currentUser, t);
                                this.setItem(i, r.qc())
                            }, t.prototype.cl = function(t) {
                                var e = Io(this.persistenceKey, this.currentUser, t);
                                this.removeItem(e)
                            }, t.prototype.ml = function(t) { this.storage.setItem(this.tl, JSON.stringify({ clientId: this.Wc, onlineState: t })) }, t.prototype.El = function(t, e, n) {
                                var r = Ao(this.persistenceKey, t),
                                    i = new Oo(t, e, n);
                                this.setItem(r, i.qc())
                            }, t.prototype.Al = function(t) { var e = this.Jc.exec(t); return e ? e[1] : null }, t.prototype.Pl = function(t, e) { var n = this.Al(t); return No.Bc(n, e) }, t.prototype.Vl = function(t, e) {
                                var n = this.Xc.exec(t),
                                    r = Number(n[1]);
                                return Ro.Bc(new fo(void 0 !== n[2] ? n[2] : null), r, e)
                            }, t.prototype.yl = function(t, e) {
                                var n = this.Zc.exec(t),
                                    r = Number(n[1]);
                                return Oo.Bc(r, e)
                            }, t.prototype.nl = function(t) { return Do.Bc(t) }, t.prototype.gl = function(t) { return i.__awaiter(this, void 0, void 0, (function() { return i.__generator(this, (function(e) { return t.user.uid === this.currentUser.uid ? [2, this.Vc.bl(t.batchId, t.state, t.error)] : (p("SharedClientState", "Ignoring mutation for non-active user " + t.user.uid), [2]) })) })) }, t.prototype.pl = function(t) { return this.Vc.vl(t.targetId, t.state, t.error) }, t.prototype.Rl = function(t, e) {
                                var n = this,
                                    r = e ? this.Gc.nt(t, e) : this.Gc.remove(t),
                                    i = this.rl(this.Gc),
                                    o = this.rl(r),
                                    s = [],
                                    a = [];
                                return o.forEach((function(t) { i.has(t) || s.push(t) })), i.forEach((function(t) { o.has(t) || a.push(t) })), this.Vc.Sl(s, a).then((function() { n.Gc = r }))
                            }, t.prototype.sl = function(t) { this.Gc.get(t.clientId) && this.qu(t.onlineState) }, t.prototype.rl = function(t) { var e = ft(); return t.forEach((function(t, n) { e = e.Ct(n.activeTargetIds) })), e }, t
                        }(),
                        Lo = function() {
                            function t() { this.Dl = new Po, this.Cl = {}, this.Vc = null, this.qu = null, this.Ps = null }
                            return t.prototype.hl = function(t) {}, t.prototype.ul = function(t, e, n) {}, t.prototype.ll = function(t) { return this.Dl.Uc(t), this.Cl[t] || "not-current" }, t.prototype.Tl = function(t, e, n) { this.Cl[t] = e }, t.prototype.fl = function(t) { this.Dl.Qc(t) }, t.prototype.dl = function(t) { return this.Dl.activeTargetIds.has(t) }, t.prototype.wl = function(t) { delete this.Cl[t] }, t.prototype.il = function() { return this.Dl.activeTargetIds }, t.prototype.ol = function(t) { return this.Dl.activeTargetIds.has(t) }, t.prototype.start = function() { return this.Dl = new Po, Promise.resolve() }, t.prototype.Nh = function(t, e, n) {}, t.prototype.Il = function(t) {}, t.prototype.yr = function() {}, t.prototype.ys = function(t) {}, t
                        }(),
                        Fo = function(t) { this.key = t },
                        jo = function(t) { this.key = t },
                        Uo = function() {
                            function t(t, e) { this.query = t, this.Fl = e, this.Nl = null, this.Ht = !1, this.$l = dt(), this.Lt = dt(), this.kl = dn(t), this.xl = new mt(this.kl) }
                            return Object.defineProperty(t.prototype, "Ml", { get: function() { return this.Fl }, enumerable: !1, configurable: !0 }), t.prototype.Ol = function(t, e) {
                                var n = this,
                                    r = e ? e.Ll : new gt,
                                    i = e ? e.xl : this.xl,
                                    o = e ? e.Lt : this.Lt,
                                    s = i,
                                    a = !1,
                                    c = this.query.In() && i.size === this.query.limit ? i.last() : null,
                                    l = this.query.mn() && i.size === this.query.limit ? i.first() : null;
                                if (t.ot((function(t, e) {
                                        var u = i.get(t),
                                            h = e instanceof rn ? e : null;
                                        h && (h = hn(n.query, h) ? h : null);
                                        var d = !!u && n.Lt.has(u.key),
                                            p = !!h && (h.Ge || n.Lt.has(h.key) && h.hasCommittedMutations),
                                            f = !1;
                                        u && h ? u.data().isEqual(h.data()) ? d !== p && (r.track({ type: 3, doc: h }), f = !0) : n.Bl(u, h) || (r.track({ type: 2, doc: h }), f = !0, (c && n.kl(h, c) > 0 || l && n.kl(h, l) < 0) && (a = !0)) : !u && h ? (r.track({ type: 0, doc: h }), f = !0) : u && !h && (r.track({ type: 1, doc: u }), f = !0, (c || l) && (a = !0)), f && (h ? (s = s.add(h), o = p ? o.add(t) : o.delete(t)) : (s = s.delete(t), o = o.delete(t)))
                                    })), this.query.In() || this.query.mn())
                                    for (; s.size > this.query.limit;) {
                                        var u = this.query.In() ? s.last() : s.first();
                                        s = s.delete(u.key), o = o.delete(u.key), r.track({ type: 1, doc: u })
                                    }
                                return { xl: s, Ll: r, ql: a, Lt: o }
                            }, t.prototype.Bl = function(t, e) { return t.Ge && e.hasCommittedMutations && !e.Ge }, t.prototype.Jn = function(t, e, n) {
                                var r = this,
                                    i = this.xl;
                                this.xl = t.xl, this.Lt = t.Lt;
                                var o = t.Ll.Mt();
                                o.sort((function(t, e) {
                                    return function(t, e) {
                                        var n = function(t) {
                                            switch (t) {
                                                case 0:
                                                    return 1;
                                                case 2:
                                                case 3:
                                                    return 2;
                                                case 1:
                                                    return 0;
                                                default:
                                                    return g()
                                            }
                                        };
                                        return n(t) - n(e)
                                    }(t.type, e.type) || r.kl(t.doc, e.doc)
                                })), this.Ul(n);
                                var s = e ? this.Ql() : [],
                                    a = 0 === this.$l.size && this.Ht ? 1 : 0,
                                    c = a !== this.Nl;
                                return this.Nl = a, 0 !== o.length || c ? { snapshot: new yt(this.query, t.xl, i, o, t.Lt, 0 === a, c, !1), Wl: s } : { Wl: s }
                            }, t.prototype.jl = function(t) { return this.Ht && "Offline" === t ? (this.Ht = !1, this.Jn({ xl: this.xl, Ll: new gt, Lt: this.Lt, ql: !1 }, !1)) : { Wl: [] } }, t.prototype.Kl = function(t) { return !this.Fl.has(t) && !!this.xl.has(t) && !this.xl.get(t).Ge }, t.prototype.Ul = function(t) {
                                var e = this;
                                t && (t.Yt.forEach((function(t) { return e.Fl = e.Fl.add(t) })), t.Jt.forEach((function(t) {})), t.Xt.forEach((function(t) { return e.Fl = e.Fl.delete(t) })), this.Ht = t.Ht)
                            }, t.prototype.Ql = function() {
                                var t = this;
                                if (!this.Ht) return [];
                                var e = this.$l;
                                this.$l = dt(), this.xl.forEach((function(e) { t.Kl(e.key) && (t.$l = t.$l.add(e.key)) }));
                                var n = [];
                                return e.forEach((function(e) { t.$l.has(e) || n.push(new jo(e)) })), this.$l.forEach((function(t) { e.has(t) || n.push(new Fo(t)) })), n
                            }, t.prototype.Gl = function(t) { this.Fl = t.Yh, this.$l = dt(); var e = this.Ol(t.documents); return this.Jn(e, !0) }, t.prototype.zl = function() { return yt.Ut(this.query, this.xl, this.Lt, 0 === this.Nl) }, t
                        }(),
                        Vo = function() {
                            function t(t, e, n, r) { this.Ro = t, this.Fu = e, this.updateFunction = n, this.yo = r, this.Hl = 5, this.xo = new Ln(this.Ro, "transaction_retry") }
                            return t.prototype.run = function() { this.Yl() }, t.prototype.Yl = function() {
                                var t = this;
                                this.xo.xs((function() { return i.__awaiter(t, void 0, void 0, (function() { var t, e, n = this; return i.__generator(this, (function(r) { return t = new Co(this.Fu), (e = this.Jl(t)) && e.then((function(e) { n.Ro.lr((function() { return t.commit().then((function() { n.yo.resolve(e) })).catch((function(t) { n.Xl(t) })) })) })).catch((function(t) { n.Xl(t) })), [2] })) })) }))
                            }, t.prototype.Jl = function(t) { try { var e = this.updateFunction(t); return !U(e) && e.catch && e.then ? e : (this.yo.reject(Error("Transaction callback must return a Promise")), null) } catch (t) { return this.yo.reject(t), null } }, t.prototype.Xl = function(t) {
                                var e = this;
                                this.Hl > 0 && this.Zl(t) ? (this.Hl -= 1, this.Ro.lr((function() { return e.Yl(), Promise.resolve() }))) : this.yo.reject(t)
                            }, t.prototype.Zl = function(t) { if ("FirebaseError" === t.name) { var e = t.code; return "aborted" === e || "failed-precondition" === e || !Z(e) } return !1 }, t
                        }(),
                        Bo = function(t, e, n) { this.query = t, this.targetId = e, this.view = n },
                        qo = function(t) { this.key = t, this.t_ = !1 },
                        Ho = function() {
                            function t(t, e, n, r, i, o) { this.Yu = t, this.e_ = e, this.Fu = n, this.n_ = r, this.currentUser = i, this.s_ = o, this.i_ = null, this.r_ = new A((function(t) { return ln(t) }), cn), this.o_ = new Map, this.h_ = [], this.a_ = new tt(j.P), this.u_ = new Map, this.c_ = new ui, this.l_ = {}, this.__ = new Map, this.f_ = sr.di(), this.onlineState = "Unknown" }
                            return Object.defineProperty(t.prototype, "d_", { get: function() { return !0 }, enumerable: !1, configurable: !0 }), t.prototype.subscribe = function(t) { this.i_ = t }, t.prototype.listen = function(t) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var e, n, r, o;
                                    return i.__generator(this, (function(i) {
                                        switch (i.label) {
                                            case 0:
                                                return this.w_("listen()"), (n = this.r_.get(t)) ? (this.n_.ll(n.targetId), e = n.view.zl(), [3, 4]) : [3, 1];
                                            case 1:
                                                return [4, this.Yu.Gh(t.We())];
                                            case 2:
                                                return r = i.sent(), o = this.n_.ll(r.targetId), [4, this.T_(t, r.targetId, "current" === o)];
                                            case 3:
                                                e = i.sent(), this.d_ && this.e_.listen(r), i.label = 4;
                                            case 4:
                                                return [2, e]
                                        }
                                    }))
                                }))
                            }, t.prototype.T_ = function(t, e, n) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var r, o, s, a, c, l;
                                    return i.__generator(this, (function(i) {
                                        switch (i.label) {
                                            case 0:
                                                return [4, this.Yu.Hh(t, !0)];
                                            case 1:
                                                return r = i.sent(), o = new Uo(t, r.Yh), s = o.Ol(r.documents), a = _t.zt(e, n && "Offline" !== this.onlineState), c = o.Jn(s, this.d_, a), this.E_(e, c.Wl), l = new Bo(t, e, o), [2, (this.r_.set(t, l), this.o_.has(e) ? this.o_.get(e).push(t) : this.o_.set(e, [t]), c.snapshot)]
                                        }
                                    }))
                                }))
                            }, t.prototype.Rc = function(t) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var e, n, r = this;
                                    return i.__generator(this, (function(i) {
                                        switch (i.label) {
                                            case 0:
                                                return this.w_("unlisten()"), e = this.r_.get(t), (n = this.o_.get(e.targetId)).length > 1 ? [2, (this.o_.set(e.targetId, n.filter((function(e) { return !cn(e, t) }))), void this.r_.delete(t))] : this.d_ ? (this.n_.fl(e.targetId), this.n_.ol(e.targetId) ? [3, 2] : [4, this.Yu.zh(e.targetId, !1).then((function() { r.n_.wl(e.targetId), r.e_.Rc(e.targetId), r.I_(e.targetId) })).catch(li)]) : [3, 3];
                                            case 1:
                                                i.sent(), i.label = 2;
                                            case 2:
                                                return [3, 5];
                                            case 3:
                                                return this.I_(e.targetId), [4, this.Yu.zh(e.targetId, !0)];
                                            case 4:
                                                i.sent(), i.label = 5;
                                            case 5:
                                                return [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.write = function(t, e) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var n, r, o;
                                    return i.__generator(this, (function(i) {
                                        switch (i.label) {
                                            case 0:
                                                this.w_("write()"), i.label = 1;
                                            case 1:
                                                return i.trys.push([1, 5, , 6]), [4, this.Yu.Mh(t)];
                                            case 2:
                                                return n = i.sent(), this.n_.hl(n.batchId), this.m_(n.batchId, e), [4, this.A_(n.Un)];
                                            case 3:
                                                return i.sent(), [4, this.e_.Ec()];
                                            case 4:
                                                return i.sent(), [3, 6];
                                            case 5:
                                                return r = i.sent(), o = ti(r, "Failed to persist write"), e.reject(o), [3, 6];
                                            case 6:
                                                return [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.runTransaction = function(t, e, n) { new Vo(t, this.Fu, e, n).run() }, t.prototype.qh = function(t) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var e, n = this;
                                    return i.__generator(this, (function(r) {
                                        switch (r.label) {
                                            case 0:
                                                this.w_("applyRemoteEvent()"), r.label = 1;
                                            case 1:
                                                return r.trys.push([1, 4, , 6]), [4, this.Yu.qh(t)];
                                            case 2:
                                                return e = r.sent(), t.Qt.forEach((function(t, e) {
                                                    var r = n.u_.get(e);
                                                    r && (y(t.Yt.size + t.Jt.size + t.Xt.size <= 1), t.Yt.size > 0 ? r.t_ = !0 : t.Jt.size > 0 ? y(r.t_) : t.Xt.size > 0 && (y(r.t_), r.t_ = !1))
                                                })), [4, this.A_(e, t)];
                                            case 3:
                                                return r.sent(), [3, 6];
                                            case 4:
                                                return [4, li(r.sent())];
                                            case 5:
                                                return r.sent(), [3, 6];
                                            case 6:
                                                return [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.jl = function(t, e) {
                                this.w_("applyOnlineStateChange()");
                                var n = [];
                                this.r_.forEach((function(e, r) {
                                    var i = r.view.jl(t);
                                    i.snapshot && n.push(i.snapshot)
                                })), this.i_.R_(t), this.i_.mu(n), this.onlineState = t
                            }, t.prototype.vc = function(t, e) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var n, r, o, s, a, c = this;
                                    return i.__generator(this, (function(i) {
                                        switch (i.label) {
                                            case 0:
                                                return this.w_("rejectListens()"), this.n_.Tl(t, "rejected", e), n = this.u_.get(t), (r = n && n.key) ? (o = (o = new tt(j.P)).nt(r, new on(r, D.min())), s = dt().add(r), a = new vt(D.min(), new Map, new rt(w), o, s), [4, this.qh(a)]) : [3, 2];
                                            case 1:
                                                return i.sent(), this.a_ = this.a_.remove(r), this.u_.delete(t), this.P_(), [3, 4];
                                            case 2:
                                                return [4, this.Yu.zh(t, !1).then((function() { return c.I_(t, e) })).catch(li)];
                                            case 3:
                                                i.sent(), i.label = 4;
                                            case 4:
                                                return [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.$c = function(t) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var e, n;
                                    return i.__generator(this, (function(r) {
                                        switch (r.label) {
                                            case 0:
                                                this.w_("applySuccessfulWrite()"), e = t.batch.batchId, r.label = 1;
                                            case 1:
                                                return r.trys.push([1, 4, , 6]), [4, this.Yu.Oh(t)];
                                            case 2:
                                                return n = r.sent(), this.V_(e, null), this.g_(e), this.n_.ul(e, "acknowledged"), [4, this.A_(n)];
                                            case 3:
                                                return r.sent(), [3, 6];
                                            case 4:
                                                return [4, li(r.sent())];
                                            case 5:
                                                return r.sent(), [3, 6];
                                            case 6:
                                                return [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.xc = function(t, e) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var n;
                                    return i.__generator(this, (function(r) {
                                        switch (r.label) {
                                            case 0:
                                                this.w_("rejectFailedWrite()"), r.label = 1;
                                            case 1:
                                                return r.trys.push([1, 4, , 6]), [4, this.Yu.Bh(t)];
                                            case 2:
                                                return n = r.sent(), this.V_(t, e), this.g_(t), this.n_.ul(t, "rejected", e), [4, this.A_(n)];
                                            case 3:
                                                return r.sent(), [3, 6];
                                            case 4:
                                                return [4, li(r.sent())];
                                            case 5:
                                                return r.sent(), [3, 6];
                                            case 6:
                                                return [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.y_ = function(t) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var e, n, r, o;
                                    return i.__generator(this, (function(i) {
                                        switch (i.label) {
                                            case 0:
                                                this.e_.sc() || p("SyncEngine", "The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."), i.label = 1;
                                            case 1:
                                                return i.trys.push([1, 3, , 4]), [4, this.Yu.no()];
                                            case 2:
                                                return -1 === (e = i.sent()) ? [2, void t.resolve()] : ((n = this.__.get(e) || []).push(t), this.__.set(e, n), [3, 4]);
                                            case 3:
                                                return r = i.sent(), o = ti(r, "Initialization of waitForPendingWrites() operation failed"), t.reject(o), [3, 4];
                                            case 4:
                                                return [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.g_ = function(t) {
                                (this.__.get(t) || []).forEach((function(t) { t.resolve() })), this.__.delete(t)
                            }, t.prototype.p_ = function(t) { this.__.forEach((function(e) { e.forEach((function(e) { e.reject(new O(R.CANCELLED, t)) })) })), this.__.clear() }, t.prototype.m_ = function(t, e) {
                                var n = this.l_[this.currentUser.Ma()];
                                n || (n = new tt(w)), n = n.nt(t, e), this.l_[this.currentUser.Ma()] = n
                            }, t.prototype.V_ = function(t, e) {
                                var n = this.l_[this.currentUser.Ma()];
                                if (n) {
                                    var r = n.get(t);
                                    r && (e ? r.reject(e) : r.resolve(), n = n.remove(t)), this.l_[this.currentUser.Ma()] = n
                                }
                            }, t.prototype.I_ = function(t, e) {
                                var n = this;
                                void 0 === e && (e = null), this.n_.fl(t);
                                for (var r = 0, i = this.o_.get(t); r < i.length; r++) {
                                    var o = i[r];
                                    this.r_.delete(o), e && this.i_.b_(o, e)
                                }
                                this.o_.delete(t), this.d_ && this.c_.aa(t).forEach((function(t) { n.c_.Mi(t) || n.v_(t) }))
                            }, t.prototype.v_ = function(t) {
                                var e = this.a_.get(t);
                                null !== e && (this.e_.Rc(e), this.a_ = this.a_.remove(t), this.u_.delete(e), this.P_())
                            }, t.prototype.E_ = function(t, e) {
                                for (var n = 0, r = e; n < r.length; n++) {
                                    var i = r[n];
                                    i instanceof Fo ? (this.c_.Fi(i.key, t), this.S_(i)) : i instanceof jo ? (p("SyncEngine", "Document no longer in limbo: " + i.key), this.c_.$i(i.key, t), this.c_.Mi(i.key) || this.v_(i.key)) : g()
                                }
                            }, t.prototype.S_ = function(t) {
                                var e = t.key;
                                this.a_.get(e) || (p("SyncEngine", "New document in limbo: " + e), this.h_.push(e), this.P_())
                            }, t.prototype.P_ = function() {
                                for (; this.h_.length > 0 && this.a_.size < this.s_;) {
                                    var t = this.h_.shift(),
                                        e = this.f_.next();
                                    this.u_.set(e, new qo(t)), this.a_ = this.a_.nt(t, e), this.e_.listen(new X(an.hn(t.path).We(), e, 2, Pn.ps))
                                }
                            }, t.prototype.D_ = function() { return this.a_ }, t.prototype.C_ = function() { return this.h_ }, t.prototype.A_ = function(t, e) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var n, r, o, s = this;
                                    return i.__generator(this, (function(i) {
                                        switch (i.label) {
                                            case 0:
                                                return n = [], r = [], o = [], this.r_.forEach((function(i, a) {
                                                    o.push(Promise.resolve().then((function() { var e = a.view.Ol(t); return e.ql ? s.Yu.Hh(a.query, !1).then((function(t) { return a.view.Ol(t.documents, e) })) : e })).then((function(t) {
                                                        var i = e && e.Qt.get(a.targetId),
                                                            o = a.view.Jn(t, s.d_, i);
                                                        if (s.E_(a.targetId, o.Wl), o.snapshot) {
                                                            s.d_ && s.n_.Tl(a.targetId, o.snapshot.fromCache ? "not-current" : "current"), n.push(o.snapshot);
                                                            var c = Dn.Rs(a.targetId, o.snapshot);
                                                            r.push(c)
                                                        }
                                                    })))
                                                })), [4, Promise.all(o)];
                                            case 1:
                                                return i.sent(), this.i_.mu(n), [4, this.Yu.Wh(r)];
                                            case 2:
                                                return i.sent(), [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.w_ = function(t) {}, t.prototype.Oc = function(t) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var e;
                                    return i.__generator(this, (function(n) {
                                        switch (n.label) {
                                            case 0:
                                                return this.currentUser.isEqual(t) ? [3, 3] : (p("SyncEngine", "User change. New user:", t.Ma()), [4, this.Yu.Nh(t)]);
                                            case 1:
                                                return e = n.sent(), this.currentUser = t, this.p_("'waitForPendingWrites' promise is rejected due to a user change."), this.n_.Nh(t, e.kh, e.xh), [4, this.A_(e.$h)];
                                            case 2:
                                                n.sent(), n.label = 3;
                                            case 3:
                                                return [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.enableNetwork = function() { return this.e_.enableNetwork() }, t.prototype.disableNetwork = function() { return this.e_.disableNetwork() }, t.prototype.xe = function(t) {
                                var e = this.u_.get(t);
                                if (e && e.t_) return dt().add(e.key);
                                var n = dt(),
                                    r = this.o_.get(t);
                                if (!r) return n;
                                for (var i = 0, o = r; i < o.length; i++) {
                                    var s = this.r_.get(o[i]);
                                    n = n.Ct(s.view.Ml)
                                }
                                return n
                            }, t
                        }(),
                        Wo = function(t) {
                            function e(e, n, r, i, o, s) { var a = this; return (a = t.call(this, e, n, r, i, o, s) || this).Yu = e, a.F_ = void 0, a }
                            return i.__extends(e, t), Object.defineProperty(e.prototype, "d_", { get: function() { return !0 === this.F_ }, enumerable: !1, configurable: !0 }), e.prototype.enableNetwork = function() { return this.Yu.cr(!0), t.prototype.enableNetwork.call(this) }, e.prototype.disableNetwork = function() { return this.Yu.cr(!1), t.prototype.disableNetwork.call(this) }, e.prototype.N_ = function(t) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var e, n;
                                    return i.__generator(this, (function(r) {
                                        switch (r.label) {
                                            case 0:
                                                return [4, this.Yu.Hh(t.query, !0)];
                                            case 1:
                                                return e = r.sent(), n = t.view.Gl(e), [2, (this.F_ && this.E_(t.targetId, n.Wl), n)]
                                        }
                                    }))
                                }))
                            }, e.prototype.jl = function(e, n) { this.d_ && 0 === n && (t.prototype.jl.call(this, e, n), this.n_.Il(e)), this.d_ || 1 !== n || t.prototype.jl.call(this, e, n) }, e.prototype.bl = function(t, e, n) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var r;
                                    return i.__generator(this, (function(i) {
                                        switch (i.label) {
                                            case 0:
                                                return this.w_("applyBatchState()"), [4, this.Yu.Xh(t)];
                                            case 1:
                                                return null === (r = i.sent()) ? [3, 6] : "pending" !== e ? [3, 3] : [4, this.e_.Ec()];
                                            case 2:
                                                return i.sent(), [3, 4];
                                            case 3:
                                                "acknowledged" === e || "rejected" === e ? (this.V_(t, n || null), this.Yu.Zh(t)) : g(), i.label = 4;
                                            case 4:
                                                return [4, this.A_(r)];
                                            case 5:
                                                return i.sent(), [3, 7];
                                            case 6:
                                                p("SyncEngine", "Cannot apply mutation batch with id: " + t), i.label = 7;
                                            case 7:
                                                return [2]
                                        }
                                    }))
                                }))
                            }, e.prototype.Lc = function(t) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var e, n, r, o, s, a, c = this;
                                    return i.__generator(this, (function(i) {
                                        switch (i.label) {
                                            case 0:
                                                return !0 !== t || !0 === this.F_ ? [3, 3] : (e = this.n_.il(), [4, this.k_(e.F(), !0)]);
                                            case 1:
                                                return n = i.sent(), this.F_ = !0, [4, this.e_.Lc(!0)];
                                            case 2:
                                                for (i.sent(), r = 0, o = n; r < o.length; r++) this.e_.listen(o[r]);
                                                return [3, 7];
                                            case 3:
                                                return !1 !== t || !1 === this.F_ ? [3, 7] : (s = [], a = Promise.resolve(), this.o_.forEach((function(t, e) { c.n_.dl(e) ? s.push(e) : a = a.then((function() { return c.I_(e), c.Yu.zh(e, !0) })), c.e_.Rc(e) })), [4, a]);
                                            case 4:
                                                return i.sent(), [4, this.k_(s, !1)];
                                            case 5:
                                                return i.sent(), this.x_(), this.F_ = !1, [4, this.e_.Lc(!1)];
                                            case 6:
                                                i.sent(), i.label = 7;
                                            case 7:
                                                return [2]
                                        }
                                    }))
                                }))
                            }, e.prototype.x_ = function() {
                                var t = this;
                                this.u_.forEach((function(e, n) { t.e_.Rc(n) })), this.c_.ua(), this.u_ = new Map, this.a_ = new tt(j.P)
                            }, e.prototype.k_ = function(t, e) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var e, n, r, o, s, a, c, l, u, h, d, p;
                                    return i.__generator(this, (function(i) {
                                        switch (i.label) {
                                            case 0:
                                                e = [], n = [], r = 0, o = t, i.label = 1;
                                            case 1:
                                                return r < o.length ? (a = void 0, (c = this.o_.get(s = o[r])) && 0 !== c.length ? [4, this.Yu.Gh(c[0].We())] : [3, 7]) : [3, 13];
                                            case 2:
                                                a = i.sent(), l = 0, u = c, i.label = 3;
                                            case 3:
                                                return l < u.length ? (h = this.r_.get(u[l]), [4, this.N_(h)]) : [3, 6];
                                            case 4:
                                                (d = i.sent()).snapshot && n.push(d.snapshot), i.label = 5;
                                            case 5:
                                                return l++, [3, 3];
                                            case 6:
                                                return [3, 11];
                                            case 7:
                                                return [4, this.Yu.ta(s)];
                                            case 8:
                                                return p = i.sent(), [4, this.Yu.Gh(p)];
                                            case 9:
                                                return a = i.sent(), [4, this.T_(this.M_(p), s, !1)];
                                            case 10:
                                                i.sent(), i.label = 11;
                                            case 11:
                                                e.push(a), i.label = 12;
                                            case 12:
                                                return r++, [3, 1];
                                            case 13:
                                                return [2, (this.i_.mu(n), e)]
                                        }
                                    }))
                                }))
                            }, e.prototype.M_ = function(t) { return new an(t.path, t.collectionGroup, t.orderBy, t.filters, t.limit, "F", t.startAt, t.endAt) }, e.prototype.Dr = function() { return this.Yu.Dr() }, e.prototype.vl = function(t, e, n) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var r, o;
                                    return i.__generator(this, (function(i) {
                                        switch (i.label) {
                                            case 0:
                                                return this.F_ ? (p("SyncEngine", "Ignoring unexpected query state notification."), [3, 8]) : [3, 1];
                                            case 1:
                                                if (!this.o_.has(t)) return [3, 8];
                                                switch (e) {
                                                    case "current":
                                                    case "not-current":
                                                        return [3, 2];
                                                    case "rejected":
                                                        return [3, 5]
                                                }
                                                return [3, 7];
                                            case 2:
                                                return [4, this.Yu.si()];
                                            case 3:
                                                return r = i.sent(), o = vt.Gt(t, "current" === e), [4, this.A_(r, o)];
                                            case 4:
                                                return i.sent(), [3, 8];
                                            case 5:
                                                return [4, this.Yu.zh(t, !0)];
                                            case 6:
                                                return i.sent(), this.I_(t, n), [3, 8];
                                            case 7:
                                                g(), i.label = 8;
                                            case 8:
                                                return [2]
                                        }
                                    }))
                                }))
                            }, e.prototype.Sl = function(t, e) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var n, r, o, s, a, c, l, u, h, d = this;
                                    return i.__generator(this, (function(f) {
                                        switch (f.label) {
                                            case 0:
                                                if (!this.F_) return [3, 10];
                                                n = 0, r = t, f.label = 1;
                                            case 1:
                                                return n < r.length ? this.o_.has(o = r[n]) ? (p("SyncEngine", "Adding an already active target " + o), [3, 5]) : [4, this.Yu.ta(o)] : [3, 6];
                                            case 2:
                                                return s = f.sent(), [4, this.Yu.Gh(s)];
                                            case 3:
                                                return a = f.sent(), [4, this.T_(this.M_(s), a.targetId, !1)];
                                            case 4:
                                                f.sent(), this.e_.listen(a), f.label = 5;
                                            case 5:
                                                return n++, [3, 1];
                                            case 6:
                                                c = function(t) {
                                                    return i.__generator(this, (function(e) {
                                                        switch (e.label) {
                                                            case 0:
                                                                return l.o_.has(t) ? [4, l.Yu.zh(t, !1).then((function() { d.e_.Rc(t), d.I_(t) })).catch(li)] : [3, 2];
                                                            case 1:
                                                                e.sent(), e.label = 2;
                                                            case 2:
                                                                return [2]
                                                        }
                                                    }))
                                                }, l = this, u = 0, h = e, f.label = 7;
                                            case 7:
                                                return u < h.length ? [5, c(h[u])] : [3, 10];
                                            case 8:
                                                f.sent(), f.label = 9;
                                            case 9:
                                                return u++, [3, 7];
                                            case 10:
                                                return [2]
                                        }
                                    }))
                                }))
                            }, e
                        }(Ho),
                        zo = function() { this.O_ = void 0, this.listeners = [] },
                        Go = function() {
                            function t(t) { this.Vc = t, this.L_ = new A((function(t) { return ln(t) }), cn), this.onlineState = "Unknown", this.B_ = new Set, this.Vc.subscribe(this) }
                            return t.prototype.listen = function(t) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var e, n, r, o, s, a;
                                    return i.__generator(this, (function(i) {
                                        switch (i.label) {
                                            case 0:
                                                if (n = !1, (r = this.L_.get(e = t.query)) || (n = !0, r = new zo), !n) return [3, 4];
                                                i.label = 1;
                                            case 1:
                                                return i.trys.push([1, 3, , 4]), o = r, [4, this.Vc.listen(e)];
                                            case 2:
                                                return o.O_ = i.sent(), [3, 4];
                                            case 3:
                                                return s = i.sent(), a = ti(s, "Initialization of query '" + un(t.query) + "' failed"), [2, void t.onError(a)];
                                            case 4:
                                                return this.L_.set(e, r), r.listeners.push(t), t.jl(this.onlineState), r.O_ && t.q_(r.O_) && this.U_(), [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.Rc = function(t) { return i.__awaiter(this, void 0, void 0, (function() { var e, n, r, o; return i.__generator(this, (function(i) { return n = !1, (r = this.L_.get(e = t.query)) && (o = r.listeners.indexOf(t)) >= 0 && (r.listeners.splice(o, 1), n = 0 === r.listeners.length), n ? [2, (this.L_.delete(e), this.Vc.Rc(e))] : [2] })) })) }, t.prototype.mu = function(t) {
                                for (var e = !1, n = 0, r = t; n < r.length; n++) {
                                    var i = r[n],
                                        o = this.L_.get(i.query);
                                    if (o) {
                                        for (var s = 0, a = o.listeners; s < a.length; s++) a[s].q_(i) && (e = !0);
                                        o.O_ = i
                                    }
                                }
                                e && this.U_()
                            }, t.prototype.b_ = function(t, e) {
                                var n = this.L_.get(t);
                                if (n)
                                    for (var r = 0, i = n.listeners; r < i.length; r++) i[r].onError(e);
                                this.L_.delete(t)
                            }, t.prototype.R_ = function(t) {
                                this.onlineState = t;
                                var e = !1;
                                this.L_.forEach((function(n, r) { for (var i = 0, o = r.listeners; i < o.length; i++) o[i].jl(t) && (e = !0) })), e && this.U_()
                            }, t.prototype.Q_ = function(t) { this.B_.add(t), t.next() }, t.prototype.W_ = function(t) { this.B_.delete(t) }, t.prototype.U_ = function() { this.B_.forEach((function(t) { t.next() })) }, t
                        }(),
                        $o = function() {
                            function t(t, e, n) { this.query = t, this.j_ = e, this.K_ = !1, this.G_ = null, this.onlineState = "Unknown", this.options = n || {} }
                            return t.prototype.q_ = function(t) {
                                if (!this.options.includeMetadataChanges) {
                                    for (var e = [], n = 0, r = t.docChanges; n < r.length; n++) {
                                        var i = r[n];
                                        3 !== i.type && e.push(i)
                                    }
                                    t = new yt(t.query, t.docs, t.Ot, e, t.Lt, t.fromCache, t.Bt, !0)
                                }
                                var o = !1;
                                return this.K_ ? this.z_(t) && (this.j_.next(t), o = !0) : this.H_(t, this.onlineState) && (this.Y_(t), o = !0), this.G_ = t, o
                            }, t.prototype.onError = function(t) { this.j_.error(t) }, t.prototype.jl = function(t) { this.onlineState = t; var e = !1; return this.G_ && !this.K_ && this.H_(this.G_, t) && (this.Y_(this.G_), e = !0), e }, t.prototype.H_ = function(t, e) { return !t.fromCache || !(this.options.J_ && "Offline" !== e || t.docs._() && "Offline" !== e) }, t.prototype.z_ = function(t) { return t.docChanges.length > 0 || !!(t.Bt || this.G_ && this.G_.hasPendingWrites !== t.hasPendingWrites) && !0 === this.options.includeMetadataChanges }, t.prototype.Y_ = function(t) { t = yt.Ut(t.query, t.docs, t.Lt, t.fromCache), this.K_ = !0, this.j_.next(t) }, t
                        }(),
                        Ko = function() {
                            function t() {}
                            return t.prototype.Fh = function(t) { this.X_ = t }, t.prototype._s = function(t, e, n, r) { var i = this; return e.En() || n.isEqual(D.min()) ? this.Z_(t, e) : this.X_.us(t, r).next((function(o) { var a = i.tf(e, o); return (e.In() || e.mn()) && i.ql(e.nn, a, r, n) ? i.Z_(t, e) : (d() <= s.LogLevel.DEBUG && p("IndexFreeQueryEngine", "Re-using previous result from %s to execute query: %s", n.toString(), un(e)), i.X_._s(t, e, n).next((function(t) { return a.forEach((function(e) { t = t.nt(e.key, e) })), t }))) })) }, t.prototype.tf = function(t, e) { var n = new rt(dn(t)); return e.forEach((function(e, r) { r instanceof rn && hn(t, r) && (n = n.add(r)) })), n }, t.prototype.ql = function(t, e, n, r) { if (n.size !== e.size) return !0; var i = "F" === t ? e.last() : e.first(); return !!i && (i.hasPendingWrites || i.version.o(r) > 0) }, t.prototype.Z_ = function(t, e) { return d() <= s.LogLevel.DEBUG && p("IndexFreeQueryEngine", "Using full collection scan to execute query:", un(e)), this.X_._s(t, e, D.min()) }, t
                        }(),
                        Yo = function() {
                            function t(t, e) { this.ss = t, this.wi = e, this.ns = [], this.ef = 1, this.nf = new rt(hi.na) }
                            return t.prototype.Jr = function(t) { return In.resolve(0 === this.ns.length) }, t.prototype.Xr = function(t, e, n, r) {
                                var i = this.ef;
                                this.ef++;
                                var o = new Tn(i, e, n, r);
                                this.ns.push(o);
                                for (var s = 0, a = r; s < a.length; s++) {
                                    var c = a[s];
                                    this.nf = this.nf.add(new hi(c.key, i)), this.ss.Us(t, c.key.path.p())
                                }
                                return In.resolve(o)
                            }, t.prototype.Zr = function(t, e) { return In.resolve(this.sf(e)) }, t.prototype.eo = function(t, e) {
                                var n = this.if(e + 1),
                                    r = n < 0 ? 0 : n;
                                return In.resolve(this.ns.length > r ? this.ns[r] : null)
                            }, t.prototype.no = function() { return In.resolve(0 === this.ns.length ? -1 : this.ef - 1) }, t.prototype.so = function(t) { return In.resolve(this.ns.slice()) }, t.prototype.os = function(t, e) {
                                var n = this,
                                    r = new hi(e, 0),
                                    i = new hi(e, Number.POSITIVE_INFINITY),
                                    o = [];
                                return this.nf.vt([r, i], (function(t) {
                                    var e = n.sf(t.la);
                                    o.push(e)
                                })), In.resolve(o)
                            }, t.prototype.ls = function(t, e) {
                                var n = this,
                                    r = new rt(w);
                                return e.forEach((function(t) {
                                    var e = new hi(t, 0),
                                        i = new hi(t, Number.POSITIVE_INFINITY);
                                    n.nf.vt([e, i], (function(t) { r = r.add(t.la) }))
                                })), In.resolve(this.rf(r))
                            }, t.prototype.Es = function(t, e) {
                                var n = e.path,
                                    r = n.length + 1,
                                    i = n;
                                j.W(i) || (i = i.child(""));
                                var o = new hi(new j(i), 0),
                                    s = new rt(w);
                                return this.nf.St((function(t) { var e = t.key.path; return !!n.D(e) && (e.length === r && (s = s.add(t.la)), !0) }), o), In.resolve(this.rf(s))
                            }, t.prototype.rf = function(t) {
                                var e = this,
                                    n = [];
                                return t.forEach((function(t) {
                                    var r = e.sf(t);
                                    null !== r && n.push(r)
                                })), n
                            }, t.prototype.ro = function(t, e) {
                                var n = this;
                                y(0 === this.hf(e.batchId, "removed")), this.ns.shift();
                                var r = this.nf;
                                return In.forEach(e.mutations, (function(i) { var o = new hi(i.key, e.batchId); return r = r.delete(o), n.wi.Qr(t, i.key) })).next((function() { n.nf = r }))
                            }, t.prototype.oo = function(t) {}, t.prototype.Mi = function(t, e) {
                                var n = new hi(e, 0),
                                    r = this.nf.Dt(n);
                                return In.resolve(e.isEqual(r && r.key))
                            }, t.prototype.ho = function(t) { return In.resolve() }, t.prototype.hf = function(t, e) { return this.if(t) }, t.prototype.if = function(t) { return 0 === this.ns.length ? 0 : t - this.ns[0].batchId }, t.prototype.sf = function(t) { var e = this.if(t); return e < 0 || e >= this.ns.length ? null : this.ns[e] }, t
                        }(),
                        Xo = function() {
                            function t(t, e) { this.ss = t, this.af = e, this.docs = new tt(j.P), this.size = 0 }
                            return t.prototype.jn = function(t, e, n) {
                                var r = e.key,
                                    i = this.docs.get(r),
                                    o = i ? i.size : 0,
                                    s = this.af(e);
                                return this.docs = this.docs.nt(r, { Ys: e, size: s, readTime: n }), this.size += s - o, this.ss.Us(t, r.path.p())
                            }, t.prototype.Gn = function(t) {
                                var e = this.docs.get(t);
                                e && (this.docs = this.docs.remove(t), this.size -= e.size)
                            }, t.prototype.zn = function(t, e) { var n = this.docs.get(e); return In.resolve(n ? n.Ys : null) }, t.prototype.getEntries = function(t, e) {
                                var n = this,
                                    r = at();
                                return e.forEach((function(t) {
                                    var e = n.docs.get(t);
                                    r = r.nt(t, e ? e.Ys : null)
                                })), In.resolve(r)
                            }, t.prototype._s = function(t, e, n) {
                                for (var r = lt(), i = new j(e.path.child("")), o = this.docs.ut(i); o.wt();) {
                                    var s = o.dt(),
                                        a = s.value,
                                        c = a.Ys,
                                        l = a.readTime;
                                    if (!e.path.D(s.key.path)) break;
                                    l.o(n) <= 0 || c instanceof rn && hn(e, c) && (r = r.nt(c.key, c))
                                }
                                return In.resolve(r)
                            }, t.prototype.uf = function(t, e) { return In.forEach(this.docs, (function(t) { return e(t) })) }, t.prototype.oi = function(e) { return new t.hi(this) }, t.prototype.ui = function(t) { return In.resolve(this.size) }, t
                        }();
                    Xo.hi = function(t) {
                        function e(e) { var n = this; return (n = t.call(this) || this).ci = e, n }
                        return i.__extends(e, t), e.prototype.Jn = function(t) {
                            var e = this,
                                n = [];
                            return this.Un.forEach((function(r, i) { i ? n.push(e.ci.jn(t, i, e.readTime)) : e.ci.Gn(r) })), In.Bn(n)
                        }, e.prototype.Hn = function(t, e) { return this.ci.zn(t, e) }, e.prototype.Yn = function(t, e) { return this.ci.getEntries(t, e) }, e
                    }(An);
                    var Qo = function() {
                            function t(t) { this.persistence = t, this.cf = new A((function(t) { return W(t) }), z), this.lastRemoteSnapshotVersion = D.min(), this.highestTargetId = 0, this.lf = 0, this._f = new ui, this.targetCount = 0, this.ff = sr.fi() }
                            return t.prototype.pe = function(t, e) { return this.cf.forEach((function(t, n) { return e(n) })), In.resolve() }, t.prototype.mi = function(t) { return In.resolve(this.lastRemoteSnapshotVersion) }, t.prototype.Ai = function(t) { return In.resolve(this.lf) }, t.prototype.Ti = function(t) { return this.highestTargetId = this.ff.next(), In.resolve(this.highestTargetId) }, t.prototype.Ri = function(t, e, n) { return n && (this.lastRemoteSnapshotVersion = n), e > this.lf && (this.lf = e), In.resolve() }, t.prototype.Vi = function(t) {
                                this.cf.set(t.target, t);
                                var e = t.targetId;
                                e > this.highestTargetId && (this.ff = new sr(e), this.highestTargetId = e), t.sequenceNumber > this.lf && (this.lf = t.sequenceNumber)
                            }, t.prototype.Pi = function(t, e) { return this.Vi(e), this.targetCount += 1, In.resolve() }, t.prototype.yi = function(t, e) { return this.Vi(e), In.resolve() }, t.prototype.pi = function(t, e) { return this.cf.delete(e.target), this._f.aa(e.targetId), this.targetCount -= 1, In.resolve() }, t.prototype.vi = function(t, e, n) {
                                var r = this,
                                    i = 0,
                                    o = [];
                                return this.cf.forEach((function(s, a) { a.sequenceNumber <= e && null === n.get(a.targetId) && (r.cf.delete(s), o.push(r.bi(t, a.targetId)), i++) })), In.Bn(o).next((function() { return i }))
                            }, t.prototype.Si = function(t) { return In.resolve(this.targetCount) }, t.prototype.Di = function(t, e) { var n = this.cf.get(e) || null; return In.resolve(n) }, t.prototype.Ci = function(t, e, n) { return this._f.ra(e, n), In.resolve() }, t.prototype.Ni = function(t, e, n) {
                                this._f.ha(e, n);
                                var r = this.persistence.wi,
                                    i = [];
                                return r && e.forEach((function(e) { i.push(r.Qr(t, e)) })), In.Bn(i)
                            }, t.prototype.bi = function(t, e) { return this._f.aa(e), In.resolve() }, t.prototype.ki = function(t, e) { var n = this._f.ca(e); return In.resolve(n) }, t.prototype.Mi = function(t, e) { return In.resolve(this._f.Mi(e)) }, t
                        }(),
                        Zo = function() {
                            function t(t) {
                                var e = this;
                                this.df = {}, this.Ui = new Pn(0), this.Qi = !1, this.Qi = !0, this.wi = t(this), this.Xi = new Qo(this), this.ss = new Bn, this.es = new Xo(this.ss, (function(t) { return e.wi.wf(t) }))
                            }
                            return t.prototype.start = function() { return Promise.resolve() }, t.prototype.yr = function() { return this.Qi = !1, Promise.resolve() }, Object.defineProperty(t.prototype, "hr", { get: function() { return this.Qi }, enumerable: !1, configurable: !0 }), t.prototype.ar = function() {}, t.prototype.kr = function() { return this.ss }, t.prototype.Cr = function(t) { var e = this.df[t.Ma()]; return e || (e = new Yo(this.ss, this.wi), this.df[t.Ma()] = e), e }, t.prototype.Nr = function() { return this.Xi }, t.prototype.$r = function() { return this.es }, t.prototype.runTransaction = function(t, e, n) {
                                var r = this;
                                p("MemoryPersistence", "Starting transaction:", t);
                                var i = new Jo(this.Ui.next());
                                return this.wi.Tf(), n(i).next((function(t) { return r.wi.Ef(i).next((function() { return t })) })).On().then((function(t) { return i.ts(), t }))
                            }, t.prototype.If = function(t, e) { return In.qn(Object.values(this.df).map((function(n) { return function() { return n.Mi(t, e) } }))) }, t
                        }(),
                        Jo = function(t) {
                            function e(e) { var n = this; return (n = t.call(this) || this).Li = e, n }
                            return i.__extends(e, t), e
                        }(On),
                        ts = function() {
                            function t(t) { this.persistence = t, this.mf = new ui, this.Af = null }
                            return t.Rf = function(e) { return new t(e) }, Object.defineProperty(t.prototype, "Pf", { get: function() { if (this.Af) return this.Af; throw g() }, enumerable: !1, configurable: !0 }), t.prototype.Fi = function(t, e, n) { return this.mf.Fi(n, e), this.Pf.delete(n), In.resolve() }, t.prototype.$i = function(t, e, n) { return this.mf.$i(n, e), this.Pf.add(n), In.resolve() }, t.prototype.Qr = function(t, e) { return this.Pf.add(e), In.resolve() }, t.prototype.removeTarget = function(t, e) {
                                var n = this;
                                this.mf.aa(e.targetId).forEach((function(t) { return n.Pf.add(t) }));
                                var r = this.persistence.Nr();
                                return r.ki(t, e.targetId).next((function(t) { t.forEach((function(t) { return n.Pf.add(t) })) })).next((function() { return r.pi(t, e) }))
                            }, t.prototype.Tf = function() { this.Af = new Set }, t.prototype.Ef = function(t) {
                                var e = this,
                                    n = this.persistence.$r().oi();
                                return In.forEach(this.Pf, (function(r) { return e.Vf(t, r).next((function(t) { t || n.Gn(r) })) })).next((function() { return e.Af = null, n.apply(t) }))
                            }, t.prototype.Gr = function(t, e) { var n = this; return this.Vf(t, e).next((function(t) { t ? n.Pf.delete(e) : n.Pf.add(e) })) }, t.prototype.wf = function(t) { return 0 }, t.prototype.Vf = function(t, e) { var n = this; return In.qn([function() { return In.resolve(n.mf.Mi(e)) }, function() { return n.persistence.Nr().Mi(t, e) }, function() { return n.persistence.If(t, e) }]) }, t
                        }(),
                        es = function() {
                            function t(t) { this.gf = t.gf, this.yf = t.yf }
                            return t.prototype.Eu = function(t) { this.pf = t }, t.prototype._u = function(t) { this.bf = t }, t.prototype.onMessage = function(t) { this.vf = t }, t.prototype.close = function() { this.yf() }, t.prototype.send = function(t) { this.gf(t) }, t.prototype.Sf = function() { this.pf() }, t.prototype.Df = function(t) { this.bf(t) }, t.prototype.Cf = function(t) { this.vf(t) }, t
                        }(),
                        ns = { BatchGetDocuments: "batchGet", Commit: "commit" },
                        rs = "gl-js/ fire/" + u,
                        is = function() {
                            function t(t) { this.s = t.s, this.Ff = (t.ssl ? "https" : "http") + "://" + t.host, this.forceLongPolling = t.forceLongPolling }
                            return t.prototype.Nf = function(t, e) {
                                if (e)
                                    for (var n in e.Ba) e.Ba.hasOwnProperty(n) && (t[n] = e.Ba[n]);
                                t["X-Goog-Api-Client"] = rs
                            }, t.prototype.Du = function(t, e, n) {
                                var r = this,
                                    i = this.$f(t);
                                return new Promise((function(o, s) {
                                    var a = new c.XhrIo;
                                    a.listenOnce(c.EventType.COMPLETE, (function() {
                                        try {
                                            switch (a.getLastErrorCode()) {
                                                case c.ErrorCode.NO_ERROR:
                                                    var e = a.getResponseJson();
                                                    p("Connection", "XHR received:", JSON.stringify(e)), o(e);
                                                    break;
                                                case c.ErrorCode.TIMEOUT:
                                                    p("Connection", 'RPC "' + t + '" timed out'), s(new O(R.DEADLINE_EXCEEDED, "Request time out"));
                                                    break;
                                                case c.ErrorCode.HTTP_ERROR:
                                                    var n = a.getStatus();
                                                    if (p("Connection", 'RPC "' + t + '" failed with status:', n, "response text:", a.getResponseText()), n > 0) {
                                                        var r = a.getResponseJson().error;
                                                        if (r && r.status && r.message) {
                                                            var i = function(t) { var e = t.toLowerCase().replace("_", "-"); return Object.values(R).indexOf(e) >= 0 ? e : R.UNKNOWN }(r.status);
                                                            s(new O(i, r.message))
                                                        } else s(new O(R.UNKNOWN, "Server responded with status " + a.getStatus()))
                                                    } else p("Connection", 'RPC "' + t + '" failed'), s(new O(R.UNAVAILABLE, "Connection failed."));
                                                    break;
                                                default:
                                                    g()
                                            }
                                        } finally { p("Connection", 'RPC "' + t + '" completed.') }
                                    }));
                                    var l = Object.assign({}, e);
                                    delete l.database;
                                    var u = JSON.stringify(l);
                                    p("Connection", "XHR sending: ", i + " " + u);
                                    var h = { "Content-Type": "text/plain" };
                                    r.Nf(h, n), a.send(i, "POST", u, h, 15)
                                }))
                            }, t.prototype.Cu = function(t, e, n) { return this.Du(t, e, n) }, t.prototype.Iu = function(t, e) {
                                var n = [this.Ff, "/", "google.firestore.v1.Firestore", "/", t, "/channel"],
                                    r = c.createWebChannelTransport(),
                                    o = { httpSessionIdParam: "gsessionid", initMessageHeaders: {}, messageUrlParams: { database: "projects/" + this.s.projectId + "/databases/" + this.s.database }, sendRawJson: !0, supportsCrossDomainXhr: !0, internalChannelParams: { forwardChannelRequestTimeoutMs: 6e5 }, forceLongPolling: this.forceLongPolling };
                                this.Nf(o.initMessageHeaders, e), a.isMobileCordova() || a.isReactNative() || a.isElectron() || a.isIE() || a.isUWP() || a.isBrowserExtension() || (o.httpHeadersOverwriteParam = "$httpHeaders");
                                var l = n.join("");
                                p("Connection", "Creating WebChannel: " + l + " " + o);
                                var d = r.createWebChannel(l, o),
                                    f = !1,
                                    g = !1,
                                    v = new es({ gf: function(t) { g ? p("Connection", "Not sending because WebChannel is closed:", t) : (f || (p("Connection", "Opening WebChannel transport."), d.open(), f = !0), p("Connection", "WebChannel sending:", t), d.send(t)) }, yf: function() { return d.close() } }),
                                    _ = function(t, e) { d.listen(t, (function(t) { try { e(t) } catch (t) { setTimeout((function() { throw t }), 0) } })) };
                                return _(c.WebChannel.EventType.OPEN, (function() { g || p("Connection", "WebChannel transport opened.") })), _(c.WebChannel.EventType.CLOSE, (function() { g || (g = !0, p("Connection", "WebChannel transport closed"), v.Df()) })), _(c.WebChannel.EventType.ERROR, (function(t) {
                                    g || (g = !0, function(t) {
                                        for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
                                        if (h.logLevel <= s.LogLevel.WARN) {
                                            var r = e.map(m);
                                            h.warn.apply(h, i.__spreadArrays(["Firestore (" + u + "): " + t], r))
                                        }
                                    }("Connection", "WebChannel transport errored:", t), v.Df(new O(R.UNAVAILABLE, "The operation could not be completed")))
                                })), _(c.WebChannel.EventType.MESSAGE, (function(t) {
                                    var e;
                                    if (!g) {
                                        var n = t.data[0];
                                        y(!!n);
                                        var r = n.error || (null === (e = n[0]) || void 0 === e ? void 0 : e.error);
                                        if (r) {
                                            p("Connection", "WebChannel received error:", r);
                                            var i = r.status,
                                                o = function(t) { var e = K[t]; if (void 0 !== e) return J(e) }(i),
                                                s = r.message;
                                            void 0 === o && (o = R.INTERNAL, s = "Unknown error status: " + i + " with message " + r.message), g = !0, v.Df(new O(o, s)), d.close()
                                        } else p("Connection", "WebChannel received:", n), v.Cf(n)
                                    }
                                })), setTimeout((function() { v.Sf() }), 0), v
                            }, t.prototype.$f = function(t) { return this.Ff + "/v1/projects/" + this.s.projectId + "/databases/" + this.s.database + "/documents:" + ns[t] }, t
                        }(),
                        os = function() {
                            function t() {
                                var t = this;
                                this.kf = function() { return t.xf() }, this.Mf = function() { return t.Of() }, this.Lf = [], this.Bf()
                            }
                            return t.prototype.nc = function(t) { this.Lf.push(t) }, t.prototype.yr = function() { window.removeEventListener("online", this.kf), window.removeEventListener("offline", this.Mf) }, t.prototype.Bf = function() { window.addEventListener("online", this.kf), window.addEventListener("offline", this.Mf) }, t.prototype.xf = function() { p("ConnectivityMonitor", "Network connectivity changed: AVAILABLE"); for (var t = 0, e = this.Lf; t < e.length; t++)(0, e[t])(0) }, t.prototype.Of = function() { p("ConnectivityMonitor", "Network connectivity changed: UNAVAILABLE"); for (var t = 0, e = this.Lf; t < e.length; t++)(0, e[t])(1) }, t.Hi = function() { return "undefined" != typeof window && void 0 !== window.addEventListener && void 0 !== window.removeEventListener }, t
                        }(),
                        ss = function() {
                            function t() {}
                            return t.prototype.nc = function(t) {}, t.prototype.yr = function() {}, t
                        }(),
                        as = "You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",
                        cs = function() {
                            function t() {}
                            return t.prototype.initialize = function(t) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var e = this;
                                    return i.__generator(this, (function(n) {
                                        switch (n.label) {
                                            case 0:
                                                return this.n_ = this.qf(t), this.persistence = this.Uf(t), [4, this.persistence.start()];
                                            case 1:
                                                return n.sent(), this.Qf = this.Wf(t), this.Yu = this.jf(t), this.e_ = this.Kf(t), this.Vc = this.Gf(t), this.zf = this.Hf(t), this.n_.qu = function(t) { return e.Vc.jl(t, 1) }, this.e_.Vc = this.Vc, [4, this.Yu.start()];
                                            case 2:
                                                return n.sent(), [4, this.n_.start()];
                                            case 3:
                                                return n.sent(), [4, this.e_.start()];
                                            case 4:
                                                return n.sent(), [4, this.e_.Lc(this.Vc.d_)];
                                            case 5:
                                                return n.sent(), [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.Hf = function(t) { return new Go(this.Vc) }, t.prototype.Wf = function(t) { return null }, t.prototype.jf = function(t) { return e = this.persistence, n = new Ko, new ai(e, n, t.Yf); var e, n }, t.prototype.Uf = function(t) { if (t.Xf.Jf) throw new O(R.FAILED_PRECONDITION, as); return new Zo(ts.Rf) }, t.prototype.Kf = function(t) { var e = this; return new To(this.Yu, t.Fu, t.Ro, (function(t) { return e.Vc.jl(t, 0) }), os.Hi() ? new os : new ss) }, t.prototype.qf = function(t) { return new Lo }, t.prototype.Gf = function(t) { return new Ho(this.Yu, this.e_, t.Fu, this.n_, t.Yf, t.s_) }, t.prototype.clearPersistence = function(t) { throw new O(R.FAILED_PRECONDITION, as) }, t
                        }(),
                        ls = function(t) {
                            function e() { return null !== t && t.apply(this, arguments) || this }
                            return i.__extends(e, t), e.prototype.initialize = function(e) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var n = this;
                                    return i.__generator(this, (function(r) {
                                        switch (r.label) {
                                            case 0:
                                                return [4, t.prototype.initialize.call(this, e)];
                                            case 1:
                                                return r.sent(), [4, this.persistence.or((function(t) {
                                                    return i.__awaiter(n, void 0, void 0, (function() {
                                                        return i.__generator(this, (function(e) {
                                                            switch (e.label) {
                                                                case 0:
                                                                    return [4, this.Vc.Lc(t)];
                                                                case 1:
                                                                    return e.sent(), this.Qf && (t && !this.Qf.hr ? this.Qf.start(this.Yu) : t || this.Qf.stop()), [2]
                                                            }
                                                        }))
                                                    }))
                                                }))];
                                            case 2:
                                                return r.sent(), [2]
                                        }
                                    }))
                                }))
                            }, e.prototype.jf = function(t) { return e = this.persistence, n = new Ko, new ci(e, n, t.Yf); var e, n }, e.prototype.Gf = function(t) { var e = new Wo(this.Yu, this.e_, t.Fu, this.n_, t.Yf, t.s_); return this.n_ instanceof Mo && (this.n_.Vc = e), e }, e.prototype.Wf = function(t) { return new oi(this.persistence.wi.Or, t.Ro) }, e.prototype.Uf = function(t) {
                                var e = pr.Mr(t.Zf),
                                    n = $i(t.Zf.s);
                                return new pr(t.Xf.synchronizeTabs, e, t.clientId, ii.ah(t.Xf.cacheSizeBytes), t.Ro, Qr(), "undefined" != typeof document ? document : null, n, this.n_, t.Xf.qi)
                            }, e.prototype.qf = function(t) { if (t.Xf.Jf && t.Xf.synchronizeTabs) { var e = Qr(); if (!Mo.Hi(e)) throw new O(R.UNIMPLEMENTED, "IndexedDB persistence is only available on platforms that support LocalStorage."); var n = pr.Mr(t.Zf); return new Mo(e, t.Ro, n, t.clientId, t.Yf) } return new Lo }, e.prototype.clearPersistence = function(t) { var e = pr.Mr(t); return pr.clearPersistence(e) }, e
                        }(cs),
                        us = function() {
                            function t(t, e) { this.credentials = t, this.Ro = e, this.clientId = b.t() }
                            return t.prototype.start = function(t, e, n) {
                                var r = this;
                                this.Su(), this.Zf = t;
                                var i = new Mn,
                                    o = new Mn,
                                    s = !1;
                                return this.credentials.Qa((function(t) {
                                    if (!s) return s = !0, p("FirestoreClient", "Initializing. user=", t.uid), r.td(e, n, t, o).then(i.resolve, i.reject);
                                    r.Ro.dr((function() { return r.e_.Oc(t) }))
                                })), this.Ro.lr((function() { return i.promise })), o.promise
                            }, t.prototype.enableNetwork = function() { var t = this; return this.Su(), this.Ro.enqueue((function() { return t.Vc.enableNetwork() })) }, t.prototype.td = function(t, e, n, r) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var o, s, a, c, l, u = this;
                                    return i.__generator(this, (function(h) {
                                        switch (h.label) {
                                            case 0:
                                                return h.trys.push([0, 3, , 4]), [4, (l = this.Zf, Promise.resolve(new is(l)))];
                                            case 1:
                                                return o = h.sent(), s = $i(this.Zf.s), a = function(t, e, n) { return new So(t, e, n) }(o, this.credentials, s), [4, t.initialize({ Ro: this.Ro, Zf: this.Zf, Fu: a, clientId: this.clientId, Yf: n, s_: 100, Xf: e })];
                                            case 2:
                                                return h.sent(), this.persistence = t.persistence, this.n_ = t.n_, this.Yu = t.Yu, this.e_ = t.e_, this.Vc = t.Vc, this.Qf = t.Qf, this.ed = t.zf, this.persistence.ar((function() {
                                                    return i.__awaiter(u, void 0, void 0, (function() {
                                                        return i.__generator(this, (function(t) {
                                                            switch (t.label) {
                                                                case 0:
                                                                    return [4, this.terminate()];
                                                                case 1:
                                                                    return t.sent(), [2]
                                                            }
                                                        }))
                                                    }))
                                                })), r.resolve(), [3, 4];
                                            case 3:
                                                if (c = h.sent(), r.reject(c), !this.nd(c)) throw c;
                                                return [2, (console.warn("Error enabling offline persistence. Falling back to persistence disabled: " + c), this.td(new cs, { Jf: !1 }, n, r))];
                                            case 4:
                                                return [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.nd = function(t) { return "FirebaseError" === t.name ? t.code === R.FAILED_PRECONDITION || t.code === R.UNIMPLEMENTED : !("undefined" != typeof DOMException && t instanceof DOMException) || 22 === t.code || 20 === t.code || 11 === t.code }, t.prototype.Su = function() { if (this.Ro.Oo) throw new O(R.FAILED_PRECONDITION, "The client has already been terminated.") }, t.prototype.disableNetwork = function() { var t = this; return this.Su(), this.Ro.enqueue((function() { return t.Vc.disableNetwork() })) }, t.prototype.terminate = function() {
                                var t = this;
                                return this.Ro.Qo((function() {
                                    return i.__awaiter(t, void 0, void 0, (function() {
                                        return i.__generator(this, (function(t) {
                                            switch (t.label) {
                                                case 0:
                                                    return this.Qf && this.Qf.stop(), [4, this.e_.yr()];
                                                case 1:
                                                    return t.sent(), [4, this.n_.yr()];
                                                case 2:
                                                    return t.sent(), [4, this.persistence.yr()];
                                                case 3:
                                                    return t.sent(), this.credentials.Wa(), [2]
                                            }
                                        }))
                                    }))
                                }))
                            }, t.prototype.waitForPendingWrites = function() {
                                var t = this;
                                this.Su();
                                var e = new Mn;
                                return this.Ro.lr((function() { return t.Vc.y_(e) })), e.promise
                            }, t.prototype.listen = function(t, e, n) {
                                var r = this;
                                this.Su();
                                var i = new $o(t, e, n);
                                return this.Ro.lr((function() { return r.ed.listen(i) })), i
                            }, t.prototype.Rc = function(t) {
                                var e = this;
                                this.sd || this.Ro.lr((function() { return e.ed.Rc(t) }))
                            }, t.prototype.rd = function(t) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var e, n = this;
                                    return i.__generator(this, (function(r) {
                                        switch (r.label) {
                                            case 0:
                                                return this.Su(), e = new Mn, [4, this.Ro.enqueue((function() {
                                                    return i.__awaiter(n, void 0, void 0, (function() {
                                                        var n, r, o;
                                                        return i.__generator(this, (function(i) {
                                                            switch (i.label) {
                                                                case 0:
                                                                    return i.trys.push([0, 2, , 3]), [4, this.Yu.Kh(t)];
                                                                case 1:
                                                                    return (n = i.sent()) instanceof rn ? e.resolve(n) : n instanceof on ? e.resolve(null) : e.reject(new O(R.UNAVAILABLE, "Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")), [3, 3];
                                                                case 2:
                                                                    return r = i.sent(), o = ti(r, "Failed to get document '" + t + " from cache"), e.reject(o), [3, 3];
                                                                case 3:
                                                                    return [2]
                                                            }
                                                        }))
                                                    }))
                                                }))];
                                            case 1:
                                                return [2, (r.sent(), e.promise)]
                                        }
                                    }))
                                }))
                            }, t.prototype.od = function(t) {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var e, n = this;
                                    return i.__generator(this, (function(r) {
                                        switch (r.label) {
                                            case 0:
                                                return this.Su(), e = new Mn, [4, this.Ro.enqueue((function() {
                                                    return i.__awaiter(n, void 0, void 0, (function() {
                                                        var n, r, o, s, a, c;
                                                        return i.__generator(this, (function(i) {
                                                            switch (i.label) {
                                                                case 0:
                                                                    return i.trys.push([0, 2, , 3]), [4, this.Yu.Hh(t, !0)];
                                                                case 1:
                                                                    return n = i.sent(), r = new Uo(t, n.Yh), o = r.Ol(n.documents), s = r.Jn(o, !1), e.resolve(s.snapshot), [3, 3];
                                                                case 2:
                                                                    return a = i.sent(), c = ti(a, "Failed to execute query '" + t + " against cache"), e.reject(c), [3, 3];
                                                                case 3:
                                                                    return [2]
                                                            }
                                                        }))
                                                    }))
                                                }))];
                                            case 1:
                                                return [2, (r.sent(), e.promise)]
                                        }
                                    }))
                                }))
                            }, t.prototype.write = function(t) {
                                var e = this;
                                this.Su();
                                var n = new Mn;
                                return this.Ro.lr((function() { return e.Vc.write(t, n) })), n.promise
                            }, t.prototype.s = function() { return this.Zf.s }, t.prototype.Q_ = function(t) {
                                var e = this;
                                this.Su(), this.Ro.lr((function() { return e.ed.Q_(t), Promise.resolve() }))
                            }, t.prototype.W_ = function(t) {
                                var e = this;
                                this.sd || this.Ro.lr((function() { return e.ed.W_(t), Promise.resolve() }))
                            }, Object.defineProperty(t.prototype, "sd", { get: function() { return this.Ro.Oo }, enumerable: !1, configurable: !0 }), t.prototype.transaction = function(t) {
                                var e = this;
                                this.Su();
                                var n = new Mn;
                                return this.Ro.lr((function() { return e.Vc.runTransaction(e.Ro, t, n), Promise.resolve() })), n.promise
                            }, t
                        }(),
                        hs = function() {
                            function t(t) { this.observer = t, this.muted = !1 }
                            return t.prototype.next = function(t) { this.hd(this.observer.next, t) }, t.prototype.error = function(t) { this.hd(this.observer.error, t) }, t.prototype.ad = function() { this.muted = !0 }, t.prototype.hd = function(t, e) {
                                var n = this;
                                this.muted || setTimeout((function() { n.muted || t(e) }), 0)
                            }, t
                        }();

                    function ds(t) { return function(t, e) { if ("object" != typeof t || null === t) return !1; for (var n = t, r = 0, i = ["next", "error", "complete"]; r < i.length; r++) { var o = i[r]; if (o in n && "function" == typeof n[o]) return !0 } return !1 }(t) }
                    var ps = function() {
                            function t(t, e, n, r) { this.s = t, this.timestampsInSnapshots = e, this.ud = n, this.ld = r }
                            return t.prototype._d = function(t) {
                                switch (Rt(t)) {
                                    case 0:
                                        return null;
                                    case 1:
                                        return t.booleanValue;
                                    case 2:
                                        return Ft(t.integerValue || t.doubleValue);
                                    case 3:
                                        return this.fd(t.timestampValue);
                                    case 4:
                                        return this.dd(t);
                                    case 5:
                                        return t.stringValue;
                                    case 6:
                                        return new Di(jt(t.bytesValue));
                                    case 7:
                                        return this.wd(t.referenceValue);
                                    case 8:
                                        return this.Td(t.geoPointValue);
                                    case 9:
                                        return this.Ed(t.arrayValue);
                                    case 10:
                                        return this.Id(t.mapValue);
                                    default:
                                        throw g()
                                }
                            }, t.prototype.Id = function(t) {
                                var e = this,
                                    n = {};
                                return k(t.fields || {}, (function(t, r) { n[t] = e._d(r) })), n
                            }, t.prototype.Td = function(t) { return new Gi(Ft(t.latitude), Ft(t.longitude)) }, t.prototype.Ed = function(t) { var e = this; return (t.values || []).map((function(t) { return e._d(t) })) }, t.prototype.dd = function(t) {
                                switch (this.ud) {
                                    case "previous":
                                        var e = function t(e) { var n = e.mapValue.fields.__previous_value__; return kt(n) ? t(n) : n }(t);
                                        return null == e ? null : this._d(e);
                                    case "estimate":
                                        return this.fd(It(t));
                                    default:
                                        return null
                                }
                            }, t.prototype.fd = function(t) {
                                var e = Lt(t),
                                    n = new N(e.seconds, e.nanos);
                                return this.timestampsInSnapshots ? n : n.toDate()
                            }, t.prototype.wd = function(t) {
                                var e = M.$(t);
                                y(we(e));
                                var n = new x(e.get(1), e.get(3)),
                                    r = new j(e.g(5));
                                return n.isEqual(this.s) || f("Document " + r + " contains a document reference within a different database (" + n.projectId + "/" + n.database + ") which is not supported. It will be treated as a reference in the current database (" + this.s.projectId + "/" + this.s.database + ") instead."), this.ld(r)
                            }, t
                        }(),
                        fs = ii._h,
                        ms = function() {
                            function t(t) {
                                var e, n, r, i;
                                if (void 0 === t.host) {
                                    if (void 0 !== t.ssl) throw new O(R.INVALID_ARGUMENT, "Can't provide ssl option if host option is not set");
                                    this.host = "firestore.googleapis.com", this.ssl = !0
                                } else vi("settings", "non-empty string", "host", t.host), this.host = t.host, _i("settings", "boolean", "ssl", t.ssl), this.ssl = null === (e = t.ssl) || void 0 === e || e;
                                if (Ti("settings", t, ["host", "ssl", "credentials", "timestampsInSnapshots", "cacheSizeBytes", "experimentalForceLongPolling", "ignoreUndefinedProperties"]), _i("settings", "object", "credentials", t.credentials), this.credentials = t.credentials, _i("settings", "boolean", "timestampsInSnapshots", t.timestampsInSnapshots), _i("settings", "boolean", "ignoreUndefinedProperties", t.ignoreUndefinedProperties), !0 === t.timestampsInSnapshots ? f("The setting 'timestampsInSnapshots: true' is no longer required and should be removed.") : !1 === t.timestampsInSnapshots && f("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."), this.timestampsInSnapshots = null === (n = t.timestampsInSnapshots) || void 0 === n || n, this.ignoreUndefinedProperties = null !== (r = t.ignoreUndefinedProperties) && void 0 !== r && r, _i("settings", "number", "cacheSizeBytes", t.cacheSizeBytes), void 0 === t.cacheSizeBytes) this.cacheSizeBytes = ii.dh;
                                else {
                                    if (t.cacheSizeBytes !== fs && t.cacheSizeBytes < ii.fh) throw new O(R.INVALID_ARGUMENT, "cacheSizeBytes must be at least " + ii.fh);
                                    this.cacheSizeBytes = t.cacheSizeBytes
                                }
                                _i("settings", "boolean", "experimentalForceLongPolling", t.experimentalForceLongPolling), this.forceLongPolling = null !== (i = t.experimentalForceLongPolling) && void 0 !== i && i
                            }
                            return t.prototype.isEqual = function(t) { return this.host === t.host && this.ssl === t.ssl && this.timestampsInSnapshots === t.timestampsInSnapshots && this.credentials === t.credentials && this.cacheSizeBytes === t.cacheSizeBytes && this.forceLongPolling === t.forceLongPolling && this.ignoreUndefinedProperties === t.ignoreUndefinedProperties }, t
                        }(),
                        gs = function() {
                            function t(e, n, r) {
                                var o = this;
                                if (void 0 === r && (r = new cs), this.md = null, this.Ad = new Jr, this.INTERNAL = {
                                        delete: function() {
                                            return i.__awaiter(o, void 0, void 0, (function() {
                                                return i.__generator(this, (function(t) {
                                                    switch (t.label) {
                                                        case 0:
                                                            return this.Rd(), [4, this.Pd.terminate()];
                                                        case 1:
                                                            return t.sent(), [2]
                                                    }
                                                }))
                                            }))
                                        }
                                    }, "object" == typeof e.options) {
                                    var s = e;
                                    this.md = s, this.ya = t.Vd(s), this.gd = s.name, this.yd = new yo(n)
                                } else {
                                    var a = e;
                                    if (!a.projectId) throw new O(R.INVALID_ARGUMENT, "Must provide projectId");
                                    this.ya = new x(a.projectId, a.database), this.gd = "[DEFAULT]", this.yd = new go
                                }
                                this.pd = r, this.bd = new ms({})
                            }
                            return Object.defineProperty(t.prototype, "vd", { get: function() { return this.Sd || (this.Sd = new to(this.ya, this.bd.ignoreUndefinedProperties)), this.Sd }, enumerable: !1, configurable: !0 }), t.prototype.settings = function(t) {
                                pi("Firestore.settings", arguments, 1), gi("Firestore.settings", "object", 1, t);
                                var e = new ms(t);
                                if (this.Pd && !this.bd.isEqual(e)) throw new O(R.FAILED_PRECONDITION, "Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");
                                this.bd = e, void 0 !== e.credentials && (this.yd = function(t) {
                                    if (!t) return new go;
                                    switch (t.type) {
                                        case "gapi":
                                            var e = t.Dd;
                                            return y(!("object" != typeof e || null === e || !e.auth || !e.auth.getAuthHeaderValueForFirstParty)), new _o(e, t.Ya || "0");
                                        case "provider":
                                            return t.Dd;
                                        default:
                                            throw new O(R.INVALID_ARGUMENT, "makeCredentialsProvider failed due to invalid credential type")
                                    }
                                }(e.credentials))
                            }, t.prototype.enableNetwork = function() { return this.Rd(), this.Pd.enableNetwork() }, t.prototype.disableNetwork = function() { return this.Rd(), this.Pd.disableNetwork() }, t.prototype.enablePersistence = function(t) {
                                var e, n;
                                if (this.Pd) throw new O(R.FAILED_PRECONDITION, "Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");
                                var r = !1,
                                    i = !1;
                                if (t && (void 0 !== t.experimentalTabSynchronization && f("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."), r = null !== (n = null !== (e = t.synchronizeTabs) && void 0 !== e ? e : t.experimentalTabSynchronization) && void 0 !== n && n, i = !!t.experimentalForceOwningTab && t.experimentalForceOwningTab, r && i)) throw new O(R.INVALID_ARGUMENT, "The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");
                                return this.Cd(this.pd, { Jf: !0, cacheSizeBytes: this.bd.cacheSizeBytes, synchronizeTabs: r, qi: i })
                            }, t.prototype.clearPersistence = function() {
                                return i.__awaiter(this, void 0, void 0, (function() {
                                    var t, e = this;
                                    return i.__generator(this, (function(n) {
                                        if (void 0 !== this.Pd && !this.Pd.sd) throw new O(R.FAILED_PRECONDITION, "Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");
                                        return t = new Mn, [2, (this.Ad.Lo((function() {
                                            return i.__awaiter(e, void 0, void 0, (function() {
                                                var e, n;
                                                return i.__generator(this, (function(r) {
                                                    switch (r.label) {
                                                        case 0:
                                                            return r.trys.push([0, 2, , 3]), e = this.Fd(), [4, this.pd.clearPersistence(e)];
                                                        case 1:
                                                            return r.sent(), t.resolve(), [3, 3];
                                                        case 2:
                                                            return n = r.sent(), t.reject(n), [3, 3];
                                                        case 3:
                                                            return [2]
                                                    }
                                                }))
                                            }))
                                        })), t.promise)]
                                    }))
                                }))
                            }, t.prototype.terminate = function() { return this.app._removeServiceInstance("firestore"), this.INTERNAL.delete() }, Object.defineProperty(t.prototype, "Nd", { get: function() { return this.Rd(), this.Pd.sd }, enumerable: !1, configurable: !0 }), t.prototype.waitForPendingWrites = function() { return this.Rd(), this.Pd.waitForPendingWrites() }, t.prototype.onSnapshotsInSync = function(t) { return this.Rd(), ds(t) ? ys(this.Pd, t) : (gi("Firestore.onSnapshotsInSync", "function", 1, t), ys(this.Pd, { next: t })) }, t.prototype.Rd = function() { return this.Pd || this.Cd(new cs, { Jf: !1 }), this.Pd }, t.prototype.Fd = function() { return new C(this.ya, this.gd, this.bd.host, this.bd.ssl, this.bd.forceLongPolling) }, t.prototype.Cd = function(t, e) { var n = this.Fd(); return this.Pd = new us(this.yd, this.Ad), this.Pd.start(n, t, e) }, t.Vd = function(t) { if (!Object.prototype.hasOwnProperty.call(t.options, "projectId")) throw new O(R.INVALID_ARGUMENT, '"projectId" not provided in firebase.initializeApp.'); var e = t.options.projectId; if (!e || "string" != typeof e) throw new O(R.INVALID_ARGUMENT, "projectId must be a string in FirebaseApp.options"); return new x(e) }, Object.defineProperty(t.prototype, "app", { get: function() { if (!this.md) throw new O(R.FAILED_PRECONDITION, "Firestore was not initialized using the Firebase SDK. 'app' is not available"); return this.md }, enumerable: !1, configurable: !0 }), t.prototype.collection = function(t) { return pi("Firestore.collection", arguments, 1), gi("Firestore.collection", "non-empty string", 1, t), this.Rd(), new As(M.$(t), this, null) }, t.prototype.doc = function(t) { return pi("Firestore.doc", arguments, 1), gi("Firestore.doc", "non-empty string", 1, t), this.Rd(), bs.$d(M.$(t), this, null) }, t.prototype.collectionGroup = function(t) { if (pi("Firestore.collectionGroup", arguments, 1), gi("Firestore.collectionGroup", "non-empty string", 1, t), t.indexOf("/") >= 0) throw new O(R.INVALID_ARGUMENT, "Invalid collection ID '" + t + "' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'."); return this.Rd(), new Ts(new an(M.k(), t), this, null) }, t.prototype.runTransaction = function(t) { var e = this; return pi("Firestore.runTransaction", arguments, 1), gi("Firestore.runTransaction", "function", 1, t), this.Rd().transaction((function(n) { return t(new vs(e, n)) })) }, t.prototype.batch = function() { return this.Rd(), new _s(this) }, Object.defineProperty(t, "logLevel", {
                                get: function() {
                                    switch (d()) {
                                        case s.LogLevel.DEBUG:
                                            return "debug";
                                        case s.LogLevel.ERROR:
                                            return "error";
                                        case s.LogLevel.SILENT:
                                            return "silent";
                                        case s.LogLevel.WARN:
                                            return "warn";
                                        case s.LogLevel.INFO:
                                            return "info";
                                        case s.LogLevel.VERBOSE:
                                            return "verbose";
                                        default:
                                            return "error"
                                    }
                                },
                                enumerable: !1,
                                configurable: !0
                            }), t.setLogLevel = function(t) { pi("Firestore.setLogLevel", arguments, 1), wi("setLogLevel", ["debug", "error", "silent", "warn", "info", "verbose"], 1, t), h.setLogLevel(t) }, t.prototype.kd = function() { return this.bd.timestampsInSnapshots }, t
                        }();

                    function ys(t, e) {
                        var n = new hs({ next: function() { e.next && e.next() }, error: function(t) { throw g() } });
                        return t.Q_(n),
                            function() { n.ad(), t.W_(n) }
                    }
                    var vs = function() {
                            function t(t, e) { this.xd = t, this.Md = e }
                            return t.prototype.get = function(t) {
                                var e = this;
                                pi("Transaction.get", arguments, 1);
                                var n = Ds("Transaction.get", t, this.xd);
                                return this.Md.Mu([n.pa]).then((function(t) { if (!t || 1 !== t.length) return g(); var r = t[0]; if (r instanceof on) return new Ss(e.xd, n.pa, null, !1, !1, n.ba); if (r instanceof rn) return new Ss(e.xd, n.pa, r, !1, !1, n.ba); throw g() }))
                            }, t.prototype.set = function(t, e, n) {
                                mi("Transaction.set", arguments, 2, 3);
                                var r = Ds("Transaction.set", t, this.xd);
                                n = Rs("Transaction.set", n);
                                var i = Ms(r.ba, e, n),
                                    o = eo(this.xd.vd, "Transaction.set", r.pa, i, null !== r.ba, n);
                                return this.Md.set(r.pa, o), this
                            }, t.prototype.update = function(t, e, n) { for (var r, i, o = [], s = 3; s < arguments.length; s++) o[s - 3] = arguments[s]; return "string" == typeof e || e instanceof Mi ? (fi("Transaction.update", arguments, 3), r = Ds("Transaction.update", t, this.xd), i = ro(this.xd.vd, "Transaction.update", r.pa, e, n, o)) : (pi("Transaction.update", arguments, 2), r = Ds("Transaction.update", t, this.xd), i = no(this.xd.vd, "Transaction.update", r.pa, e)), this.Md.update(r.pa, i), this }, t.prototype.delete = function(t) { pi("Transaction.delete", arguments, 1); var e = Ds("Transaction.delete", t, this.xd); return this.Md.delete(e.pa), this }, t
                        }(),
                        _s = function() {
                            function t(t) { this.xd = t, this.Od = [], this.Ld = !1 }
                            return t.prototype.set = function(t, e, n) {
                                mi("WriteBatch.set", arguments, 2, 3), this.Bd();
                                var r = Ds("WriteBatch.set", t, this.xd);
                                n = Rs("WriteBatch.set", n);
                                var i = Ms(r.ba, e, n),
                                    o = eo(this.xd.vd, "WriteBatch.set", r.pa, i, null !== r.ba, n);
                                return this.Od = this.Od.concat(o.va(r.pa, Fe.Qe())), this
                            }, t.prototype.update = function(t, e, n) { for (var r, i, o = [], s = 3; s < arguments.length; s++) o[s - 3] = arguments[s]; return this.Bd(), "string" == typeof e || e instanceof Mi ? (fi("WriteBatch.update", arguments, 3), r = Ds("WriteBatch.update", t, this.xd), i = ro(this.xd.vd, "WriteBatch.update", r.pa, e, n, o)) : (pi("WriteBatch.update", arguments, 2), r = Ds("WriteBatch.update", t, this.xd), i = no(this.xd.vd, "WriteBatch.update", r.pa, e)), this.Od = this.Od.concat(i.va(r.pa, Fe.exists(!0))), this }, t.prototype.delete = function(t) { pi("WriteBatch.delete", arguments, 1), this.Bd(); var e = Ds("WriteBatch.delete", t, this.xd); return this.Od = this.Od.concat(new Qe(e.pa, Fe.Qe())), this }, t.prototype.commit = function() { return this.Bd(), this.Ld = !0, this.Od.length > 0 ? this.xd.Rd().write(this.Od) : Promise.resolve() }, t.prototype.Bd = function() { if (this.Ld) throw new O(R.FAILED_PRECONDITION, "A write batch can no longer be used after commit() has been called.") }, t
                        }(),
                        bs = function(t) {
                            function e(e, n, r) { var i = this; return (i = t.call(this, n.ya, e, r) || this).pa = e, i.firestore = n, i.ba = r, i.Pd = i.firestore.Rd(), i }
                            return i.__extends(e, t), e.$d = function(t, n, r) { if (t.length % 2 != 0) throw new O(R.INVALID_ARGUMENT, "Invalid document reference. Document references must have an even number of segments, but " + t.N() + " has " + t.length); return new e(new j(t), n, r) }, Object.defineProperty(e.prototype, "id", { get: function() { return this.pa.path.S() }, enumerable: !1, configurable: !0 }), Object.defineProperty(e.prototype, "parent", { get: function() { return new As(this.pa.path.p(), this.firestore, this.ba) }, enumerable: !1, configurable: !0 }), Object.defineProperty(e.prototype, "path", { get: function() { return this.pa.path.N() }, enumerable: !1, configurable: !0 }), e.prototype.collection = function(t) { if (pi("DocumentReference.collection", arguments, 1), gi("DocumentReference.collection", "non-empty string", 1, t), !t) throw new O(R.INVALID_ARGUMENT, "Must provide a non-empty collection name to collection()"); var e = M.$(t); return new As(this.pa.path.child(e), this.firestore, null) }, e.prototype.isEqual = function(t) { if (!(t instanceof e)) throw ki("isEqual", "DocumentReference", 1, t); return this.firestore === t.firestore && this.pa.isEqual(t.pa) && this.ba === t.ba }, e.prototype.set = function(t, e) {
                                mi("DocumentReference.set", arguments, 1, 2), e = Rs("DocumentReference.set", e);
                                var n = Ms(this.ba, t, e),
                                    r = eo(this.firestore.vd, "DocumentReference.set", this.pa, n, null !== this.ba, e);
                                return this.Pd.write(r.va(this.pa, Fe.Qe()))
                            }, e.prototype.update = function(t, e) { for (var n, r = [], i = 2; i < arguments.length; i++) r[i - 2] = arguments[i]; return "string" == typeof t || t instanceof Mi ? (fi("DocumentReference.update", arguments, 2), n = ro(this.firestore.vd, "DocumentReference.update", this.pa, t, e, r)) : (pi("DocumentReference.update", arguments, 1), n = no(this.firestore.vd, "DocumentReference.update", this.pa, t)), this.Pd.write(n.va(this.pa, Fe.exists(!0))) }, e.prototype.delete = function() { return pi("DocumentReference.delete", arguments, 0), this.Pd.write([new Qe(this.pa, Fe.Qe())]) }, e.prototype.onSnapshot = function() {
                                for (var t, e, n, r = this, i = [], o = 0; o < arguments.length; o++) i[o] = arguments[o];
                                mi("DocumentReference.onSnapshot", arguments, 1, 4);
                                var s = { includeMetadataChanges: !1 },
                                    a = 0;
                                "object" != typeof i[a] || ds(i[a]) || (Ti("DocumentReference.onSnapshot", s = i[a], ["includeMetadataChanges"]), _i("DocumentReference.onSnapshot", "boolean", "includeMetadataChanges", s.includeMetadataChanges), a++);
                                var c = { includeMetadataChanges: s.includeMetadataChanges };
                                if (ds(i[a])) {
                                    var l = i[a];
                                    i[a] = null === (t = l.next) || void 0 === t ? void 0 : t.bind(l), i[a + 1] = null === (e = l.error) || void 0 === e ? void 0 : e.bind(l), i[a + 2] = null === (n = l.complete) || void 0 === n ? void 0 : n.bind(l)
                                } else gi("DocumentReference.onSnapshot", "function", a, i[a]), yi("DocumentReference.onSnapshot", "function", a + 1, i[a + 1]), yi("DocumentReference.onSnapshot", "function", a + 2, i[a + 2]);
                                var u = { next: function(t) { i[a] && i[a](r.qd(t)) }, error: i[a + 1], complete: i[a + 2] };
                                return ws(this.Pd, this.pa, c, u)
                            }, e.prototype.get = function(t) {
                                var e = this;
                                return mi("DocumentReference.get", arguments, 0, 1), Ns("DocumentReference.get", t), t && "cache" === t.source ? this.firestore.Rd().rd(this.pa).then((function(t) { return new Ss(e.firestore, e.pa, t, !0, t instanceof rn && t.Ge, e.ba) })) : function(t, e, n) {
                                    var r = new Mn,
                                        i = ws(t, e, { includeMetadataChanges: !0, J_: !0 }, { next: function(t) { i(); var o = t.docs.has(e);!o && t.fromCache ? r.reject(new O(R.UNAVAILABLE, "Failed to get document because the client is offline.")) : o && t.fromCache && n && "server" === n.source ? r.reject(new O(R.UNAVAILABLE, 'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')) : r.resolve(t) }, error: function(t) { return r.reject(t) } });
                                    return r.promise
                                }(this.Pd, this.pa, t).then((function(t) { return e.qd(t) }))
                            }, e.prototype.withConverter = function(t) { return new e(this.pa, this.firestore, t) }, e.prototype.qd = function(t) { var e = t.docs.get(this.pa); return new Ss(this.firestore, this.pa, e, t.fromCache, t.hasPendingWrites, this.ba) }, e
                        }(Yi);

                    function ws(t, e, n, r) {
                        var i = function(t) { console.error("Uncaught Error in onSnapshot:", t) };
                        r.error && (i = r.error.bind(r));
                        var o = new hs({ next: function(t) { r.next && r.next(t) }, error: i }),
                            s = t.listen(an.hn(e.path), o, n);
                        return function() { o.ad(), t.Rc(s) }
                    }
                    var Es = function() {
                            function t(t, e) { this.hasPendingWrites = t, this.fromCache = e }
                            return t.prototype.isEqual = function(t) { return this.hasPendingWrites === t.hasPendingWrites && this.fromCache === t.fromCache }, t
                        }(),
                        Ss = function() {
                            function t(t, e, n, r, i, o) { this.xd = t, this.pa = e, this.Ud = n, this.Qd = r, this.Wd = i, this.ba = o }
                            return t.prototype.data = function(t) { var e = this; if (mi("DocumentSnapshot.data", arguments, 0, 1), t = Os("DocumentSnapshot.data", t), this.Ud) { if (this.ba) { var n = new Cs(this.xd, this.pa, this.Ud, this.Qd, this.Wd, null); return this.ba.fromFirestore(n, t) } return new ps(this.xd.ya, this.xd.kd(), t.serverTimestamps || "none", (function(t) { return new bs(t, e.xd, null) }))._d(this.Ud.tn()) } }, t.prototype.get = function(t, e) { var n = this; if (mi("DocumentSnapshot.get", arguments, 1, 2), e = Os("DocumentSnapshot.get", e), this.Ud) { var r = this.Ud.data().field(lo("DocumentSnapshot.get", t, this.pa)); if (null !== r) return new ps(this.xd.ya, this.xd.kd(), e.serverTimestamps || "none", (function(t) { return new bs(t, n.xd, n.ba) }))._d(r) } }, Object.defineProperty(t.prototype, "id", { get: function() { return this.pa.path.S() }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, "ref", { get: function() { return new bs(this.pa, this.xd, this.ba) }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, "exists", { get: function() { return null !== this.Ud }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, "metadata", { get: function() { return new Es(this.Wd, this.Qd) }, enumerable: !1, configurable: !0 }), t.prototype.isEqual = function(e) { if (!(e instanceof t)) throw ki("isEqual", "DocumentSnapshot", 1, e); return this.xd === e.xd && this.Qd === e.Qd && this.pa.isEqual(e.pa) && (null === this.Ud ? null === e.Ud : this.Ud.isEqual(e.Ud)) && this.ba === e.ba }, t
                        }(),
                        Cs = function(t) {
                            function e() { return null !== t && t.apply(this, arguments) || this }
                            return i.__extends(e, t), e.prototype.data = function(e) { return t.prototype.data.call(this, e) }, e
                        }(Ss);

                    function xs(t) { if (t.mn() && 0 === t.en.length) throw new O(R.UNIMPLEMENTED, "limitToLast() queries require specifying at least one orderBy() clause") }
                    var Ts = function(t) {
                        function e(e, n, r) { var i = this; return (i = t.call(this, n.ya, n.vd, e) || this).jd = e, i.firestore = n, i.ba = r, i }
                        return i.__extends(e, t), e.prototype.where = function(t, n, r) {
                            pi("Query.where", arguments, 3), xi("Query.where", 3, r);
                            var i = wi("Query.where", ["<", "<=", "==", ">=", ">", "array-contains", "in", "array-contains-any"], 2, n),
                                o = lo("Query.where", t),
                                s = this.Kd(o, i, r);
                            return new e(this.jd.cn(s), this.firestore, this.ba)
                        }, e.prototype.orderBy = function(t, n) {
                            var r;
                            if (mi("Query.orderBy", arguments, 1, 2), yi("Query.orderBy", "non-empty string", 2, n), void 0 === n || "asc" === n) r = "asc";
                            else {
                                if ("desc" !== n) throw new O(R.INVALID_ARGUMENT, "Function Query.orderBy() has unknown direction '" + n + "', expected 'asc' or 'desc'.");
                                r = "desc"
                            }
                            var i = lo("Query.orderBy", t),
                                o = this.Yd(i, r);
                            return new e(this.jd.ln(o), this.firestore, this.ba)
                        }, e.prototype.limit = function(t) { return pi("Query.limit", arguments, 1), gi("Query.limit", "number", 1, t), Ii("Query.limit", 1, t), new e(this.jd._n(t), this.firestore, this.ba) }, e.prototype.limitToLast = function(t) { return pi("Query.limitToLast", arguments, 1), gi("Query.limitToLast", "number", 1, t), Ii("Query.limitToLast", 1, t), new e(this.jd.fn(t), this.firestore, this.ba) }, e.prototype.startAt = function(t) {
                            for (var n = [], r = 1; r < arguments.length; r++) n[r - 1] = arguments[r];
                            fi("Query.startAt", arguments, 1);
                            var i = this.ew("Query.startAt", t, n, !0);
                            return new e(this.jd.dn(i), this.firestore, this.ba)
                        }, e.prototype.startAfter = function(t) {
                            for (var n = [], r = 1; r < arguments.length; r++) n[r - 1] = arguments[r];
                            fi("Query.startAfter", arguments, 1);
                            var i = this.ew("Query.startAfter", t, n, !1);
                            return new e(this.jd.dn(i), this.firestore, this.ba)
                        }, e.prototype.endBefore = function(t) {
                            for (var n = [], r = 1; r < arguments.length; r++) n[r - 1] = arguments[r];
                            fi("Query.endBefore", arguments, 1);
                            var i = this.ew("Query.endBefore", t, n, !0);
                            return new e(this.jd.wn(i), this.firestore, this.ba)
                        }, e.prototype.endAt = function(t) {
                            for (var n = [], r = 1; r < arguments.length; r++) n[r - 1] = arguments[r];
                            fi("Query.endAt", arguments, 1);
                            var i = this.ew("Query.endAt", t, n, !1);
                            return new e(this.jd.wn(i), this.firestore, this.ba)
                        }, e.prototype.isEqual = function(t) { if (!(t instanceof e)) throw ki("isEqual", "Query", 1, t); return this.firestore === t.firestore && cn(this.jd, t.jd) && this.ba === t.ba }, e.prototype.withConverter = function(t) { return new e(this.jd, this.firestore, t) }, e.prototype.ew = function(t, e, n, r) { if (xi(t, 1, e), e instanceof Ss) return pi(t, i.__spreadArrays([e], n), 1), this.Xd(t, e.Ud, r); var o = [e].concat(n); return this.Zd(t, o, r) }, e.prototype.onSnapshot = function() {
                            for (var t, e, n, r = this, i = [], o = 0; o < arguments.length; o++) i[o] = arguments[o];
                            mi("Query.onSnapshot", arguments, 1, 4);
                            var s = {},
                                a = 0;
                            if ("object" != typeof i[a] || ds(i[a]) || (Ti("Query.onSnapshot", s = i[a], ["includeMetadataChanges"]), _i("Query.onSnapshot", "boolean", "includeMetadataChanges", s.includeMetadataChanges), a++), ds(i[a])) {
                                var c = i[a];
                                i[a] = null === (t = c.next) || void 0 === t ? void 0 : t.bind(c), i[a + 1] = null === (e = c.error) || void 0 === e ? void 0 : e.bind(c), i[a + 2] = null === (n = c.complete) || void 0 === n ? void 0 : n.bind(c)
                            } else gi("Query.onSnapshot", "function", a, i[a]), yi("Query.onSnapshot", "function", a + 1, i[a + 1]), yi("Query.onSnapshot", "function", a + 2, i[a + 2]);
                            var l = { next: function(t) { i[a] && i[a](new Is(r.firestore, r.jd, t, r.ba)) }, error: i[a + 1], complete: i[a + 2] };
                            return xs(this.jd), ks(this.firestore.Rd(), this.jd, s, l)
                        }, e.prototype.get = function(t) {
                            var e = this;
                            mi("Query.get", arguments, 0, 1), Ns("Query.get", t), xs(this.jd);
                            var n = this.firestore.Rd();
                            return (t && "cache" === t.source ? n.od(this.jd) : function(t, e, n) {
                                var r = new Mn,
                                    i = ks(t, e, { includeMetadataChanges: !0, J_: !0 }, { next: function(t) { i(), t.fromCache && n && "server" === n.source ? r.reject(new O(R.UNAVAILABLE, 'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')) : r.resolve(t) }, error: function(t) { return r.reject(t) } });
                                return r.promise
                            }(n, this.jd, t)).then((function(t) { return new Is(e.firestore, e.jd, t, e.ba) }))
                        }, e
                    }(function() {
                        function t(t, e, n) { this.ya = t, this.vd = e, this.jd = n }
                        return t.prototype.Kd = function(t, e, n) {
                            var r;
                            if (t.O()) {
                                if ("array-contains" === e || "array-contains-any" === e) throw new O(R.INVALID_ARGUMENT, "Invalid Query. You can't perform '" + e + "' queries on FieldPath.documentId().");
                                if ("in" === e) {
                                    this.Gd(n, e);
                                    for (var i = [], o = 0, s = n; o < s.length; o++) i.push(this.zd(s[o]));
                                    r = { arrayValue: { values: i } }
                                } else r = this.zd(n)
                            } else "in" !== e && "array-contains-any" !== e || this.Gd(n, e), r = io(this.vd, "Query.where", n, "in" === e);
                            var a = pn.create(t, e, r);
                            return this.Hd(a), a
                        }, t.prototype.Yd = function(t, e) { if (null !== this.jd.startAt) throw new O(R.INVALID_ARGUMENT, "Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy()."); if (null !== this.jd.endAt) throw new O(R.INVALID_ARGUMENT, "Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy()."); var n = new Sn(t, e); return this.Jd(n), n }, t.prototype.Xd = function(t, e, n) {
                            if (!e) throw new O(R.NOT_FOUND, "Can't use a DocumentSnapshot that doesn't exist for " + t + "().");
                            for (var r = [], i = 0, o = this.jd.orderBy; i < o.length; i++) {
                                var s = o[i];
                                if (s.field.O()) r.push(Ut(this.ya, e.key));
                                else {
                                    var a = e.field(s.field);
                                    if (kt(a)) throw new O(R.INVALID_ARGUMENT, 'Invalid query. You are trying to start or end a query using a document for which the field "' + s.field + '" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');
                                    if (null === a) { var c = s.field.N(); throw new O(R.INVALID_ARGUMENT, "Invalid query. You are trying to start or end a query using a document for which the field '" + c + "' (used as the orderBy) does not exist.") }
                                    r.push(a)
                                }
                            }
                            return new _n(r, n)
                        }, t.prototype.Zd = function(t, e, n) {
                            var r = this.jd.en;
                            if (e.length > r.length) throw new O(R.INVALID_ARGUMENT, "Too many arguments provided to " + t + "(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");
                            for (var i = [], o = 0; o < e.length; o++) {
                                var s = e[o];
                                if (r[o].field.O()) {
                                    if ("string" != typeof s) throw new O(R.INVALID_ARGUMENT, "Invalid query. Expected a string for document ID in " + t + "(), but got a " + typeof s);
                                    if (!this.jd.Vn() && -1 !== s.indexOf("/")) throw new O(R.INVALID_ARGUMENT, "Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to " + t + "() must be a plain document ID, but '" + s + "' contains a slash.");
                                    var a = this.jd.path.child(M.$(s));
                                    if (!j.W(a)) throw new O(R.INVALID_ARGUMENT, "Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to " + t + "() must result in a valid document path, but '" + a + "' is not because it contains an odd number of segments.");
                                    var c = new j(a);
                                    i.push(Ut(this.ya, c))
                                } else {
                                    var l = io(this.vd, t, s);
                                    i.push(l)
                                }
                            }
                            return new _n(i, n)
                        }, t.prototype.zd = function(t) { if ("string" == typeof t) { if ("" === t) throw new O(R.INVALID_ARGUMENT, "Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string."); if (!this.jd.Vn() && -1 !== t.indexOf("/")) throw new O(R.INVALID_ARGUMENT, "Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '" + t + "' contains a '/' character."); var e = this.jd.path.child(M.$(t)); if (!j.W(e)) throw new O(R.INVALID_ARGUMENT, "Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '" + e + "' is not because it has an odd number of segments (" + e.length + ")."); return Ut(this.ya, new j(e)) } if (t instanceof Yi) return Ut(this.ya, t.pa); throw new O(R.INVALID_ARGUMENT, "Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: " + Ci(t) + ".") }, t.prototype.Gd = function(t, e) { if (!Array.isArray(t) || 0 === t.length) throw new O(R.INVALID_ARGUMENT, "Invalid Query. A non-empty array is required for '" + e.toString() + "' filters."); if (t.length > 10) throw new O(R.INVALID_ARGUMENT, "Invalid Query. '" + e.toString() + "' filters support a maximum of 10 elements in the value array."); if (t.indexOf(null) >= 0) throw new O(R.INVALID_ARGUMENT, "Invalid Query. '" + e.toString() + "' filters cannot contain 'null' in the value array."); if (t.filter((function(t) { return Number.isNaN(t) })).length > 0) throw new O(R.INVALID_ARGUMENT, "Invalid Query. '" + e.toString() + "' filters cannot contain 'NaN' in the value array.") }, t.prototype.Hd = function(t) {
                            if (t instanceof pn) {
                                var e = ["array-contains", "array-contains-any"],
                                    n = ["in", "array-contains-any"],
                                    r = e.indexOf(t.op) >= 0,
                                    i = n.indexOf(t.op) >= 0;
                                if (t.An()) {
                                    var o = this.jd.an();
                                    if (null !== o && !o.isEqual(t.field)) throw new O(R.INVALID_ARGUMENT, "Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '" + o.toString() + "' and '" + t.field.toString() + "'");
                                    var s = this.jd.un();
                                    null !== s && this.tw(t.field, s)
                                } else if (i || r) { var a = null; if (i && (a = this.jd.Rn(n)), null === a && r && (a = this.jd.Rn(e)), null !== a) throw new O(R.INVALID_ARGUMENT, a === t.op ? "Invalid query. You cannot use more than one '" + t.op.toString() + "' filter." : "Invalid query. You cannot use '" + t.op.toString() + "' filters with '" + a.toString() + "' filters.") }
                            }
                        }, t.prototype.Jd = function(t) {
                            if (null === this.jd.un()) {
                                var e = this.jd.an();
                                null !== e && this.tw(e, t.field)
                            }
                        }, t.prototype.tw = function(t, e) { if (!e.isEqual(t)) throw new O(R.INVALID_ARGUMENT, "Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '" + t.toString() + "' and so you must also use '" + t.toString() + "' as your first Query.orderBy(), but your first Query.orderBy() is on field '" + e.toString() + "' instead.") }, t
                    }());

                    function ks(t, e, n, r) {
                        var i = function(t) { console.error("Uncaught Error in onSnapshot:", t) };
                        r.error && (i = r.error.bind(r));
                        var o = new hs({ next: function(t) { r.next && r.next(t) }, error: i }),
                            s = t.listen(e, o, n);
                        return function() { o.ad(), t.Rc(s) }
                    }
                    var Is = function() {
                            function t(t, e, n, r) { this.xd = t, this.nw = e, this.sw = n, this.ba = r, this.iw = null, this.rw = null, this.metadata = new Es(n.hasPendingWrites, n.fromCache) }
                            return Object.defineProperty(t.prototype, "docs", { get: function() { var t = []; return this.forEach((function(e) { return t.push(e) })), t }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, "empty", { get: function() { return this.sw.docs._() }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, "size", { get: function() { return this.sw.docs.size }, enumerable: !1, configurable: !0 }), t.prototype.forEach = function(t, e) {
                                var n = this;
                                mi("QuerySnapshot.forEach", arguments, 1, 2), gi("QuerySnapshot.forEach", "function", 1, t), this.sw.docs.forEach((function(r) { t.call(e, n.ow(r, n.metadata.fromCache, n.sw.Lt.has(r.key))) }))
                            }, Object.defineProperty(t.prototype, "query", { get: function() { return new Ts(this.nw, this.xd, this.ba) }, enumerable: !1, configurable: !0 }), t.prototype.docChanges = function(t) {
                                t && (Ti("QuerySnapshot.docChanges", t, ["includeMetadataChanges"]), _i("QuerySnapshot.docChanges", "boolean", "includeMetadataChanges", t.includeMetadataChanges));
                                var e = !(!t || !t.includeMetadataChanges);
                                if (e && this.sw.qt) throw new O(R.INVALID_ARGUMENT, "To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");
                                return this.iw && this.rw === e || (this.iw = function(t, e, n) {
                                    if (t.Ot._()) { var r = 0; return t.docChanges.map((function(e) { return { type: "added", doc: n(e.doc, t.fromCache, t.Lt.has(e.doc.key)), oldIndex: -1, newIndex: r++ } })) }
                                    var i = t.Ot;
                                    return t.docChanges.filter((function(t) { return e || 3 !== t.type })).map((function(e) {
                                        var r = n(e.doc, t.fromCache, t.Lt.has(e.doc.key)),
                                            o = -1,
                                            s = -1;
                                        return 0 !== e.type && (o = i.indexOf(e.doc.key), i = i.delete(e.doc.key)), 1 !== e.type && (s = (i = i.add(e.doc)).indexOf(e.doc.key)), { type: Ps(e.type), doc: r, oldIndex: o, newIndex: s }
                                    }))
                                }(this.sw, e, this.ow.bind(this)), this.rw = e), this.iw
                            }, t.prototype.isEqual = function(e) { if (!(e instanceof t)) throw ki("isEqual", "QuerySnapshot", 1, e); return this.xd === e.xd && cn(this.nw, e.nw) && this.sw.isEqual(e.sw) && this.ba === e.ba }, t.prototype.ow = function(t, e, n) { return new Cs(this.xd, t.key, t, e, n, this.ba) }, t
                        }(),
                        As = function(t) {
                            function e(e, n, r) { var i = this; if ((i = t.call(this, an.hn(e), n, r) || this).hw = e, e.length % 2 != 1) throw new O(R.INVALID_ARGUMENT, "Invalid collection reference. Collection references must have an odd number of segments, but " + e.N() + " has " + e.length); return i }
                            return i.__extends(e, t), Object.defineProperty(e.prototype, "id", { get: function() { return this.jd.path.S() }, enumerable: !1, configurable: !0 }), Object.defineProperty(e.prototype, "parent", { get: function() { var t = this.jd.path.p(); return t._() ? null : new bs(new j(t), this.firestore, null) }, enumerable: !1, configurable: !0 }), Object.defineProperty(e.prototype, "path", { get: function() { return this.jd.path.N() }, enumerable: !1, configurable: !0 }), e.prototype.doc = function(t) { mi("CollectionReference.doc", arguments, 0, 1), 0 === arguments.length && (t = b.t()), gi("CollectionReference.doc", "non-empty string", 1, t); var e = M.$(t); return bs.$d(this.jd.path.child(e), this.firestore, this.ba) }, e.prototype.add = function(t) { pi("CollectionReference.add", arguments, 1), gi("CollectionReference.add", "object", 1, this.ba ? this.ba.toFirestore(t) : t); var e = this.doc(); return e.set(t).then((function() { return e })) }, e.prototype.withConverter = function(t) { return new e(this.hw, this.firestore, t) }, e
                        }(Ts);

                    function Rs(t, e) {
                        if (void 0 === e) return { merge: !1 };
                        if (Ti(t, e, ["merge", "mergeFields"]), _i(t, "boolean", "merge", e.merge), function(t, e, n, r, i) {
                                void 0 !== r && function(t, e, n, r, i) {
                                    if (!(r instanceof Array)) throw new O(R.INVALID_ARGUMENT, "Function " + t + "() requires its " + e + " option to be an array, but it was: " + Ci(r));
                                    for (var o = 0; o < r.length; ++o)
                                        if (!i(r[o])) throw new O(R.INVALID_ARGUMENT, "Function " + t + "() requires all " + e + " elements to be a string or a FieldPath, but the value at index " + o + " was: " + Ci(r[o]))
                                }(t, "mergeFields", 0, r, (function(t) { return "string" == typeof t || t instanceof Mi }))
                            }(t, 0, 0, e.mergeFields), void 0 !== e.mergeFields && void 0 !== e.merge) throw new O(R.INVALID_ARGUMENT, "Invalid options passed to function " + t + '(): You cannot specify both "merge" and "mergeFields".');
                        return e
                    }

                    function Os(t, e) { return void 0 === e ? {} : (Ti(t, e, ["serverTimestamps"]), bi(t, 0, "serverTimestamps", e.serverTimestamps, ["estimate", "previous", "none"]), e) }

                    function Ns(t, e) { yi(t, "object", 1, e), e && (Ti(t, e, ["source"]), bi(t, 0, "source", e.source, ["default", "server", "cache"])) }

                    function Ds(t, e, n) { if (e instanceof Yi) { if (e.firestore !== n) throw new O(R.INVALID_ARGUMENT, "Provided document reference is from a different Firestore instance."); return e } throw ki(t, "DocumentReference", 1, e) }

                    function Ps(t) {
                        switch (t) {
                            case 0:
                                return "added";
                            case 2:
                            case 3:
                                return "modified";
                            case 1:
                                return "removed";
                            default:
                                return g()
                        }
                    }

                    function Ms(t, e, n) { return t ? n && (n.merge || n.mergeFields) ? t.toFirestore(e, n) : t.toFirestore(e) : e }
                    var Ls = { Firestore: gs, GeoPoint: Gi, Timestamp: N, Blob: Di, Transaction: vs, WriteBatch: _s, DocumentReference: bs, DocumentSnapshot: Ss, Query: Ts, QueryDocumentSnapshot: Cs, QuerySnapshot: Is, CollectionReference: As, FieldPath: Mi, FieldValue: Wi, setLogLevel: gs.setLogLevel, CACHE_SIZE_UNLIMITED: fs };

                    function Fs(t) {! function(t, e) { t.INTERNAL.registerComponent(new l.Component("firestore", (function(t) { return function(t, e) { return new gs(t, e, new ls) }(t.getProvider("app").getImmediate(), t.getProvider("auth-internal")) }), "PUBLIC").setServiceProps(Object.assign({}, Ls))) }(t), t.registerVersion("@firebase/firestore", "1.16.0") }
                    Fs(o), e.__PRIVATE_registerFirestore = Fs
                },
                ABqa: function(t, e, n) {
                    "use strict";
                    var r, i = (r = n("wj3C")) && "object" == typeof r && "default" in r ? r.default : r,
                        o = n("mrSG"),
                        s = n("S+S0"),
                        a = { OK: "ok", CANCELLED: "cancelled", UNKNOWN: "unknown", INVALID_ARGUMENT: "invalid-argument", DEADLINE_EXCEEDED: "deadline-exceeded", NOT_FOUND: "not-found", ALREADY_EXISTS: "already-exists", PERMISSION_DENIED: "permission-denied", UNAUTHENTICATED: "unauthenticated", RESOURCE_EXHAUSTED: "resource-exhausted", FAILED_PRECONDITION: "failed-precondition", ABORTED: "aborted", OUT_OF_RANGE: "out-of-range", UNIMPLEMENTED: "unimplemented", INTERNAL: "internal", UNAVAILABLE: "unavailable", DATA_LOSS: "data-loss" },
                        c = function(t) {
                            function e(n, r, i) { var o = t.call(this, r) || this; return Object.setPrototypeOf(o, e.prototype), o.code = n, o.details = i, o }
                            return o.__extends(e, t), e
                        }(Error),
                        l = function() {
                            function t(t, e) {
                                var n = this;
                                this.auth = null, this.messaging = null, this.auth = t.getImmediate({ optional: !0 }), this.messaging = e.getImmediate({ optional: !0 }), this.auth || t.get().then((function(t) { return n.auth = t }), (function() {})), this.messaging || e.get().then((function(t) { return n.messaging = t }), (function() {}))
                            }
                            return t.prototype.getAuthToken = function() {
                                return o.__awaiter(this, void 0, void 0, (function() {
                                    var t;
                                    return o.__generator(this, (function(e) {
                                        switch (e.label) {
                                            case 0:
                                                if (!this.auth) return [2, void 0];
                                                e.label = 1;
                                            case 1:
                                                return e.trys.push([1, 3, , 4]), [4, this.auth.getToken()];
                                            case 2:
                                                return (t = e.sent()) ? [2, t.accessToken] : [2, void 0];
                                            case 3:
                                                return e.sent(), [2, void 0];
                                            case 4:
                                                return [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.getInstanceIdToken = function() { return o.__awaiter(this, void 0, void 0, (function() { return o.__generator(this, (function(t) { if (!(this.messaging && "Notification" in self && "granted" === Notification.permission)) return [2, void 0]; try { return [2, this.messaging.getToken()] } catch (e) { return [2, void 0] } return [2] })) })) }, t.prototype.getContext = function() {
                                return o.__awaiter(this, void 0, void 0, (function() {
                                    var t, e;
                                    return o.__generator(this, (function(n) {
                                        switch (n.label) {
                                            case 0:
                                                return [4, this.getAuthToken()];
                                            case 1:
                                                return t = n.sent(), [4, this.getInstanceIdToken()];
                                            case 2:
                                                return e = n.sent(), [2, { authToken: t, instanceIdToken: e }]
                                        }
                                    }))
                                }))
                            }, t
                        }();

                    function u(t, e) { var n = {}; for (var r in t) t.hasOwnProperty(r) && (n[r] = e(t[r])); return n }
                    var h, d = function() {
                            function t() {}
                            return t.prototype.encode = function(t) { var e = this; if (null == t) return null; if (t instanceof Number && (t = t.valueOf()), "number" == typeof t && isFinite(t)) return t; if (!0 === t || !1 === t) return t; if ("[object String]" === Object.prototype.toString.call(t)) return t; if (Array.isArray(t)) return t.map((function(t) { return e.encode(t) })); if ("function" == typeof t || "object" == typeof t) return u(t, (function(t) { return e.encode(t) })); throw new Error("Data cannot be encoded in JSON: " + t) }, t.prototype.decode = function(t) {
                                var e = this;
                                if (null == t) return t;
                                if (t["@type"]) switch (t["@type"]) {
                                    case "type.googleapis.com/google.protobuf.Int64Value":
                                    case "type.googleapis.com/google.protobuf.UInt64Value":
                                        var n = Number(t.value);
                                        if (isNaN(n)) throw new Error("Data cannot be decoded from JSON: " + t);
                                        return n;
                                    default:
                                        throw new Error("Data cannot be decoded from JSON: " + t)
                                }
                                return Array.isArray(t) ? t.map((function(t) { return e.decode(t) })) : "function" == typeof t || "object" == typeof t ? u(t, (function(t) { return e.decode(t) })) : t
                            }, t
                        }(),
                        p = function() {
                            function t(t, e, n, r) {
                                var i = this;
                                void 0 === r && (r = "us-central1"), this.app_ = t, this.region_ = r, this.serializer = new d, this.emulatorOrigin = null, this.INTERNAL = { delete: function() { return i.deleteService() } }, this.contextProvider = new l(e, n), this.cancelAllRequests = new Promise((function(t) { i.deleteService = function() { return t() } }))
                            }
                            return Object.defineProperty(t.prototype, "app", { get: function() { return this.app_ }, enumerable: !1, configurable: !0 }), t.prototype._url = function(t) {
                                var e = this.app_.options.projectId,
                                    n = this.region_;
                                return null !== this.emulatorOrigin ? this.emulatorOrigin + "/" + e + "/" + n + "/" + t : "https://" + n + "-" + e + ".cloudfunctions.net/" + t
                            }, t.prototype.useFunctionsEmulator = function(t) { this.emulatorOrigin = t }, t.prototype.httpsCallable = function(t, e) { var n = this; return function(r) { return n.call(t, r, e || {}) } }, t.prototype.postJSON = function(t, e, n) {
                                return o.__awaiter(this, void 0, void 0, (function() {
                                    var r, i;
                                    return o.__generator(this, (function(o) {
                                        switch (o.label) {
                                            case 0:
                                                n.append("Content-Type", "application/json"), o.label = 1;
                                            case 1:
                                                return o.trys.push([1, 3, , 4]), [4, fetch(t, { method: "POST", body: JSON.stringify(e), headers: n })];
                                            case 2:
                                                return r = o.sent(), [3, 4];
                                            case 3:
                                                return o.sent(), [2, { status: 0, json: null }];
                                            case 4:
                                                i = null, o.label = 5;
                                            case 5:
                                                return o.trys.push([5, 7, , 8]), [4, r.json()];
                                            case 6:
                                                return i = o.sent(), [3, 8];
                                            case 7:
                                                return o.sent(), [3, 8];
                                            case 8:
                                                return [2, { status: r.status, json: i }]
                                        }
                                    }))
                                }))
                            }, t.prototype.call = function(t, e, n) {
                                return o.__awaiter(this, void 0, void 0, (function() {
                                    var r, i, s, l, u, h, d, p, m, g;
                                    return o.__generator(this, (function(o) {
                                        switch (o.label) {
                                            case 0:
                                                return r = this._url(t), e = this.serializer.encode(e), i = { data: e }, s = new Headers, [4, this.contextProvider.getContext()];
                                            case 1:
                                                return (l = o.sent()).authToken && s.append("Authorization", "Bearer " + l.authToken), l.instanceIdToken && s.append("Firebase-Instance-ID-Token", l.instanceIdToken), u = function(t) { var e, n = new Promise((function(n, r) { e = setTimeout((function() { r(new c("deadline-exceeded", "deadline-exceeded")) }), t) })); return { timer: e, promise: n } }(n.timeout || 7e4), h = u.timer, d = u.promise, [4, Promise.race([f(h, this.postJSON(r, i, s)), d, f(h, this.cancelAllRequests)])];
                                            case 2:
                                                if (!(p = o.sent())) throw new c("cancelled", "Firebase Functions instance was deleted.");
                                                if (m = function(t, e, n) {
                                                        var r = function(t) {
                                                                if (t >= 200 && t < 300) return "ok";
                                                                switch (t) {
                                                                    case 0:
                                                                        return "internal";
                                                                    case 400:
                                                                        return "invalid-argument";
                                                                    case 401:
                                                                        return "unauthenticated";
                                                                    case 403:
                                                                        return "permission-denied";
                                                                    case 404:
                                                                        return "not-found";
                                                                    case 409:
                                                                        return "aborted";
                                                                    case 429:
                                                                        return "resource-exhausted";
                                                                    case 499:
                                                                        return "cancelled";
                                                                    case 500:
                                                                        return "internal";
                                                                    case 501:
                                                                        return "unimplemented";
                                                                    case 503:
                                                                        return "unavailable";
                                                                    case 504:
                                                                        return "deadline-exceeded"
                                                                }
                                                                return "unknown"
                                                            }(t),
                                                            i = r,
                                                            o = void 0;
                                                        try {
                                                            var s = e && e.error;
                                                            if (s) {
                                                                var l = s.status;
                                                                if ("string" == typeof l) {
                                                                    if (!a[l]) return new c("internal", "internal");
                                                                    r = a[l], i = l
                                                                }
                                                                var u = s.message;
                                                                "string" == typeof u && (i = u), void 0 !== (o = s.details) && (o = n.decode(o))
                                                            }
                                                        } catch (h) {}
                                                        return "ok" === r ? null : new c(r, i, o)
                                                    }(p.status, p.json, this.serializer)) throw m;
                                                if (!p.json) throw new c("internal", "Response is not valid JSON object.");
                                                if (void 0 === (g = p.json.data) && (g = p.json.result), void 0 === g) throw new c("internal", "Response is missing data field.");
                                                return [2, { data: this.serializer.decode(g) }]
                                        }
                                    }))
                                }))
                            }, t
                        }();

                    function f(t, e) {
                        return o.__awaiter(this, void 0, void 0, (function() {
                            var n;
                            return o.__generator(this, (function(r) {
                                switch (r.label) {
                                    case 0:
                                        return [4, e];
                                    case 1:
                                        return n = r.sent(), clearTimeout(t), [2, n]
                                }
                            }))
                        }))
                    }
                    h = { Functions: p }, i.INTERNAL.registerComponent(new s.Component("functions", (function(t, e) {
                        var n = t.getProvider("app").getImmediate(),
                            r = t.getProvider("auth-internal"),
                            i = t.getProvider("messaging");
                        return new p(n, r, i, e)
                    }), "PUBLIC").setServiceProps(h).setMultipleInstances(!0)), i.registerVersion("@firebase/functions", "0.4.48")
                },
                Iab2: function(t, e, n) {
                    var r, i;
                    void 0 === (i = "function" == typeof(r = function() {
                        "use strict";

                        function e(t, e, n) {
                            var r = new XMLHttpRequest;
                            r.open("GET", t), r.responseType = "blob", r.onload = function() { o(r.response, e, n) }, r.onerror = function() { console.error("could not download file") }, r.send()
                        }

                        function n(t) {
                            var e = new XMLHttpRequest;
                            e.open("HEAD", t, !1);
                            try { e.send() } catch (t) {}
                            return 200 <= e.status && 299 >= e.status
                        }

                        function r(t) {
                            try { t.dispatchEvent(new MouseEvent("click")) } catch (e) {
                                var n = document.createEvent("MouseEvents");
                                n.initMouseEvent("click", !0, !0, window, 0, 0, 0, 80, 20, !1, !1, !1, !1, 0, null), t.dispatchEvent(n)
                            }
                        }
                        var i = "object" == typeof window && window.window === window ? window : "object" == typeof self && self.self === self ? self : "object" == typeof global && global.global === global ? global : void 0,
                            o = i.saveAs || ("object" != typeof window || window !== i ? function() {} : "download" in HTMLAnchorElement.prototype ? function(t, o, s) {
                                var a = i.URL || i.webkitURL,
                                    c = document.createElement("a");
                                c.download = o = o || t.name || "download", c.rel = "noopener", "string" == typeof t ? (c.href = t, c.origin === location.origin ? r(c) : n(c.href) ? e(t, o, s) : r(c, c.target = "_blank")) : (c.href = a.createObjectURL(t), setTimeout((function() { a.revokeObjectURL(c.href) }), 4e4), setTimeout((function() { r(c) }), 0))
                            } : "msSaveOrOpenBlob" in navigator ? function(t, i, o) {
                                if (i = i || t.name || "download", "string" != typeof t) navigator.msSaveOrOpenBlob(function(t, e) { return void 0 === e ? e = { autoBom: !1 } : "object" != typeof e && (console.warn("Deprecated: Expected third argument to be a object"), e = { autoBom: !e }), e.autoBom && /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type) ? new Blob(["\ufeff", t], { type: t.type }) : t }(t, o), i);
                                else if (n(t)) e(t, i, o);
                                else {
                                    var s = document.createElement("a");
                                    s.href = t, s.target = "_blank", setTimeout((function() { r(s) }))
                                }
                            } : function(t, n, r, o) {
                                if ((o = o || open("", "_blank")) && (o.document.title = o.document.body.innerText = "downloading..."), "string" == typeof t) return e(t, n, r);
                                var s = "application/octet-stream" === t.type,
                                    a = /constructor/i.test(i.HTMLElement) || i.safari,
                                    c = /CriOS\/[\d]+/.test(navigator.userAgent);
                                if ((c || s && a) && "object" == typeof FileReader) {
                                    var l = new FileReader;
                                    l.onloadend = function() {
                                        var t = l.result;
                                        t = c ? t : t.replace(/^data:[^;]*;/, "data:attachment/file;"), o ? o.location.href = t : location = t, o = null
                                    }, l.readAsDataURL(t)
                                } else {
                                    var u = i.URL || i.webkitURL,
                                        h = u.createObjectURL(t);
                                    o ? o.location = h : location.href = h, o = null, setTimeout((function() { u.revokeObjectURL(h) }), 4e4)
                                }
                            });
                        i.saveAs = o.saveAs = o, t.exports = o
                    }) ? r.apply(e, []) : r) || (t.exports = i)
                },
                LmZi: function(t, e, n) {
                    "use strict";
                    n.r(e), n.d(e, "registerStorage", (function() { return jt }));
                    var r = n("wj3C"),
                        i = n.n(r),
                        o = n("mrSG"),
                        s = n("S+S0"),
                        a = function() {
                            function t(t, e) { this.code_ = c(t), this.message_ = "Firebase Storage: " + e, this.serverResponse_ = null, this.name_ = "FirebaseError" }
                            return t.prototype.codeProp = function() { return this.code }, t.prototype.codeEquals = function(t) { return c(t) === this.codeProp() }, t.prototype.serverResponseProp = function() { return this.serverResponse_ }, t.prototype.setServerResponseProp = function(t) { this.serverResponse_ = t }, Object.defineProperty(t.prototype, "name", { get: function() { return this.name_ }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, "code", { get: function() { return this.code_ }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, "message", { get: function() { return this.message_ }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, "serverResponse", { get: function() { return this.serverResponse_ }, enumerable: !1, configurable: !0 }), t
                        }();

                    function c(t) { return "storage/" + t }

                    function l() { return new a("unknown", "An unknown error occurred, please check the error payload for server response.") }

                    function u() { return new a("canceled", "User canceled the upload/download.") }

                    function h() { return new a("cannot-slice-blob", "Cannot slice blob for upload. Please retry the upload.") }

                    function d() { return new a("no-download-url", "The given file does not have any download URLs.") }

                    function p(t, e, n) { return new a("invalid-argument", "Invalid argument in `" + e + "` at index " + t + ": " + n) }

                    function f() { return new a("app-deleted", "The Firebase app was deleted.") }

                    function m(t, e) { return new a("invalid-format", "String does not match format '" + t + "': " + e) }

                    function g(t) { throw new a("internal-error", "Internal error: " + t) }
                    var y = { RAW: "raw", BASE64: "base64", BASE64URL: "base64url", DATA_URL: "data_url" };

                    function v(t) {
                        switch (t) {
                            case y.RAW:
                            case y.BASE64:
                            case y.BASE64URL:
                            case y.DATA_URL:
                                return;
                            default:
                                throw "Expected one of the event types: [" + y.RAW + ", " + y.BASE64 + ", " + y.BASE64URL + ", " + y.DATA_URL + "]."
                        }
                    }
                    var _ = function() { return function(t, e) { this.data = t, this.contentType = e || null } }();

                    function b(t, e) {
                        switch (t) {
                            case y.RAW:
                                return new _(w(e));
                            case y.BASE64:
                            case y.BASE64URL:
                                return new _(E(t, e));
                            case y.DATA_URL:
                                return new _((n = new S(e)).base64 ? E(y.BASE64, n.rest) : function(t) { var e; try { e = decodeURIComponent(t) } catch (n) { throw m(y.DATA_URL, "Malformed data URL.") } return w(e) }(n.rest), function(t) { return new S(t).contentType }(e))
                        }
                        var n;
                        throw l()
                    }

                    function w(t) {
                        for (var e = [], n = 0; n < t.length; n++) {
                            var r = t.charCodeAt(n);
                            if (r <= 127) e.push(r);
                            else if (r <= 2047) e.push(192 | r >> 6, 128 | 63 & r);
                            else if (55296 == (64512 & r))
                                if (n < t.length - 1 && 56320 == (64512 & t.charCodeAt(n + 1))) {
                                    var i = r,
                                        o = t.charCodeAt(++n);
                                    e.push(240 | (r = 65536 | (1023 & i) << 10 | 1023 & o) >> 18, 128 | r >> 12 & 63, 128 | r >> 6 & 63, 128 | 63 & r)
                                } else e.push(239, 191, 189);
                            else 56320 == (64512 & r) ? e.push(239, 191, 189) : e.push(224 | r >> 12, 128 | r >> 6 & 63, 128 | 63 & r)
                        }
                        return new Uint8Array(e)
                    }

                    function E(t, e) {
                        switch (t) {
                            case y.BASE64:
                                var n = -1 !== e.indexOf("-"),
                                    r = -1 !== e.indexOf("_");
                                if (n || r) throw m(t, "Invalid character '" + (n ? "-" : "_") + "' found: is it base64url encoded?");
                                break;
                            case y.BASE64URL:
                                var i = -1 !== e.indexOf("+"),
                                    o = -1 !== e.indexOf("/");
                                if (i || o) throw m(t, "Invalid character '" + (i ? "+" : "/") + "' found: is it base64 encoded?");
                                e = e.replace(/-/g, "+").replace(/_/g, "/")
                        }
                        var s;
                        try { s = atob(e) } catch (l) { throw m(t, "Invalid character found") }
                        for (var a = new Uint8Array(s.length), c = 0; c < s.length; c++) a[c] = s.charCodeAt(c);
                        return a
                    }
                    var S = function() {
                            return function(t) {
                                this.base64 = !1, this.contentType = null;
                                var e = t.match(/^data:([^,]+)?,/);
                                if (null === e) throw m(y.DATA_URL, "Must be formatted 'data:[<mediatype>][;base64],<data>");
                                var n, r = e[1] || null;
                                null != r && (this.base64 = (n = r).length >= ";base64".length && ";base64" === n.substring(n.length - ";base64".length), this.contentType = this.base64 ? r.substring(0, r.length - ";base64".length) : r), this.rest = t.substring(t.indexOf(",") + 1)
                            }
                        }(),
                        C = { STATE_CHANGED: "state_changed" },
                        x = { RUNNING: "running", PAUSED: "paused", SUCCESS: "success", CANCELED: "canceled", ERROR: "error" };

                    function T(t) {
                        switch (t) {
                            case "running":
                            case "pausing":
                            case "canceling":
                                return x.RUNNING;
                            case "paused":
                                return x.PAUSED;
                            case "success":
                                return x.SUCCESS;
                            case "canceled":
                                return x.CANCELED;
                            case "error":
                            default:
                                return x.ERROR
                        }
                    }

                    function k(t) { return null != t }

                    function I(t) { return void 0 !== t }

                    function A(t) { return "function" == typeof t }

                    function R(t) { return "object" == typeof t }

                    function O(t) { return R(t) && null !== t }

                    function N(t) { return "string" == typeof t || t instanceof String }

                    function D(t) { return P(t) && Number.isInteger(t) }

                    function P(t) { return "number" == typeof t || t instanceof Number }

                    function M(t) { return L() && t instanceof Blob }

                    function L() { return "undefined" != typeof Blob }
                    var F = function(t) { return t[t.NO_ERROR = 0] = "NO_ERROR", t[t.NETWORK_ERROR = 1] = "NETWORK_ERROR", t[t.ABORT = 2] = "ABORT", t }({}),
                        j = function() {
                            function t() {
                                var t = this;
                                this.sent_ = !1, this.xhr_ = new XMLHttpRequest, this.errorCode_ = F.NO_ERROR, this.sendPromise_ = new Promise((function(e) { t.xhr_.addEventListener("abort", (function() { t.errorCode_ = F.ABORT, e(t) })), t.xhr_.addEventListener("error", (function() { t.errorCode_ = F.NETWORK_ERROR, e(t) })), t.xhr_.addEventListener("load", (function() { e(t) })) }))
                            }
                            return t.prototype.send = function(t, e, n, r) {
                                if (this.sent_) throw g("cannot .send() more than once");
                                if (this.sent_ = !0, this.xhr_.open(e, t, !0), k(r))
                                    for (var i in r) r.hasOwnProperty(i) && this.xhr_.setRequestHeader(i, r[i].toString());
                                return k(n) ? this.xhr_.send(n) : this.xhr_.send(), this.sendPromise_
                            }, t.prototype.getErrorCode = function() { if (!this.sent_) throw g("cannot .getErrorCode() before sending"); return this.errorCode_ }, t.prototype.getStatus = function() { if (!this.sent_) throw g("cannot .getStatus() before sending"); try { return this.xhr_.status } catch (t) { return -1 } }, t.prototype.getResponseText = function() { if (!this.sent_) throw g("cannot .getResponseText() before sending"); return this.xhr_.responseText }, t.prototype.abort = function() { this.xhr_.abort() }, t.prototype.getResponseHeader = function(t) { return this.xhr_.getResponseHeader(t) }, t.prototype.addUploadProgressListener = function(t) { k(this.xhr_.upload) && this.xhr_.upload.addEventListener("progress", t) }, t.prototype.removeUploadProgressListener = function(t) { k(this.xhr_.upload) && this.xhr_.upload.removeEventListener("progress", t) }, t
                        }(),
                        U = function() {
                            function t() {}
                            return t.prototype.createXhrIo = function() { return new j }, t
                        }();

                    function V() { return "undefined" != typeof BlobBuilder ? BlobBuilder : "undefined" != typeof WebKitBlobBuilder ? WebKitBlobBuilder : void 0 }

                    function B() { for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e]; var n = V(); if (void 0 !== n) { for (var r = new n, i = 0; i < t.length; i++) r.append(t[i]); return r.getBlob() } if (L()) return new Blob(t); throw Error("This browser doesn't seem to support creating Blobs") }
                    var q = function() {
                            function t(t, e) {
                                var n = 0,
                                    r = "";
                                M(t) ? (this.data_ = t, n = t.size, r = t.type) : t instanceof ArrayBuffer ? (e ? this.data_ = new Uint8Array(t) : (this.data_ = new Uint8Array(t.byteLength), this.data_.set(new Uint8Array(t))), n = this.data_.length) : t instanceof Uint8Array && (e ? this.data_ = t : (this.data_ = new Uint8Array(t.length), this.data_.set(t)), n = t.length), this.size_ = n, this.type_ = r
                            }
                            return t.prototype.size = function() { return this.size_ }, t.prototype.type = function() { return this.type_ }, t.prototype.slice = function(e, n) { if (M(this.data_)) { var r = (o = e, s = n, (i = this.data_).webkitSlice ? i.webkitSlice(o, s) : i.mozSlice ? i.mozSlice(o, s) : i.slice ? i.slice(o, s) : null); return null === r ? null : new t(r) } var i, o, s; return new t(new Uint8Array(this.data_.buffer, e, n - e), !0) }, t.getBlob = function() {
                                for (var e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n];
                                if (L()) { var r = e.map((function(e) { return e instanceof t ? e.data_ : e })); return new t(B.apply(null, r)) }
                                var i = e.map((function(t) { return N(t) ? b(y.RAW, t).data : t.data_ })),
                                    o = 0;
                                i.forEach((function(t) { o += t.byteLength }));
                                var s = new Uint8Array(o),
                                    a = 0;
                                return i.forEach((function(t) { for (var e = 0; e < t.length; e++) s[a++] = t[e] })), new t(s, !0)
                            }, t.prototype.uploadData = function() { return this.data_ }, t
                        }(),
                        H = function() {
                            function t(t, e) { this.bucket = t, this.path_ = e }
                            return Object.defineProperty(t.prototype, "path", { get: function() { return this.path_ }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, "isRoot", { get: function() { return 0 === this.path.length }, enumerable: !1, configurable: !0 }), t.prototype.fullServerUrl = function() { var t = encodeURIComponent; return "/b/" + t(this.bucket) + "/o/" + t(this.path) }, t.prototype.bucketOnlyServerUrl = function() { return "/b/" + encodeURIComponent(this.bucket) + "/o" }, t.makeFromBucketSpec = function(e) { var n; try { n = t.makeFromUrl(e) } catch (r) { return new t(e, "") } if ("" === n.path) return n; throw new a("invalid-default-bucket", "Invalid default bucket '" + e + "'.") }, t.makeFromUrl = function(e) {
                                var n = null,
                                    r = new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$", "i");

                                function i(t) { t.path_ = decodeURIComponent(t.path) }
                                for (var o = "firebasestorage.googleapis.com".replace(/[.]/g, "\\."), s = [{ regex: r, indices: { bucket: 1, path: 3 }, postModify: function(t) { "/" === t.path.charAt(t.path.length - 1) && (t.path_ = t.path_.slice(0, -1)) } }, { regex: new RegExp("^https?://" + o + "/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$", "i"), indices: { bucket: 1, path: 3 }, postModify: i }, { regex: new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)", "i"), indices: { bucket: 1, path: 2 }, postModify: i }], c = 0; c < s.length; c++) {
                                    var l = s[c],
                                        u = l.regex.exec(e);
                                    if (u) {
                                        var h = u[l.indices.path];
                                        h || (h = ""), n = new t(u[l.indices.bucket], h), l.postModify(n);
                                        break
                                    }
                                }
                                if (null == n) throw

                                function(t) { return new a("invalid-url", "Invalid URL '" + t + "'.") }(e);
                                return n
                            }, t
                        }();

                    function W(t) { var e, n; try { e = JSON.parse(t) } catch (r) { return null } return R(n = e) && !Array.isArray(n) ? e : null }

                    function z(t, e) { var n = e.split("/").filter((function(t) { return t.length > 0 })).join("/"); return 0 === t.length ? n : t + "/" + n }

                    function G(t) { var e = t.lastIndexOf("/", t.length - 2); return -1 === e ? t : t.slice(e + 1) }

                    function $(t) { return "https://firebasestorage.googleapis.com/v0" + t }

                    function K(t) {
                        var e = encodeURIComponent,
                            n = "?";
                        for (var r in t) t.hasOwnProperty(r) && (n = n + (e(r) + "=") + e(t[r]) + "&");
                        return n.slice(0, -1)
                    }

                    function Y(t, e) { return e }
                    var X = function() { return function(t, e, n, r) { this.server = t, this.local = e || t, this.writable = !!n, this.xform = r || Y } }(),
                        Q = null;

                    function Z(t, e, n) {
                        var r = W(e);
                        return null === r ? null : function(t, e, n) {
                            for (var r = { type: "file" }, i = n.length, o = 0; o < i; o++) {
                                var s = n[o];
                                r[s.local] = s.xform(r, e[s.server])
                            }
                            return function(t, e) { Object.defineProperty(t, "ref", { get: function() { var n = new H(t.bucket, t.fullPath); return e.makeStorageReference(n) } }) }(r, t), r
                        }(t, r, n)
                    }

                    function J(t, e) {
                        for (var n = {}, r = e.length, i = 0; i < r; i++) {
                            var o = e[i];
                            o.writable && (n[o.server] = t[o.local])
                        }
                        return JSON.stringify(n)
                    }

                    function tt(t) {
                        if (!R(t) || !t) throw "Expected Metadata object.";
                        for (var e in t)
                            if (t.hasOwnProperty(e)) { var n = t[e]; if ("customMetadata" === e) { if (!R(n)) throw "Expected object for 'customMetadata' mapping." } else if (O(n)) throw "Mapping for '" + e + "' cannot be an object." }
                    }

                    function et(t) {
                        if (!R(t) || !t) throw "Expected ListOptions object.";
                        for (var e in t)
                            if ("maxResults" === e) { if (!D(t.maxResults) || t.maxResults <= 0) throw "Expected maxResults to be a positive number."; if (t.maxResults > 1e3) throw "Expected maxResults to be less than or equal to 1000." } else { if ("pageToken" !== e) throw "Unknown option: " + e; if (t.pageToken && !N(t.pageToken)) throw "Expected pageToken to be string." }
                    }
                    var nt = function() { return function(t, e, n, r) { this.url = t, this.method = e, this.handler = n, this.timeout = r, this.urlParams = {}, this.headers = {}, this.body = null, this.errorHandler = null, this.progressCallback = null, this.successCodes = [200], this.additionalRetryCodes = [] } }();

                    function rt(t) { if (!t) throw l() }

                    function it(t, e) { return function(n, r) { var i = Z(t, r, e); return rt(null !== i), i } }

                    function ot(t) { return function(e, n) { var r; return (r = 401 === e.getStatus() ? new a("unauthenticated", "User is not authenticated, please authenticate using Firebase Authentication and try again.") : 402 === e.getStatus() ? new a("quota-exceeded", "Quota for bucket '" + t.bucket + "' exceeded, please view quota on https://firebase.google.com/pricing/.") : 403 === e.getStatus() ? new a("unauthorized", "User does not have permission to access '" + t.path + "'.") : n).setServerResponseProp(n.serverResponseProp()), r } }

                    function st(t) { var e = ot(t); return function(n, r) { var i = e(n, r); return 404 === n.getStatus() && (i = new a("object-not-found", "Object '" + t.path + "' does not exist.")), i.setServerResponseProp(r.serverResponseProp()), i } }

                    function at(t, e, n) {
                        var r = $(e.fullServerUrl()),
                            i = t.maxOperationRetryTime(),
                            o = new nt(r, "GET", it(t, n), i);
                        return o.errorHandler = st(e), o
                    }

                    function ct(t, e, n, r, i) {
                        var o = {};
                        o.prefix = e.isRoot ? "" : e.path + "/", n && n.length > 0 && (o.delimiter = n), r && (o.pageToken = r), i && (o.maxResults = i);
                        var s = $(e.bucketOnlyServerUrl()),
                            a = t.maxOperationRetryTime(),
                            c = new nt(s, "GET", function(t, e) {
                                return function(n, r) {
                                    var i = function(t, e, n) {
                                        var r = W(n);
                                        return null === r ? null : function(t, e, n) {
                                            var r = { prefixes: [], items: [], nextPageToken: n.nextPageToken };
                                            if (n.prefixes)
                                                for (var i = 0, o = n.prefixes; i < o.length; i++) {
                                                    var s = o[i].replace(/\/$/, ""),
                                                        a = t.makeStorageReference(new H(e, s));
                                                    r.prefixes.push(a)
                                                }
                                            if (n.items)
                                                for (var c = 0, l = n.items; c < l.length; c++) a = t.makeStorageReference(new H(e, l[c].name)), r.items.push(a);
                                            return r
                                        }(t, e, r)
                                    }(t, e, r);
                                    return rt(null !== i), i
                                }
                            }(t, e.bucket), a);
                        return c.urlParams = o, c.errorHandler = ot(e), c
                    }

                    function lt(t, e, n) {
                        var r = $(e.fullServerUrl()),
                            i = t.maxOperationRetryTime(),
                            o = new nt(r, "GET", function(t, e) {
                                return function(n, r) {
                                    var i = Z(t, r, e);
                                    return rt(null !== i),
                                        function(t, e) { var n = W(e); if (null === n) return null; if (!N(n.downloadTokens)) return null; var r = n.downloadTokens; if (0 === r.length) return null; var i = encodeURIComponent; return r.split(",").map((function(e) { var n = t.fullPath; return $("/b/" + i(t.bucket) + "/o/" + i(n)) + K({ alt: "media", token: e }) }))[0] }(i, r)
                                }
                            }(t, n), i);
                        return o.errorHandler = st(e), o
                    }

                    function ut(t, e, n, r) {
                        var i = $(e.fullServerUrl()),
                            o = J(n, r),
                            s = t.maxOperationRetryTime(),
                            a = new nt(i, "PATCH", it(t, r), s);
                        return a.headers = { "Content-Type": "application/json; charset=utf-8" }, a.body = o, a.errorHandler = st(e), a
                    }

                    function ht(t, e) {
                        var n = $(e.fullServerUrl()),
                            r = t.maxOperationRetryTime(),
                            i = new nt(n, "DELETE", (function(t, e) {}), r);
                        return i.successCodes = [200, 204], i.errorHandler = st(e), i
                    }

                    function dt(t, e, n) { var r = Object.assign({}, n); return r.fullPath = t.path, r.size = e.size(), r.contentType || (r.contentType = function(t, e) { return e && e.type() || "application/octet-stream" }(0, e)), r }
                    var pt = function() { return function(t, e, n, r) { this.current = t, this.total = e, this.finalized = !!n, this.metadata = r || null } }();

                    function ft(t, e) { var n = null; try { n = t.getResponseHeader("X-Goog-Upload-Status") } catch (r) { rt(!1) } return rt(!!n && -1 !== (e || ["active"]).indexOf(n)), n }
                    var mt = function() {
                            return function(t, e, n) {
                                if (A(t) || k(e) || k(n)) this.next = t, this.error = e || null, this.complete = n || null;
                                else {
                                    var r = t;
                                    this.next = r.next || null, this.error = r.error || null, this.complete = r.complete || null
                                }
                            }
                        }(),
                        gt = function() { return function(t, e, n, r, i, o) { this.bytesTransferred = t, this.totalBytes = e, this.state = n, this.metadata = r, this.task = i, this.ref = o } }();

                    function yt(t, e, n) {
                        for (var r = e.length, i = e.length, o = 0; o < e.length; o++)
                            if (e[o].optional) { r = o; break }
                        var s, c, l, u;
                        if (!(r <= n.length && n.length <= i)) throw (s = r) === (c = i) ? (l = s, u = 1 === s ? "argument" : "arguments") : (l = "between " + s + " and " + c, u = "arguments"), new a("invalid-argument-count", "Invalid argument count in `" + t + "`: Expected " + l + " " + u + ", received " + n.length + ".");
                        for (o = 0; o < n.length; o++) try { e[o].validator(n[o]) } catch (h) { throw h instanceof Error ? p(o, t, h.message) : p(o, t, h) }
                    }
                    var vt = function() {
                        return function(t, e) {
                            var n = this;
                            this.validator = function(e) { n.optional && !I(e) || t(e) }, this.optional = !!e
                        }
                    }();

                    function _t(t, e) {
                        function n(t) { if (!N(t)) throw "Expected string." }
                        var r, i, o;
                        return t ? (i = n, o = t, r = function(t) { i(t), o(t) }) : r = n, new vt(r, e)
                    }

                    function bt() { return new vt((function(t) { if (!(t instanceof Uint8Array || t instanceof ArrayBuffer || L() && t instanceof Blob)) throw "Expected Blob or File." })) }

                    function wt(t) { return new vt(tt, t) }

                    function Et(t) { return new vt(et, t) }

                    function St() { return new vt((function(t) { if (!(P(t) && t >= 0)) throw "Expected a number 0 or greater." })) }

                    function Ct(t, e) {
                        return new vt((function(e) {
                            if (!(null === e || k(e) && e instanceof Object)) throw "Expected an Object.";
                            null != t && t(e)
                        }), e)
                    }

                    function xt(t) { return new vt((function(t) { if (null !== t && !A(t)) throw "Expected a Function." }), t) }

                    function Tt(t) {
                        return function() {
                            for (var e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n];
                            Promise.resolve().then((function() { return t.apply(void 0, e) }))
                        }
                    }
                    var kt = function() {
                            function t(t, e, n, r, i, o) {
                                var s = this;
                                void 0 === o && (o = null), this.transferred_ = 0, this.needToFetchStatus_ = !1, this.needToFetchMetadata_ = !1, this.observers_ = [], this.error_ = null, this.uploadUrl_ = null, this.request_ = null, this.chunkMultiplier_ = 1, this.resolve_ = null, this.reject_ = null, this.ref_ = t, this.authWrapper_ = e, this.location_ = n, this.blob_ = i, this.metadata_ = o, this.mappings_ = r, this.resumable_ = this.shouldDoResumable_(this.blob_), this.state_ = "running", this.errorHandler_ = function(t) { s.request_ = null, s.chunkMultiplier_ = 1, t.codeEquals("canceled") ? (s.needToFetchStatus_ = !0, s.completeTransitions_()) : (s.error_ = t, s.transition_("error")) }, this.metadataErrorHandler_ = function(t) { s.request_ = null, t.codeEquals("canceled") ? s.completeTransitions_() : (s.error_ = t, s.transition_("error")) }, this.promise_ = new Promise((function(t, e) { s.resolve_ = t, s.reject_ = e, s.start_() })), this.promise_.then(null, (function() {}))
                            }
                            return t.prototype.makeProgressCallback_ = function() {
                                var t = this,
                                    e = this.transferred_;
                                return function(n) { return t.updateProgress_(e + n) }
                            }, t.prototype.shouldDoResumable_ = function(t) { return t.size() > 262144 }, t.prototype.start_ = function() { "running" === this.state_ && null === this.request_ && (this.resumable_ ? null === this.uploadUrl_ ? this.createResumable_() : this.needToFetchStatus_ ? this.fetchStatus_() : this.needToFetchMetadata_ ? this.fetchMetadata_() : this.continueUpload_() : this.oneShotUpload_()) }, t.prototype.resolveToken_ = function(t) {
                                var e = this;
                                this.authWrapper_.getAuthToken().then((function(n) {
                                    switch (e.state_) {
                                        case "running":
                                            t(n);
                                            break;
                                        case "canceling":
                                            e.transition_("canceled");
                                            break;
                                        case "pausing":
                                            e.transition_("paused")
                                    }
                                }))
                            }, t.prototype.createResumable_ = function() {
                                var t = this;
                                this.resolveToken_((function(e) {
                                    var n = function(t, e, n, r, i) {
                                            var o = e.bucketOnlyServerUrl(),
                                                s = dt(e, r, i),
                                                a = { name: s.fullPath },
                                                c = $(o),
                                                l = { "X-Goog-Upload-Protocol": "resumable", "X-Goog-Upload-Command": "start", "X-Goog-Upload-Header-Content-Length": r.size(), "X-Goog-Upload-Header-Content-Type": s.contentType, "Content-Type": "application/json; charset=utf-8" },
                                                u = J(s, n),
                                                h = t.maxUploadRetryTime(),
                                                d = new nt(c, "POST", (function(t) {
                                                    var e;
                                                    ft(t);
                                                    try { e = t.getResponseHeader("X-Goog-Upload-URL") } catch (n) { rt(!1) }
                                                    return rt(N(e)), e
                                                }), h);
                                            return d.urlParams = a, d.headers = l, d.body = u, d.errorHandler = ot(e), d
                                        }(t.authWrapper_, t.location_, t.mappings_, t.blob_, t.metadata_),
                                        r = t.authWrapper_.makeRequest(n, e);
                                    t.request_ = r, r.getPromise().then((function(e) { t.request_ = null, t.uploadUrl_ = e, t.needToFetchStatus_ = !1, t.completeTransitions_() }), t.errorHandler_)
                                }))
                            }, t.prototype.fetchStatus_ = function() {
                                var t = this,
                                    e = this.uploadUrl_;
                                this.resolveToken_((function(n) {
                                    var r = function(t, e, n, r) {
                                            var i = t.maxUploadRetryTime(),
                                                o = new nt(n, "POST", (function(t) {
                                                    var e = ft(t, ["active", "final"]),
                                                        n = null;
                                                    try { n = t.getResponseHeader("X-Goog-Upload-Size-Received") } catch (o) { rt(!1) }
                                                    n || rt(!1);
                                                    var i = Number(n);
                                                    return rt(!isNaN(i)), new pt(i, r.size(), "final" === e)
                                                }), i);
                                            return o.headers = { "X-Goog-Upload-Command": "query" }, o.errorHandler = ot(e), o
                                        }(t.authWrapper_, t.location_, e, t.blob_),
                                        i = t.authWrapper_.makeRequest(r, n);
                                    t.request_ = i, i.getPromise().then((function(e) { e = e, t.request_ = null, t.updateProgress_(e.current), t.needToFetchStatus_ = !1, e.finalized && (t.needToFetchMetadata_ = !0), t.completeTransitions_() }), t.errorHandler_)
                                }))
                            }, t.prototype.continueUpload_ = function() {
                                var t = this,
                                    e = 262144 * this.chunkMultiplier_,
                                    n = new pt(this.transferred_, this.blob_.size()),
                                    r = this.uploadUrl_;
                                this.resolveToken_((function(i) {
                                    var o;
                                    try {
                                        o = function(t, e, n, r, i, o, s, c) {
                                            var l = new pt(0, 0);
                                            if (s ? (l.current = s.current, l.total = s.total) : (l.current = 0, l.total = r.size()), r.size() !== l.total) throw new a("server-file-wrong-size", "Server recorded incorrect upload file size, please retry the upload.");
                                            var u = l.total - l.current,
                                                d = u;
                                            i > 0 && (d = Math.min(d, i));
                                            var p = l.current,
                                                f = { "X-Goog-Upload-Command": d === u ? "upload, finalize" : "upload", "X-Goog-Upload-Offset": l.current },
                                                m = r.slice(p, p + d);
                                            if (null === m) throw h();
                                            var g = e.maxUploadRetryTime(),
                                                y = new nt(n, "POST", (function(t, n) {
                                                    var i, s = ft(t, ["active", "final"]),
                                                        a = l.current + d,
                                                        c = r.size();
                                                    return i = "final" === s ? it(e, o)(t, n) : null, new pt(a, c, "final" === s, i)
                                                }), g);
                                            return y.headers = f, y.body = m.uploadData(), y.progressCallback = c || null, y.errorHandler = ot(t), y
                                        }(t.location_, t.authWrapper_, r, t.blob_, e, t.mappings_, n, t.makeProgressCallback_())
                                    } catch (c) { return t.error_ = c, void t.transition_("error") }
                                    var s = t.authWrapper_.makeRequest(o, i);
                                    t.request_ = s, s.getPromise().then((function(e) { t.increaseMultiplier_(), t.request_ = null, t.updateProgress_(e.current), e.finalized ? (t.metadata_ = e.metadata, t.transition_("success")) : t.completeTransitions_() }), t.errorHandler_)
                                }))
                            }, t.prototype.increaseMultiplier_ = function() { 262144 * this.chunkMultiplier_ < 33554432 && (this.chunkMultiplier_ *= 2) }, t.prototype.fetchMetadata_ = function() {
                                var t = this;
                                this.resolveToken_((function(e) {
                                    var n = at(t.authWrapper_, t.location_, t.mappings_),
                                        r = t.authWrapper_.makeRequest(n, e);
                                    t.request_ = r, r.getPromise().then((function(e) { t.request_ = null, t.metadata_ = e, t.transition_("success") }), t.metadataErrorHandler_)
                                }))
                            }, t.prototype.oneShotUpload_ = function() {
                                var t = this;
                                this.resolveToken_((function(e) {
                                    var n = function(t, e, n, r, i) {
                                            var o = e.bucketOnlyServerUrl(),
                                                s = { "X-Goog-Upload-Protocol": "multipart" },
                                                a = function() { for (var t = "", e = 0; e < 2; e++) t += Math.random().toString().slice(2); return t }();
                                            s["Content-Type"] = "multipart/related; boundary=" + a;
                                            var c = dt(e, r, i),
                                                l = J(c, n),
                                                u = q.getBlob("--" + a + "\r\nContent-Type: application/json; charset=utf-8\r\n\r\n" + l + "\r\n--" + a + "\r\nContent-Type: " + c.contentType + "\r\n\r\n", r, "\r\n--" + a + "--");
                                            if (null === u) throw h();
                                            var d = { name: c.fullPath },
                                                p = $(o),
                                                f = t.maxUploadRetryTime(),
                                                m = new nt(p, "POST", it(t, n), f);
                                            return m.urlParams = d, m.headers = s, m.body = u.uploadData(), m.errorHandler = ot(e), m
                                        }(t.authWrapper_, t.location_, t.mappings_, t.blob_, t.metadata_),
                                        r = t.authWrapper_.makeRequest(n, e);
                                    t.request_ = r, r.getPromise().then((function(e) { t.request_ = null, t.metadata_ = e, t.updateProgress_(t.blob_.size()), t.transition_("success") }), t.errorHandler_)
                                }))
                            }, t.prototype.updateProgress_ = function(t) {
                                var e = this.transferred_;
                                this.transferred_ = t, this.transferred_ !== e && this.notifyObservers_()
                            }, t.prototype.transition_ = function(t) {
                                if (this.state_ !== t) switch (t) {
                                    case "canceling":
                                    case "pausing":
                                        this.state_ = t, null !== this.request_ && this.request_.cancel();
                                        break;
                                    case "running":
                                        var e = "paused" === this.state_;
                                        this.state_ = t, e && (this.notifyObservers_(), this.start_());
                                        break;
                                    case "paused":
                                        this.state_ = t, this.notifyObservers_();
                                        break;
                                    case "canceled":
                                        this.error_ = u(), this.state_ = t, this.notifyObservers_();
                                        break;
                                    case "error":
                                    case "success":
                                        this.state_ = t, this.notifyObservers_()
                                }
                            }, t.prototype.completeTransitions_ = function() {
                                switch (this.state_) {
                                    case "pausing":
                                        this.transition_("paused");
                                        break;
                                    case "canceling":
                                        this.transition_("canceled");
                                        break;
                                    case "running":
                                        this.start_()
                                }
                            }, Object.defineProperty(t.prototype, "snapshot", { get: function() { var t = T(this.state_); return new gt(this.transferred_, this.blob_.size(), t, this.metadata_, this, this.ref_) }, enumerable: !1, configurable: !0 }), t.prototype.on = function(t, e, n, r) {
                                function i() { if (t !== C.STATE_CHANGED) throw "Expected one of the event types: [" + C.STATE_CHANGED + "]." }
                                var o = "Expected a function or an Object with one of `next`, `error`, `complete` properties.",
                                    s = xt(!0).validator,
                                    a = Ct(null, !0).validator;

                                function c(t) { try { return void s(t) } catch (e) {} try { if (a(t), !(I(t.next) || I(t.error) || I(t.complete))) throw ""; return } catch (e) { throw o } }
                                var l = [_t(i), Ct(c, !0), xt(!0), xt(!0)];
                                yt("on", l, arguments);
                                var u = this;

                                function h(t) {
                                    return function(e, n, i) {
                                        null !== t && yt("on", t, arguments);
                                        var o = new mt(e, n, r);
                                        return u.addObserver_(o),
                                            function() { u.removeObserver_(o) }
                                    }
                                }

                                function d(t) {
                                    if (null === t) throw o;
                                    c(t)
                                }
                                var p = [Ct(d), xt(!0), xt(!0)],
                                    f = !(I(e) || I(n) || I(r));
                                return f ? h(p) : h(null)(e, n, r)
                            }, t.prototype.then = function(t, e) { return this.promise_.then(t, e) }, t.prototype.catch = function(t) { return this.then(null, t) }, t.prototype.addObserver_ = function(t) { this.observers_.push(t), this.notifyObserver_(t) }, t.prototype.removeObserver_ = function(t) { var e = this.observers_.indexOf(t); - 1 !== e && this.observers_.splice(e, 1) }, t.prototype.notifyObservers_ = function() {
                                var t = this;
                                this.finishPromise_(), this.observers_.slice().forEach((function(e) { t.notifyObserver_(e) }))
                            }, t.prototype.finishPromise_ = function() {
                                if (null !== this.resolve_) {
                                    var t = !0;
                                    switch (T(this.state_)) {
                                        case x.SUCCESS:
                                            Tt(this.resolve_.bind(null, this.snapshot))();
                                            break;
                                        case x.CANCELED:
                                        case x.ERROR:
                                            Tt(this.reject_.bind(null, this.error_))();
                                            break;
                                        default:
                                            t = !1
                                    }
                                    t && (this.resolve_ = null, this.reject_ = null)
                                }
                            }, t.prototype.notifyObserver_ = function(t) {
                                switch (T(this.state_)) {
                                    case x.RUNNING:
                                    case x.PAUSED:
                                        t.next && Tt(t.next.bind(t, this.snapshot))();
                                        break;
                                    case x.SUCCESS:
                                        t.complete && Tt(t.complete.bind(t))();
                                        break;
                                    case x.CANCELED:
                                    case x.ERROR:
                                        t.error && Tt(t.error.bind(t, this.error_))();
                                        break;
                                    default:
                                        t.error && Tt(t.error.bind(t, this.error_))()
                                }
                            }, t.prototype.resume = function() { yt("resume", [], arguments); var t = "paused" === this.state_ || "pausing" === this.state_; return t && this.transition_("running"), t }, t.prototype.pause = function() { yt("pause", [], arguments); var t = "running" === this.state_; return t && this.transition_("pausing"), t }, t.prototype.cancel = function() { yt("cancel", [], arguments); var t = "running" === this.state_ || "pausing" === this.state_; return t && this.transition_("canceling"), t }, t
                        }(),
                        It = function() {
                            function t(t, e) { this.authWrapper = t, this.location = e instanceof H ? e : H.makeFromUrl(e) }
                            return t.prototype.toString = function() { return yt("toString", [], arguments), "gs://" + this.location.bucket + "/" + this.location.path }, t.prototype.newRef = function(e, n) { return new t(e, n) }, t.prototype.mappings = function() {
                                return function() {
                                    if (Q) return Q;
                                    var t = [];
                                    t.push(new X("bucket")), t.push(new X("generation")), t.push(new X("metageneration")), t.push(new X("name", "fullPath", !0));
                                    var e = new X("name");
                                    e.xform = function(t, e) { return function(t) { return !N(t) || t.length < 2 ? t : G(t) }(e) }, t.push(e);
                                    var n = new X("size");
                                    return n.xform = function(t, e) { return k(e) ? Number(e) : e }, t.push(n), t.push(new X("timeCreated")), t.push(new X("updated")), t.push(new X("md5Hash", null, !0)), t.push(new X("cacheControl", null, !0)), t.push(new X("contentDisposition", null, !0)), t.push(new X("contentEncoding", null, !0)), t.push(new X("contentLanguage", null, !0)), t.push(new X("contentType", null, !0)), t.push(new X("metadata", "customMetadata", !0)), Q = t
                                }()
                            }, t.prototype.child = function(t) {
                                yt("child", [_t()], arguments);
                                var e = z(this.location.path, t),
                                    n = new H(this.location.bucket, e);
                                return this.newRef(this.authWrapper, n)
                            }, Object.defineProperty(t.prototype, "parent", { get: function() { var t = function(t) { if (0 === t.length) return null; var e = t.lastIndexOf("/"); return -1 === e ? "" : t.slice(0, e) }(this.location.path); if (null === t) return null; var e = new H(this.location.bucket, t); return this.newRef(this.authWrapper, e) }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, "root", { get: function() { var t = new H(this.location.bucket, ""); return this.newRef(this.authWrapper, t) }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, "bucket", { get: function() { return this.location.bucket }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, "fullPath", { get: function() { return this.location.path }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, "name", { get: function() { return G(this.location.path) }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, "storage", { get: function() { return this.authWrapper.service() }, enumerable: !1, configurable: !0 }), t.prototype.put = function(t, e) { return void 0 === e && (e = null), yt("put", [bt(), wt(!0)], arguments), this.throwIfRoot_("put"), new kt(this, this.authWrapper, this.location, this.mappings(), new q(t), e) }, t.prototype.putString = function(t, e, n) {
                                void 0 === e && (e = y.RAW), yt("putString", [_t(), _t(v, !0), wt(!0)], arguments), this.throwIfRoot_("putString");
                                var r = b(e, t),
                                    i = Object.assign({}, n);
                                return !k(i.contentType) && k(r.contentType) && (i.contentType = r.contentType), new kt(this, this.authWrapper, this.location, this.mappings(), new q(r.data, !0), i)
                            }, t.prototype.delete = function() { var t = this; return yt("delete", [], arguments), this.throwIfRoot_("delete"), this.authWrapper.getAuthToken().then((function(e) { var n = ht(t.authWrapper, t.location); return t.authWrapper.makeRequest(n, e).getPromise() })) }, t.prototype.listAll = function() { yt("listAll", [], arguments); var t = { prefixes: [], items: [] }; return this.listAllHelper(t).then((function() { return t })) }, t.prototype.listAllHelper = function(t, e) {
                                return Object(o.__awaiter)(this, void 0, void 0, (function() {
                                    var n, r, i;
                                    return Object(o.__generator)(this, (function(o) {
                                        switch (o.label) {
                                            case 0:
                                                return [4, this.list({ pageToken: e })];
                                            case 1:
                                                return n = o.sent(), (r = t.prefixes).push.apply(r, n.prefixes), (i = t.items).push.apply(i, n.items), null == n.nextPageToken ? [3, 3] : [4, this.listAllHelper(t, n.nextPageToken)];
                                            case 2:
                                                o.sent(), o.label = 3;
                                            case 3:
                                                return [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.list = function(t) {
                                yt("list", [Et(!0)], arguments);
                                var e = this;
                                return this.authWrapper.getAuthToken().then((function(n) {
                                    var r = t || {},
                                        i = ct(e.authWrapper, e.location, "/", r.pageToken, r.maxResults);
                                    return e.authWrapper.makeRequest(i, n).getPromise()
                                }))
                            }, t.prototype.getMetadata = function() { var t = this; return yt("getMetadata", [], arguments), this.throwIfRoot_("getMetadata"), this.authWrapper.getAuthToken().then((function(e) { var n = at(t.authWrapper, t.location, t.mappings()); return t.authWrapper.makeRequest(n, e).getPromise() })) }, t.prototype.updateMetadata = function(t) { var e = this; return yt("updateMetadata", [wt()], arguments), this.throwIfRoot_("updateMetadata"), this.authWrapper.getAuthToken().then((function(n) { var r = ut(e.authWrapper, e.location, t, e.mappings()); return e.authWrapper.makeRequest(r, n).getPromise() })) }, t.prototype.getDownloadURL = function() { var t = this; return yt("getDownloadURL", [], arguments), this.throwIfRoot_("getDownloadURL"), this.authWrapper.getAuthToken().then((function(e) { var n = lt(t.authWrapper, t.location, t.mappings()); return t.authWrapper.makeRequest(n, e).getPromise().then((function(t) { if (null === t) throw d(); return t })) })) }, t.prototype.throwIfRoot_ = function(t) {
                                if ("" === this.location.path) throw

                                function(t) { return new a("invalid-root-operation", "The operation '" + t + "' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').") }(t)
                            }, t
                        }(),
                        At = function() {
                            function t(t) { this.promise_ = Promise.reject(t) }
                            return t.prototype.getPromise = function() { return this.promise_ }, t.prototype.cancel = function(t) {}, t
                        }(),
                        Rt = function() {
                            function t() { this.map = new Map, this.id = -9007199254740991 }
                            return t.prototype.addRequest = function(t) {
                                var e = this,
                                    n = this.id;
                                this.id++, this.map.set(n, t), t.getPromise().then((function() { return e.map.delete(n) }), (function() { return e.map.delete(n) }))
                            }, t.prototype.clear = function() { this.map.forEach((function(t) { t && t.cancel(!0) })), this.map.clear() }, t
                        }(),
                        Ot = function() {
                            function t(e, n, r, i, o, s) {
                                var a;
                                if (this.bucket_ = null, this.appId_ = null, this.deleted_ = !1, this.app_ = e, null !== this.app_) {
                                    var c = this.app_.options;
                                    k(c) && (this.bucket_ = t.extractBucket_(c), this.appId_ = null !== (a = c.appId) && void 0 !== a ? a : null)
                                }
                                this.authProvider_ = n, this.storageRefMaker_ = r, this.requestMaker_ = i, this.pool_ = s, this.service_ = o, this.maxOperationRetryTime_ = 12e4, this.maxUploadRetryTime_ = 6e5, this.requestMap_ = new Rt
                            }
                            return t.extractBucket_ = function(t) { var e = t.storageBucket || null; return null == e ? null : H.makeFromBucketSpec(e).bucket }, t.prototype.getAuthToken = function() { var t = this.authProvider_.getImmediate({ optional: !0 }); return t ? t.getToken().then((function(t) { return null !== t ? t.accessToken : null }), (function() { return null })) : Promise.resolve(null) }, t.prototype.bucket = function() { if (this.deleted_) throw f(); return this.bucket_ }, t.prototype.service = function() { return this.service_ }, t.prototype.makeStorageReference = function(t) { return this.storageRefMaker_(this, t) }, t.prototype.makeRequest = function(t, e) { if (this.deleted_) return new At(f()); var n = this.requestMaker_(t, this.appId_, e, this.pool_); return this.requestMap_.addRequest(n), n }, t.prototype.deleteApp = function() { this.deleted_ = !0, this.app_ = null, this.requestMap_.clear() }, t.prototype.maxUploadRetryTime = function() { return this.maxUploadRetryTime_ }, t.prototype.setMaxUploadRetryTime = function(t) { this.maxUploadRetryTime_ = t }, t.prototype.maxOperationRetryTime = function() { return this.maxOperationRetryTime_ }, t.prototype.setMaxOperationRetryTime = function(t) { this.maxOperationRetryTime_ = t }, t
                        }(),
                        Nt = function() {
                            function t(t, e, n, r, i, o, s, a, c, l, u) {
                                var h = this;
                                this.pendingXhr_ = null, this.backoffId_ = null, this.resolve_ = null, this.reject_ = null, this.canceled_ = !1, this.appDelete_ = !1, this.url_ = t, this.method_ = e, this.headers_ = n, this.body_ = r, this.successCodes_ = i.slice(), this.additionalRetryCodes_ = o.slice(), this.callback_ = s, this.errorCallback_ = a, this.progressCallback_ = l, this.timeout_ = c, this.pool_ = u, this.promise_ = new Promise((function(t, e) { h.resolve_ = t, h.reject_ = e, h.start_() }))
                            }
                            return t.prototype.start_ = function() {
                                var t = this;

                                function e(e, n) {
                                    var r, i = t.resolve_,
                                        o = t.reject_,
                                        s = n.xhr;
                                    if (n.wasSuccessCode) try {
                                        var c = t.callback_(s, s.getResponseText());
                                        I(c) ? i(c) : i()
                                    } catch (h) { o(h) } else null !== s ? ((r = l()).setServerResponseProp(s.getResponseText()), o(t.errorCallback_ ? t.errorCallback_(s, r) : r)) : o(r = n.canceled ? t.appDelete_ ? f() : u() : new a("retry-limit-exceeded", "Max retry time for operation exceeded, please try again."))
                                }
                                this.canceled_ ? e(0, new Dt(!1, null, !0)) : this.backoffId_ = function(e, n, r) {
                                    var i = 1,
                                        s = null,
                                        a = !1,
                                        c = 0;

                                    function l() { return 2 === c }
                                    var u = !1;

                                    function h() {
                                        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                                        u || (u = !0, n.apply(null, t))
                                    }

                                    function d(e) {
                                        s = setTimeout((function() {
                                            s = null,
                                                function(e, n) {
                                                    if (n) e(!1, new Dt(!1, null, !0));
                                                    else {
                                                        var r = t.pool_.createXhrIo();
                                                        t.pendingXhr_ = r, null !== t.progressCallback_ && r.addUploadProgressListener(i), r.send(t.url_, t.method_, t.body_, t.headers_).then((function(n) {
                                                            null !== t.progressCallback_ && n.removeUploadProgressListener(i), t.pendingXhr_ = null;
                                                            var r = (n = n).getErrorCode() === F.NO_ERROR,
                                                                o = n.getStatus();
                                                            if (r && !t.isRetryStatusCode_(o)) {
                                                                var s = -1 !== t.successCodes_.indexOf(o);
                                                                e(!0, new Dt(s, n))
                                                            } else {
                                                                var a = n.getErrorCode() === F.ABORT;
                                                                e(!1, new Dt(!1, null, a))
                                                            }
                                                        }))
                                                    }

                                                    function i(e) { null !== t.progressCallback_ && t.progressCallback_(e.loaded, e.lengthComputable ? e.total : -1) }
                                                }(p, l())
                                        }), e)
                                    }

                                    function p(t) {
                                        for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
                                        if (!u)
                                            if (t) h.call.apply(h, Object(o.__spreadArrays)([null, t], e));
                                            else {
                                                var r, s = l() || a;
                                                s ? h.call.apply(h, Object(o.__spreadArrays)([null, t], e)) : (i < 64 && (i *= 2), 1 === c ? (c = 2, r = 0) : r = 1e3 * (i + Math.random()), d(r))
                                            }
                                    }
                                    var f = !1;

                                    function m(t) { f || (f = !0, u || (null !== s ? (t || (c = 2), clearTimeout(s), d(0)) : t || (c = 1))) }
                                    return d(0), setTimeout((function() { a = !0, m(!0) }), r), m
                                }(0, e, this.timeout_)
                            }, t.prototype.getPromise = function() { return this.promise_ }, t.prototype.cancel = function(t) { this.canceled_ = !0, this.appDelete_ = t || !1, null !== this.backoffId_ && (0, this.backoffId_)(!1), null !== this.pendingXhr_ && this.pendingXhr_.abort() }, t.prototype.isRetryStatusCode_ = function(t) {
                                var e = t >= 500 && t < 600,
                                    n = -1 !== [408, 429].indexOf(t),
                                    r = -1 !== this.additionalRetryCodes_.indexOf(t);
                                return e || n || r
                            }, t
                        }(),
                        Dt = function() { return function(t, e, n) { this.wasSuccessCode = t, this.xhr = e, this.canceled = !!n } }();

                    function Pt(t, e, n, r) {
                        var o = K(t.urlParams),
                            s = t.url + o,
                            a = Object.assign({}, t.headers);
                        return function(t, e) { e && (t["X-Firebase-GMPID"] = e) }(a, e),
                            function(t, e) { null !== e && e.length > 0 && (t.Authorization = "Firebase " + e) }(a, n),
                            function(t) { t["X-Firebase-Storage-Version"] = "webjs/" + (void 0 !== i.a ? i.a.SDK_VERSION : "AppManager") }(a), new Nt(s, t.method, a, t.body, t.successCodes, t.additionalRetryCodes, t.handler, t.errorHandler, t.timeout, t.progressCallback, r)
                    }
                    var Mt = function() {
                            function t(t, e, n, r) {
                                if (this.bucket_ = null, this.authWrapper_ = new Ot(t, e, (function(t, e) { return new It(t, e) }), Pt, this, n), this.app_ = t, null != r) this.bucket_ = H.makeFromBucketSpec(r);
                                else {
                                    var i = this.authWrapper_.bucket();
                                    null != i && (this.bucket_ = new H(i, ""))
                                }
                                this.internals_ = new Lt(this)
                            }
                            return t.prototype.ref = function(t) {
                                function e(t) { if ("string" != typeof t) throw "Path is not a string."; if (/^[A-Za-z]+:\/\//.test(t)) throw "Expected child path but got a URL, use refFromURL instead." }
                                if (yt("ref", [_t(e, !0)], arguments), null == this.bucket_) throw new Error("No Storage Bucket defined in Firebase Options.");
                                var n = new It(this.authWrapper_, this.bucket_);
                                return null != t ? n.child(t) : n
                            }, t.prototype.refFromURL = function(t) {
                                function e(t) { if ("string" != typeof t) throw "Path is not a string."; if (!/^[A-Za-z]+:\/\//.test(t)) throw "Expected full URL but got a child path, use ref instead."; try { H.makeFromUrl(t) } catch (e) { throw "Expected valid full URL but got an invalid one." } }
                                return yt("refFromURL", [_t(e, !1)], arguments), new It(this.authWrapper_, t)
                            }, Object.defineProperty(t.prototype, "maxUploadRetryTime", { get: function() { return this.authWrapper_.maxUploadRetryTime() }, enumerable: !1, configurable: !0 }), t.prototype.setMaxUploadRetryTime = function(t) { yt("setMaxUploadRetryTime", [St()], arguments), this.authWrapper_.setMaxUploadRetryTime(t) }, t.prototype.setMaxOperationRetryTime = function(t) { yt("setMaxOperationRetryTime", [St()], arguments), this.authWrapper_.setMaxOperationRetryTime(t) }, Object.defineProperty(t.prototype, "app", { get: function() { return this.app_ }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, "INTERNAL", { get: function() { return this.internals_ }, enumerable: !1, configurable: !0 }), t
                        }(),
                        Lt = function() {
                            function t(t) { this.service_ = t }
                            return t.prototype.delete = function() { return this.service_.authWrapper_.deleteApp(), Promise.resolve() }, t
                        }();

                    function Ft(t, e) {
                        var n = t.getProvider("app").getImmediate(),
                            r = t.getProvider("auth-internal");
                        return new Mt(n, r, new U, e)
                    }

                    function jt(t) {
                        var e = { TaskState: x, TaskEvent: C, StringFormat: y, Storage: Mt, Reference: It };
                        t.INTERNAL.registerComponent(new s.Component("storage", Ft, "PUBLIC").setServiceProps(e).setMultipleInstances(!0)), t.registerVersion("@firebase/storage", "0.3.38")
                    }
                    jt(i.a)
                },
                NSPt: function(t, e, n) {
                    "use strict";
                    Object.defineProperty(e, "__esModule", { value: !0 });
                    var r, i, o = (r = n("wj3C")) && "object" == typeof r && "default" in r ? r.default : r,
                        s = n("mrSG"),
                        a = n("zVF4"),
                        c = n("q/0M"),
                        l = n("S+S0"),
                        u = function() {
                            function t(t) { this.domStorage_ = t, this.prefix_ = "firebase:" }
                            return t.prototype.set = function(t, e) { null == e ? this.domStorage_.removeItem(this.prefixedName_(t)) : this.domStorage_.setItem(this.prefixedName_(t), a.stringify(e)) }, t.prototype.get = function(t) { var e = this.domStorage_.getItem(this.prefixedName_(t)); return null == e ? null : a.jsonEval(e) }, t.prototype.remove = function(t) { this.domStorage_.removeItem(this.prefixedName_(t)) }, t.prototype.prefixedName_ = function(t) { return this.prefix_ + t }, t.prototype.toString = function() { return this.domStorage_.toString() }, t
                        }(),
                        h = function() {
                            function t() { this.cache_ = {}, this.isInMemoryStorage = !0 }
                            return t.prototype.set = function(t, e) { null == e ? delete this.cache_[t] : this.cache_[t] = e }, t.prototype.get = function(t) { return a.contains(this.cache_, t) ? this.cache_[t] : null }, t.prototype.remove = function(t) { delete this.cache_[t] }, t
                        }(),
                        d = function(t) { try { if ("undefined" != typeof window && void 0 !== window[t]) { var e = window[t]; return e.setItem("firebase:sentinel", "cache"), e.removeItem("firebase:sentinel"), new u(e) } } catch (n) {} return new h },
                        p = d("localStorage"),
                        f = d("sessionStorage"),
                        m = new c.Logger("@firebase/database"),
                        g = (i = 1, function() { return i++ }),
                        y = function(t) {
                            var e = a.stringToByteArray(t),
                                n = new a.Sha1;
                            n.update(e);
                            var r = n.digest();
                            return a.base64.encodeByteArray(r)
                        },
                        v = function() {
                            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                            for (var n = "", r = 0; r < t.length; r++) {
                                var i = t[r];
                                Array.isArray(i) || i && "object" == typeof i && "number" == typeof i.length ? n += v.apply(null, i) : n += "object" == typeof i ? a.stringify(i) : i, n += " "
                            }
                            return n
                        },
                        _ = null,
                        b = !0,
                        w = function(t, e) { a.assert(!e || !0 === t || !1 === t, "Can't turn on custom loggers persistently."), !0 === t ? (m.logLevel = c.LogLevel.VERBOSE, _ = m.log.bind(m), e && f.set("logging_enabled", !0)) : "function" == typeof t ? _ = t : (_ = null, f.remove("logging_enabled")) },
                        E = function() {
                            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                            if (!0 === b && (b = !1, null === _ && !0 === f.get("logging_enabled") && w(!0)), _) {
                                var n = v.apply(null, t);
                                _(n)
                            }
                        },
                        S = function(t) {
                            return function() {
                                for (var e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n];
                                E.apply(void 0, s.__spread([t], e))
                            }
                        },
                        C = function() {
                            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                            var n = "FIREBASE INTERNAL ERROR: " + v.apply(void 0, s.__spread(t));
                            m.error(n)
                        },
                        x = function() { for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e]; var n = "FIREBASE FATAL ERROR: " + v.apply(void 0, s.__spread(t)); throw m.error(n), new Error(n) },
                        T = function() {
                            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                            var n = "FIREBASE WARNING: " + v.apply(void 0, s.__spread(t));
                            m.warn(n)
                        },
                        k = function(t) { return "number" == typeof t && (t != t || t === Number.POSITIVE_INFINITY || t === Number.NEGATIVE_INFINITY) },
                        I = "[MIN_NAME]",
                        A = "[MAX_NAME]",
                        R = function(t, e) {
                            if (t === e) return 0;
                            if (t === I || e === A) return -1;
                            if (e === I || t === A) return 1;
                            var n = K(t),
                                r = K(e);
                            return null !== n ? null !== r ? n - r == 0 ? t.length - e.length : n - r : -1 : null !== r ? 1 : t < e ? -1 : 1
                        },
                        O = function(t, e) { return t === e ? 0 : t < e ? -1 : 1 },
                        N = function(t, e) { if (e && t in e) return e[t]; throw new Error("Missing required key (" + t + ") in object: " + a.stringify(e)) },
                        D = function(t) {
                            if ("object" != typeof t || null === t) return a.stringify(t);
                            var e = [];
                            for (var n in t) e.push(n);
                            e.sort();
                            for (var r = "{", i = 0; i < e.length; i++) 0 !== i && (r += ","), r += a.stringify(e[i]), r += ":", r += D(t[e[i]]);
                            return r + "}"
                        },
                        P = function(t, e) { var n = t.length; if (n <= e) return [t]; for (var r = [], i = 0; i < n; i += e) r.push(t.substring(i, i + e > n ? n : i + e)); return r };

                    function M(t, e) { for (var n in t) t.hasOwnProperty(n) && e(n, t[n]) }
                    var L, F, j, U, V, B, q, H, W, z, G = function(t) {
                            var e, n, r, i, o;
                            a.assert(!k(t), "Invalid JSON number"), 0 === t ? (n = 0, r = 0, e = 1 / t == -1 / 0 ? 1 : 0) : (e = t < 0, (t = Math.abs(t)) >= Math.pow(2, -1022) ? (n = (i = Math.min(Math.floor(Math.log(t) / Math.LN2), 1023)) + 1023, r = Math.round(t * Math.pow(2, 52 - i) - Math.pow(2, 52))) : (n = 0, r = Math.round(t / Math.pow(2, -1074))));
                            var s = [];
                            for (o = 52; o; o -= 1) s.push(r % 2 ? 1 : 0), r = Math.floor(r / 2);
                            for (o = 11; o; o -= 1) s.push(n % 2 ? 1 : 0), n = Math.floor(n / 2);
                            s.push(e ? 1 : 0), s.reverse();
                            var c = s.join(""),
                                l = "";
                            for (o = 0; o < 64; o += 8) {
                                var u = parseInt(c.substr(o, 8), 2).toString(16);
                                1 === u.length && (u = "0" + u), l += u
                            }
                            return l.toLowerCase()
                        },
                        $ = new RegExp("^-?(0*)\\d{1,10}$"),
                        K = function(t) { if ($.test(t)) { var e = Number(t); if (e >= -2147483648 && e <= 2147483647) return e } return null },
                        Y = function(t) { try { t() } catch (e) { setTimeout((function() { throw T("Exception was thrown by user callback.", e.stack || ""), e }), Math.floor(0)) } },
                        X = function(t, e) { var n = setTimeout(t, e); return "object" == typeof n && n.unref && n.unref(), n },
                        Q = function() {
                            function t(t, e) {
                                if (void 0 === e) {
                                    this.pieces_ = t.split("/");
                                    for (var n = 0, r = 0; r < this.pieces_.length; r++) this.pieces_[r].length > 0 && (this.pieces_[n] = this.pieces_[r], n++);
                                    this.pieces_.length = n, this.pieceNum_ = 0
                                } else this.pieces_ = t, this.pieceNum_ = e
                            }
                            return Object.defineProperty(t, "Empty", { get: function() { return new t("") }, enumerable: !1, configurable: !0 }), t.prototype.getFront = function() { return this.pieceNum_ >= this.pieces_.length ? null : this.pieces_[this.pieceNum_] }, t.prototype.getLength = function() { return this.pieces_.length - this.pieceNum_ }, t.prototype.popFront = function() { var e = this.pieceNum_; return e < this.pieces_.length && e++, new t(this.pieces_, e) }, t.prototype.getBack = function() { return this.pieceNum_ < this.pieces_.length ? this.pieces_[this.pieces_.length - 1] : null }, t.prototype.toString = function() { for (var t = "", e = this.pieceNum_; e < this.pieces_.length; e++) "" !== this.pieces_[e] && (t += "/" + this.pieces_[e]); return t || "/" }, t.prototype.toUrlEncodedString = function() { for (var t = "", e = this.pieceNum_; e < this.pieces_.length; e++) "" !== this.pieces_[e] && (t += "/" + encodeURIComponent(String(this.pieces_[e]))); return t || "/" }, t.prototype.slice = function(t) { return void 0 === t && (t = 0), this.pieces_.slice(this.pieceNum_ + t) }, t.prototype.parent = function() { if (this.pieceNum_ >= this.pieces_.length) return null; for (var e = [], n = this.pieceNum_; n < this.pieces_.length - 1; n++) e.push(this.pieces_[n]); return new t(e, 0) }, t.prototype.child = function(e) {
                                for (var n = [], r = this.pieceNum_; r < this.pieces_.length; r++) n.push(this.pieces_[r]);
                                if (e instanceof t)
                                    for (r = e.pieceNum_; r < e.pieces_.length; r++) n.push(e.pieces_[r]);
                                else { var i = e.split("/"); for (r = 0; r < i.length; r++) i[r].length > 0 && n.push(i[r]) }
                                return new t(n, 0)
                            }, t.prototype.isEmpty = function() { return this.pieceNum_ >= this.pieces_.length }, t.relativePath = function(e, n) {
                                var r = e.getFront(),
                                    i = n.getFront();
                                if (null === r) return n;
                                if (r === i) return t.relativePath(e.popFront(), n.popFront());
                                throw new Error("INTERNAL ERROR: innerPath (" + n + ") is not within outerPath (" + e + ")")
                            }, t.comparePaths = function(t, e) { for (var n = t.slice(), r = e.slice(), i = 0; i < n.length && i < r.length; i++) { var o = R(n[i], r[i]); if (0 !== o) return o } return n.length === r.length ? 0 : n.length < r.length ? -1 : 1 }, t.prototype.equals = function(t) {
                                if (this.getLength() !== t.getLength()) return !1;
                                for (var e = this.pieceNum_, n = t.pieceNum_; e <= this.pieces_.length; e++, n++)
                                    if (this.pieces_[e] !== t.pieces_[n]) return !1;
                                return !0
                            }, t.prototype.contains = function(t) {
                                var e = this.pieceNum_,
                                    n = t.pieceNum_;
                                if (this.getLength() > t.getLength()) return !1;
                                for (; e < this.pieces_.length;) { if (this.pieces_[e] !== t.pieces_[n]) return !1;++e, ++n }
                                return !0
                            }, t
                        }(),
                        Z = function() {
                            function t(t, e) {
                                this.errorPrefix_ = e, this.parts_ = t.slice(), this.byteLength_ = Math.max(1, this.parts_.length);
                                for (var n = 0; n < this.parts_.length; n++) this.byteLength_ += a.stringLength(this.parts_[n]);
                                this.checkValid_()
                            }
                            return Object.defineProperty(t, "MAX_PATH_DEPTH", { get: function() { return 32 }, enumerable: !1, configurable: !0 }), Object.defineProperty(t, "MAX_PATH_LENGTH_BYTES", { get: function() { return 768 }, enumerable: !1, configurable: !0 }), t.prototype.push = function(t) { this.parts_.length > 0 && (this.byteLength_ += 1), this.parts_.push(t), this.byteLength_ += a.stringLength(t), this.checkValid_() }, t.prototype.pop = function() {
                                var t = this.parts_.pop();
                                this.byteLength_ -= a.stringLength(t), this.parts_.length > 0 && (this.byteLength_ -= 1)
                            }, t.prototype.checkValid_ = function() { if (this.byteLength_ > t.MAX_PATH_LENGTH_BYTES) throw new Error(this.errorPrefix_ + "has a key path longer than " + t.MAX_PATH_LENGTH_BYTES + " bytes (" + this.byteLength_ + ")."); if (this.parts_.length > t.MAX_PATH_DEPTH) throw new Error(this.errorPrefix_ + "path specified exceeds the maximum depth that can be written (" + t.MAX_PATH_DEPTH + ") or object contains a cycle " + this.toErrorString()) }, t.prototype.toErrorString = function() { return 0 === this.parts_.length ? "" : "in property '" + this.parts_.join(".") + "'" }, t
                        }(),
                        J = function() {
                            function t(t, e, n, r, i, o) { void 0 === i && (i = ""), void 0 === o && (o = !1), this.secure = e, this.namespace = n, this.webSocketOnly = r, this.persistenceKey = i, this.includeNamespaceInQueryParams = o, this.host = t.toLowerCase(), this.domain = this.host.substr(this.host.indexOf(".") + 1), this.internalHost = p.get("host:" + t) || this.host }
                            return t.prototype.needsQueryParam = function() { return this.host !== this.internalHost || this.isCustomHost() || this.includeNamespaceInQueryParams }, t.prototype.isCacheableHost = function() { return "s-" === this.internalHost.substr(0, 2) }, t.prototype.isDemoHost = function() { return "firebaseio-demo.com" === this.domain }, t.prototype.isCustomHost = function() { return "firebaseio.com" !== this.domain && "firebaseio-demo.com" !== this.domain }, t.prototype.updateHost = function(t) { t !== this.internalHost && (this.internalHost = t, this.isCacheableHost() && p.set("host:" + this.host, this.internalHost)) }, t.prototype.connectionURL = function(t, e) {
                                var n;
                                if (a.assert("string" == typeof t, "typeof type must == string"), a.assert("object" == typeof e, "typeof params must == object"), "websocket" === t) n = (this.secure ? "wss://" : "ws://") + this.internalHost + "/.ws?";
                                else {
                                    if ("long_polling" !== t) throw new Error("Unknown connection type: " + t);
                                    n = (this.secure ? "https://" : "http://") + this.internalHost + "/.lp?"
                                }
                                this.needsQueryParam() && (e.ns = this.namespace);
                                var r = [];
                                return M(e, (function(t, e) { r.push(t + "=" + e) })), n + r.join("&")
                            }, t.prototype.toString = function() { var t = this.toURLString(); return this.persistenceKey && (t += "<" + this.persistenceKey + ">"), t }, t.prototype.toURLString = function() { return (this.secure ? "https://" : "http://") + this.host }, t
                        }(),
                        tt = function(t) {
                            var e = et(t),
                                n = e.namespace;
                            return "firebase.com" === e.domain && x(e.host + " is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"), n && "undefined" !== n || "localhost" === e.domain || x("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"), e.secure || "undefined" != typeof window && window.location && window.location.protocol && -1 !== window.location.protocol.indexOf("https:") && T("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."), { repoInfo: new J(e.host, e.secure, n, "ws" === e.scheme || "wss" === e.scheme, "", n !== e.subdomain), path: new Q(e.pathString) }
                        },
                        et = function(t) {
                            var e = "",
                                n = "",
                                r = "",
                                i = "",
                                o = "",
                                a = !0,
                                c = "https",
                                l = 443;
                            if ("string" == typeof t) {
                                var u = t.indexOf("//");
                                u >= 0 && (c = t.substring(0, u - 1), t = t.substring(u + 2));
                                var h = t.indexOf("/"); - 1 === h && (h = t.length);
                                var d = t.indexOf("?"); - 1 === d && (d = t.length), e = t.substring(0, Math.min(h, d)), h < d && (i = function(t) {
                                    for (var e = "", n = t.split("/"), r = 0; r < n.length; r++)
                                        if (n[r].length > 0) {
                                            var i = n[r];
                                            try { i = decodeURIComponent(i.replace(/\+/g, " ")) } catch (o) {}
                                            e += "/" + i
                                        }
                                    return e
                                }(t.substring(h, d)));
                                var p = function(t) {
                                    var e, n, r = {};
                                    "?" === t.charAt(0) && (t = t.substring(1));
                                    try {
                                        for (var i = s.__values(t.split("&")), o = i.next(); !o.done; o = i.next()) {
                                            var a = o.value;
                                            if (0 !== a.length) {
                                                var c = a.split("=");
                                                2 === c.length ? r[decodeURIComponent(c[0])] = decodeURIComponent(c[1]) : T("Invalid query segment '" + a + "' in query '" + t + "'")
                                            }
                                        }
                                    } catch (l) { e = { error: l } } finally { try { o && !o.done && (n = i.return) && n.call(i) } finally { if (e) throw e.error } }
                                    return r
                                }(t.substring(Math.min(t.length, d)));
                                (u = e.indexOf(":")) >= 0 ? (a = "https" === c || "wss" === c, l = parseInt(e.substring(u + 1), 10)) : u = e.length;
                                var f = e.slice(0, u);
                                if ("localhost" === f.toLowerCase()) n = "localhost";
                                else if (f.split(".").length <= 2) n = f;
                                else {
                                    var m = e.indexOf(".");
                                    r = e.substring(0, m).toLowerCase(), n = e.substring(m + 1), o = r
                                }
                                "ns" in p && (o = p.ns)
                            }
                            return { host: e, port: l, domain: n, subdomain: r, secure: a, scheme: c, pathString: i, namespace: o }
                        },
                        nt = /[\[\].#$\/\u0000-\u001F\u007F]/,
                        rt = /[\[\].#$\u0000-\u001F\u007F]/,
                        it = function(t) { return "string" == typeof t && 0 !== t.length && !nt.test(t) },
                        ot = function(t) { return "string" == typeof t && 0 !== t.length && !rt.test(t) },
                        st = function(t) { return null === t || "string" == typeof t || "number" == typeof t && !k(t) || t && "object" == typeof t && a.contains(t, ".sv") },
                        at = function(t, e, n, r, i) { i && void 0 === n || ct(a.errorPrefix(t, e, i), n, r) },
                        ct = function(t, e, n) {
                            var r = n instanceof Q ? new Z(n, t) : n;
                            if (void 0 === e) throw new Error(t + "contains undefined " + r.toErrorString());
                            if ("function" == typeof e) throw new Error(t + "contains a function " + r.toErrorString() + " with contents = " + e.toString());
                            if (k(e)) throw new Error(t + "contains " + e.toString() + " " + r.toErrorString());
                            if ("string" == typeof e && e.length > 10485760 / 3 && a.stringLength(e) > 10485760) throw new Error(t + "contains a string greater than 10485760 utf8 bytes " + r.toErrorString() + " ('" + e.substring(0, 50) + "...')");
                            if (e && "object" == typeof e) {
                                var i = !1,
                                    o = !1;
                                if (M(e, (function(e, n) {
                                        if (".value" === e) i = !0;
                                        else if (".priority" !== e && ".sv" !== e && (o = !0, !it(e))) throw new Error(t + " contains an invalid key (" + e + ") " + r.toErrorString() + '.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');
                                        r.push(e), ct(t, n, r), r.pop()
                                    })), i && o) throw new Error(t + ' contains ".value" child ' + r.toErrorString() + " in addition to actual children.")
                            }
                        },
                        lt = function(t, e, n, r, i) {
                            if (!i || void 0 !== n) {
                                var o = a.errorPrefix(t, e, i);
                                if (!n || "object" != typeof n || Array.isArray(n)) throw new Error(o + " must be an object containing the children to replace.");
                                var s = [];
                                M(n, (function(t, e) {
                                        var n = new Q(t);
                                        if (ct(o, e, r.child(n)), ".priority" === n.getBack() && !st(e)) throw new Error(o + "contains an invalid value for '" + n.toString() + "', which must be a valid Firebase priority (a string, finite number, server value, or null).");
                                        s.push(n)
                                    })),
                                    function(t, e) {
                                        var n, r;
                                        for (n = 0; n < e.length; n++)
                                            for (var i = (r = e[n]).slice(), o = 0; o < i.length; o++)
                                                if (".priority" === i[o] && o === i.length - 1);
                                                else if (!it(i[o])) throw new Error(t + "contains an invalid key (" + i[o] + ") in path " + r.toString() + '. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');
                                        e.sort(Q.comparePaths);
                                        var s = null;
                                        for (n = 0; n < e.length; n++) {
                                            if (r = e[n], null !== s && s.contains(r)) throw new Error(t + "contains a path " + s.toString() + " that is ancestor of another path " + r.toString());
                                            s = r
                                        }
                                    }(o, s)
                            }
                        },
                        ut = function(t, e, n, r) { if (!r || void 0 !== n) { if (k(n)) throw new Error(a.errorPrefix(t, e, r) + "is " + n.toString() + ", but must be a valid Firebase priority (a string, finite number, server value, or null)."); if (!st(n)) throw new Error(a.errorPrefix(t, e, r) + "must be a valid Firebase priority (a string, finite number, server value, or null).") } },
                        ht = function(t, e, n, r) {
                            if (!r || void 0 !== n) switch (n) {
                                case "value":
                                case "child_added":
                                case "child_removed":
                                case "child_changed":
                                case "child_moved":
                                    break;
                                default:
                                    throw new Error(a.errorPrefix(t, e, r) + 'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')
                            }
                        },
                        dt = function(t, e, n, r) { if (!(r && void 0 === n || it(n))) throw new Error(a.errorPrefix(t, e, r) + 'was an invalid key = "' + n + '".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").') },
                        pt = function(t, e, n, r) { if (!(r && void 0 === n || ot(n))) throw new Error(a.errorPrefix(t, e, r) + 'was an invalid path = "' + n + '". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"') },
                        ft = function(t, e, n, r) { n && (n = n.replace(/^\/*\.info(\/|$)/, "/")), pt(t, e, n, r) },
                        mt = function(t, e) { if (".info" === e.getFront()) throw new Error(t + " failed = Can't modify data under /.info/") },
                        gt = function(t, e, n) { var r = n.path.toString(); if ("string" != typeof n.repoInfo.host || 0 === n.repoInfo.host.length || !it(n.repoInfo.namespace) && "localhost" !== n.repoInfo.host.split(":")[0] || 0 !== r.length && ! function(t) { return t && (t = t.replace(/^\/*\.info(\/|$)/, "/")), ot(t) }(r)) throw new Error(a.errorPrefix(t, e, !1) + 'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".') },
                        yt = function(t, e, n, r) { if ((!r || void 0 !== n) && "boolean" != typeof n) throw new Error(a.errorPrefix(t, e, r) + "must be a boolean.") },
                        vt = function() {
                            function t(t, e) { this.repo_ = t, this.path_ = e }
                            return t.prototype.cancel = function(t) { a.validateArgCount("OnDisconnect.cancel", 0, 1, arguments.length), a.validateCallback("OnDisconnect.cancel", 1, t, !0); var e = new a.Deferred; return this.repo_.onDisconnectCancel(this.path_, e.wrapCallback(t)), e.promise }, t.prototype.remove = function(t) { a.validateArgCount("OnDisconnect.remove", 0, 1, arguments.length), mt("OnDisconnect.remove", this.path_), a.validateCallback("OnDisconnect.remove", 1, t, !0); var e = new a.Deferred; return this.repo_.onDisconnectSet(this.path_, null, e.wrapCallback(t)), e.promise }, t.prototype.set = function(t, e) { a.validateArgCount("OnDisconnect.set", 1, 2, arguments.length), mt("OnDisconnect.set", this.path_), at("OnDisconnect.set", 1, t, this.path_, !1), a.validateCallback("OnDisconnect.set", 2, e, !0); var n = new a.Deferred; return this.repo_.onDisconnectSet(this.path_, t, n.wrapCallback(e)), n.promise }, t.prototype.setWithPriority = function(t, e, n) { a.validateArgCount("OnDisconnect.setWithPriority", 2, 3, arguments.length), mt("OnDisconnect.setWithPriority", this.path_), at("OnDisconnect.setWithPriority", 1, t, this.path_, !1), ut("OnDisconnect.setWithPriority", 2, e, !1), a.validateCallback("OnDisconnect.setWithPriority", 3, n, !0); var r = new a.Deferred; return this.repo_.onDisconnectSetWithPriority(this.path_, t, e, r.wrapCallback(n)), r.promise }, t.prototype.update = function(t, e) {
                                if (a.validateArgCount("OnDisconnect.update", 1, 2, arguments.length), mt("OnDisconnect.update", this.path_), Array.isArray(t)) {
                                    for (var n = {}, r = 0; r < t.length; ++r) n["" + r] = t[r];
                                    t = n, T("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")
                                }
                                lt("OnDisconnect.update", 1, t, this.path_, !1), a.validateCallback("OnDisconnect.update", 2, e, !0);
                                var i = new a.Deferred;
                                return this.repo_.onDisconnectUpdate(this.path_, t, i.wrapCallback(e)), i.promise
                            }, t
                        }(),
                        _t = function() {
                            function t(t, e) { this.committed = t, this.snapshot = e }
                            return t.prototype.toJSON = function() { return a.validateArgCount("TransactionResult.toJSON", 0, 1, arguments.length), { committed: this.committed, snapshot: this.snapshot.toJSON() } }, t
                        }(),
                        bt = (L = "-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz", F = 0, j = [], function(t) {
                            var e, n = t === F;
                            F = t;
                            var r = new Array(8);
                            for (e = 7; e >= 0; e--) r[e] = L.charAt(t % 64), t = Math.floor(t / 64);
                            a.assert(0 === t, "Cannot push at time == 0");
                            var i = r.join("");
                            if (n) {
                                for (e = 11; e >= 0 && 63 === j[e]; e--) j[e] = 0;
                                j[e]++
                            } else
                                for (e = 0; e < 12; e++) j[e] = Math.floor(64 * Math.random());
                            for (e = 0; e < 12; e++) i += L.charAt(j[e]);
                            return a.assert(20 === i.length, "nextPushId: Length should be 20."), i
                        }),
                        wt = function() {
                            function t(t, e) { this.name = t, this.node = e }
                            return t.Wrap = function(e, n) { return new t(e, n) }, t
                        }(),
                        Et = function() {
                            function t() {}
                            return t.prototype.getCompare = function() { return this.compare.bind(this) }, t.prototype.indexedValueChanged = function(t, e) {
                                var n = new wt(I, t),
                                    r = new wt(I, e);
                                return 0 !== this.compare(n, r)
                            }, t.prototype.minPost = function() { return wt.MIN }, t
                        }(),
                        St = function(t) {
                            function e() { return null !== t && t.apply(this, arguments) || this }
                            return s.__extends(e, t), Object.defineProperty(e, "__EMPTY_NODE", { get: function() { return U }, set: function(t) { U = t }, enumerable: !1, configurable: !0 }), e.prototype.compare = function(t, e) { return R(t.name, e.name) }, e.prototype.isDefinedOn = function(t) { throw a.assertionError("KeyIndex.isDefinedOn not expected to be called.") }, e.prototype.indexedValueChanged = function(t, e) { return !1 }, e.prototype.minPost = function() { return wt.MIN }, e.prototype.maxPost = function() { return new wt(A, U) }, e.prototype.makePost = function(t, e) { return a.assert("string" == typeof t, "KeyIndex indexValue must always be a string."), new wt(t, U) }, e.prototype.toString = function() { return ".key" }, e
                        }(Et),
                        Ct = new St,
                        xt = function(t) { return "number" == typeof t ? "number:" + G(t) : "string:" + t },
                        Tt = function(t) {
                            if (t.isLeafNode()) {
                                var e = t.val();
                                a.assert("string" == typeof e || "number" == typeof e || "object" == typeof e && a.contains(e, ".sv"), "Priority must be a string or number.")
                            } else a.assert(t === V || t.isEmpty(), "priority of unexpected type.");
                            a.assert(t === V || t.getPriority().isEmpty(), "Priority nodes can't have a priority of their own.")
                        },
                        kt = function() {
                            function t(e, n) { void 0 === n && (n = t.__childrenNodeConstructor.EMPTY_NODE), this.value_ = e, this.priorityNode_ = n, this.lazyHash_ = null, a.assert(null != this.value_, "LeafNode shouldn't be created with null/undefined value."), Tt(this.priorityNode_) }
                            return Object.defineProperty(t, "__childrenNodeConstructor", { get: function() { return B }, set: function(t) { B = t }, enumerable: !1, configurable: !0 }), t.prototype.isLeafNode = function() { return !0 }, t.prototype.getPriority = function() { return this.priorityNode_ }, t.prototype.updatePriority = function(e) { return new t(this.value_, e) }, t.prototype.getImmediateChild = function(e) { return ".priority" === e ? this.priorityNode_ : t.__childrenNodeConstructor.EMPTY_NODE }, t.prototype.getChild = function(e) { return e.isEmpty() ? this : ".priority" === e.getFront() ? this.priorityNode_ : t.__childrenNodeConstructor.EMPTY_NODE }, t.prototype.hasChild = function() { return !1 }, t.prototype.getPredecessorChildName = function(t, e) { return null }, t.prototype.updateImmediateChild = function(e, n) { return ".priority" === e ? this.updatePriority(n) : n.isEmpty() && ".priority" !== e ? this : t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e, n).updatePriority(this.priorityNode_) }, t.prototype.updateChild = function(e, n) { var r = e.getFront(); return null === r ? n : n.isEmpty() && ".priority" !== r ? this : (a.assert(".priority" !== r || 1 === e.getLength(), ".priority must be the last token in a path"), this.updateImmediateChild(r, t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(), n))) }, t.prototype.isEmpty = function() { return !1 }, t.prototype.numChildren = function() { return 0 }, t.prototype.forEachChild = function(t, e) { return !1 }, t.prototype.val = function(t) { return t && !this.getPriority().isEmpty() ? { ".value": this.getValue(), ".priority": this.getPriority().val() } : this.getValue() }, t.prototype.hash = function() {
                                if (null === this.lazyHash_) {
                                    var t = "";
                                    this.priorityNode_.isEmpty() || (t += "priority:" + xt(this.priorityNode_.val()) + ":");
                                    var e = typeof this.value_;
                                    t += e + ":", t += "number" === e ? G(this.value_) : this.value_, this.lazyHash_ = y(t)
                                }
                                return this.lazyHash_
                            }, t.prototype.getValue = function() { return this.value_ }, t.prototype.compareTo = function(e) { return e === t.__childrenNodeConstructor.EMPTY_NODE ? 1 : e instanceof t.__childrenNodeConstructor ? -1 : (a.assert(e.isLeafNode(), "Unknown node type"), this.compareToLeafNode_(e)) }, t.prototype.compareToLeafNode_ = function(e) {
                                var n = typeof e.value_,
                                    r = typeof this.value_,
                                    i = t.VALUE_TYPE_ORDER.indexOf(n),
                                    o = t.VALUE_TYPE_ORDER.indexOf(r);
                                return a.assert(i >= 0, "Unknown leaf type: " + n), a.assert(o >= 0, "Unknown leaf type: " + r), i === o ? "object" === r ? 0 : this.value_ < e.value_ ? -1 : this.value_ === e.value_ ? 0 : 1 : o - i
                            }, t.prototype.withIndex = function() { return this }, t.prototype.isIndexed = function() { return !0 }, t.prototype.equals = function(t) { return t === this || !!t.isLeafNode() && this.value_ === t.value_ && this.priorityNode_.equals(t.priorityNode_) }, t.VALUE_TYPE_ORDER = ["object", "boolean", "number", "string"], t
                        }(),
                        It = new(function(t) {
                            function e() { return null !== t && t.apply(this, arguments) || this }
                            return s.__extends(e, t), e.prototype.compare = function(t, e) {
                                var n = t.node.getPriority(),
                                    r = e.node.getPriority(),
                                    i = n.compareTo(r);
                                return 0 === i ? R(t.name, e.name) : i
                            }, e.prototype.isDefinedOn = function(t) { return !t.getPriority().isEmpty() }, e.prototype.indexedValueChanged = function(t, e) { return !t.getPriority().equals(e.getPriority()) }, e.prototype.minPost = function() { return wt.MIN }, e.prototype.maxPost = function() { return new wt(A, new kt("[PRIORITY-POST]", H)) }, e.prototype.makePost = function(t, e) { var n = q(t); return new wt(e, new kt("[PRIORITY-POST]", n)) }, e.prototype.toString = function() { return ".priority" }, e
                        }(Et)),
                        At = function() {
                            function t(t, e, n, r, i) {
                                void 0 === i && (i = null), this.isReverse_ = r, this.resultGenerator_ = i, this.nodeStack_ = [];
                                for (var o = 1; !t.isEmpty();)
                                    if (t = t, o = e ? n(t.key, e) : 1, r && (o *= -1), o < 0) t = this.isReverse_ ? t.left : t.right;
                                    else {
                                        if (0 === o) { this.nodeStack_.push(t); break }
                                        this.nodeStack_.push(t), t = this.isReverse_ ? t.right : t.left
                                    }
                            }
                            return t.prototype.getNext = function() {
                                if (0 === this.nodeStack_.length) return null;
                                var t, e = this.nodeStack_.pop();
                                if (t = this.resultGenerator_ ? this.resultGenerator_(e.key, e.value) : { key: e.key, value: e.value }, this.isReverse_)
                                    for (e = e.left; !e.isEmpty();) this.nodeStack_.push(e), e = e.right;
                                else
                                    for (e = e.right; !e.isEmpty();) this.nodeStack_.push(e), e = e.left;
                                return t
                            }, t.prototype.hasNext = function() { return this.nodeStack_.length > 0 }, t.prototype.peek = function() { if (0 === this.nodeStack_.length) return null; var t = this.nodeStack_[this.nodeStack_.length - 1]; return this.resultGenerator_ ? this.resultGenerator_(t.key, t.value) : { key: t.key, value: t.value } }, t
                        }(),
                        Rt = function() {
                            function t(e, n, r, i, o) { this.key = e, this.value = n, this.color = null != r ? r : t.RED, this.left = null != i ? i : Nt.EMPTY_NODE, this.right = null != o ? o : Nt.EMPTY_NODE }
                            return t.prototype.copy = function(e, n, r, i, o) { return new t(null != e ? e : this.key, null != n ? n : this.value, null != r ? r : this.color, null != i ? i : this.left, null != o ? o : this.right) }, t.prototype.count = function() { return this.left.count() + 1 + this.right.count() }, t.prototype.isEmpty = function() { return !1 }, t.prototype.inorderTraversal = function(t) { return this.left.inorderTraversal(t) || !!t(this.key, this.value) || this.right.inorderTraversal(t) }, t.prototype.reverseTraversal = function(t) { return this.right.reverseTraversal(t) || t(this.key, this.value) || this.left.reverseTraversal(t) }, t.prototype.min_ = function() { return this.left.isEmpty() ? this : this.left.min_() }, t.prototype.minKey = function() { return this.min_().key }, t.prototype.maxKey = function() { return this.right.isEmpty() ? this.key : this.right.maxKey() }, t.prototype.insert = function(t, e, n) {
                                var r = this,
                                    i = n(t, r.key);
                                return (r = i < 0 ? r.copy(null, null, null, r.left.insert(t, e, n), null) : 0 === i ? r.copy(null, e, null, null, null) : r.copy(null, null, null, null, r.right.insert(t, e, n))).fixUp_()
                            }, t.prototype.removeMin_ = function() { if (this.left.isEmpty()) return Nt.EMPTY_NODE; var t = this; return t.left.isRed_() || t.left.left.isRed_() || (t = t.moveRedLeft_()), (t = t.copy(null, null, null, t.left.removeMin_(), null)).fixUp_() }, t.prototype.remove = function(t, e) {
                                var n, r;
                                if (e(t, (n = this).key) < 0) n.left.isEmpty() || n.left.isRed_() || n.left.left.isRed_() || (n = n.moveRedLeft_()), n = n.copy(null, null, null, n.left.remove(t, e), null);
                                else {
                                    if (n.left.isRed_() && (n = n.rotateRight_()), n.right.isEmpty() || n.right.isRed_() || n.right.left.isRed_() || (n = n.moveRedRight_()), 0 === e(t, n.key)) {
                                        if (n.right.isEmpty()) return Nt.EMPTY_NODE;
                                        r = n.right.min_(), n = n.copy(r.key, r.value, null, null, n.right.removeMin_())
                                    }
                                    n = n.copy(null, null, null, null, n.right.remove(t, e))
                                }
                                return n.fixUp_()
                            }, t.prototype.isRed_ = function() { return this.color }, t.prototype.fixUp_ = function() { var t = this; return t.right.isRed_() && !t.left.isRed_() && (t = t.rotateLeft_()), t.left.isRed_() && t.left.left.isRed_() && (t = t.rotateRight_()), t.left.isRed_() && t.right.isRed_() && (t = t.colorFlip_()), t }, t.prototype.moveRedLeft_ = function() { var t = this.colorFlip_(); return t.right.left.isRed_() && (t = (t = (t = t.copy(null, null, null, null, t.right.rotateRight_())).rotateLeft_()).colorFlip_()), t }, t.prototype.moveRedRight_ = function() { var t = this.colorFlip_(); return t.left.left.isRed_() && (t = (t = t.rotateRight_()).colorFlip_()), t }, t.prototype.rotateLeft_ = function() { var e = this.copy(null, null, t.RED, null, this.right.left); return this.right.copy(null, null, this.color, e, null) }, t.prototype.rotateRight_ = function() { var e = this.copy(null, null, t.RED, this.left.right, null); return this.left.copy(null, null, this.color, null, e) }, t.prototype.colorFlip_ = function() {
                                var t = this.left.copy(null, null, !this.left.color, null, null),
                                    e = this.right.copy(null, null, !this.right.color, null, null);
                                return this.copy(null, null, !this.color, t, e)
                            }, t.prototype.checkMaxDepth_ = function() { var t = this.check_(); return Math.pow(2, t) <= this.count() + 1 }, t.prototype.check_ = function() { if (this.isRed_() && this.left.isRed_()) throw new Error("Red node has red child(" + this.key + "," + this.value + ")"); if (this.right.isRed_()) throw new Error("Right child of (" + this.key + "," + this.value + ") is red"); var t = this.left.check_(); if (t !== this.right.check_()) throw new Error("Black depths differ"); return t + (this.isRed_() ? 0 : 1) }, t.RED = !0, t.BLACK = !1, t
                        }(),
                        Ot = function() {
                            function t() {}
                            return t.prototype.copy = function(t, e, n, r, i) { return this }, t.prototype.insert = function(t, e, n) { return new Rt(t, e, null) }, t.prototype.remove = function(t, e) { return this }, t.prototype.count = function() { return 0 }, t.prototype.isEmpty = function() { return !0 }, t.prototype.inorderTraversal = function(t) { return !1 }, t.prototype.reverseTraversal = function(t) { return !1 }, t.prototype.minKey = function() { return null }, t.prototype.maxKey = function() { return null }, t.prototype.check_ = function() { return 0 }, t.prototype.isRed_ = function() { return !1 }, t
                        }(),
                        Nt = function() {
                            function t(e, n) { void 0 === n && (n = t.EMPTY_NODE), this.comparator_ = e, this.root_ = n }
                            return t.prototype.insert = function(e, n) { return new t(this.comparator_, this.root_.insert(e, n, this.comparator_).copy(null, null, Rt.BLACK, null, null)) }, t.prototype.remove = function(e) { return new t(this.comparator_, this.root_.remove(e, this.comparator_).copy(null, null, Rt.BLACK, null, null)) }, t.prototype.get = function(t) {
                                for (var e, n = this.root_; !n.isEmpty();) {
                                    if (0 === (e = this.comparator_(t, n.key))) return n.value;
                                    e < 0 ? n = n.left : e > 0 && (n = n.right)
                                }
                                return null
                            }, t.prototype.getPredecessorKey = function(t) {
                                for (var e, n = this.root_, r = null; !n.isEmpty();) {
                                    if (0 === (e = this.comparator_(t, n.key))) { if (n.left.isEmpty()) return r ? r.key : null; for (n = n.left; !n.right.isEmpty();) n = n.right; return n.key }
                                    e < 0 ? n = n.left : e > 0 && (r = n, n = n.right)
                                }
                                throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")
                            }, t.prototype.isEmpty = function() { return this.root_.isEmpty() }, t.prototype.count = function() { return this.root_.count() }, t.prototype.minKey = function() { return this.root_.minKey() }, t.prototype.maxKey = function() { return this.root_.maxKey() }, t.prototype.inorderTraversal = function(t) { return this.root_.inorderTraversal(t) }, t.prototype.reverseTraversal = function(t) { return this.root_.reverseTraversal(t) }, t.prototype.getIterator = function(t) { return new At(this.root_, null, this.comparator_, !1, t) }, t.prototype.getIteratorFrom = function(t, e) { return new At(this.root_, t, this.comparator_, !1, e) }, t.prototype.getReverseIteratorFrom = function(t, e) { return new At(this.root_, t, this.comparator_, !0, e) }, t.prototype.getReverseIterator = function(t) { return new At(this.root_, null, this.comparator_, !0, t) }, t.EMPTY_NODE = new Ot, t
                        }(),
                        Dt = Math.log(2),
                        Pt = function() {
                            function t(t) {
                                this.count = parseInt(Math.log(t + 1) / Dt, 10), this.current_ = this.count - 1;
                                var e = parseInt(Array(this.count + 1).join("1"), 2);
                                this.bits_ = t + 1 & e
                            }
                            return t.prototype.nextBitIsOne = function() { var t = !(this.bits_ & 1 << this.current_); return this.current_--, t }, t
                        }(),
                        Mt = function(t, e, n, r) {
                            t.sort(e);
                            var i = function(e, r) {
                                    var o, s, a = r - e;
                                    if (0 === a) return null;
                                    if (1 === a) return o = t[e], s = n ? n(o) : o, new Rt(s, o.node, Rt.BLACK, null, null);
                                    var c = parseInt(a / 2, 10) + e,
                                        l = i(e, c),
                                        u = i(c + 1, r);
                                    return o = t[c], s = n ? n(o) : o, new Rt(s, o.node, Rt.BLACK, l, u)
                                },
                                o = function(e) {
                                    for (var r = null, o = null, s = t.length, a = function(e, r) {
                                            var o = s - e,
                                                a = s;
                                            s -= e;
                                            var l = i(o + 1, a),
                                                u = t[o],
                                                h = n ? n(u) : u;
                                            c(new Rt(h, u.node, r, null, l))
                                        }, c = function(t) { r ? (r.left = t, r = t) : (o = t, r = t) }, l = 0; l < e.count; ++l) {
                                        var u = e.nextBitIsOne(),
                                            h = Math.pow(2, e.count - (l + 1));
                                        u ? a(h, Rt.BLACK) : (a(h, Rt.BLACK), a(h, Rt.RED))
                                    }
                                    return o
                                }(new Pt(t.length));
                            return new Nt(r || e, o)
                        },
                        Lt = {},
                        Ft = function() {
                            function t(t, e) { this.indexes_ = t, this.indexSet_ = e }
                            return Object.defineProperty(t, "Default", { get: function() { return a.assert(Lt && It, "ChildrenNode.ts has not been loaded"), W = W || new t({ ".priority": Lt }, { ".priority": It }) }, enumerable: !1, configurable: !0 }), t.prototype.get = function(t) { var e = a.safeGet(this.indexes_, t); if (!e) throw new Error("No index defined for " + t); return e instanceof Nt ? e : null }, t.prototype.hasIndex = function(t) { return a.contains(this.indexSet_, t.toString()) }, t.prototype.addIndex = function(e, n) {
                                a.assert(e !== Ct, "KeyIndex always exists and isn't meant to be added to the IndexMap.");
                                for (var r, i = [], o = !1, c = n.getIterator(wt.Wrap), l = c.getNext(); l;) o = o || e.isDefinedOn(l.node), i.push(l), l = c.getNext();
                                r = o ? Mt(i, e.getCompare()) : Lt;
                                var u = e.toString(),
                                    h = s.__assign({}, this.indexSet_);
                                h[u] = e;
                                var d = s.__assign({}, this.indexes_);
                                return d[u] = r, new t(d, h)
                            }, t.prototype.addToIndexes = function(e, n) {
                                var r = this;
                                return new t(a.map(this.indexes_, (function(t, i) {
                                    var o = a.safeGet(r.indexSet_, i);
                                    if (a.assert(o, "Missing index implementation for " + i), t === Lt) { if (o.isDefinedOn(e.node)) { for (var s = [], c = n.getIterator(wt.Wrap), l = c.getNext(); l;) l.name !== e.name && s.push(l), l = c.getNext(); return s.push(e), Mt(s, o.getCompare()) } return Lt }
                                    var u = n.get(e.name),
                                        h = t;
                                    return u && (h = h.remove(new wt(e.name, u))), h.insert(e, e.node)
                                })), this.indexSet_)
                            }, t.prototype.removeFromIndexes = function(e, n) { return new t(a.map(this.indexes_, (function(t) { if (t === Lt) return t; var r = n.get(e.name); return r ? t.remove(new wt(e.name, r)) : t })), this.indexSet_) }, t
                        }();

                    function jt(t, e) { return R(t.name, e.name) }

                    function Ut(t, e) { return R(t, e) }
                    var Vt = function() {
                            function t(t, e, n) { this.children_ = t, this.priorityNode_ = e, this.indexMap_ = n, this.lazyHash_ = null, this.priorityNode_ && Tt(this.priorityNode_), this.children_.isEmpty() && a.assert(!this.priorityNode_ || this.priorityNode_.isEmpty(), "An empty node cannot have a priority") }
                            return Object.defineProperty(t, "EMPTY_NODE", { get: function() { return z || (z = new t(new Nt(Ut), null, Ft.Default)) }, enumerable: !1, configurable: !0 }), t.prototype.isLeafNode = function() { return !1 }, t.prototype.getPriority = function() { return this.priorityNode_ || z }, t.prototype.updatePriority = function(e) { return this.children_.isEmpty() ? this : new t(this.children_, e, this.indexMap_) }, t.prototype.getImmediateChild = function(t) { if (".priority" === t) return this.getPriority(); var e = this.children_.get(t); return null === e ? z : e }, t.prototype.getChild = function(t) { var e = t.getFront(); return null === e ? this : this.getImmediateChild(e).getChild(t.popFront()) }, t.prototype.hasChild = function(t) { return null !== this.children_.get(t) }, t.prototype.updateImmediateChild = function(e, n) {
                                if (a.assert(n, "We should always be passing snapshot nodes"), ".priority" === e) return this.updatePriority(n);
                                var r = new wt(e, n),
                                    i = void 0,
                                    o = void 0;
                                n.isEmpty() ? (i = this.children_.remove(e), o = this.indexMap_.removeFromIndexes(r, this.children_)) : (i = this.children_.insert(e, n), o = this.indexMap_.addToIndexes(r, this.children_));
                                var s = i.isEmpty() ? z : this.priorityNode_;
                                return new t(i, s, o)
                            }, t.prototype.updateChild = function(t, e) {
                                var n = t.getFront();
                                if (null === n) return e;
                                a.assert(".priority" !== t.getFront() || 1 === t.getLength(), ".priority must be the last token in a path");
                                var r = this.getImmediateChild(n).updateChild(t.popFront(), e);
                                return this.updateImmediateChild(n, r)
                            }, t.prototype.isEmpty = function() { return this.children_.isEmpty() }, t.prototype.numChildren = function() { return this.children_.count() }, t.prototype.val = function(e) {
                                if (this.isEmpty()) return null;
                                var n = {},
                                    r = 0,
                                    i = 0,
                                    o = !0;
                                if (this.forEachChild(It, (function(s, a) { n[s] = a.val(e), r++, o && t.INTEGER_REGEXP_.test(s) ? i = Math.max(i, Number(s)) : o = !1 })), !e && o && i < 2 * r) { var s = []; for (var a in n) s[a] = n[a]; return s }
                                return e && !this.getPriority().isEmpty() && (n[".priority"] = this.getPriority().val()), n
                            }, t.prototype.hash = function() {
                                if (null === this.lazyHash_) {
                                    var t = "";
                                    this.getPriority().isEmpty() || (t += "priority:" + xt(this.getPriority().val()) + ":"), this.forEachChild(It, (function(e, n) { var r = n.hash(); "" !== r && (t += ":" + e + ":" + r) })), this.lazyHash_ = "" === t ? "" : y(t)
                                }
                                return this.lazyHash_
                            }, t.prototype.getPredecessorChildName = function(t, e, n) { var r = this.resolveIndex_(n); if (r) { var i = r.getPredecessorKey(new wt(t, e)); return i ? i.name : null } return this.children_.getPredecessorKey(t) }, t.prototype.getFirstChildName = function(t) { var e = this.resolveIndex_(t); if (e) { var n = e.minKey(); return n && n.name } return this.children_.minKey() }, t.prototype.getFirstChild = function(t) { var e = this.getFirstChildName(t); return e ? new wt(e, this.children_.get(e)) : null }, t.prototype.getLastChildName = function(t) { var e = this.resolveIndex_(t); if (e) { var n = e.maxKey(); return n && n.name } return this.children_.maxKey() }, t.prototype.getLastChild = function(t) { var e = this.getLastChildName(t); return e ? new wt(e, this.children_.get(e)) : null }, t.prototype.forEachChild = function(t, e) { var n = this.resolveIndex_(t); return n ? n.inorderTraversal((function(t) { return e(t.name, t.node) })) : this.children_.inorderTraversal(e) }, t.prototype.getIterator = function(t) { return this.getIteratorFrom(t.minPost(), t) }, t.prototype.getIteratorFrom = function(t, e) { var n = this.resolveIndex_(e); if (n) return n.getIteratorFrom(t, (function(t) { return t })); for (var r = this.children_.getIteratorFrom(t.name, wt.Wrap), i = r.peek(); null != i && e.compare(i, t) < 0;) r.getNext(), i = r.peek(); return r }, t.prototype.getReverseIterator = function(t) { return this.getReverseIteratorFrom(t.maxPost(), t) }, t.prototype.getReverseIteratorFrom = function(t, e) { var n = this.resolveIndex_(e); if (n) return n.getReverseIteratorFrom(t, (function(t) { return t })); for (var r = this.children_.getReverseIteratorFrom(t.name, wt.Wrap), i = r.peek(); null != i && e.compare(i, t) > 0;) r.getNext(), i = r.peek(); return r }, t.prototype.compareTo = function(t) { return this.isEmpty() ? t.isEmpty() ? 0 : -1 : t.isLeafNode() || t.isEmpty() ? 1 : t === Bt ? -1 : 0 }, t.prototype.withIndex = function(e) { if (e === Ct || this.indexMap_.hasIndex(e)) return this; var n = this.indexMap_.addIndex(e, this.children_); return new t(this.children_, this.priorityNode_, n) }, t.prototype.isIndexed = function(t) { return t === Ct || this.indexMap_.hasIndex(t) }, t.prototype.equals = function(t) {
                                if (t === this) return !0;
                                if (t.isLeafNode()) return !1;
                                var e = t;
                                if (this.getPriority().equals(e.getPriority())) {
                                    if (this.children_.count() === e.children_.count()) {
                                        for (var n = this.getIterator(It), r = e.getIterator(It), i = n.getNext(), o = r.getNext(); i && o;) {
                                            if (i.name !== o.name || !i.node.equals(o.node)) return !1;
                                            i = n.getNext(), o = r.getNext()
                                        }
                                        return null === i && null === o
                                    }
                                    return !1
                                }
                                return !1
                            }, t.prototype.resolveIndex_ = function(t) { return t === Ct ? null : this.indexMap_.get(t.toString()) }, t.INTEGER_REGEXP_ = /^(0|[1-9]\d*)$/, t
                        }(),
                        Bt = new(function(t) {
                            function e() { return t.call(this, new Nt(Ut), Vt.EMPTY_NODE, Ft.Default) || this }
                            return s.__extends(e, t), e.prototype.compareTo = function(t) { return t === this ? 0 : 1 }, e.prototype.equals = function(t) { return t === this }, e.prototype.getPriority = function() { return this }, e.prototype.getImmediateChild = function(t) { return Vt.EMPTY_NODE }, e.prototype.isEmpty = function() { return !1 }, e
                        }(Vt));

                    function qt(t, e) {
                        if (void 0 === e && (e = null), null === t) return Vt.EMPTY_NODE;
                        if ("object" == typeof t && ".priority" in t && (e = t[".priority"]), a.assert(null === e || "string" == typeof e || "number" == typeof e || "object" == typeof e && ".sv" in e, "Invalid priority type found: " + typeof e), "object" == typeof t && ".value" in t && null !== t[".value"] && (t = t[".value"]), "object" != typeof t || ".sv" in t) return new kt(t, qt(e));
                        if (t instanceof Array) { var n = Vt.EMPTY_NODE; return M(t, (function(e, r) { if (a.contains(t, e) && "." !== e.substring(0, 1)) { var i = qt(r);!i.isLeafNode() && i.isEmpty() || (n = n.updateImmediateChild(e, i)) } })), n.updatePriority(qt(e)) }
                        var r = [],
                            i = !1;
                        if (M(t, (function(t, e) {
                                if ("." !== t.substring(0, 1)) {
                                    var n = qt(e);
                                    n.isEmpty() || (i = i || !n.getPriority().isEmpty(), r.push(new wt(t, n)))
                                }
                            })), 0 === r.length) return Vt.EMPTY_NODE;
                        var o = Mt(r, jt, (function(t) { return t.name }), Ut);
                        if (i) { var s = Mt(r, It.getCompare()); return new Vt(o, qt(e), new Ft({ ".priority": s }, { ".priority": It })) }
                        return new Vt(o, qt(e), Ft.Default)
                    }
                    Object.defineProperties(wt, { MIN: { value: new wt(I, Vt.EMPTY_NODE) }, MAX: { value: new wt(A, Bt) } }), St.__EMPTY_NODE = Vt.EMPTY_NODE, kt.__childrenNodeConstructor = Vt, V = Bt,
                        function(t) { H = t }(Bt),
                        function(t) { q = t }(qt);
                    var Ht, Wt = new(function(t) {
                            function e() { return null !== t && t.apply(this, arguments) || this }
                            return s.__extends(e, t), e.prototype.compare = function(t, e) { var n = t.node.compareTo(e.node); return 0 === n ? R(t.name, e.name) : n }, e.prototype.isDefinedOn = function(t) { return !0 }, e.prototype.indexedValueChanged = function(t, e) { return !t.equals(e) }, e.prototype.minPost = function() { return wt.MIN }, e.prototype.maxPost = function() { return wt.MAX }, e.prototype.makePost = function(t, e) { var n = qt(t); return new wt(e, n) }, e.prototype.toString = function() { return ".value" }, e
                        }(Et)),
                        zt = function(t) {
                            function e(e) { var n = t.call(this) || this; return n.indexPath_ = e, a.assert(!e.isEmpty() && ".priority" !== e.getFront(), "Can't create PathIndex with empty path or .priority key"), n }
                            return s.__extends(e, t), e.prototype.extractChild = function(t) { return t.getChild(this.indexPath_) }, e.prototype.isDefinedOn = function(t) { return !t.getChild(this.indexPath_).isEmpty() }, e.prototype.compare = function(t, e) {
                                var n = this.extractChild(t.node),
                                    r = this.extractChild(e.node),
                                    i = n.compareTo(r);
                                return 0 === i ? R(t.name, e.name) : i
                            }, e.prototype.makePost = function(t, e) {
                                var n = qt(t),
                                    r = Vt.EMPTY_NODE.updateChild(this.indexPath_, n);
                                return new wt(e, r)
                            }, e.prototype.maxPost = function() { var t = Vt.EMPTY_NODE.updateChild(this.indexPath_, Bt); return new wt(A, t) }, e.prototype.toString = function() { return this.indexPath_.slice().join("/") }, e
                        }(Et),
                        Gt = function() {
                            function t(t, e, n) { this.node_ = t, this.ref_ = e, this.index_ = n }
                            return t.prototype.val = function() { return a.validateArgCount("DataSnapshot.val", 0, 0, arguments.length), this.node_.val() }, t.prototype.exportVal = function() { return a.validateArgCount("DataSnapshot.exportVal", 0, 0, arguments.length), this.node_.val(!0) }, t.prototype.toJSON = function() { return a.validateArgCount("DataSnapshot.toJSON", 0, 1, arguments.length), this.exportVal() }, t.prototype.exists = function() { return a.validateArgCount("DataSnapshot.exists", 0, 0, arguments.length), !this.node_.isEmpty() }, t.prototype.child = function(e) {
                                a.validateArgCount("DataSnapshot.child", 0, 1, arguments.length), e = String(e), pt("DataSnapshot.child", 1, e, !1);
                                var n = new Q(e),
                                    r = this.ref_.child(n);
                                return new t(this.node_.getChild(n), r, It)
                            }, t.prototype.hasChild = function(t) { a.validateArgCount("DataSnapshot.hasChild", 1, 1, arguments.length), pt("DataSnapshot.hasChild", 1, t, !1); var e = new Q(t); return !this.node_.getChild(e).isEmpty() }, t.prototype.getPriority = function() { return a.validateArgCount("DataSnapshot.getPriority", 0, 0, arguments.length), this.node_.getPriority().val() }, t.prototype.forEach = function(e) { var n = this; if (a.validateArgCount("DataSnapshot.forEach", 1, 1, arguments.length), a.validateCallback("DataSnapshot.forEach", 1, e, !1), this.node_.isLeafNode()) return !1; var r = this.node_; return !!r.forEachChild(this.index_, (function(r, i) { return e(new t(i, n.ref_.child(r), It)) })) }, t.prototype.hasChildren = function() { return a.validateArgCount("DataSnapshot.hasChildren", 0, 0, arguments.length), !this.node_.isLeafNode() && !this.node_.isEmpty() }, Object.defineProperty(t.prototype, "key", { get: function() { return this.ref_.getKey() }, enumerable: !1, configurable: !0 }), t.prototype.numChildren = function() { return a.validateArgCount("DataSnapshot.numChildren", 0, 0, arguments.length), this.node_.numChildren() }, t.prototype.getRef = function() { return a.validateArgCount("DataSnapshot.ref", 0, 0, arguments.length), this.ref_ }, Object.defineProperty(t.prototype, "ref", { get: function() { return this.getRef() }, enumerable: !1, configurable: !0 }), t
                        }(),
                        $t = function() {
                            function t(t, e, n, r) { this.eventType = t, this.eventRegistration = e, this.snapshot = n, this.prevName = r }
                            return t.prototype.getPath = function() { var t = this.snapshot.getRef(); return "value" === this.eventType ? t.path : t.getParent().path }, t.prototype.getEventType = function() { return this.eventType }, t.prototype.getEventRunner = function() { return this.eventRegistration.getEventRunner(this) }, t.prototype.toString = function() { return this.getPath().toString() + ":" + this.eventType + ":" + a.stringify(this.snapshot.exportVal()) }, t
                        }(),
                        Kt = function() {
                            function t(t, e, n) { this.eventRegistration = t, this.error = e, this.path = n }
                            return t.prototype.getPath = function() { return this.path }, t.prototype.getEventType = function() { return "cancel" }, t.prototype.getEventRunner = function() { return this.eventRegistration.getEventRunner(this) }, t.prototype.toString = function() { return this.path.toString() + ":cancel" }, t
                        }(),
                        Yt = function() {
                            function t(t, e, n) { this.callback_ = t, this.cancelCallback_ = e, this.context_ = n }
                            return t.prototype.respondsTo = function(t) { return "value" === t }, t.prototype.createEvent = function(t, e) { var n = e.getQueryParams().getIndex(); return new $t("value", this, new Gt(t.snapshotNode, e.getRef(), n)) }, t.prototype.getEventRunner = function(t) { var e = this.context_; if ("cancel" === t.getEventType()) { a.assert(this.cancelCallback_, "Raising a cancel event on a listener with no cancel callback"); var n = this.cancelCallback_; return function() { n.call(e, t.error) } } var r = this.callback_; return function() { r.call(e, t.snapshot) } }, t.prototype.createCancelEvent = function(t, e) { return this.cancelCallback_ ? new Kt(this, t, e) : null }, t.prototype.matches = function(e) { return e instanceof t && (!e.callback_ || !this.callback_ || e.callback_ === this.callback_ && e.context_ === this.context_) }, t.prototype.hasAnyCallback = function() { return null !== this.callback_ }, t
                        }(),
                        Xt = function() {
                            function t(t, e, n) { this.callbacks_ = t, this.cancelCallback_ = e, this.context_ = n }
                            return t.prototype.respondsTo = function(t) { var e = "children_added" === t ? "child_added" : t; return a.contains(this.callbacks_, e = "children_removed" === e ? "child_removed" : e) }, t.prototype.createCancelEvent = function(t, e) { return this.cancelCallback_ ? new Kt(this, t, e) : null }, t.prototype.createEvent = function(t, e) {
                                a.assert(null != t.childName, "Child events should have a childName.");
                                var n = e.getRef().child(t.childName),
                                    r = e.getQueryParams().getIndex();
                                return new $t(t.type, this, new Gt(t.snapshotNode, n, r), t.prevName)
                            }, t.prototype.getEventRunner = function(t) { var e = this.context_; if ("cancel" === t.getEventType()) { a.assert(this.cancelCallback_, "Raising a cancel event on a listener with no cancel callback"); var n = this.cancelCallback_; return function() { n.call(e, t.error) } } var r = this.callbacks_[t.eventType]; return function() { r.call(e, t.snapshot, t.prevName) } }, t.prototype.matches = function(e) {
                                var n = this;
                                if (e instanceof t) {
                                    if (!this.callbacks_ || !e.callbacks_) return !0;
                                    if (this.context_ === e.context_) {
                                        var r = Object.keys(e.callbacks_),
                                            i = Object.keys(this.callbacks_),
                                            o = r.length;
                                        if (o === i.length) {
                                            if (1 === o) {
                                                var s = r[0],
                                                    a = i[0];
                                                return !(a !== s || e.callbacks_[s] && this.callbacks_[a] && e.callbacks_[s] !== this.callbacks_[a])
                                            }
                                            return i.every((function(t) { return e.callbacks_[t] === n.callbacks_[t] }))
                                        }
                                    }
                                }
                                return !1
                            }, t.prototype.hasAnyCallback = function() { return null !== this.callbacks_ }, t
                        }(),
                        Qt = function() {
                            function t(t, e, n, r) { this.repo = t, this.path = e, this.queryParams_ = n, this.orderByCalled_ = r }
                            return Object.defineProperty(t, "__referenceConstructor", { get: function() { return a.assert(Ht, "Reference.ts has not been loaded"), Ht }, set: function(t) { Ht = t }, enumerable: !1, configurable: !0 }), t.validateQueryEndpoints_ = function(t) {
                                var e = null,
                                    n = null;
                                if (t.hasStart() && (e = t.getIndexStartValue()), t.hasEnd() && (n = t.getIndexEndValue()), t.getIndex() === Ct) {
                                    var r = "Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",
                                        i = "Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";
                                    if (t.hasStart()) { if (t.getIndexStartName() !== I) throw new Error(r); if ("string" != typeof e) throw new Error(i) }
                                    if (t.hasEnd()) { if (t.getIndexEndName() !== A) throw new Error(r); if ("string" != typeof n) throw new Error(i) }
                                } else if (t.getIndex() === It) { if (null != e && !st(e) || null != n && !st(n)) throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).") } else if (a.assert(t.getIndex() instanceof zt || t.getIndex() === Wt, "unknown index type."), null != e && "object" == typeof e || null != n && "object" == typeof n) throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")
                            }, t.validateLimit_ = function(t) { if (t.hasStart() && t.hasEnd() && t.hasLimit() && !t.hasAnchoredLimit()) throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.") }, t.prototype.validateNoPreviousOrderByCall_ = function(t) { if (!0 === this.orderByCalled_) throw new Error(t + ": You can't combine multiple orderBy calls.") }, t.prototype.getQueryParams = function() { return this.queryParams_ }, t.prototype.getRef = function() { return a.validateArgCount("Query.ref", 0, 0, arguments.length), new t.__referenceConstructor(this.repo, this.path) }, t.prototype.on = function(e, n, r, i) {
                                a.validateArgCount("Query.on", 2, 4, arguments.length), ht("Query.on", 1, e, !1), a.validateCallback("Query.on", 2, n, !1);
                                var o = t.getCancelAndContextArgs_("Query.on", r, i);
                                if ("value" === e) this.onValueEvent(n, o.cancel, o.context);
                                else {
                                    var s = {};
                                    s[e] = n, this.onChildEvent(s, o.cancel, o.context)
                                }
                                return n
                            }, t.prototype.onValueEvent = function(t, e, n) {
                                var r = new Yt(t, e || null, n || null);
                                this.repo.addEventCallbackForQuery(this, r)
                            }, t.prototype.onChildEvent = function(t, e, n) {
                                var r = new Xt(t, e, n);
                                this.repo.addEventCallbackForQuery(this, r)
                            }, t.prototype.off = function(t, e, n) {
                                a.validateArgCount("Query.off", 0, 3, arguments.length), ht("Query.off", 1, t, !0), a.validateCallback("Query.off", 2, e, !0), a.validateContextObject("Query.off", 3, n, !0);
                                var r = null,
                                    i = null;
                                if ("value" === t) {
                                    var o = e || null;
                                    r = new Yt(o, null, n || null)
                                } else t && (e && ((i = {})[t] = e), r = new Xt(i, null, n || null));
                                this.repo.removeEventCallbackForQuery(this, r)
                            }, t.prototype.once = function(e, n, r, i) {
                                var o = this;
                                a.validateArgCount("Query.once", 1, 4, arguments.length), ht("Query.once", 1, e, !1), a.validateCallback("Query.once", 2, n, !0);
                                var s = t.getCancelAndContextArgs_("Query.once", r, i),
                                    c = !0,
                                    l = new a.Deferred;
                                l.promise.catch((function() {}));
                                var u = function(t) { c && (c = !1, o.off(e, u), n && n.bind(s.context)(t), l.resolve(t)) };
                                return this.on(e, u, (function(t) { o.off(e, u), s.cancel && s.cancel.bind(s.context)(t), l.reject(t) })), l.promise
                            }, t.prototype.limitToFirst = function(e) { if (a.validateArgCount("Query.limitToFirst", 1, 1, arguments.length), "number" != typeof e || Math.floor(e) !== e || e <= 0) throw new Error("Query.limitToFirst: First argument must be a positive integer."); if (this.queryParams_.hasLimit()) throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast)."); return new t(this.repo, this.path, this.queryParams_.limitToFirst(e), this.orderByCalled_) }, t.prototype.limitToLast = function(e) { if (a.validateArgCount("Query.limitToLast", 1, 1, arguments.length), "number" != typeof e || Math.floor(e) !== e || e <= 0) throw new Error("Query.limitToLast: First argument must be a positive integer."); if (this.queryParams_.hasLimit()) throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast)."); return new t(this.repo, this.path, this.queryParams_.limitToLast(e), this.orderByCalled_) }, t.prototype.orderByChild = function(e) {
                                if (a.validateArgCount("Query.orderByChild", 1, 1, arguments.length), "$key" === e) throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');
                                if ("$priority" === e) throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');
                                if ("$value" === e) throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');
                                pt("Query.orderByChild", 1, e, !1), this.validateNoPreviousOrderByCall_("Query.orderByChild");
                                var n = new Q(e);
                                if (n.isEmpty()) throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");
                                var r = new zt(n),
                                    i = this.queryParams_.orderBy(r);
                                return t.validateQueryEndpoints_(i), new t(this.repo, this.path, i, !0)
                            }, t.prototype.orderByKey = function() { a.validateArgCount("Query.orderByKey", 0, 0, arguments.length), this.validateNoPreviousOrderByCall_("Query.orderByKey"); var e = this.queryParams_.orderBy(Ct); return t.validateQueryEndpoints_(e), new t(this.repo, this.path, e, !0) }, t.prototype.orderByPriority = function() { a.validateArgCount("Query.orderByPriority", 0, 0, arguments.length), this.validateNoPreviousOrderByCall_("Query.orderByPriority"); var e = this.queryParams_.orderBy(It); return t.validateQueryEndpoints_(e), new t(this.repo, this.path, e, !0) }, t.prototype.orderByValue = function() { a.validateArgCount("Query.orderByValue", 0, 0, arguments.length), this.validateNoPreviousOrderByCall_("Query.orderByValue"); var e = this.queryParams_.orderBy(Wt); return t.validateQueryEndpoints_(e), new t(this.repo, this.path, e, !0) }, t.prototype.startAt = function(e, n) { void 0 === e && (e = null), a.validateArgCount("Query.startAt", 0, 2, arguments.length), at("Query.startAt", 1, e, this.path, !0), dt("Query.startAt", 2, n, !0); var r = this.queryParams_.startAt(e, n); if (t.validateLimit_(r), t.validateQueryEndpoints_(r), this.queryParams_.hasStart()) throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo)."); return void 0 === e && (e = null, n = null), new t(this.repo, this.path, r, this.orderByCalled_) }, t.prototype.endAt = function(e, n) { void 0 === e && (e = null), a.validateArgCount("Query.endAt", 0, 2, arguments.length), at("Query.endAt", 1, e, this.path, !0), dt("Query.endAt", 2, n, !0); var r = this.queryParams_.endAt(e, n); if (t.validateLimit_(r), t.validateQueryEndpoints_(r), this.queryParams_.hasEnd()) throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo)."); return new t(this.repo, this.path, r, this.orderByCalled_) }, t.prototype.equalTo = function(t, e) { if (a.validateArgCount("Query.equalTo", 1, 2, arguments.length), at("Query.equalTo", 1, t, this.path, !1), dt("Query.equalTo", 2, e, !0), this.queryParams_.hasStart()) throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo)."); if (this.queryParams_.hasEnd()) throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo)."); return this.startAt(t, e).endAt(t, e) }, t.prototype.toString = function() { return a.validateArgCount("Query.toString", 0, 0, arguments.length), this.repo.toString() + this.path.toUrlEncodedString() }, t.prototype.toJSON = function() { return a.validateArgCount("Query.toJSON", 0, 1, arguments.length), this.toString() }, t.prototype.queryObject = function() { return this.queryParams_.getQueryObject() }, t.prototype.queryIdentifier = function() {
                                var t = this.queryObject(),
                                    e = D(t);
                                return "{}" === e ? "default" : e
                            }, t.prototype.isEqual = function(e) {
                                if (a.validateArgCount("Query.isEqual", 1, 1, arguments.length), !(e instanceof t)) { var n = "Query.isEqual failed: First argument must be an instance of firebase.database.Query."; throw new Error(n) }
                                var r = this.repo === e.repo,
                                    i = this.path.equals(e.path),
                                    o = this.queryIdentifier() === e.queryIdentifier();
                                return r && i && o
                            }, t.getCancelAndContextArgs_ = function(t, e, n) {
                                var r = { cancel: null, context: null };
                                if (e && n) r.cancel = e, a.validateCallback(t, 3, r.cancel, !0), r.context = n, a.validateContextObject(t, 4, r.context, !0);
                                else if (e)
                                    if ("object" == typeof e && null !== e) r.context = e;
                                    else {
                                        if ("function" != typeof e) throw new Error(a.errorPrefix(t, 3, !0) + " must either be a cancel callback or a context object.");
                                        r.cancel = e
                                    }
                                return r
                            }, Object.defineProperty(t.prototype, "ref", { get: function() { return this.getRef() }, enumerable: !1, configurable: !0 }), t
                        }(),
                        Zt = function() {
                            function t(t) { this.node_ = t }
                            return t.prototype.getImmediateChild = function(e) { return new t(this.node_.getImmediateChild(e)) }, t.prototype.node = function() { return this.node_ }, t
                        }(),
                        Jt = function() {
                            function t(t, e) { this.syncTree_ = t, this.path_ = e }
                            return t.prototype.getImmediateChild = function(e) { var n = this.path_.child(e); return new t(this.syncTree_, n) }, t.prototype.node = function() { return this.syncTree_.calcCompleteEventCache(this.path_) }, t
                        }(),
                        te = function(t, e, n) { return t && "object" == typeof t ? (a.assert(".sv" in t, "Unexpected leaf node or priority contents"), "string" == typeof t[".sv"] ? ee(t[".sv"], e, n) : "object" == typeof t[".sv"] ? ne(t[".sv"], e) : void a.assert(!1, "Unexpected server value: " + JSON.stringify(t, null, 2))) : t },
                        ee = function(t, e, n) {
                            switch (t) {
                                case "timestamp":
                                    return n.timestamp;
                                default:
                                    a.assert(!1, "Unexpected server value: " + t)
                            }
                        },
                        ne = function(t, e, n) { t.hasOwnProperty("increment") || a.assert(!1, "Unexpected server value: " + JSON.stringify(t, null, 2)); var r = t.increment; "number" != typeof r && a.assert(!1, "Unexpected increment value: " + r); var i = e.node(); if (a.assert(null != i, "Expected ChildrenNode.EMPTY_NODE for nulls"), !i.isLeafNode()) return r; var o = i.getValue(); return "number" != typeof o ? r : o + r },
                        re = function(t, e, n, r) { return oe(e, new Jt(n, t), r) },
                        ie = function(t, e, n) { return oe(t, new Zt(e), n) };

                    function oe(t, e, n) {
                        var r, i = t.getPriority().val(),
                            o = te(i, e.getImmediateChild(".priority"), n);
                        if (t.isLeafNode()) {
                            var s = t,
                                a = te(s.getValue(), e, n);
                            return a !== s.getValue() || o !== s.getPriority().val() ? new kt(a, qt(o)) : t
                        }
                        var c = t;
                        return r = c, o !== c.getPriority().val() && (r = r.updatePriority(new kt(o))), c.forEachChild(It, (function(t, i) {
                            var o = oe(i, e.getImmediateChild(t), n);
                            o !== i && (r = r.updateImmediateChild(t, o))
                        })), r
                    }
                    var se, ae, ce = function() {
                            function t() { this.value = null, this.children = new Map }
                            return t.prototype.find = function(t) { if (null != this.value) return this.value.getChild(t); if (!t.isEmpty() && this.children.size > 0) { var e = t.getFront(); return t = t.popFront(), this.children.has(e) ? this.children.get(e).find(t) : null } return null }, t.prototype.remember = function(e, n) {
                                if (e.isEmpty()) this.value = n, this.children.clear();
                                else if (null !== this.value) this.value = this.value.updateChild(e, n);
                                else {
                                    var r = e.getFront();
                                    this.children.has(r) || this.children.set(r, new t);
                                    var i = this.children.get(r);
                                    e = e.popFront(), i.remember(e, n)
                                }
                            }, t.prototype.forget = function(t) {
                                if (t.isEmpty()) return this.value = null, this.children.clear(), !0;
                                if (null !== this.value) {
                                    if (this.value.isLeafNode()) return !1;
                                    var e = this.value;
                                    this.value = null;
                                    var n = this;
                                    return e.forEachChild(It, (function(t, e) { n.remember(new Q(t), e) })), this.forget(t)
                                }
                                if (this.children.size > 0) { var r = t.getFront(); return t = t.popFront(), this.children.has(r) && this.children.get(r).forget(t) && this.children.delete(r), 0 === this.children.size }
                                return !0
                            }, t.prototype.forEachTree = function(t, e) {
                                null !== this.value ? e(t, this.value) : this.forEachChild((function(n, r) {
                                    var i = new Q(t.toString() + "/" + n);
                                    r.forEachTree(i, e)
                                }))
                            }, t.prototype.forEachChild = function(t) { this.children.forEach((function(e, n) { t(n, e) })) }, t
                        }(),
                        le = function(t) { return t[t.OVERWRITE = 0] = "OVERWRITE", t[t.MERGE = 1] = "MERGE", t[t.ACK_USER_WRITE = 2] = "ACK_USER_WRITE", t[t.LISTEN_COMPLETE = 3] = "LISTEN_COMPLETE", t }({}),
                        ue = function() {
                            function t(t, e, n, r) { this.fromUser = t, this.fromServer = e, this.queryId = n, this.tagged = r, a.assert(!r || e, "Tagged queries must be from server.") }
                            return t.User = new t(!0, !1, null, !1), t.Server = new t(!1, !0, null, !1), t.forServerTaggedQuery = function(e) { return new t(!1, !0, e, !0) }, t
                        }(),
                        he = function() {
                            function t(t, e, n) { this.path = t, this.affectedTree = e, this.revert = n, this.type = le.ACK_USER_WRITE, this.source = ue.User }
                            return t.prototype.operationForChild = function(e) { if (this.path.isEmpty()) { if (null != this.affectedTree.value) return a.assert(this.affectedTree.children.isEmpty(), "affectedTree should not have overlapping affected paths."), this; var n = this.affectedTree.subtree(new Q(e)); return new t(Q.Empty, n, this.revert) } return a.assert(this.path.getFront() === e, "operationForChild called for unrelated child."), new t(this.path.popFront(), this.affectedTree, this.revert) }, t
                        }(),
                        de = function() {
                            function t(t, e) { void 0 === e && (se || (se = new Nt(O)), e = se), this.value = t, this.children = e }
                            return t.fromObject = function(e) { var n = t.Empty; return M(e, (function(t, e) { n = n.set(new Q(t), e) })), n }, t.prototype.isEmpty = function() { return null === this.value && this.children.isEmpty() }, t.prototype.findRootMostMatchingPathAndValue = function(t, e) {
                                if (null != this.value && e(this.value)) return { path: Q.Empty, value: this.value };
                                if (t.isEmpty()) return null;
                                var n = t.getFront(),
                                    r = this.children.get(n);
                                if (null !== r) { var i = r.findRootMostMatchingPathAndValue(t.popFront(), e); return null != i ? { path: new Q(n).child(i.path), value: i.value } : null }
                                return null
                            }, t.prototype.findRootMostValueAndPath = function(t) { return this.findRootMostMatchingPathAndValue(t, (function() { return !0 })) }, t.prototype.subtree = function(e) {
                                if (e.isEmpty()) return this;
                                var n = e.getFront(),
                                    r = this.children.get(n);
                                return null !== r ? r.subtree(e.popFront()) : t.Empty
                            }, t.prototype.set = function(e, n) {
                                if (e.isEmpty()) return new t(n, this.children);
                                var r = e.getFront(),
                                    i = (this.children.get(r) || t.Empty).set(e.popFront(), n),
                                    o = this.children.insert(r, i);
                                return new t(this.value, o)
                            }, t.prototype.remove = function(e) {
                                if (e.isEmpty()) return this.children.isEmpty() ? t.Empty : new t(null, this.children);
                                var n = e.getFront(),
                                    r = this.children.get(n);
                                if (r) {
                                    var i = r.remove(e.popFront()),
                                        o = void 0;
                                    return o = i.isEmpty() ? this.children.remove(n) : this.children.insert(n, i), null === this.value && o.isEmpty() ? t.Empty : new t(this.value, o)
                                }
                                return this
                            }, t.prototype.get = function(t) {
                                if (t.isEmpty()) return this.value;
                                var e = t.getFront(),
                                    n = this.children.get(e);
                                return n ? n.get(t.popFront()) : null
                            }, t.prototype.setTree = function(e, n) {
                                if (e.isEmpty()) return n;
                                var r, i = e.getFront(),
                                    o = (this.children.get(i) || t.Empty).setTree(e.popFront(), n);
                                return r = o.isEmpty() ? this.children.remove(i) : this.children.insert(i, o), new t(this.value, r)
                            }, t.prototype.fold = function(t) { return this.fold_(Q.Empty, t) }, t.prototype.fold_ = function(t, e) { var n = {}; return this.children.inorderTraversal((function(r, i) { n[r] = i.fold_(t.child(r), e) })), e(t, this.value, n) }, t.prototype.findOnPath = function(t, e) { return this.findOnPath_(t, Q.Empty, e) }, t.prototype.findOnPath_ = function(t, e, n) {
                                var r = !!this.value && n(e, this.value);
                                if (r) return r;
                                if (t.isEmpty()) return null;
                                var i = t.getFront(),
                                    o = this.children.get(i);
                                return o ? o.findOnPath_(t.popFront(), e.child(i), n) : null
                            }, t.prototype.foreachOnPath = function(t, e) { return this.foreachOnPath_(t, Q.Empty, e) }, t.prototype.foreachOnPath_ = function(e, n, r) {
                                if (e.isEmpty()) return this;
                                this.value && r(n, this.value);
                                var i = e.getFront(),
                                    o = this.children.get(i);
                                return o ? o.foreachOnPath_(e.popFront(), n.child(i), r) : t.Empty
                            }, t.prototype.foreach = function(t) { this.foreach_(Q.Empty, t) }, t.prototype.foreach_ = function(t, e) { this.children.inorderTraversal((function(n, r) { r.foreach_(t.child(n), e) })), this.value && e(t, this.value) }, t.prototype.foreachChild = function(t) { this.children.inorderTraversal((function(e, n) { n.value && t(e, n.value) })) }, t.Empty = new t(null), t
                        }(),
                        pe = function() {
                            function t(t, e) { this.source = t, this.path = e, this.type = le.LISTEN_COMPLETE }
                            return t.prototype.operationForChild = function(e) { return this.path.isEmpty() ? new t(this.source, Q.Empty) : new t(this.source, this.path.popFront()) }, t
                        }(),
                        fe = function() {
                            function t(t, e, n) { this.source = t, this.path = e, this.snap = n, this.type = le.OVERWRITE }
                            return t.prototype.operationForChild = function(e) { return this.path.isEmpty() ? new t(this.source, Q.Empty, this.snap.getImmediateChild(e)) : new t(this.source, this.path.popFront(), this.snap) }, t
                        }(),
                        me = function() {
                            function t(t, e, n) { this.source = t, this.path = e, this.children = n, this.type = le.MERGE }
                            return t.prototype.operationForChild = function(e) { if (this.path.isEmpty()) { var n = this.children.subtree(new Q(e)); return n.isEmpty() ? null : n.value ? new fe(this.source, Q.Empty, n.value) : new t(this.source, Q.Empty, n) } return a.assert(this.path.getFront() === e, "Can't get a merge for a child not on the path of the operation"), new t(this.source, this.path.popFront(), this.children) }, t.prototype.toString = function() { return "Operation(" + this.path + ": " + this.source.toString() + " merge: " + this.children.toString() + ")" }, t
                        }(),
                        ge = function() {
                            function t(t, e, n) { this.node_ = t, this.fullyInitialized_ = e, this.filtered_ = n }
                            return t.prototype.isFullyInitialized = function() { return this.fullyInitialized_ }, t.prototype.isFiltered = function() { return this.filtered_ }, t.prototype.isCompleteForPath = function(t) { if (t.isEmpty()) return this.isFullyInitialized() && !this.filtered_; var e = t.getFront(); return this.isCompleteForChild(e) }, t.prototype.isCompleteForChild = function(t) { return this.isFullyInitialized() && !this.filtered_ || this.node_.hasChild(t) }, t.prototype.getNode = function() { return this.node_ }, t
                        }(),
                        ye = function() {
                            function t(t, e) { this.eventCache_ = t, this.serverCache_ = e }
                            return t.prototype.updateEventSnap = function(e, n, r) { return new t(new ge(e, n, r), this.serverCache_) }, t.prototype.updateServerSnap = function(e, n, r) { return new t(this.eventCache_, new ge(e, n, r)) }, t.prototype.getEventCache = function() { return this.eventCache_ }, t.prototype.getCompleteEventSnap = function() { return this.eventCache_.isFullyInitialized() ? this.eventCache_.getNode() : null }, t.prototype.getServerCache = function() { return this.serverCache_ }, t.prototype.getCompleteServerSnap = function() { return this.serverCache_.isFullyInitialized() ? this.serverCache_.getNode() : null }, t.Empty = new t(new ge(Vt.EMPTY_NODE, !1, !1), new ge(Vt.EMPTY_NODE, !1, !1)), t
                        }(),
                        ve = function() {
                            function t(t, e, n, r, i) { this.type = t, this.snapshotNode = e, this.childName = n, this.oldSnap = r, this.prevName = i }
                            return t.valueChange = function(e) { return new t(t.VALUE, e) }, t.childAddedChange = function(e, n) { return new t(t.CHILD_ADDED, n, e) }, t.childRemovedChange = function(e, n) { return new t(t.CHILD_REMOVED, n, e) }, t.childChangedChange = function(e, n, r) { return new t(t.CHILD_CHANGED, n, e, r) }, t.childMovedChange = function(e, n) { return new t(t.CHILD_MOVED, n, e) }, t.CHILD_ADDED = "child_added", t.CHILD_REMOVED = "child_removed", t.CHILD_CHANGED = "child_changed", t.CHILD_MOVED = "child_moved", t.VALUE = "value", t
                        }(),
                        _e = function() {
                            function t(t) { this.index_ = t }
                            return t.prototype.updateChild = function(t, e, n, r, i, o) { a.assert(t.isIndexed(this.index_), "A node must be indexed if only a child is updated"); var s = t.getImmediateChild(e); return s.getChild(r).equals(n.getChild(r)) && s.isEmpty() === n.isEmpty() ? t : (null != o && (n.isEmpty() ? t.hasChild(e) ? o.trackChildChange(ve.childRemovedChange(e, s)) : a.assert(t.isLeafNode(), "A child remove without an old child only makes sense on a leaf node") : s.isEmpty() ? o.trackChildChange(ve.childAddedChange(e, n)) : o.trackChildChange(ve.childChangedChange(e, n, s))), t.isLeafNode() && n.isEmpty() ? t : t.updateImmediateChild(e, n).withIndex(this.index_)) }, t.prototype.updateFullNode = function(t, e, n) {
                                return null != n && (t.isLeafNode() || t.forEachChild(It, (function(t, r) { e.hasChild(t) || n.trackChildChange(ve.childRemovedChange(t, r)) })), e.isLeafNode() || e.forEachChild(It, (function(e, r) {
                                    if (t.hasChild(e)) {
                                        var i = t.getImmediateChild(e);
                                        i.equals(r) || n.trackChildChange(ve.childChangedChange(e, r, i))
                                    } else n.trackChildChange(ve.childAddedChange(e, r))
                                }))), e.withIndex(this.index_)
                            }, t.prototype.updatePriority = function(t, e) { return t.isEmpty() ? Vt.EMPTY_NODE : t.updatePriority(e) }, t.prototype.filtersNodes = function() { return !1 }, t.prototype.getIndexedFilter = function() { return this }, t.prototype.getIndex = function() { return this.index_ }, t
                        }(),
                        be = function() {
                            function t() { this.changeMap = new Map }
                            return t.prototype.trackChildChange = function(t) {
                                var e = t.type,
                                    n = t.childName;
                                a.assert(e === ve.CHILD_ADDED || e === ve.CHILD_CHANGED || e === ve.CHILD_REMOVED, "Only child changes supported for tracking"), a.assert(".priority" !== n, "Only non-priority child changes can be tracked.");
                                var r = this.changeMap.get(n);
                                if (r) {
                                    var i = r.type;
                                    if (e === ve.CHILD_ADDED && i === ve.CHILD_REMOVED) this.changeMap.set(n, ve.childChangedChange(n, t.snapshotNode, r.snapshotNode));
                                    else if (e === ve.CHILD_REMOVED && i === ve.CHILD_ADDED) this.changeMap.delete(n);
                                    else if (e === ve.CHILD_REMOVED && i === ve.CHILD_CHANGED) this.changeMap.set(n, ve.childRemovedChange(n, r.oldSnap));
                                    else if (e === ve.CHILD_CHANGED && i === ve.CHILD_ADDED) this.changeMap.set(n, ve.childAddedChange(n, t.snapshotNode));
                                    else {
                                        if (e !== ve.CHILD_CHANGED || i !== ve.CHILD_CHANGED) throw a.assertionError("Illegal combination of changes: " + t + " occurred after " + r);
                                        this.changeMap.set(n, ve.childChangedChange(n, t.snapshotNode, r.oldSnap))
                                    }
                                } else this.changeMap.set(n, t)
                            }, t.prototype.getChanges = function() { return Array.from(this.changeMap.values()) }, t
                        }(),
                        we = new(function() {
                            function t() {}
                            return t.prototype.getCompleteChild = function(t) { return null }, t.prototype.getChildAfterChild = function(t, e, n) { return null }, t
                        }()),
                        Ee = function() {
                            function t(t, e, n) { void 0 === n && (n = null), this.writes_ = t, this.viewCache_ = e, this.optCompleteServerCache_ = n }
                            return t.prototype.getCompleteChild = function(t) { var e = this.viewCache_.getEventCache(); if (e.isCompleteForChild(t)) return e.getNode().getImmediateChild(t); var n = null != this.optCompleteServerCache_ ? new ge(this.optCompleteServerCache_, !0, !1) : this.viewCache_.getServerCache(); return this.writes_.calcCompleteChild(t, n) }, t.prototype.getChildAfterChild = function(t, e, n) {
                                var r = null != this.optCompleteServerCache_ ? this.optCompleteServerCache_ : this.viewCache_.getCompleteServerSnap(),
                                    i = this.writes_.calcIndexedSlice(r, e, 1, n, t);
                                return 0 === i.length ? null : i[0]
                            }, t
                        }(),
                        Se = function() { return function(t, e) { this.viewCache = t, this.changes = e } }(),
                        Ce = function() {
                            function t(t) { this.filter_ = t }
                            return t.prototype.assertIndexed = function(t) { a.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()), "Event snap not indexed"), a.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()), "Server snap not indexed") }, t.prototype.applyOperation = function(e, n, r, i) {
                                var o, s, c = new be;
                                if (n.type === le.OVERWRITE) {
                                    var l = n;
                                    l.source.fromUser ? o = this.applyUserOverwrite_(e, l.path, l.snap, r, i, c) : (a.assert(l.source.fromServer, "Unknown source."), s = l.source.tagged || e.getServerCache().isFiltered() && !l.path.isEmpty(), o = this.applyServerOverwrite_(e, l.path, l.snap, r, i, s, c))
                                } else if (n.type === le.MERGE) {
                                    var u = n;
                                    u.source.fromUser ? o = this.applyUserMerge_(e, u.path, u.children, r, i, c) : (a.assert(u.source.fromServer, "Unknown source."), s = u.source.tagged || e.getServerCache().isFiltered(), o = this.applyServerMerge_(e, u.path, u.children, r, i, s, c))
                                } else if (n.type === le.ACK_USER_WRITE) {
                                    var h = n;
                                    o = h.revert ? this.revertUserWrite_(e, h.path, r, i, c) : this.ackUserWrite_(e, h.path, h.affectedTree, r, i, c)
                                } else {
                                    if (n.type !== le.LISTEN_COMPLETE) throw a.assertionError("Unknown operation type: " + n.type);
                                    o = this.listenComplete_(e, n.path, r, c)
                                }
                                var d = c.getChanges();
                                return t.maybeAddValueEvent_(e, o, d), new Se(o, d)
                            }, t.maybeAddValueEvent_ = function(t, e, n) {
                                var r = e.getEventCache();
                                if (r.isFullyInitialized()) {
                                    var i = r.getNode().isLeafNode() || r.getNode().isEmpty(),
                                        o = t.getCompleteEventSnap();
                                    (n.length > 0 || !t.getEventCache().isFullyInitialized() || i && !r.getNode().equals(o) || !r.getNode().getPriority().equals(o.getPriority())) && n.push(ve.valueChange(e.getCompleteEventSnap()))
                                }
                            }, t.prototype.generateEventCacheAfterServerEvent_ = function(t, e, n, r, i) {
                                var o = t.getEventCache();
                                if (null != n.shadowingWrite(e)) return t;
                                var s = void 0,
                                    c = void 0;
                                if (e.isEmpty())
                                    if (a.assert(t.getServerCache().isFullyInitialized(), "If change path is empty, we must have complete server data"), t.getServerCache().isFiltered()) {
                                        var l = t.getCompleteServerSnap(),
                                            u = n.calcCompleteEventChildren(l instanceof Vt ? l : Vt.EMPTY_NODE);
                                        s = this.filter_.updateFullNode(t.getEventCache().getNode(), u, i)
                                    } else {
                                        var h = n.calcCompleteEventCache(t.getCompleteServerSnap());
                                        s = this.filter_.updateFullNode(t.getEventCache().getNode(), h, i)
                                    }
                                else {
                                    var d = e.getFront();
                                    if (".priority" === d) {
                                        a.assert(1 === e.getLength(), "Can't have a priority with additional path components");
                                        var p = o.getNode();
                                        c = t.getServerCache().getNode();
                                        var f = n.calcEventCacheAfterServerOverwrite(e, p, c);
                                        s = null != f ? this.filter_.updatePriority(p, f) : o.getNode()
                                    } else {
                                        var m = e.popFront(),
                                            g = void 0;
                                        if (o.isCompleteForChild(d)) {
                                            c = t.getServerCache().getNode();
                                            var y = n.calcEventCacheAfterServerOverwrite(e, o.getNode(), c);
                                            g = null != y ? o.getNode().getImmediateChild(d).updateChild(m, y) : o.getNode().getImmediateChild(d)
                                        } else g = n.calcCompleteChild(d, t.getServerCache());
                                        s = null != g ? this.filter_.updateChild(o.getNode(), d, g, m, r, i) : o.getNode()
                                    }
                                }
                                return t.updateEventSnap(s, o.isFullyInitialized() || e.isEmpty(), this.filter_.filtersNodes())
                            }, t.prototype.applyServerOverwrite_ = function(t, e, n, r, i, o, s) {
                                var a, c = t.getServerCache(),
                                    l = o ? this.filter_ : this.filter_.getIndexedFilter();
                                if (e.isEmpty()) a = l.updateFullNode(c.getNode(), n, null);
                                else if (l.filtersNodes() && !c.isFiltered()) {
                                    var u = c.getNode().updateChild(e, n);
                                    a = l.updateFullNode(c.getNode(), u, null)
                                } else {
                                    var h = e.getFront();
                                    if (!c.isCompleteForPath(e) && e.getLength() > 1) return t;
                                    var d = e.popFront(),
                                        p = c.getNode().getImmediateChild(h).updateChild(d, n);
                                    a = ".priority" === h ? l.updatePriority(c.getNode(), p) : l.updateChild(c.getNode(), h, p, d, we, null)
                                }
                                var f = t.updateServerSnap(a, c.isFullyInitialized() || e.isEmpty(), l.filtersNodes()),
                                    m = new Ee(r, f, i);
                                return this.generateEventCacheAfterServerEvent_(f, e, r, m, s)
                            }, t.prototype.applyUserOverwrite_ = function(t, e, n, r, i, o) {
                                var s, a, c = t.getEventCache(),
                                    l = new Ee(r, t, i);
                                if (e.isEmpty()) a = this.filter_.updateFullNode(t.getEventCache().getNode(), n, o), s = t.updateEventSnap(a, !0, this.filter_.filtersNodes());
                                else {
                                    var u = e.getFront();
                                    if (".priority" === u) a = this.filter_.updatePriority(t.getEventCache().getNode(), n), s = t.updateEventSnap(a, c.isFullyInitialized(), c.isFiltered());
                                    else {
                                        var h = e.popFront(),
                                            d = c.getNode().getImmediateChild(u),
                                            p = void 0;
                                        if (h.isEmpty()) p = n;
                                        else {
                                            var f = l.getCompleteChild(u);
                                            p = null != f ? ".priority" === h.getBack() && f.getChild(h.parent()).isEmpty() ? f : f.updateChild(h, n) : Vt.EMPTY_NODE
                                        }
                                        if (d.equals(p)) s = t;
                                        else {
                                            var m = this.filter_.updateChild(c.getNode(), u, p, h, l, o);
                                            s = t.updateEventSnap(m, c.isFullyInitialized(), this.filter_.filtersNodes())
                                        }
                                    }
                                }
                                return s
                            }, t.cacheHasChild_ = function(t, e) { return t.getEventCache().isCompleteForChild(e) }, t.prototype.applyUserMerge_ = function(e, n, r, i, o, s) {
                                var a = this,
                                    c = e;
                                return r.foreach((function(r, l) {
                                    var u = n.child(r);
                                    t.cacheHasChild_(e, u.getFront()) && (c = a.applyUserOverwrite_(c, u, l, i, o, s))
                                })), r.foreach((function(r, l) {
                                    var u = n.child(r);
                                    t.cacheHasChild_(e, u.getFront()) || (c = a.applyUserOverwrite_(c, u, l, i, o, s))
                                })), c
                            }, t.prototype.applyMerge_ = function(t, e) { return e.foreach((function(e, n) { t = t.updateChild(e, n) })), t }, t.prototype.applyServerMerge_ = function(t, e, n, r, i, o, s) {
                                var a = this;
                                if (t.getServerCache().getNode().isEmpty() && !t.getServerCache().isFullyInitialized()) return t;
                                var c, l = t;
                                c = e.isEmpty() ? n : de.Empty.setTree(e, n);
                                var u = t.getServerCache().getNode();
                                return c.children.inorderTraversal((function(e, n) {
                                    if (u.hasChild(e)) {
                                        var c = t.getServerCache().getNode().getImmediateChild(e),
                                            h = a.applyMerge_(c, n);
                                        l = a.applyServerOverwrite_(l, new Q(e), h, r, i, o, s)
                                    }
                                })), c.children.inorderTraversal((function(e, n) {
                                    var c = !t.getServerCache().isCompleteForChild(e) && null == n.value;
                                    if (!u.hasChild(e) && !c) {
                                        var h = t.getServerCache().getNode().getImmediateChild(e),
                                            d = a.applyMerge_(h, n);
                                        l = a.applyServerOverwrite_(l, new Q(e), d, r, i, o, s)
                                    }
                                })), l
                            }, t.prototype.ackUserWrite_ = function(t, e, n, r, i, o) {
                                if (null != r.shadowingWrite(e)) return t;
                                var s = t.getServerCache().isFiltered(),
                                    a = t.getServerCache();
                                if (null != n.value) { if (e.isEmpty() && a.isFullyInitialized() || a.isCompleteForPath(e)) return this.applyServerOverwrite_(t, e, a.getNode().getChild(e), r, i, s, o); if (e.isEmpty()) { var c = de.Empty; return a.getNode().forEachChild(Ct, (function(t, e) { c = c.set(new Q(t), e) })), this.applyServerMerge_(t, e, c, r, i, s, o) } return t }
                                var l = de.Empty;
                                return n.foreach((function(t, n) {
                                    var r = e.child(t);
                                    a.isCompleteForPath(r) && (l = l.set(t, a.getNode().getChild(r)))
                                })), this.applyServerMerge_(t, e, l, r, i, s, o)
                            }, t.prototype.listenComplete_ = function(t, e, n, r) {
                                var i = t.getServerCache(),
                                    o = t.updateServerSnap(i.getNode(), i.isFullyInitialized() || e.isEmpty(), i.isFiltered());
                                return this.generateEventCacheAfterServerEvent_(o, e, n, we, r)
                            }, t.prototype.revertUserWrite_ = function(t, e, n, r, i) {
                                var o;
                                if (null != n.shadowingWrite(e)) return t;
                                var s = new Ee(n, t, r),
                                    c = t.getEventCache().getNode(),
                                    l = void 0;
                                if (e.isEmpty() || ".priority" === e.getFront()) {
                                    var u = void 0;
                                    if (t.getServerCache().isFullyInitialized()) u = n.calcCompleteEventCache(t.getCompleteServerSnap());
                                    else {
                                        var h = t.getServerCache().getNode();
                                        a.assert(h instanceof Vt, "serverChildren would be complete if leaf node"), u = n.calcCompleteEventChildren(h)
                                    }
                                    l = this.filter_.updateFullNode(c, u = u, i)
                                } else {
                                    var d = e.getFront(),
                                        p = n.calcCompleteChild(d, t.getServerCache());
                                    null == p && t.getServerCache().isCompleteForChild(d) && (p = c.getImmediateChild(d)), (l = null != p ? this.filter_.updateChild(c, d, p, e.popFront(), s, i) : t.getEventCache().getNode().hasChild(d) ? this.filter_.updateChild(c, d, Vt.EMPTY_NODE, e.popFront(), s, i) : c).isEmpty() && t.getServerCache().isFullyInitialized() && (o = n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode() && (l = this.filter_.updateFullNode(l, o, i))
                                }
                                return o = t.getServerCache().isFullyInitialized() || null != n.shadowingWrite(Q.Empty), t.updateEventSnap(l, o, this.filter_.filtersNodes())
                            }, t
                        }(),
                        xe = function() {
                            function t(t) { this.query_ = t, this.index_ = this.query_.getQueryParams().getIndex() }
                            return t.prototype.generateEventsForChanges = function(t, e, n) {
                                var r = this,
                                    i = [],
                                    o = [];
                                return t.forEach((function(t) { t.type === ve.CHILD_CHANGED && r.index_.indexedValueChanged(t.oldSnap, t.snapshotNode) && o.push(ve.childMovedChange(t.childName, t.snapshotNode)) })), this.generateEventsForType_(i, ve.CHILD_REMOVED, t, n, e), this.generateEventsForType_(i, ve.CHILD_ADDED, t, n, e), this.generateEventsForType_(i, ve.CHILD_MOVED, o, n, e), this.generateEventsForType_(i, ve.CHILD_CHANGED, t, n, e), this.generateEventsForType_(i, ve.VALUE, t, n, e), i
                            }, t.prototype.generateEventsForType_ = function(t, e, n, r, i) {
                                var o = this,
                                    s = n.filter((function(t) { return t.type === e }));
                                s.sort(this.compareChanges_.bind(this)), s.forEach((function(e) {
                                    var n = o.materializeSingleChange_(e, i);
                                    r.forEach((function(r) { r.respondsTo(e.type) && t.push(r.createEvent(n, o.query_)) }))
                                }))
                            }, t.prototype.materializeSingleChange_ = function(t, e) { return "value" === t.type || "child_removed" === t.type ? t : (t.prevName = e.getPredecessorChildName(t.childName, t.snapshotNode, this.index_), t) }, t.prototype.compareChanges_ = function(t, e) {
                                if (null == t.childName || null == e.childName) throw a.assertionError("Should only compare child_ events.");
                                var n = new wt(t.childName, t.snapshotNode),
                                    r = new wt(e.childName, e.snapshotNode);
                                return this.index_.compare(n, r)
                            }, t
                        }(),
                        Te = function() {
                            function t(t, e) {
                                this.query_ = t, this.eventRegistrations_ = [];
                                var n = this.query_.getQueryParams(),
                                    r = new _e(n.getIndex()),
                                    i = n.getNodeFilter();
                                this.processor_ = new Ce(i);
                                var o = e.getServerCache(),
                                    s = e.getEventCache(),
                                    a = r.updateFullNode(Vt.EMPTY_NODE, o.getNode(), null),
                                    c = i.updateFullNode(Vt.EMPTY_NODE, s.getNode(), null),
                                    l = new ge(a, o.isFullyInitialized(), r.filtersNodes()),
                                    u = new ge(c, s.isFullyInitialized(), i.filtersNodes());
                                this.viewCache_ = new ye(u, l), this.eventGenerator_ = new xe(this.query_)
                            }
                            return t.prototype.getQuery = function() { return this.query_ }, t.prototype.getServerCache = function() { return this.viewCache_.getServerCache().getNode() }, t.prototype.getCompleteServerCache = function(t) { var e = this.viewCache_.getCompleteServerSnap(); return e && (this.query_.getQueryParams().loadsAllData() || !t.isEmpty() && !e.getImmediateChild(t.getFront()).isEmpty()) ? e.getChild(t) : null }, t.prototype.isEmpty = function() { return 0 === this.eventRegistrations_.length }, t.prototype.addEventRegistration = function(t) { this.eventRegistrations_.push(t) }, t.prototype.removeEventRegistration = function(t, e) {
                                var n = [];
                                if (e) {
                                    a.assert(null == t, "A cancel should cancel all event registrations.");
                                    var r = this.query_.path;
                                    this.eventRegistrations_.forEach((function(t) {
                                        var i = t.createCancelEvent(e = e, r);
                                        i && n.push(i)
                                    }))
                                }
                                if (t) {
                                    for (var i = [], o = 0; o < this.eventRegistrations_.length; ++o) { var s = this.eventRegistrations_[o]; if (s.matches(t)) { if (t.hasAnyCallback()) { i = i.concat(this.eventRegistrations_.slice(o + 1)); break } } else i.push(s) }
                                    this.eventRegistrations_ = i
                                } else this.eventRegistrations_ = [];
                                return n
                            }, t.prototype.applyOperation = function(t, e, n) {
                                t.type === le.MERGE && null !== t.source.queryId && (a.assert(this.viewCache_.getCompleteServerSnap(), "We should always have a full cache before handling merges"), a.assert(this.viewCache_.getCompleteEventSnap(), "Missing event cache, even though we have a server cache"));
                                var r = this.viewCache_,
                                    i = this.processor_.applyOperation(r, t, e, n);
                                return this.processor_.assertIndexed(i.viewCache), a.assert(i.viewCache.getServerCache().isFullyInitialized() || !r.getServerCache().isFullyInitialized(), "Once a server snap is complete, it should never go back"), this.viewCache_ = i.viewCache, this.generateEventsForChanges_(i.changes, i.viewCache.getEventCache().getNode(), null)
                            }, t.prototype.getInitialEvents = function(t) {
                                var e = this.viewCache_.getEventCache(),
                                    n = [];
                                return e.getNode().isLeafNode() || e.getNode().forEachChild(It, (function(t, e) { n.push(ve.childAddedChange(t, e)) })), e.isFullyInitialized() && n.push(ve.valueChange(e.getNode())), this.generateEventsForChanges_(n, e.getNode(), t)
                            }, t.prototype.generateEventsForChanges_ = function(t, e, n) { return this.eventGenerator_.generateEventsForChanges(t, e, n ? [n] : this.eventRegistrations_) }, t
                        }(),
                        ke = function() {
                            function t() { this.views = new Map }
                            return Object.defineProperty(t, "__referenceConstructor", { get: function() { return a.assert(ae, "Reference.ts has not been loaded"), ae }, set: function(t) { a.assert(!ae, "__referenceConstructor has already been defined"), ae = t }, enumerable: !1, configurable: !0 }), t.prototype.isEmpty = function() { return 0 === this.views.size }, t.prototype.applyOperation = function(t, e, n) { var r, i, o = t.source.queryId; if (null !== o) { var c = this.views.get(o); return a.assert(null != c, "SyncTree gave us an op for an invalid query."), c.applyOperation(t, e, n) } var l = []; try { for (var u = s.__values(this.views.values()), h = u.next(); !h.done; h = u.next()) l = l.concat((c = h.value).applyOperation(t, e, n)) } catch (d) { r = { error: d } } finally { try { h && !h.done && (i = u.return) && i.call(u) } finally { if (r) throw r.error } } return l }, t.prototype.addEventRegistration = function(t, e, n, r, i) {
                                var o = t.queryIdentifier(),
                                    s = this.views.get(o);
                                if (!s) {
                                    var a = n.calcCompleteEventCache(i ? r : null),
                                        c = !1;
                                    a ? c = !0 : r instanceof Vt ? (a = n.calcCompleteEventChildren(r), c = !1) : (a = Vt.EMPTY_NODE, c = !1);
                                    var l = new ye(new ge(a, c, !1), new ge(r, i, !1));
                                    s = new Te(t, l), this.views.set(o, s)
                                }
                                return s.addEventRegistration(e), s.getInitialEvents(e)
                            }, t.prototype.removeEventRegistration = function(e, n, r) {
                                var i, o, a = e.queryIdentifier(),
                                    c = [],
                                    l = [],
                                    u = this.hasCompleteView();
                                if ("default" === a) try {
                                    for (var h = s.__values(this.views.entries()), d = h.next(); !d.done; d = h.next()) {
                                        var p, f = s.__read(d.value, 2),
                                            m = f[0];
                                        l = l.concat((p = f[1]).removeEventRegistration(n, r)), p.isEmpty() && (this.views.delete(m), p.getQuery().getQueryParams().loadsAllData() || c.push(p.getQuery()))
                                    }
                                } catch (g) { i = { error: g } } finally { try { d && !d.done && (o = h.return) && o.call(h) } finally { if (i) throw i.error } } else(p = this.views.get(a)) && (l = l.concat(p.removeEventRegistration(n, r)), p.isEmpty() && (this.views.delete(a), p.getQuery().getQueryParams().loadsAllData() || c.push(p.getQuery())));
                                return u && !this.hasCompleteView() && c.push(new t.__referenceConstructor(e.repo, e.path)), { removed: c, events: l }
                            }, t.prototype.getQueryViews = function() {
                                var t, e, n = [];
                                try {
                                    for (var r = s.__values(this.views.values()), i = r.next(); !i.done; i = r.next()) {
                                        var o = i.value;
                                        o.getQuery().getQueryParams().loadsAllData() || n.push(o)
                                    }
                                } catch (a) { t = { error: a } } finally { try { i && !i.done && (e = r.return) && e.call(r) } finally { if (t) throw t.error } }
                                return n
                            }, t.prototype.getCompleteServerCache = function(t) { var e, n, r = null; try { for (var i = s.__values(this.views.values()), o = i.next(); !o.done; o = i.next()) r = r || o.value.getCompleteServerCache(t) } catch (a) { e = { error: a } } finally { try { o && !o.done && (n = i.return) && n.call(i) } finally { if (e) throw e.error } } return r }, t.prototype.viewForQuery = function(t) { if (t.getQueryParams().loadsAllData()) return this.getCompleteView(); var e = t.queryIdentifier(); return this.views.get(e) }, t.prototype.viewExistsForQuery = function(t) { return null != this.viewForQuery(t) }, t.prototype.hasCompleteView = function() { return null != this.getCompleteView() }, t.prototype.getCompleteView = function() { var t, e; try { for (var n = s.__values(this.views.values()), r = n.next(); !r.done; r = n.next()) { var i = r.value; if (i.getQuery().getQueryParams().loadsAllData()) return i } } catch (o) { t = { error: o } } finally { try { r && !r.done && (e = n.return) && e.call(n) } finally { if (t) throw t.error } } return null }, t
                        }(),
                        Ie = function() {
                            function t(t) { this.writeTree_ = t }
                            return t.prototype.addWrite = function(e, n) {
                                if (e.isEmpty()) return new t(new de(n));
                                var r = this.writeTree_.findRootMostValueAndPath(e);
                                if (null != r) {
                                    var i = r.path,
                                        o = r.value,
                                        s = Q.relativePath(i, e);
                                    return o = o.updateChild(s, n), new t(this.writeTree_.set(i, o))
                                }
                                var a = new de(n);
                                return new t(this.writeTree_.setTree(e, a))
                            }, t.prototype.addWrites = function(t, e) { var n = this; return M(e, (function(e, r) { n = n.addWrite(t.child(e), r) })), n }, t.prototype.removeWrite = function(e) { return e.isEmpty() ? t.Empty : new t(this.writeTree_.setTree(e, de.Empty)) }, t.prototype.hasCompleteWrite = function(t) { return null != this.getCompleteNode(t) }, t.prototype.getCompleteNode = function(t) { var e = this.writeTree_.findRootMostValueAndPath(t); return null != e ? this.writeTree_.get(e.path).getChild(Q.relativePath(e.path, t)) : null }, t.prototype.getCompleteChildren = function() {
                                var t = [],
                                    e = this.writeTree_.value;
                                return null != e ? e.isLeafNode() || e.forEachChild(It, (function(e, n) { t.push(new wt(e, n)) })) : this.writeTree_.children.inorderTraversal((function(e, n) { null != n.value && t.push(new wt(e, n.value)) })), t
                            }, t.prototype.childCompoundWrite = function(e) { if (e.isEmpty()) return this; var n = this.getCompleteNode(e); return new t(null != n ? new de(n) : this.writeTree_.subtree(e)) }, t.prototype.isEmpty = function() { return this.writeTree_.isEmpty() }, t.prototype.apply = function(t) { return function t(e, n, r) { if (null != n.value) return r.updateChild(e, n.value); var i = null; return n.children.inorderTraversal((function(n, o) { ".priority" === n ? (a.assert(null !== o.value, "Priority writes must always be leaf nodes"), i = o.value) : r = t(e.child(n), o, r) })), r.getChild(e).isEmpty() || null === i || (r = r.updateChild(e.child(".priority"), i)), r }(Q.Empty, this.writeTree_, t) }, t.Empty = new t(new de(null)), t
                        }(),
                        Ae = function() {
                            function t() { this.visibleWrites_ = Ie.Empty, this.allWrites_ = [], this.lastWriteId_ = -1 }
                            return t.prototype.childWrites = function(t) { return new Re(t, this) }, t.prototype.addOverwrite = function(t, e, n, r) { a.assert(n > this.lastWriteId_, "Stacking an older write on top of newer ones"), void 0 === r && (r = !0), this.allWrites_.push({ path: t, snap: e, writeId: n, visible: r }), r && (this.visibleWrites_ = this.visibleWrites_.addWrite(t, e)), this.lastWriteId_ = n }, t.prototype.addMerge = function(t, e, n) { a.assert(n > this.lastWriteId_, "Stacking an older merge on top of newer ones"), this.allWrites_.push({ path: t, children: e, writeId: n, visible: !0 }), this.visibleWrites_ = this.visibleWrites_.addWrites(t, e), this.lastWriteId_ = n }, t.prototype.getWrite = function(t) { for (var e = 0; e < this.allWrites_.length; e++) { var n = this.allWrites_[e]; if (n.writeId === t) return n } return null }, t.prototype.removeWrite = function(t) {
                                var e = this,
                                    n = this.allWrites_.findIndex((function(e) { return e.writeId === t }));
                                a.assert(n >= 0, "removeWrite called with nonexistent writeId.");
                                var r = this.allWrites_[n];
                                this.allWrites_.splice(n, 1);
                                for (var i = r.visible, o = !1, s = this.allWrites_.length - 1; i && s >= 0;) {
                                    var c = this.allWrites_[s];
                                    c.visible && (s >= n && this.recordContainsPath_(c, r.path) ? i = !1 : r.path.contains(c.path) && (o = !0)), s--
                                }
                                return !!i && (o ? (this.resetTree_(), !0) : (r.snap ? this.visibleWrites_ = this.visibleWrites_.removeWrite(r.path) : M(r.children, (function(t) { e.visibleWrites_ = e.visibleWrites_.removeWrite(r.path.child(t)) })), !0))
                            }, t.prototype.getCompleteWriteData = function(t) { return this.visibleWrites_.getCompleteNode(t) }, t.prototype.calcCompleteEventCache = function(e, n, r, i) { if (r || i) { var o = this.visibleWrites_.childCompoundWrite(e); return !i && o.isEmpty() ? n : i || null != n || o.hasCompleteWrite(Q.Empty) ? t.layerTree_(this.allWrites_, (function(t) { return (t.visible || i) && (!r || !~r.indexOf(t.writeId)) && (t.path.contains(e) || e.contains(t.path)) }), e).apply(n || Vt.EMPTY_NODE) : null } var s = this.visibleWrites_.getCompleteNode(e); if (null != s) return s; var a = this.visibleWrites_.childCompoundWrite(e); return a.isEmpty() ? n : null != n || a.hasCompleteWrite(Q.Empty) ? a.apply(n || Vt.EMPTY_NODE) : null }, t.prototype.calcCompleteEventChildren = function(t, e) {
                                var n = Vt.EMPTY_NODE,
                                    r = this.visibleWrites_.getCompleteNode(t);
                                if (r) return r.isLeafNode() || r.forEachChild(It, (function(t, e) { n = n.updateImmediateChild(t, e) })), n;
                                if (e) {
                                    var i = this.visibleWrites_.childCompoundWrite(t);
                                    return e.forEachChild(It, (function(t, e) {
                                        var r = i.childCompoundWrite(new Q(t)).apply(e);
                                        n = n.updateImmediateChild(t, r)
                                    })), i.getCompleteChildren().forEach((function(t) { n = n.updateImmediateChild(t.name, t.node) })), n
                                }
                                return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t) { n = n.updateImmediateChild(t.name, t.node) })), n
                            }, t.prototype.calcEventCacheAfterServerOverwrite = function(t, e, n, r) { a.assert(n || r, "Either existingEventSnap or existingServerSnap must exist"); var i = t.child(e); if (this.visibleWrites_.hasCompleteWrite(i)) return null; var o = this.visibleWrites_.childCompoundWrite(i); return o.isEmpty() ? r.getChild(e) : o.apply(r.getChild(e)) }, t.prototype.calcCompleteChild = function(t, e, n) {
                                var r = t.child(e),
                                    i = this.visibleWrites_.getCompleteNode(r);
                                return null != i ? i : n.isCompleteForChild(e) ? this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)) : null
                            }, t.prototype.shadowingWrite = function(t) { return this.visibleWrites_.getCompleteNode(t) }, t.prototype.calcIndexedSlice = function(t, e, n, r, i, o) {
                                var s, a = this.visibleWrites_.childCompoundWrite(t),
                                    c = a.getCompleteNode(Q.Empty);
                                if (null != c) s = c;
                                else {
                                    if (null == e) return [];
                                    s = a.apply(e)
                                }
                                if ((s = s.withIndex(o)).isEmpty() || s.isLeafNode()) return [];
                                for (var l = [], u = o.getCompare(), h = i ? s.getReverseIteratorFrom(n, o) : s.getIteratorFrom(n, o), d = h.getNext(); d && l.length < r;) 0 !== u(d, n) && l.push(d), d = h.getNext();
                                return l
                            }, t.prototype.recordContainsPath_ = function(t, e) {
                                if (t.snap) return t.path.contains(e);
                                for (var n in t.children)
                                    if (t.children.hasOwnProperty(n) && t.path.child(n).contains(e)) return !0;
                                return !1
                            }, t.prototype.resetTree_ = function() { this.visibleWrites_ = t.layerTree_(this.allWrites_, t.DefaultFilter_, Q.Empty), this.lastWriteId_ = this.allWrites_.length > 0 ? this.allWrites_[this.allWrites_.length - 1].writeId : -1 }, t.DefaultFilter_ = function(t) { return t.visible }, t.layerTree_ = function(t, e, n) {
                                for (var r = Ie.Empty, i = 0; i < t.length; ++i) {
                                    var o = t[i];
                                    if (e(o)) {
                                        var s = o.path,
                                            c = void 0;
                                        if (o.snap) n.contains(s) ? (c = Q.relativePath(n, s), r = r.addWrite(c, o.snap)) : s.contains(n) && (c = Q.relativePath(s, n), r = r.addWrite(Q.Empty, o.snap.getChild(c)));
                                        else {
                                            if (!o.children) throw a.assertionError("WriteRecord should have .snap or .children");
                                            if (n.contains(s)) c = Q.relativePath(n, s), r = r.addWrites(c, o.children);
                                            else if (s.contains(n))
                                                if ((c = Q.relativePath(s, n)).isEmpty()) r = r.addWrites(Q.Empty, o.children);
                                                else {
                                                    var l = a.safeGet(o.children, c.getFront());
                                                    if (l) {
                                                        var u = l.getChild(c.popFront());
                                                        r = r.addWrite(Q.Empty, u)
                                                    }
                                                }
                                        }
                                    }
                                }
                                return r
                            }, t
                        }(),
                        Re = function() {
                            function t(t, e) { this.treePath_ = t, this.writeTree_ = e }
                            return t.prototype.calcCompleteEventCache = function(t, e, n) { return this.writeTree_.calcCompleteEventCache(this.treePath_, t, e, n) }, t.prototype.calcCompleteEventChildren = function(t) { return this.writeTree_.calcCompleteEventChildren(this.treePath_, t) }, t.prototype.calcEventCacheAfterServerOverwrite = function(t, e, n) { return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_, t, e, n) }, t.prototype.shadowingWrite = function(t) { return this.writeTree_.shadowingWrite(this.treePath_.child(t)) }, t.prototype.calcIndexedSlice = function(t, e, n, r, i) { return this.writeTree_.calcIndexedSlice(this.treePath_, t, e, n, r, i) }, t.prototype.calcCompleteChild = function(t, e) { return this.writeTree_.calcCompleteChild(this.treePath_, t, e) }, t.prototype.child = function(e) { return new t(this.treePath_.child(e), this.writeTree_) }, t
                        }(),
                        Oe = function() {
                            function t(t) { this.listenProvider_ = t, this.syncPointTree_ = de.Empty, this.pendingWriteTree_ = new Ae, this.tagToQueryMap = new Map, this.queryToTagMap = new Map }
                            return t.prototype.applyUserOverwrite = function(t, e, n, r) { return this.pendingWriteTree_.addOverwrite(t, e, n, r), r ? this.applyOperationToSyncPoints_(new fe(ue.User, t, e)) : [] }, t.prototype.applyUserMerge = function(t, e, n) { this.pendingWriteTree_.addMerge(t, e, n); var r = de.fromObject(e); return this.applyOperationToSyncPoints_(new me(ue.User, t, r)) }, t.prototype.ackUserWrite = function(t, e) { void 0 === e && (e = !1); var n = this.pendingWriteTree_.getWrite(t); if (this.pendingWriteTree_.removeWrite(t)) { var r = de.Empty; return null != n.snap ? r = r.set(Q.Empty, !0) : M(n.children, (function(t, e) { r = r.set(new Q(t), e) })), this.applyOperationToSyncPoints_(new he(n.path, r, e)) } return [] }, t.prototype.applyServerOverwrite = function(t, e) { return this.applyOperationToSyncPoints_(new fe(ue.Server, t, e)) }, t.prototype.applyServerMerge = function(t, e) { var n = de.fromObject(e); return this.applyOperationToSyncPoints_(new me(ue.Server, t, n)) }, t.prototype.applyListenComplete = function(t) { return this.applyOperationToSyncPoints_(new pe(ue.Server, t)) }, t.prototype.applyTaggedQueryOverwrite = function(e, n, r) {
                                var i = this.queryKeyForTag_(r);
                                if (null != i) {
                                    var o = t.parseQueryKey_(i),
                                        s = o.path,
                                        a = o.queryId,
                                        c = Q.relativePath(s, e),
                                        l = new fe(ue.forServerTaggedQuery(a), c, n);
                                    return this.applyTaggedOperation_(s, l)
                                }
                                return []
                            }, t.prototype.applyTaggedQueryMerge = function(e, n, r) {
                                var i = this.queryKeyForTag_(r);
                                if (i) {
                                    var o = t.parseQueryKey_(i),
                                        s = o.path,
                                        a = o.queryId,
                                        c = Q.relativePath(s, e),
                                        l = de.fromObject(n),
                                        u = new me(ue.forServerTaggedQuery(a), c, l);
                                    return this.applyTaggedOperation_(s, u)
                                }
                                return []
                            }, t.prototype.applyTaggedListenComplete = function(e, n) {
                                var r = this.queryKeyForTag_(n);
                                if (r) {
                                    var i = t.parseQueryKey_(r),
                                        o = i.path,
                                        s = i.queryId,
                                        a = Q.relativePath(o, e),
                                        c = new pe(ue.forServerTaggedQuery(s), a);
                                    return this.applyTaggedOperation_(o, c)
                                }
                                return []
                            }, t.prototype.addEventRegistration = function(e, n) {
                                var r = e.path,
                                    i = null,
                                    o = !1;
                                this.syncPointTree_.foreachOnPath(r, (function(t, e) {
                                    var n = Q.relativePath(t, r);
                                    i = i || e.getCompleteServerCache(n), o = o || e.hasCompleteView()
                                }));
                                var s, c = this.syncPointTree_.get(r);
                                c ? (o = o || c.hasCompleteView(), i = i || c.getCompleteServerCache(Q.Empty)) : (c = new ke, this.syncPointTree_ = this.syncPointTree_.set(r, c)), null != i ? s = !0 : (s = !1, i = Vt.EMPTY_NODE, this.syncPointTree_.subtree(r).foreachChild((function(t, e) {
                                    var n = e.getCompleteServerCache(Q.Empty);
                                    n && (i = i.updateImmediateChild(t, n))
                                })));
                                var l = c.viewExistsForQuery(e);
                                if (!l && !e.getQueryParams().loadsAllData()) {
                                    var u = t.makeQueryKey_(e);
                                    a.assert(!this.queryToTagMap.has(u), "View does not exist, but we have a tag");
                                    var h = t.getNextQueryTag_();
                                    this.queryToTagMap.set(u, h), this.tagToQueryMap.set(h, u)
                                }
                                var d = this.pendingWriteTree_.childWrites(r),
                                    p = c.addEventRegistration(e, n, d, i, s);
                                if (!l && !o) {
                                    var f = c.viewForQuery(e);
                                    p = p.concat(this.setupListener_(e, f))
                                }
                                return p
                            }, t.prototype.removeEventRegistration = function(e, n, r) {
                                var i = this,
                                    o = e.path,
                                    s = this.syncPointTree_.get(o),
                                    a = [];
                                if (s && ("default" === e.queryIdentifier() || s.viewExistsForQuery(e))) {
                                    var c = s.removeEventRegistration(e, n, r);
                                    s.isEmpty() && (this.syncPointTree_ = this.syncPointTree_.remove(o));
                                    var l = c.removed;
                                    a = c.events;
                                    var u = -1 !== l.findIndex((function(t) { return t.getQueryParams().loadsAllData() })),
                                        h = this.syncPointTree_.findOnPath(o, (function(t, e) { return e.hasCompleteView() }));
                                    if (u && !h) {
                                        var d = this.syncPointTree_.subtree(o);
                                        if (!d.isEmpty())
                                            for (var p = this.collectDistinctViewsForSubTree_(d), f = 0; f < p.length; ++f) {
                                                var m = p[f],
                                                    g = m.getQuery(),
                                                    y = this.createListenerForView_(m);
                                                this.listenProvider_.startListening(t.queryForListening_(g), this.tagForQuery_(g), y.hashFn, y.onComplete)
                                            }
                                    }!h && l.length > 0 && !r && (u ? this.listenProvider_.stopListening(t.queryForListening_(e), null) : l.forEach((function(e) {
                                        var n = i.queryToTagMap.get(t.makeQueryKey_(e));
                                        i.listenProvider_.stopListening(t.queryForListening_(e), n)
                                    }))), this.removeTags_(l)
                                }
                                return a
                            }, t.prototype.calcCompleteEventCache = function(t, e) {
                                var n = this.pendingWriteTree_,
                                    r = this.syncPointTree_.findOnPath(t, (function(e, n) {
                                        var r = Q.relativePath(e, t),
                                            i = n.getCompleteServerCache(r);
                                        if (i) return i
                                    }));
                                return n.calcCompleteEventCache(t, r, e, !0)
                            }, t.prototype.collectDistinctViewsForSubTree_ = function(t) { return t.fold((function(t, e, n) { if (e && e.hasCompleteView()) return [e.getCompleteView()]; var r = []; return e && (r = e.getQueryViews()), M(n, (function(t, e) { r = r.concat(e) })), r })) }, t.prototype.removeTags_ = function(e) {
                                for (var n = 0; n < e.length; ++n) {
                                    var r = e[n];
                                    if (!r.getQueryParams().loadsAllData()) {
                                        var i = t.makeQueryKey_(r),
                                            o = this.queryToTagMap.get(i);
                                        this.queryToTagMap.delete(i), this.tagToQueryMap.delete(o)
                                    }
                                }
                            }, t.queryForListening_ = function(t) { return t.getQueryParams().loadsAllData() && !t.getQueryParams().isDefault() ? t.getRef() : t }, t.prototype.setupListener_ = function(e, n) {
                                var r = e.path,
                                    i = this.tagForQuery_(e),
                                    o = this.createListenerForView_(n),
                                    s = this.listenProvider_.startListening(t.queryForListening_(e), i, o.hashFn, o.onComplete),
                                    c = this.syncPointTree_.subtree(r);
                                if (i) a.assert(!c.value.hasCompleteView(), "If we're adding a query, it shouldn't be shadowed");
                                else
                                    for (var l = c.fold((function(t, e, n) { if (!t.isEmpty() && e && e.hasCompleteView()) return [e.getCompleteView().getQuery()]; var r = []; return e && (r = r.concat(e.getQueryViews().map((function(t) { return t.getQuery() })))), M(n, (function(t, e) { r = r.concat(e) })), r })), u = 0; u < l.length; ++u) {
                                        var h = l[u];
                                        this.listenProvider_.stopListening(t.queryForListening_(h), this.tagForQuery_(h))
                                    }
                                return s
                            }, t.prototype.createListenerForView_ = function(t) {
                                var e = this,
                                    n = t.getQuery(),
                                    r = this.tagForQuery_(n);
                                return { hashFn: function() { return (t.getServerCache() || Vt.EMPTY_NODE).hash() }, onComplete: function(t) { if ("ok" === t) return r ? e.applyTaggedListenComplete(n.path, r) : e.applyListenComplete(n.path); var i = function(t, e) { var n = "Unknown Error"; "too_big" === t ? n = "The data requested exceeds the maximum size that can be accessed with a single request." : "permission_denied" === t ? n = "Client doesn't have permission to access the desired data." : "unavailable" === t && (n = "The service is unavailable"); var r = new Error(t + " at " + e.path.toString() + ": " + n); return r.code = t.toUpperCase(), r }(t, n); return e.removeEventRegistration(n, null, i) } }
                            }, t.makeQueryKey_ = function(t) { return t.path.toString() + "$" + t.queryIdentifier() }, t.parseQueryKey_ = function(t) { var e = t.indexOf("$"); return a.assert(-1 !== e && e < t.length - 1, "Bad queryKey."), { queryId: t.substr(e + 1), path: new Q(t.substr(0, e)) } }, t.prototype.queryKeyForTag_ = function(t) { return this.tagToQueryMap.get(t) }, t.prototype.tagForQuery_ = function(e) { var n = t.makeQueryKey_(e); return this.queryToTagMap.get(n) }, t.getNextQueryTag_ = function() { return t.nextQueryTag_++ }, t.prototype.applyTaggedOperation_ = function(t, e) {
                                var n = this.syncPointTree_.get(t);
                                a.assert(n, "Missing sync point for query tag that we're tracking");
                                var r = this.pendingWriteTree_.childWrites(t);
                                return n.applyOperation(e, r, null)
                            }, t.prototype.applyOperationToSyncPoints_ = function(t) { return this.applyOperationHelper_(t, this.syncPointTree_, null, this.pendingWriteTree_.childWrites(Q.Empty)) }, t.prototype.applyOperationHelper_ = function(t, e, n, r) {
                                if (t.path.isEmpty()) return this.applyOperationDescendantsHelper_(t, e, n, r);
                                var i = e.get(Q.Empty);
                                null == n && null != i && (n = i.getCompleteServerCache(Q.Empty));
                                var o = [],
                                    s = t.path.getFront(),
                                    a = t.operationForChild(s),
                                    c = e.children.get(s);
                                if (c && a) {
                                    var l = n ? n.getImmediateChild(s) : null,
                                        u = r.child(s);
                                    o = o.concat(this.applyOperationHelper_(a, c, l, u))
                                }
                                return i && (o = o.concat(i.applyOperation(t, r, n))), o
                            }, t.prototype.applyOperationDescendantsHelper_ = function(t, e, n, r) {
                                var i = this,
                                    o = e.get(Q.Empty);
                                null == n && null != o && (n = o.getCompleteServerCache(Q.Empty));
                                var s = [];
                                return e.children.inorderTraversal((function(e, o) {
                                    var a = n ? n.getImmediateChild(e) : null,
                                        c = r.child(e),
                                        l = t.operationForChild(e);
                                    l && (s = s.concat(i.applyOperationDescendantsHelper_(l, o, a, c)))
                                })), o && (s = s.concat(o.applyOperation(t, r, n))), s
                            }, t.nextQueryTag_ = 1, t
                        }(),
                        Ne = function() {
                            function t() { this.rootNode_ = Vt.EMPTY_NODE }
                            return t.prototype.getNode = function(t) { return this.rootNode_.getChild(t) }, t.prototype.updateSnapshot = function(t, e) { this.rootNode_ = this.rootNode_.updateChild(t, e) }, t
                        }(),
                        De = function() {
                            function t(t, e) {
                                var n = this;
                                this.app_ = t, this.authProvider_ = e, this.auth_ = null, this.auth_ = e.getImmediate({ optional: !0 }), this.auth_ || e.get().then((function(t) { return n.auth_ = t }))
                            }
                            return t.prototype.getToken = function(t) { return this.auth_ ? this.auth_.getToken(t).catch((function(t) { return t && "auth/token-not-initialized" === t.code ? (E("Got auth/token-not-initialized error.  Treating as null token."), null) : Promise.reject(t) })) : Promise.resolve(null) }, t.prototype.addTokenChangeListener = function(t) { this.auth_ ? this.auth_.addAuthTokenListener(t) : (setTimeout((function() { return t(null) }), 0), this.authProvider_.get().then((function(e) { return e.addAuthTokenListener(t) }))) }, t.prototype.removeTokenChangeListener = function(t) { this.authProvider_.get().then((function(e) { return e.removeAuthTokenListener(t) })) }, t.prototype.notifyForInvalidToken = function() {
                                var t = 'Provided authentication credentials for the app named "' + this.app_.name + '" are invalid. This usually indicates your app was not initialized correctly. ';
                                T(t += "credential" in this.app_.options ? 'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.' : "serviceAccount" in this.app_.options ? 'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.' : 'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')
                            }, t
                        }(),
                        Pe = function() {
                            function t() { this.counters_ = {} }
                            return t.prototype.incrementCounter = function(t, e) { void 0 === e && (e = 1), a.contains(this.counters_, t) || (this.counters_[t] = 0), this.counters_[t] += e }, t.prototype.get = function() { return a.deepCopy(this.counters_) }, t
                        }(),
                        Me = function() {
                            function t() {}
                            return t.getCollection = function(t) { var e = t.toString(); return this.collections_[e] || (this.collections_[e] = new Pe), this.collections_[e] }, t.getOrCreateReporter = function(t, e) { var n = t.toString(); return this.reporters_[n] || (this.reporters_[n] = e()), this.reporters_[n] }, t.collections_ = {}, t.reporters_ = {}, t
                        }(),
                        Le = function() {
                            function t(t) { this.collection_ = t, this.last_ = null }
                            return t.prototype.get = function() {
                                var t = this.collection_.get(),
                                    e = s.__assign({}, t);
                                return this.last_ && M(this.last_, (function(t, n) { e[t] = e[t] - n })), this.last_ = t, e
                            }, t
                        }(),
                        Fe = function() {
                            function t(t, e) {
                                this.server_ = e, this.statsToReport_ = {}, this.statsListener_ = new Le(t);
                                var n = 1e4 + 2e4 * Math.random();
                                X(this.reportStats_.bind(this), Math.floor(n))
                            }
                            return t.prototype.includeStat = function(t) { this.statsToReport_[t] = !0 }, t.prototype.reportStats_ = function() {
                                var t = this,
                                    e = this.statsListener_.get(),
                                    n = {},
                                    r = !1;
                                M(e, (function(e, i) { i > 0 && a.contains(t.statsToReport_, e) && (n[e] = i, r = !0) })), r && this.server_.reportStats(n), X(this.reportStats_.bind(this), Math.floor(2 * Math.random() * 3e5))
                            }, t
                        }(),
                        je = function() {
                            function t() { this.eventLists_ = [], this.recursionDepth_ = 0 }
                            return t.prototype.queueEvents = function(t) {
                                for (var e = null, n = 0; n < t.length; n++) {
                                    var r = t[n],
                                        i = r.getPath();
                                    null === e || i.equals(e.getPath()) || (this.eventLists_.push(e), e = null), null === e && (e = new Ue(i)), e.add(r)
                                }
                                e && this.eventLists_.push(e)
                            }, t.prototype.raiseEventsAtPath = function(t, e) { this.queueEvents(e), this.raiseQueuedEventsMatchingPredicate_((function(e) { return e.equals(t) })) }, t.prototype.raiseEventsForChangedPath = function(t, e) { this.queueEvents(e), this.raiseQueuedEventsMatchingPredicate_((function(e) { return e.contains(t) || t.contains(e) })) }, t.prototype.raiseQueuedEventsMatchingPredicate_ = function(t) {
                                this.recursionDepth_++;
                                for (var e = !0, n = 0; n < this.eventLists_.length; n++) {
                                    var r = this.eventLists_[n];
                                    r && (t(r.getPath()) ? (this.eventLists_[n].raise(), this.eventLists_[n] = null) : e = !1)
                                }
                                e && (this.eventLists_ = []), this.recursionDepth_--
                            }, t
                        }(),
                        Ue = function() {
                            function t(t) { this.path_ = t, this.events_ = [] }
                            return t.prototype.add = function(t) { this.events_.push(t) }, t.prototype.raise = function() {
                                for (var t = 0; t < this.events_.length; t++) {
                                    var e = this.events_[t];
                                    if (null !== e) {
                                        this.events_[t] = null;
                                        var n = e.getEventRunner();
                                        _ && E("event: " + e.toString()), Y(n)
                                    }
                                }
                            }, t.prototype.getPath = function() { return this.path_ }, t
                        }(),
                        Ve = function() {
                            function t(t) { this.allowedEvents_ = t, this.listeners_ = {}, a.assert(Array.isArray(t) && t.length > 0, "Requires a non-empty array") }
                            return t.prototype.trigger = function(t) {
                                for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
                                if (Array.isArray(this.listeners_[t]))
                                    for (var r = s.__spread(this.listeners_[t]), i = 0; i < r.length; i++) r[i].callback.apply(r[i].context, e)
                            }, t.prototype.on = function(t, e, n) {
                                this.validateEventType_(t), this.listeners_[t] = this.listeners_[t] || [], this.listeners_[t].push({ callback: e, context: n });
                                var r = this.getInitialEvent(t);
                                r && e.apply(n, r)
                            }, t.prototype.off = function(t, e, n) {
                                this.validateEventType_(t);
                                for (var r = this.listeners_[t] || [], i = 0; i < r.length; i++)
                                    if (r[i].callback === e && (!n || n === r[i].context)) return void r.splice(i, 1)
                            }, t.prototype.validateEventType_ = function(t) { a.assert(this.allowedEvents_.find((function(e) { return e === t })), "Unknown event: " + t) }, t
                        }(),
                        Be = function(t) {
                            function e() {
                                var e, n, r = t.call(this, ["visible"]) || this;
                                return "undefined" != typeof document && void 0 !== document.addEventListener && (void 0 !== document.hidden ? (n = "visibilitychange", e = "hidden") : void 0 !== document.mozHidden ? (n = "mozvisibilitychange", e = "mozHidden") : void 0 !== document.msHidden ? (n = "msvisibilitychange", e = "msHidden") : void 0 !== document.webkitHidden && (n = "webkitvisibilitychange", e = "webkitHidden")), r.visible_ = !0, n && document.addEventListener(n, (function() {
                                    var t = !document[e];
                                    t !== r.visible_ && (r.visible_ = t, r.trigger("visible", t))
                                }), !1), r
                            }
                            return s.__extends(e, t), e.getInstance = function() { return new e }, e.prototype.getInitialEvent = function(t) { return a.assert("visible" === t, "Unknown event type: " + t), [this.visible_] }, e
                        }(Ve),
                        qe = function(t) {
                            function e() { var e = t.call(this, ["online"]) || this; return e.online_ = !0, "undefined" == typeof window || void 0 === window.addEventListener || a.isMobileCordova() || (window.addEventListener("online", (function() { e.online_ || (e.online_ = !0, e.trigger("online", !0)) }), !1), window.addEventListener("offline", (function() { e.online_ && (e.online_ = !1, e.trigger("online", !1)) }), !1)), e }
                            return s.__extends(e, t), e.getInstance = function() { return new e }, e.prototype.getInitialEvent = function(t) { return a.assert("online" === t, "Unknown event type: " + t), [this.online_] }, e.prototype.currentlyOnline = function() { return this.online_ }, e
                        }(Ve),
                        He = function() {
                            function t(t) { this.onMessage_ = t, this.pendingResponses = [], this.currentResponseNum = 0, this.closeAfterResponse = -1, this.onClose = null }
                            return t.prototype.closeAfter = function(t, e) { this.closeAfterResponse = t, this.onClose = e, this.closeAfterResponse < this.currentResponseNum && (this.onClose(), this.onClose = null) }, t.prototype.handleResponse = function(t, e) {
                                var n = this;
                                this.pendingResponses[t] = e;
                                for (var r = function() {
                                        var t = i.pendingResponses[i.currentResponseNum];
                                        delete i.pendingResponses[i.currentResponseNum];
                                        for (var e = function(e) { t[e] && Y((function() { n.onMessage_(t[e]) })) }, r = 0; r < t.length; ++r) e(r);
                                        if (i.currentResponseNum === i.closeAfterResponse) return i.onClose && (i.onClose(), i.onClose = null), "break";
                                        i.currentResponseNum++
                                    }, i = this; this.pendingResponses[this.currentResponseNum] && "break" !== r(););
                            }, t
                        }(),
                        We = function() {
                            function t(t, e, n, r, i) { this.connId = t, this.repoInfo = e, this.applicationId = n, this.transportSessionId = r, this.lastSessionId = i, this.bytesSent = 0, this.bytesReceived = 0, this.everConnected_ = !1, this.log_ = S(t), this.stats_ = Me.getCollection(e), this.urlFn = function(t) { return e.connectionURL("long_polling", t) } }
                            return t.prototype.open = function(t, e) {
                                var n = this;
                                this.curSegmentNum = 0, this.onDisconnect_ = e, this.myPacketOrderer = new He(t), this.isClosed_ = !1, this.connectTimeoutTimer_ = setTimeout((function() { n.log_("Timed out trying to connect."), n.onClosed_(), n.connectTimeoutTimer_ = null }), Math.floor(3e4)),
                                    function(t) {
                                        if (a.isNodeSdk() || "complete" === document.readyState) t();
                                        else {
                                            var e = !1,
                                                n = function() { document.body ? e || (e = !0, t()) : setTimeout(n, Math.floor(10)) };
                                            document.addEventListener ? (document.addEventListener("DOMContentLoaded", n, !1), window.addEventListener("load", n, !1)) : document.attachEvent && (document.attachEvent("onreadystatechange", (function() { "complete" === document.readyState && n() })), window.attachEvent("onload", n))
                                        }
                                    }((function() {
                                        if (!n.isClosed_) {
                                            n.scriptTagHolder = new ze((function() {
                                                for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                                                var r = s.__read(t, 5),
                                                    i = r[0],
                                                    o = r[1],
                                                    a = r[2];
                                                if (n.incrementIncomingBytes_(t), n.scriptTagHolder)
                                                    if (n.connectTimeoutTimer_ && (clearTimeout(n.connectTimeoutTimer_), n.connectTimeoutTimer_ = null), n.everConnected_ = !0, "start" === i) n.id = o, n.password = a;
                                                    else {
                                                        if ("close" !== i) throw new Error("Unrecognized command received: " + i);
                                                        o ? (n.scriptTagHolder.sendNewPolls = !1, n.myPacketOrderer.closeAfter(o, (function() { n.onClosed_() }))) : n.onClosed_()
                                                    }
                                            }), (function() {
                                                for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                                                var r = s.__read(t, 2),
                                                    i = r[0],
                                                    o = r[1];
                                                n.incrementIncomingBytes_(t), n.myPacketOrderer.handleResponse(i, o)
                                            }), (function() { n.onClosed_() }), n.urlFn);
                                            var t = { start: "t" };
                                            t.ser = Math.floor(1e8 * Math.random()), n.scriptTagHolder.uniqueCallbackIdentifier && (t.cb = n.scriptTagHolder.uniqueCallbackIdentifier), t.v = "5", n.transportSessionId && (t.s = n.transportSessionId), n.lastSessionId && (t.ls = n.lastSessionId), n.applicationId && (t.p = n.applicationId), "undefined" != typeof location && location.href && -1 !== location.href.indexOf("firebaseio.com") && (t.r = "f");
                                            var e = n.urlFn(t);
                                            n.log_("Connecting via long-poll to " + e), n.scriptTagHolder.addTag(e, (function() {}))
                                        }
                                    }))
                            }, t.prototype.start = function() { this.scriptTagHolder.startLongPoll(this.id, this.password), this.addDisconnectPingFrame(this.id, this.password) }, t.forceAllow = function() { t.forceAllow_ = !0 }, t.forceDisallow = function() { t.forceDisallow_ = !0 }, t.isAvailable = function() { return !(a.isNodeSdk() || !t.forceAllow_ && (t.forceDisallow_ || "undefined" == typeof document || null == document.createElement || "object" == typeof window && window.chrome && window.chrome.extension && !/^chrome/.test(window.location.href) || "object" == typeof Windows && "object" == typeof Windows.UI)) }, t.prototype.markConnectionHealthy = function() {}, t.prototype.shutdown_ = function() { this.isClosed_ = !0, this.scriptTagHolder && (this.scriptTagHolder.close(), this.scriptTagHolder = null), this.myDisconnFrame && (document.body.removeChild(this.myDisconnFrame), this.myDisconnFrame = null), this.connectTimeoutTimer_ && (clearTimeout(this.connectTimeoutTimer_), this.connectTimeoutTimer_ = null) }, t.prototype.onClosed_ = function() { this.isClosed_ || (this.log_("Longpoll is closing itself"), this.shutdown_(), this.onDisconnect_ && (this.onDisconnect_(this.everConnected_), this.onDisconnect_ = null)) }, t.prototype.close = function() { this.isClosed_ || (this.log_("Longpoll is being closed."), this.shutdown_()) }, t.prototype.send = function(t) {
                                var e = a.stringify(t);
                                this.bytesSent += e.length, this.stats_.incrementCounter("bytes_sent", e.length);
                                for (var n = a.base64Encode(e), r = P(n, 1840), i = 0; i < r.length; i++) this.scriptTagHolder.enqueueSegment(this.curSegmentNum, r.length, r[i]), this.curSegmentNum++
                            }, t.prototype.addDisconnectPingFrame = function(t, e) {
                                if (!a.isNodeSdk()) {
                                    this.myDisconnFrame = document.createElement("iframe");
                                    var n = { dframe: "t" };
                                    n.id = t, n.pw = e, this.myDisconnFrame.src = this.urlFn(n), this.myDisconnFrame.style.display = "none", document.body.appendChild(this.myDisconnFrame)
                                }
                            }, t.prototype.incrementIncomingBytes_ = function(t) {
                                var e = a.stringify(t).length;
                                this.bytesReceived += e, this.stats_.incrementCounter("bytes_received", e)
                            }, t
                        }(),
                        ze = function() {
                            function t(e, n, r, i) {
                                if (this.onDisconnect = r, this.urlFn = i, this.outstandingRequests = new Set, this.pendingSegs = [], this.currentSerial = Math.floor(1e8 * Math.random()), this.sendNewPolls = !0, a.isNodeSdk()) this.commandCB = e, this.onMessageCB = n;
                                else {
                                    this.uniqueCallbackIdentifier = g(), window["pLPCommand" + this.uniqueCallbackIdentifier] = e, window["pRTLPCB" + this.uniqueCallbackIdentifier] = n, this.myIFrame = t.createIFrame_();
                                    var o = "";
                                    this.myIFrame.src && "javascript:" === this.myIFrame.src.substr(0, "javascript:".length) && (o = '<script>document.domain="' + document.domain + '";<\/script>');
                                    var s = "<html><body>" + o + "</body></html>";
                                    try { this.myIFrame.doc.open(), this.myIFrame.doc.write(s), this.myIFrame.doc.close() } catch (c) { E("frame writing exception"), c.stack && E(c.stack), E(c) }
                                }
                            }
                            return t.createIFrame_ = function() {
                                var t = document.createElement("iframe");
                                if (t.style.display = "none", !document.body) throw "Document body has not initialized. Wait to initialize Firebase until after the document is ready.";
                                document.body.appendChild(t);
                                try { t.contentWindow.document || E("No IE domain setting required") } catch (n) {
                                    var e = document.domain;
                                    t.src = "javascript:void((function(){document.open();document.domain='" + e + "';document.close();})())"
                                }
                                return t.contentDocument ? t.doc = t.contentDocument : t.contentWindow ? t.doc = t.contentWindow.document : t.document && (t.doc = t.document), t
                            }, t.prototype.close = function() {
                                var t = this;
                                this.alive = !1, this.myIFrame && (this.myIFrame.doc.body.innerHTML = "", setTimeout((function() { null !== t.myIFrame && (document.body.removeChild(t.myIFrame), t.myIFrame = null) }), Math.floor(0)));
                                var e = this.onDisconnect;
                                e && (this.onDisconnect = null, e())
                            }, t.prototype.startLongPoll = function(t, e) { for (this.myID = t, this.myPW = e, this.alive = !0; this.newRequest_();); }, t.prototype.newRequest_ = function() {
                                if (this.alive && this.sendNewPolls && this.outstandingRequests.size < (this.pendingSegs.length > 0 ? 2 : 1)) {
                                    this.currentSerial++;
                                    var t = {};
                                    t.id = this.myID, t.pw = this.myPW, t.ser = this.currentSerial;
                                    for (var e = this.urlFn(t), n = "", r = 0; this.pendingSegs.length > 0 && this.pendingSegs[0].d.length + 30 + n.length <= 1870;) {
                                        var i = this.pendingSegs.shift();
                                        n = n + "&seg" + r + "=" + i.seg + "&ts" + r + "=" + i.ts + "&d" + r + "=" + i.d, r++
                                    }
                                    return this.addLongPollTag_(e += n, this.currentSerial), !0
                                }
                                return !1
                            }, t.prototype.enqueueSegment = function(t, e, n) { this.pendingSegs.push({ seg: t, ts: e, d: n }), this.alive && this.newRequest_() }, t.prototype.addLongPollTag_ = function(t, e) {
                                var n = this;
                                this.outstandingRequests.add(e);
                                var r = function() { n.outstandingRequests.delete(e), n.newRequest_() },
                                    i = setTimeout(r, Math.floor(25e3));
                                this.addTag(t, (function() { clearTimeout(i), r() }))
                            }, t.prototype.addTag = function(t, e) {
                                var n = this;
                                a.isNodeSdk() ? this.doNodeLongPoll(t, e) : setTimeout((function() {
                                    try {
                                        if (!n.sendNewPolls) return;
                                        var r = n.myIFrame.doc.createElement("script");
                                        r.type = "text/javascript", r.async = !0, r.src = t, r.onload = r.onreadystatechange = function() {
                                            var t = r.readyState;
                                            t && "loaded" !== t && "complete" !== t || (r.onload = r.onreadystatechange = null, r.parentNode && r.parentNode.removeChild(r), e())
                                        }, r.onerror = function() { E("Long-poll script failed to load: " + t), n.sendNewPolls = !1, n.close() }, n.myIFrame.doc.body.appendChild(r)
                                    } catch (i) {}
                                }), Math.floor(1))
                            }, t
                        }(),
                        Ge = "",
                        $e = null;
                    "undefined" != typeof MozWebSocket ? $e = MozWebSocket : "undefined" != typeof WebSocket && ($e = WebSocket);
                    var Ke = function() {
                            function t(e, n, r, i, o) { this.connId = e, this.applicationId = r, this.keepaliveTimer = null, this.frames = null, this.totalFrames = 0, this.bytesSent = 0, this.bytesReceived = 0, this.log_ = S(this.connId), this.stats_ = Me.getCollection(n), this.connURL = t.connectionURL_(n, i, o) }
                            return t.connectionURL_ = function(t, e, n) { var r = { v: "5" }; return !a.isNodeSdk() && "undefined" != typeof location && location.href && -1 !== location.href.indexOf("firebaseio.com") && (r.r = "f"), e && (r.s = e), n && (r.ls = n), t.connectionURL("websocket", r) }, t.prototype.open = function(t, e) {
                                var n = this;
                                this.onDisconnect = e, this.onMessage = t, this.log_("Websocket connecting to " + this.connURL), this.everConnected_ = !1, p.set("previous_websocket_failure", !0);
                                try {
                                    if (a.isNodeSdk()) {
                                        var r = { headers: { "User-Agent": "Firebase/5/" + Ge + "/" + process.platform + "/" + (a.CONSTANTS.NODE_ADMIN ? "AdminNode" : "Node"), "X-Firebase-GMPID": this.applicationId || "" } },
                                            i = process.env,
                                            o = 0 === this.connURL.indexOf("wss://") ? i.HTTPS_PROXY || i.https_proxy : i.HTTP_PROXY || i.http_proxy;
                                        o && (r.proxy = { origin: o }), this.mySock = new $e(this.connURL, [], r)
                                    } else this.mySock = new $e(this.connURL, [], r = { headers: { "X-Firebase-GMPID": this.applicationId || "" } })
                                } catch (c) { this.log_("Error instantiating WebSocket."); var s = c.message || c.data; return s && this.log_(s), void this.onClosed_() }
                                this.mySock.onopen = function() { n.log_("Websocket connected."), n.everConnected_ = !0 }, this.mySock.onclose = function() { n.log_("Websocket connection was disconnected."), n.mySock = null, n.onClosed_() }, this.mySock.onmessage = function(t) { n.handleIncomingFrame(t) }, this.mySock.onerror = function(t) {
                                    n.log_("WebSocket error.  Closing connection.");
                                    var e = t.message || t.data;
                                    e && n.log_(e), n.onClosed_()
                                }
                            }, t.prototype.start = function() {}, t.forceDisallow = function() { t.forceDisallow_ = !0 }, t.isAvailable = function() {
                                var e = !1;
                                if ("undefined" != typeof navigator && navigator.userAgent) {
                                    var n = navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);
                                    n && n.length > 1 && parseFloat(n[1]) < 4.4 && (e = !0)
                                }
                                return !e && null !== $e && !t.forceDisallow_
                            }, t.previouslyFailed = function() { return p.isInMemoryStorage || !0 === p.get("previous_websocket_failure") }, t.prototype.markConnectionHealthy = function() { p.remove("previous_websocket_failure") }, t.prototype.appendFrame_ = function(t) {
                                if (this.frames.push(t), this.frames.length === this.totalFrames) {
                                    var e = this.frames.join("");
                                    this.frames = null;
                                    var n = a.jsonEval(e);
                                    this.onMessage(n)
                                }
                            }, t.prototype.handleNewFrameCount_ = function(t) { this.totalFrames = t, this.frames = [] }, t.prototype.extractFrameCount_ = function(t) { if (a.assert(null === this.frames, "We already have a frame buffer"), t.length <= 6) { var e = Number(t); if (!isNaN(e)) return this.handleNewFrameCount_(e), null } return this.handleNewFrameCount_(1), t }, t.prototype.handleIncomingFrame = function(t) {
                                if (null !== this.mySock) {
                                    var e = t.data;
                                    if (this.bytesReceived += e.length, this.stats_.incrementCounter("bytes_received", e.length), this.resetKeepAlive(), null !== this.frames) this.appendFrame_(e);
                                    else {
                                        var n = this.extractFrameCount_(e);
                                        null !== n && this.appendFrame_(n)
                                    }
                                }
                            }, t.prototype.send = function(t) {
                                this.resetKeepAlive();
                                var e = a.stringify(t);
                                this.bytesSent += e.length, this.stats_.incrementCounter("bytes_sent", e.length);
                                var n = P(e, 16384);
                                n.length > 1 && this.sendString_(String(n.length));
                                for (var r = 0; r < n.length; r++) this.sendString_(n[r])
                            }, t.prototype.shutdown_ = function() { this.isClosed_ = !0, this.keepaliveTimer && (clearInterval(this.keepaliveTimer), this.keepaliveTimer = null), this.mySock && (this.mySock.close(), this.mySock = null) }, t.prototype.onClosed_ = function() { this.isClosed_ || (this.log_("WebSocket is closing itself"), this.shutdown_(), this.onDisconnect && (this.onDisconnect(this.everConnected_), this.onDisconnect = null)) }, t.prototype.close = function() { this.isClosed_ || (this.log_("WebSocket is being closed"), this.shutdown_()) }, t.prototype.resetKeepAlive = function() {
                                var t = this;
                                clearInterval(this.keepaliveTimer), this.keepaliveTimer = setInterval((function() { t.mySock && t.sendString_("0"), t.resetKeepAlive() }), Math.floor(45e3))
                            }, t.prototype.sendString_ = function(t) { try { this.mySock.send(t) } catch (e) { this.log_("Exception thrown from WebSocket.send():", e.message || e.data, "Closing connection."), setTimeout(this.onClosed_.bind(this), 0) } }, t.responsesRequiredToBeHealthy = 2, t.healthyTimeout = 3e4, t
                        }(),
                        Ye = function() {
                            function t(t) { this.initTransports_(t) }
                            return Object.defineProperty(t, "ALL_TRANSPORTS", { get: function() { return [We, Ke] }, enumerable: !1, configurable: !0 }), t.prototype.initTransports_ = function(e) {
                                var n, r, i = Ke && Ke.isAvailable(),
                                    o = i && !Ke.previouslyFailed();
                                if (e.webSocketOnly && (i || T("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."), o = !0), o) this.transports_ = [Ke];
                                else {
                                    var a = this.transports_ = [];
                                    try {
                                        for (var c = s.__values(t.ALL_TRANSPORTS), l = c.next(); !l.done; l = c.next()) {
                                            var u = l.value;
                                            u && u.isAvailable() && a.push(u)
                                        }
                                    } catch (h) { n = { error: h } } finally { try { l && !l.done && (r = c.return) && r.call(c) } finally { if (n) throw n.error } }
                                }
                            }, t.prototype.initialTransport = function() { if (this.transports_.length > 0) return this.transports_[0]; throw new Error("No transports available") }, t.prototype.upgradeTransport = function() { return this.transports_.length > 1 ? this.transports_[1] : null }, t
                        }(),
                        Xe = function() {
                            function t(t, e, n, r, i, o, s, a) { this.id = t, this.repoInfo_ = e, this.applicationId_ = n, this.onMessage_ = r, this.onReady_ = i, this.onDisconnect_ = o, this.onKill_ = s, this.lastSessionId = a, this.connectionCount = 0, this.pendingDataMessages = [], this.state_ = 0, this.log_ = S("c:" + this.id + ":"), this.transportManager_ = new Ye(e), this.log_("Connection created"), this.start_() }
                            return t.prototype.start_ = function() {
                                var t = this,
                                    e = this.transportManager_.initialTransport();
                                this.conn_ = new e(this.nextTransportId_(), this.repoInfo_, this.applicationId_, void 0, this.lastSessionId), this.primaryResponsesRequired_ = e.responsesRequiredToBeHealthy || 0;
                                var n = this.connReceiver_(this.conn_),
                                    r = this.disconnReceiver_(this.conn_);
                                this.tx_ = this.conn_, this.rx_ = this.conn_, this.secondaryConn_ = null, this.isHealthy_ = !1, setTimeout((function() { t.conn_ && t.conn_.open(n, r) }), Math.floor(0));
                                var i = e.healthyTimeout || 0;
                                i > 0 && (this.healthyTimeout_ = X((function() { t.healthyTimeout_ = null, t.isHealthy_ || (t.conn_ && t.conn_.bytesReceived > 102400 ? (t.log_("Connection exceeded healthy timeout but has received " + t.conn_.bytesReceived + " bytes.  Marking connection healthy."), t.isHealthy_ = !0, t.conn_.markConnectionHealthy()) : t.conn_ && t.conn_.bytesSent > 10240 ? t.log_("Connection exceeded healthy timeout but has sent " + t.conn_.bytesSent + " bytes.  Leaving connection alive.") : (t.log_("Closing unhealthy connection after timeout."), t.close())) }), Math.floor(i)))
                            }, t.prototype.nextTransportId_ = function() { return "c:" + this.id + ":" + this.connectionCount++ }, t.prototype.disconnReceiver_ = function(t) { var e = this; return function(n) { t === e.conn_ ? e.onConnectionLost_(n) : t === e.secondaryConn_ ? (e.log_("Secondary connection lost."), e.onSecondaryConnectionLost_()) : e.log_("closing an old connection") } }, t.prototype.connReceiver_ = function(t) { var e = this; return function(n) { 2 !== e.state_ && (t === e.rx_ ? e.onPrimaryMessageReceived_(n) : t === e.secondaryConn_ ? e.onSecondaryMessageReceived_(n) : e.log_("message on old connection")) } }, t.prototype.sendRequest = function(t) { this.sendData_({ t: "d", d: t }) }, t.prototype.tryCleanupConnection = function() { this.tx_ === this.secondaryConn_ && this.rx_ === this.secondaryConn_ && (this.log_("cleaning up and promoting a connection: " + this.secondaryConn_.connId), this.conn_ = this.secondaryConn_, this.secondaryConn_ = null) }, t.prototype.onSecondaryControl_ = function(t) { if ("t" in t) { var e = t.t; "a" === e ? this.upgradeIfSecondaryHealthy_() : "r" === e ? (this.log_("Got a reset on secondary, closing it"), this.secondaryConn_.close(), this.tx_ !== this.secondaryConn_ && this.rx_ !== this.secondaryConn_ || this.close()) : "o" === e && (this.log_("got pong on secondary."), this.secondaryResponsesRequired_--, this.upgradeIfSecondaryHealthy_()) } }, t.prototype.onSecondaryMessageReceived_ = function(t) {
                                var e = N("t", t),
                                    n = N("d", t);
                                if ("c" === e) this.onSecondaryControl_(n);
                                else {
                                    if ("d" !== e) throw new Error("Unknown protocol layer: " + e);
                                    this.pendingDataMessages.push(n)
                                }
                            }, t.prototype.upgradeIfSecondaryHealthy_ = function() { this.secondaryResponsesRequired_ <= 0 ? (this.log_("Secondary connection is healthy."), this.isHealthy_ = !0, this.secondaryConn_.markConnectionHealthy(), this.proceedWithUpgrade_()) : (this.log_("sending ping on secondary."), this.secondaryConn_.send({ t: "c", d: { t: "p", d: {} } })) }, t.prototype.proceedWithUpgrade_ = function() { this.secondaryConn_.start(), this.log_("sending client ack on secondary"), this.secondaryConn_.send({ t: "c", d: { t: "a", d: {} } }), this.log_("Ending transmission on primary"), this.conn_.send({ t: "c", d: { t: "n", d: {} } }), this.tx_ = this.secondaryConn_, this.tryCleanupConnection() }, t.prototype.onPrimaryMessageReceived_ = function(t) {
                                var e = N("t", t),
                                    n = N("d", t);
                                "c" === e ? this.onControl_(n) : "d" === e && this.onDataMessage_(n)
                            }, t.prototype.onDataMessage_ = function(t) { this.onPrimaryResponse_(), this.onMessage_(t) }, t.prototype.onPrimaryResponse_ = function() { this.isHealthy_ || (this.primaryResponsesRequired_--, this.primaryResponsesRequired_ <= 0 && (this.log_("Primary connection is healthy."), this.isHealthy_ = !0, this.conn_.markConnectionHealthy())) }, t.prototype.onControl_ = function(t) {
                                var e = N("t", t);
                                if ("d" in t) {
                                    var n = t.d;
                                    if ("h" === e) this.onHandshake_(n);
                                    else if ("n" === e) {
                                        this.log_("recvd end transmission on primary"), this.rx_ = this.secondaryConn_;
                                        for (var r = 0; r < this.pendingDataMessages.length; ++r) this.onDataMessage_(this.pendingDataMessages[r]);
                                        this.pendingDataMessages = [], this.tryCleanupConnection()
                                    } else "s" === e ? this.onConnectionShutdown_(n) : "r" === e ? this.onReset_(n) : "e" === e ? C("Server Error: " + n) : "o" === e ? (this.log_("got pong on primary."), this.onPrimaryResponse_(), this.sendPingOnPrimaryIfNecessary_()) : C("Unknown control packet command: " + e)
                                }
                            }, t.prototype.onHandshake_ = function(t) {
                                var e = t.ts,
                                    n = t.v,
                                    r = t.h;
                                this.sessionId = t.s, this.repoInfo_.updateHost(r), 0 === this.state_ && (this.conn_.start(), this.onConnectionEstablished_(this.conn_, e), "5" !== n && T("Protocol version mismatch detected"), this.tryStartUpgrade_())
                            }, t.prototype.tryStartUpgrade_ = function() {
                                var t = this.transportManager_.upgradeTransport();
                                t && this.startUpgrade_(t)
                            }, t.prototype.startUpgrade_ = function(t) {
                                var e = this;
                                this.secondaryConn_ = new t(this.nextTransportId_(), this.repoInfo_, this.applicationId_, this.sessionId), this.secondaryResponsesRequired_ = t.responsesRequiredToBeHealthy || 0;
                                var n = this.connReceiver_(this.secondaryConn_),
                                    r = this.disconnReceiver_(this.secondaryConn_);
                                this.secondaryConn_.open(n, r), X((function() { e.secondaryConn_ && (e.log_("Timed out trying to upgrade."), e.secondaryConn_.close()) }), Math.floor(6e4))
                            }, t.prototype.onReset_ = function(t) { this.log_("Reset packet received.  New host: " + t), this.repoInfo_.updateHost(t), 1 === this.state_ ? this.close() : (this.closeConnections_(), this.start_()) }, t.prototype.onConnectionEstablished_ = function(t, e) {
                                var n = this;
                                this.log_("Realtime connection established."), this.conn_ = t, this.state_ = 1, this.onReady_ && (this.onReady_(e, this.sessionId), this.onReady_ = null), 0 === this.primaryResponsesRequired_ ? (this.log_("Primary connection is healthy."), this.isHealthy_ = !0) : X((function() { n.sendPingOnPrimaryIfNecessary_() }), Math.floor(5e3))
                            }, t.prototype.sendPingOnPrimaryIfNecessary_ = function() { this.isHealthy_ || 1 !== this.state_ || (this.log_("sending ping on primary."), this.sendData_({ t: "c", d: { t: "p", d: {} } })) }, t.prototype.onSecondaryConnectionLost_ = function() {
                                var t = this.secondaryConn_;
                                this.secondaryConn_ = null, this.tx_ !== t && this.rx_ !== t || this.close()
                            }, t.prototype.onConnectionLost_ = function(t) { this.conn_ = null, t || 0 !== this.state_ ? 1 === this.state_ && this.log_("Realtime connection lost.") : (this.log_("Realtime connection failed."), this.repoInfo_.isCacheableHost() && (p.remove("host:" + this.repoInfo_.host), this.repoInfo_.internalHost = this.repoInfo_.host)), this.close() }, t.prototype.onConnectionShutdown_ = function(t) { this.log_("Connection shutdown command received. Shutting down..."), this.onKill_ && (this.onKill_(t), this.onKill_ = null), this.onDisconnect_ = null, this.close() }, t.prototype.sendData_ = function(t) {
                                if (1 !== this.state_) throw "Connection is not connected";
                                this.tx_.send(t)
                            }, t.prototype.close = function() { 2 !== this.state_ && (this.log_("Closing realtime connection."), this.state_ = 2, this.closeConnections_(), this.onDisconnect_ && (this.onDisconnect_(), this.onDisconnect_ = null)) }, t.prototype.closeConnections_ = function() { this.log_("Shutting down all connections"), this.conn_ && (this.conn_.close(), this.conn_ = null), this.secondaryConn_ && (this.secondaryConn_.close(), this.secondaryConn_ = null), this.healthyTimeout_ && (clearTimeout(this.healthyTimeout_), this.healthyTimeout_ = null) }, t
                        }(),
                        Qe = function() {
                            function t() {}
                            return t.prototype.put = function(t, e, n, r) {}, t.prototype.merge = function(t, e, n, r) {}, t.prototype.refreshAuthToken = function(t) {}, t.prototype.onDisconnectPut = function(t, e, n) {}, t.prototype.onDisconnectMerge = function(t, e, n) {}, t.prototype.onDisconnectCancel = function(t, e) {}, t.prototype.reportStats = function(t) {}, t
                        }(),
                        Ze = function(t) {
                            function e(n, r, i, o, s, c, l) { var u = t.call(this) || this; if (u.repoInfo_ = n, u.applicationId_ = r, u.onDataUpdate_ = i, u.onConnectStatus_ = o, u.onServerInfoUpdate_ = s, u.authTokenProvider_ = c, u.authOverride_ = l, u.id = e.nextPersistentConnectionId_++, u.log_ = S("p:" + u.id + ":"), u.interruptReasons_ = {}, u.listens = new Map, u.outstandingPuts_ = [], u.outstandingPutCount_ = 0, u.onDisconnectRequestQueue_ = [], u.connected_ = !1, u.reconnectDelay_ = 1e3, u.maxReconnectDelay_ = 3e5, u.securityDebugCallback_ = null, u.lastSessionId = null, u.establishConnectionTimer_ = null, u.visible_ = !1, u.requestCBHash_ = {}, u.requestNumber_ = 0, u.realtime_ = null, u.authToken_ = null, u.forceTokenRefresh_ = !1, u.invalidAuthTokenCount_ = 0, u.firstConnection_ = !0, u.lastConnectionAttemptTime_ = null, u.lastConnectionEstablishedTime_ = null, l && !a.isNodeSdk()) throw new Error("Auth override specified in options, but not supported on non Node.js platforms"); return u.scheduleConnect_(0), Be.getInstance().on("visible", u.onVisible_, u), -1 === n.host.indexOf("fblocal") && qe.getInstance().on("online", u.onOnline_, u), u }
                            return s.__extends(e, t), e.prototype.sendRequest = function(t, e, n) {
                                var r = ++this.requestNumber_,
                                    i = { r, a: t, b: e };
                                this.log_(a.stringify(i)), a.assert(this.connected_, "sendRequest call when we're not connected not allowed."), this.realtime_.sendRequest(i), n && (this.requestCBHash_[r] = n)
                            }, e.prototype.listen = function(t, e, n, r) {
                                var i = t.queryIdentifier(),
                                    o = t.path.toString();
                                this.log_("Listen called for " + o + " " + i), this.listens.has(o) || this.listens.set(o, new Map), a.assert(t.getQueryParams().isDefault() || !t.getQueryParams().loadsAllData(), "listen() called for non-default but complete query"), a.assert(!this.listens.get(o).has(i), "listen() called twice for same path/queryId.");
                                var s = { onComplete: r, hashFn: e, query: t, tag: n };
                                this.listens.get(o).set(i, s), this.connected_ && this.sendListen_(s)
                            }, e.prototype.sendListen_ = function(t) {
                                var n = this,
                                    r = t.query,
                                    i = r.path.toString(),
                                    o = r.queryIdentifier();
                                this.log_("Listen on " + i + " for " + o);
                                var s = { p: i };
                                t.tag && (s.q = r.queryObject(), s.t = t.tag), s.h = t.hashFn(), this.sendRequest("q", s, (function(s) {
                                    var a = s.d,
                                        c = s.s;
                                    e.warnOnListenWarnings_(a, r), (n.listens.get(i) && n.listens.get(i).get(o)) === t && (n.log_("listen response", s), "ok" !== c && n.removeListen_(i, o), t.onComplete && t.onComplete(c, a))
                                }))
                            }, e.warnOnListenWarnings_ = function(t, e) {
                                if (t && "object" == typeof t && a.contains(t, "w")) {
                                    var n = a.safeGet(t, "w");
                                    if (Array.isArray(n) && ~n.indexOf("no_index")) {
                                        var r = '".indexOn": "' + e.getQueryParams().getIndex().toString() + '"',
                                            i = e.path.toString();
                                        T("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding " + r + " at " + i + " to your security rules for better performance.")
                                    }
                                }
                            }, e.prototype.refreshAuthToken = function(t) { this.authToken_ = t, this.log_("Auth token refreshed"), this.authToken_ ? this.tryAuth() : this.connected_ && this.sendRequest("unauth", {}, (function() {})), this.reduceReconnectDelayIfAdminCredential_(t) }, e.prototype.reduceReconnectDelayIfAdminCredential_ = function(t) {
                                (t && 40 === t.length || a.isAdmin(t)) && (this.log_("Admin auth credential detected.  Reducing max reconnect time."), this.maxReconnectDelay_ = 3e4)
                            }, e.prototype.tryAuth = function() {
                                var t = this;
                                if (this.connected_ && this.authToken_) {
                                    var e = this.authToken_,
                                        n = a.isValidFormat(e) ? "auth" : "gauth",
                                        r = { cred: e };
                                    null === this.authOverride_ ? r.noauth = !0 : "object" == typeof this.authOverride_ && (r.authvar = this.authOverride_), this.sendRequest(n, r, (function(n) {
                                        var r = n.s,
                                            i = n.d || "error";
                                        t.authToken_ === e && ("ok" === r ? t.invalidAuthTokenCount_ = 0 : t.onAuthRevoked_(r, i))
                                    }))
                                }
                            }, e.prototype.unlisten = function(t, e) {
                                var n = t.path.toString(),
                                    r = t.queryIdentifier();
                                this.log_("Unlisten called for " + n + " " + r), a.assert(t.getQueryParams().isDefault() || !t.getQueryParams().loadsAllData(), "unlisten() called for non-default but complete query"), this.removeListen_(n, r) && this.connected_ && this.sendUnlisten_(n, r, t.queryObject(), e)
                            }, e.prototype.sendUnlisten_ = function(t, e, n, r) {
                                this.log_("Unlisten on " + t + " for " + e);
                                var i = { p: t };
                                r && (i.q = n, i.t = r), this.sendRequest("n", i)
                            }, e.prototype.onDisconnectPut = function(t, e, n) { this.connected_ ? this.sendOnDisconnect_("o", t, e, n) : this.onDisconnectRequestQueue_.push({ pathString: t, action: "o", data: e, onComplete: n }) }, e.prototype.onDisconnectMerge = function(t, e, n) { this.connected_ ? this.sendOnDisconnect_("om", t, e, n) : this.onDisconnectRequestQueue_.push({ pathString: t, action: "om", data: e, onComplete: n }) }, e.prototype.onDisconnectCancel = function(t, e) { this.connected_ ? this.sendOnDisconnect_("oc", t, null, e) : this.onDisconnectRequestQueue_.push({ pathString: t, action: "oc", data: null, onComplete: e }) }, e.prototype.sendOnDisconnect_ = function(t, e, n, r) {
                                var i = { p: e, d: n };
                                this.log_("onDisconnect " + t, i), this.sendRequest(t, i, (function(t) { r && setTimeout((function() { r(t.s, t.d) }), Math.floor(0)) }))
                            }, e.prototype.put = function(t, e, n, r) { this.putInternal("p", t, e, n, r) }, e.prototype.merge = function(t, e, n, r) { this.putInternal("m", t, e, n, r) }, e.prototype.putInternal = function(t, e, n, r, i) {
                                var o = { p: e, d: n };
                                void 0 !== i && (o.h = i), this.outstandingPuts_.push({ action: t, request: o, onComplete: r }), this.outstandingPutCount_++, this.connected_ ? this.sendPut_(this.outstandingPuts_.length - 1) : this.log_("Buffering put: " + e)
                            }, e.prototype.sendPut_ = function(t) {
                                var e = this,
                                    n = this.outstandingPuts_[t].action,
                                    r = this.outstandingPuts_[t].request,
                                    i = this.outstandingPuts_[t].onComplete;
                                this.outstandingPuts_[t].queued = this.connected_, this.sendRequest(n, r, (function(r) { e.log_(n + " response", r), delete e.outstandingPuts_[t], e.outstandingPutCount_--, 0 === e.outstandingPutCount_ && (e.outstandingPuts_ = []), i && i(r.s, r.d) }))
                            }, e.prototype.reportStats = function(t) {
                                var e = this;
                                if (this.connected_) {
                                    var n = { c: t };
                                    this.log_("reportStats", n), this.sendRequest("s", n, (function(t) { "ok" !== t.s && e.log_("reportStats", "Error sending stats: " + t.d) }))
                                }
                            }, e.prototype.onDataMessage_ = function(t) {
                                if ("r" in t) {
                                    this.log_("from server: " + a.stringify(t));
                                    var e = t.r,
                                        n = this.requestCBHash_[e];
                                    n && (delete this.requestCBHash_[e], n(t.b))
                                } else { if ("error" in t) throw "A server-side error has occurred: " + t.error; "a" in t && this.onDataPush_(t.a, t.b) }
                            }, e.prototype.onDataPush_ = function(t, e) { this.log_("handleServerMessage", t, e), "d" === t ? this.onDataUpdate_(e.p, e.d, !1, e.t) : "m" === t ? this.onDataUpdate_(e.p, e.d, !0, e.t) : "c" === t ? this.onListenRevoked_(e.p, e.q) : "ac" === t ? this.onAuthRevoked_(e.s, e.d) : "sd" === t ? this.onSecurityDebugPacket_(e) : C("Unrecognized action received from server: " + a.stringify(t) + "\nAre you using the latest client?") }, e.prototype.onReady_ = function(t, e) { this.log_("connection ready"), this.connected_ = !0, this.lastConnectionEstablishedTime_ = (new Date).getTime(), this.handleTimestamp_(t), this.lastSessionId = e, this.firstConnection_ && this.sendConnectStats_(), this.restoreState_(), this.firstConnection_ = !1, this.onConnectStatus_(!0) }, e.prototype.scheduleConnect_ = function(t) {
                                var e = this;
                                a.assert(!this.realtime_, "Scheduling a connect when we're already connected/ing?"), this.establishConnectionTimer_ && clearTimeout(this.establishConnectionTimer_), this.establishConnectionTimer_ = setTimeout((function() { e.establishConnectionTimer_ = null, e.establishConnection_() }), Math.floor(t))
                            }, e.prototype.onVisible_ = function(t) { t && !this.visible_ && this.reconnectDelay_ === this.maxReconnectDelay_ && (this.log_("Window became visible.  Reducing delay."), this.reconnectDelay_ = 1e3, this.realtime_ || this.scheduleConnect_(0)), this.visible_ = t }, e.prototype.onOnline_ = function(t) { t ? (this.log_("Browser went online."), this.reconnectDelay_ = 1e3, this.realtime_ || this.scheduleConnect_(0)) : (this.log_("Browser went offline.  Killing connection."), this.realtime_ && this.realtime_.close()) }, e.prototype.onRealtimeDisconnect_ = function() {
                                if (this.log_("data client disconnected"), this.connected_ = !1, this.realtime_ = null, this.cancelSentTransactions_(), this.requestCBHash_ = {}, this.shouldReconnect_()) {
                                    this.visible_ ? this.lastConnectionEstablishedTime_ && ((new Date).getTime() - this.lastConnectionEstablishedTime_ > 3e4 && (this.reconnectDelay_ = 1e3), this.lastConnectionEstablishedTime_ = null) : (this.log_("Window isn't visible.  Delaying reconnect."), this.reconnectDelay_ = this.maxReconnectDelay_, this.lastConnectionAttemptTime_ = (new Date).getTime());
                                    var t = (new Date).getTime() - this.lastConnectionAttemptTime_,
                                        e = Math.max(0, this.reconnectDelay_ - t);
                                    e = Math.random() * e, this.log_("Trying to reconnect in " + e + "ms"), this.scheduleConnect_(e), this.reconnectDelay_ = Math.min(this.maxReconnectDelay_, 1.3 * this.reconnectDelay_)
                                }
                                this.onConnectStatus_(!1)
                            }, e.prototype.establishConnection_ = function() {
                                if (this.shouldReconnect_()) {
                                    this.log_("Making a connection attempt"), this.lastConnectionAttemptTime_ = (new Date).getTime(), this.lastConnectionEstablishedTime_ = null;
                                    var t = this.onDataMessage_.bind(this),
                                        n = this.onReady_.bind(this),
                                        r = this.onRealtimeDisconnect_.bind(this),
                                        i = this.id + ":" + e.nextConnectionId_++,
                                        o = this,
                                        s = this.lastSessionId,
                                        c = !1,
                                        l = null,
                                        u = function() { l ? l.close() : (c = !0, r()) };
                                    this.realtime_ = { close: u, sendRequest: function(t) { a.assert(l, "sendRequest call when we're not connected not allowed."), l.sendRequest(t) } };
                                    var h = this.forceTokenRefresh_;
                                    this.forceTokenRefresh_ = !1, this.authTokenProvider_.getToken(h).then((function(e) { c ? E("getToken() completed but was canceled") : (E("getToken() completed. Creating connection."), o.authToken_ = e && e.accessToken, l = new Xe(i, o.repoInfo_, o.applicationId_, t, n, r, (function(t) { T(t + " (" + o.repoInfo_.toString() + ")"), o.interrupt("server_kill") }), s)) })).then(null, (function(t) { o.log_("Failed to get token: " + t), c || (a.CONSTANTS.NODE_ADMIN && T(t), u()) }))
                                }
                            }, e.prototype.interrupt = function(t) { E("Interrupting connection for reason: " + t), this.interruptReasons_[t] = !0, this.realtime_ ? this.realtime_.close() : (this.establishConnectionTimer_ && (clearTimeout(this.establishConnectionTimer_), this.establishConnectionTimer_ = null), this.connected_ && this.onRealtimeDisconnect_()) }, e.prototype.resume = function(t) { E("Resuming connection for reason: " + t), delete this.interruptReasons_[t], a.isEmpty(this.interruptReasons_) && (this.reconnectDelay_ = 1e3, this.realtime_ || this.scheduleConnect_(0)) }, e.prototype.handleTimestamp_ = function(t) {
                                var e = t - (new Date).getTime();
                                this.onServerInfoUpdate_({ serverTimeOffset: e })
                            }, e.prototype.cancelSentTransactions_ = function() {
                                for (var t = 0; t < this.outstandingPuts_.length; t++) {
                                    var e = this.outstandingPuts_[t];
                                    e && "h" in e.request && e.queued && (e.onComplete && e.onComplete("disconnect"), delete this.outstandingPuts_[t], this.outstandingPutCount_--)
                                }
                                0 === this.outstandingPutCount_ && (this.outstandingPuts_ = [])
                            }, e.prototype.onListenRevoked_ = function(t, e) {
                                var n;
                                n = e ? e.map((function(t) { return D(t) })).join("$") : "default";
                                var r = this.removeListen_(t, n);
                                r && r.onComplete && r.onComplete("permission_denied")
                            }, e.prototype.removeListen_ = function(t, e) {
                                var n, r = new Q(t).toString();
                                if (this.listens.has(r)) {
                                    var i = this.listens.get(r);
                                    n = i.get(e), i.delete(e), 0 === i.size && this.listens.delete(r)
                                } else n = void 0;
                                return n
                            }, e.prototype.onAuthRevoked_ = function(t, e) { E("Auth token revoked: " + t + "/" + e), this.authToken_ = null, this.forceTokenRefresh_ = !0, this.realtime_.close(), "invalid_token" !== t && "permission_denied" !== t || (this.invalidAuthTokenCount_++, this.invalidAuthTokenCount_ >= 3 && (this.reconnectDelay_ = 3e4, this.authTokenProvider_.notifyForInvalidToken())) }, e.prototype.onSecurityDebugPacket_ = function(t) { this.securityDebugCallback_ ? this.securityDebugCallback_(t) : "msg" in t && console.log("FIREBASE: " + t.msg.replace("\n", "\nFIREBASE: ")) }, e.prototype.restoreState_ = function() {
                                var t, e, n, r;
                                this.tryAuth();
                                try { for (var i = s.__values(this.listens.values()), o = i.next(); !o.done; o = i.next()) { var a = o.value; try { for (var c = (n = void 0, s.__values(a.values())), l = c.next(); !l.done; l = c.next()) this.sendListen_(l.value) } catch (d) { n = { error: d } } finally { try { l && !l.done && (r = c.return) && r.call(c) } finally { if (n) throw n.error } } } } catch (p) { t = { error: p } } finally { try { o && !o.done && (e = i.return) && e.call(i) } finally { if (t) throw t.error } }
                                for (var u = 0; u < this.outstandingPuts_.length; u++) this.outstandingPuts_[u] && this.sendPut_(u);
                                for (; this.onDisconnectRequestQueue_.length;) {
                                    var h = this.onDisconnectRequestQueue_.shift();
                                    this.sendOnDisconnect_(h.action, h.pathString, h.data, h.onComplete)
                                }
                            }, e.prototype.sendConnectStats_ = function() {
                                var t = {},
                                    e = "js";
                                a.CONSTANTS.NODE_ADMIN ? e = "admin_node" : a.CONSTANTS.NODE_CLIENT && (e = "node"), t["sdk." + e + "." + Ge.replace(/\./g, "-")] = 1, a.isMobileCordova() ? t["framework.cordova"] = 1 : a.isReactNative() && (t["framework.reactnative"] = 1), this.reportStats(t)
                            }, e.prototype.shouldReconnect_ = function() { var t = qe.getInstance().currentlyOnline(); return a.isEmpty(this.interruptReasons_) && t }, e.nextPersistentConnectionId_ = 0, e.nextConnectionId_ = 0, e
                        }(Qe),
                        Je = function(t) {
                            function e(e, n, r) { var i = t.call(this) || this; return i.repoInfo_ = e, i.onDataUpdate_ = n, i.authTokenProvider_ = r, i.log_ = S("p:rest:"), i.listens_ = {}, i }
                            return s.__extends(e, t), e.prototype.reportStats = function(t) { throw new Error("Method not implemented.") }, e.getListenId_ = function(t, e) { return void 0 !== e ? "tag$" + e : (a.assert(t.getQueryParams().isDefault(), "should have a tag if it's not a default query."), t.path.toString()) }, e.prototype.listen = function(t, n, r, i) {
                                var o = this,
                                    s = t.path.toString();
                                this.log_("Listen called for " + s + " " + t.queryIdentifier());
                                var c = e.getListenId_(t, r),
                                    l = {};
                                this.listens_[c] = l;
                                var u = t.getQueryParams().toRestQueryStringParameters();
                                this.restRequest_(s + ".json", u, (function(t, e) {
                                    var n = e;
                                    404 === t && (n = null, t = null), null === t && o.onDataUpdate_(s, n, !1, r), a.safeGet(o.listens_, c) === l && i(t ? 401 === t ? "permission_denied" : "rest_error:" + t : "ok", null)
                                }))
                            }, e.prototype.unlisten = function(t, n) {
                                var r = e.getListenId_(t, n);
                                delete this.listens_[r]
                            }, e.prototype.refreshAuthToken = function(t) {}, e.prototype.restRequest_ = function(t, e, n) {
                                var r = this;
                                void 0 === e && (e = {}), e.format = "export", this.authTokenProvider_.getToken(!1).then((function(i) {
                                    var o = i && i.accessToken;
                                    o && (e.auth = o);
                                    var s = (r.repoInfo_.secure ? "https://" : "http://") + r.repoInfo_.host + t + "?ns=" + r.repoInfo_.namespace + a.querystring(e);
                                    r.log_("Sending REST request for " + s);
                                    var c = new XMLHttpRequest;
                                    c.onreadystatechange = function() {
                                        if (n && 4 === c.readyState) {
                                            r.log_("REST Response for " + s + " received. status:", c.status, "response:", c.responseText);
                                            var t = null;
                                            if (c.status >= 200 && c.status < 300) {
                                                try { t = a.jsonEval(c.responseText) } catch (e) { T("Failed to parse JSON response for " + s + ": " + c.responseText) }
                                                n(null, t)
                                            } else 401 !== c.status && 404 !== c.status && T("Got unsuccessful REST response for " + s + " Status: " + c.status), n(c.status);
                                            n = null
                                        }
                                    }, c.open("GET", s, !0), c.send()
                                }))
                            }, e
                        }(Qe),
                        tn = function() {
                            function t(t, e, n, r) {
                                var i = this;
                                this.repoInfo_ = t, this.app = n, this.dataUpdateCount = 0, this.statsListener_ = null, this.eventQueue_ = new je, this.nextWriteId_ = 1, this.interceptServerDataCallback_ = null, this.onDisconnect_ = new ce, this.persistentConnection_ = null;
                                var o = new De(n, r);
                                if (this.stats_ = Me.getCollection(t), e || ("object" == typeof window && window.navigator && window.navigator.userAgent || "").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i) >= 0) this.server_ = new Je(this.repoInfo_, this.onDataUpdate_.bind(this), o), setTimeout(this.onConnectStatus_.bind(this, !0), 0);
                                else {
                                    var s = n.options.databaseAuthVariableOverride;
                                    if (null != s) { if ("object" != typeof s) throw new Error("Only objects are supported for option databaseAuthVariableOverride"); try { a.stringify(s) } catch (c) { throw new Error("Invalid authOverride provided: " + c) } }
                                    this.persistentConnection_ = new Ze(this.repoInfo_, n.options.appId, this.onDataUpdate_.bind(this), this.onConnectStatus_.bind(this), this.onServerInfoUpdate_.bind(this), o, s), this.server_ = this.persistentConnection_
                                }
                                o.addTokenChangeListener((function(t) { i.server_.refreshAuthToken(t) })), this.statsReporter_ = Me.getOrCreateReporter(t, (function() { return new Fe(i.stats_, i.server_) })), this.transactionsInit_(), this.infoData_ = new Ne, this.infoSyncTree_ = new Oe({
                                    startListening: function(t, e, n, r) {
                                        var o = [],
                                            s = i.infoData_.getNode(t.path);
                                        return s.isEmpty() || (o = i.infoSyncTree_.applyServerOverwrite(t.path, s), setTimeout((function() { r("ok") }), 0)), o
                                    },
                                    stopListening: function() {}
                                }), this.updateInfo_("connected", !1), this.serverSyncTree_ = new Oe({
                                    startListening: function(t, e, n, r) {
                                        return i.server_.listen(t, n, e, (function(e, n) {
                                            var o = r(e, n);
                                            i.eventQueue_.raiseEventsForChangedPath(t.path, o)
                                        })), []
                                    },
                                    stopListening: function(t, e) { i.server_.unlisten(t, e) }
                                })
                            }
                            return t.prototype.toString = function() { return (this.repoInfo_.secure ? "https://" : "http://") + this.repoInfo_.host }, t.prototype.name = function() { return this.repoInfo_.namespace }, t.prototype.serverTime = function() { var t = this.infoData_.getNode(new Q(".info/serverTimeOffset")).val() || 0; return (new Date).getTime() + t }, t.prototype.generateServerValues = function() { return (t = (t = { timestamp: this.serverTime() }) || {}).timestamp = t.timestamp || (new Date).getTime(), t; var t }, t.prototype.onDataUpdate_ = function(t, e, n, r) {
                                this.dataUpdateCount++;
                                var i = new Q(t);
                                e = this.interceptServerDataCallback_ ? this.interceptServerDataCallback_(t, e) : e;
                                var o = [];
                                if (r)
                                    if (n) {
                                        var s = a.map(e, (function(t) { return qt(t) }));
                                        o = this.serverSyncTree_.applyTaggedQueryMerge(i, s, r)
                                    } else {
                                        var c = qt(e);
                                        o = this.serverSyncTree_.applyTaggedQueryOverwrite(i, c, r)
                                    }
                                else if (n) {
                                    var l = a.map(e, (function(t) { return qt(t) }));
                                    o = this.serverSyncTree_.applyServerMerge(i, l)
                                } else {
                                    var u = qt(e);
                                    o = this.serverSyncTree_.applyServerOverwrite(i, u)
                                }
                                var h = i;
                                o.length > 0 && (h = this.rerunTransactions_(i)), this.eventQueue_.raiseEventsForChangedPath(h, o)
                            }, t.prototype.interceptServerData_ = function(t) { this.interceptServerDataCallback_ = t }, t.prototype.onConnectStatus_ = function(t) { this.updateInfo_("connected", t), !1 === t && this.runOnDisconnectEvents_() }, t.prototype.onServerInfoUpdate_ = function(t) {
                                var e = this;
                                M(t, (function(t, n) { e.updateInfo_(t, n) }))
                            }, t.prototype.updateInfo_ = function(t, e) {
                                var n = new Q("/.info/" + t),
                                    r = qt(e);
                                this.infoData_.updateSnapshot(n, r);
                                var i = this.infoSyncTree_.applyServerOverwrite(n, r);
                                this.eventQueue_.raiseEventsForChangedPath(n, i)
                            }, t.prototype.getNextWriteId_ = function() { return this.nextWriteId_++ }, t.prototype.setWithPriority = function(t, e, n, r) {
                                var i = this;
                                this.log_("set", { path: t.toString(), value: e, priority: n });
                                var o = this.generateServerValues(),
                                    s = qt(e, n),
                                    a = this.serverSyncTree_.calcCompleteEventCache(t),
                                    c = ie(s, a, o),
                                    l = this.getNextWriteId_(),
                                    u = this.serverSyncTree_.applyUserOverwrite(t, c, l, !0);
                                this.eventQueue_.queueEvents(u), this.server_.put(t.toString(), s.val(!0), (function(e, n) {
                                    var o = "ok" === e;
                                    o || T("set at " + t + " failed: " + e);
                                    var s = i.serverSyncTree_.ackUserWrite(l, !o);
                                    i.eventQueue_.raiseEventsForChangedPath(t, s), i.callOnCompleteCallback(r, e, n)
                                }));
                                var h = this.abortTransactions_(t);
                                this.rerunTransactions_(h), this.eventQueue_.raiseEventsForChangedPath(h, [])
                            }, t.prototype.update = function(t, e, n) {
                                var r = this;
                                this.log_("update", { path: t.toString(), value: e });
                                var i = !0,
                                    o = this.generateServerValues(),
                                    s = {};
                                if (M(e, (function(e, n) { i = !1, s[e] = re(t.child(e), qt(n), r.serverSyncTree_, o) })), i) E("update() called with empty data.  Don't do anything."), this.callOnCompleteCallback(n, "ok");
                                else {
                                    var a = this.getNextWriteId_(),
                                        c = this.serverSyncTree_.applyUserMerge(t, s, a);
                                    this.eventQueue_.queueEvents(c), this.server_.merge(t.toString(), e, (function(e, i) {
                                        var o = "ok" === e;
                                        o || T("update at " + t + " failed: " + e);
                                        var s = r.serverSyncTree_.ackUserWrite(a, !o),
                                            c = s.length > 0 ? r.rerunTransactions_(t) : t;
                                        r.eventQueue_.raiseEventsForChangedPath(c, s), r.callOnCompleteCallback(n, e, i)
                                    })), M(e, (function(e) {
                                        var n = r.abortTransactions_(t.child(e));
                                        r.rerunTransactions_(n)
                                    })), this.eventQueue_.raiseEventsForChangedPath(t, [])
                                }
                            }, t.prototype.runOnDisconnectEvents_ = function() {
                                var t = this;
                                this.log_("onDisconnectEvents");
                                var e = this.generateServerValues(),
                                    n = new ce;
                                this.onDisconnect_.forEachTree(Q.Empty, (function(r, i) {
                                    var o = re(r, i, t.serverSyncTree_, e);
                                    n.remember(r, o)
                                }));
                                var r = [];
                                n.forEachTree(Q.Empty, (function(e, n) {
                                    r = r.concat(t.serverSyncTree_.applyServerOverwrite(e, n));
                                    var i = t.abortTransactions_(e);
                                    t.rerunTransactions_(i)
                                })), this.onDisconnect_ = new ce, this.eventQueue_.raiseEventsForChangedPath(Q.Empty, r)
                            }, t.prototype.onDisconnectCancel = function(t, e) {
                                var n = this;
                                this.server_.onDisconnectCancel(t.toString(), (function(r, i) { "ok" === r && n.onDisconnect_.forget(t), n.callOnCompleteCallback(e, r, i) }))
                            }, t.prototype.onDisconnectSet = function(t, e, n) {
                                var r = this,
                                    i = qt(e);
                                this.server_.onDisconnectPut(t.toString(), i.val(!0), (function(e, o) { "ok" === e && r.onDisconnect_.remember(t, i), r.callOnCompleteCallback(n, e, o) }))
                            }, t.prototype.onDisconnectSetWithPriority = function(t, e, n, r) {
                                var i = this,
                                    o = qt(e, n);
                                this.server_.onDisconnectPut(t.toString(), o.val(!0), (function(e, n) { "ok" === e && i.onDisconnect_.remember(t, o), i.callOnCompleteCallback(r, e, n) }))
                            }, t.prototype.onDisconnectUpdate = function(t, e, n) {
                                var r = this;
                                if (a.isEmpty(e)) return E("onDisconnect().update() called with empty data.  Don't do anything."), void this.callOnCompleteCallback(n, "ok");
                                this.server_.onDisconnectMerge(t.toString(), e, (function(i, o) {
                                    "ok" === i && M(e, (function(e, n) {
                                        var i = qt(n);
                                        r.onDisconnect_.remember(t.child(e), i)
                                    })), r.callOnCompleteCallback(n, i, o)
                                }))
                            }, t.prototype.addEventCallbackForQuery = function(t, e) {
                                var n;
                                n = ".info" === t.path.getFront() ? this.infoSyncTree_.addEventRegistration(t, e) : this.serverSyncTree_.addEventRegistration(t, e), this.eventQueue_.raiseEventsAtPath(t.path, n)
                            }, t.prototype.removeEventCallbackForQuery = function(t, e) {
                                var n;
                                n = ".info" === t.path.getFront() ? this.infoSyncTree_.removeEventRegistration(t, e) : this.serverSyncTree_.removeEventRegistration(t, e), this.eventQueue_.raiseEventsAtPath(t.path, n)
                            }, t.prototype.interrupt = function() { this.persistentConnection_ && this.persistentConnection_.interrupt("repo_interrupt") }, t.prototype.resume = function() { this.persistentConnection_ && this.persistentConnection_.resume("repo_interrupt") }, t.prototype.stats = function(t) {
                                if (void 0 === t && (t = !1), "undefined" != typeof console) {
                                    var e;
                                    t ? (this.statsListener_ || (this.statsListener_ = new Le(this.stats_)), e = this.statsListener_.get()) : e = this.stats_.get();
                                    var n = Object.keys(e).reduce((function(t, e) { return Math.max(e.length, t) }), 0);
                                    M(e, (function(t, e) {
                                        for (var r = t, i = t.length; i < n + 2; i++) r += " ";
                                        console.log(r + e)
                                    }))
                                }
                            }, t.prototype.statsIncrementCounter = function(t) { this.stats_.incrementCounter(t), this.statsReporter_.includeStat(t) }, t.prototype.log_ = function() {
                                for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                                var n = "";
                                this.persistentConnection_ && (n = this.persistentConnection_.id + ":"), E.apply(void 0, s.__spread([n], t))
                            }, t.prototype.callOnCompleteCallback = function(t, e, n) {
                                t && Y((function() {
                                    if ("ok" === e) t(null);
                                    else {
                                        var r = (e || "error").toUpperCase(),
                                            i = r;
                                        n && (i += ": " + n);
                                        var o = new Error(i);
                                        o.code = r, t(o)
                                    }
                                }))
                            }, Object.defineProperty(t.prototype, "database", { get: function() { return this.__database || (this.__database = new hn(this)) }, enumerable: !1, configurable: !0 }), t
                        }(),
                        en = function() {
                            function t(e) { this.indexedFilter_ = new _e(e.getIndex()), this.index_ = e.getIndex(), this.startPost_ = t.getStartPost_(e), this.endPost_ = t.getEndPost_(e) }
                            return t.prototype.getStartPost = function() { return this.startPost_ }, t.prototype.getEndPost = function() { return this.endPost_ }, t.prototype.matches = function(t) { return this.index_.compare(this.getStartPost(), t) <= 0 && this.index_.compare(t, this.getEndPost()) <= 0 }, t.prototype.updateChild = function(t, e, n, r, i, o) { return this.matches(new wt(e, n)) || (n = Vt.EMPTY_NODE), this.indexedFilter_.updateChild(t, e, n, r, i, o) }, t.prototype.updateFullNode = function(t, e, n) {
                                e.isLeafNode() && (e = Vt.EMPTY_NODE);
                                var r = e.withIndex(this.index_);
                                r = r.updatePriority(Vt.EMPTY_NODE);
                                var i = this;
                                return e.forEachChild(It, (function(t, e) { i.matches(new wt(t, e)) || (r = r.updateImmediateChild(t, Vt.EMPTY_NODE)) })), this.indexedFilter_.updateFullNode(t, r, n)
                            }, t.prototype.updatePriority = function(t, e) { return t }, t.prototype.filtersNodes = function() { return !0 }, t.prototype.getIndexedFilter = function() { return this.indexedFilter_ }, t.prototype.getIndex = function() { return this.index_ }, t.getStartPost_ = function(t) { if (t.hasStart()) { var e = t.getIndexStartName(); return t.getIndex().makePost(t.getIndexStartValue(), e) } return t.getIndex().minPost() }, t.getEndPost_ = function(t) { if (t.hasEnd()) { var e = t.getIndexEndName(); return t.getIndex().makePost(t.getIndexEndValue(), e) } return t.getIndex().maxPost() }, t
                        }(),
                        nn = function() {
                            function t(t) { this.rangedFilter_ = new en(t), this.index_ = t.getIndex(), this.limit_ = t.getLimit(), this.reverse_ = !t.isViewFromLeft() }
                            return t.prototype.updateChild = function(t, e, n, r, i, o) { return this.rangedFilter_.matches(new wt(e, n)) || (n = Vt.EMPTY_NODE), t.getImmediateChild(e).equals(n) ? t : t.numChildren() < this.limit_ ? this.rangedFilter_.getIndexedFilter().updateChild(t, e, n, r, i, o) : this.fullLimitUpdateChild_(t, e, n, i, o) }, t.prototype.updateFullNode = function(t, e, n) {
                                var r;
                                if (e.isLeafNode() || e.isEmpty()) r = Vt.EMPTY_NODE.withIndex(this.index_);
                                else if (2 * this.limit_ < e.numChildren() && e.isIndexed(this.index_)) {
                                    r = Vt.EMPTY_NODE.withIndex(this.index_);
                                    var i = void 0;
                                    i = this.reverse_ ? e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(), this.index_) : e.getIteratorFrom(this.rangedFilter_.getStartPost(), this.index_);
                                    for (var o = 0; i.hasNext() && o < this.limit_;) {
                                        var s = i.getNext();
                                        if (!(this.reverse_ ? this.index_.compare(this.rangedFilter_.getStartPost(), s) <= 0 : this.index_.compare(s, this.rangedFilter_.getEndPost()) <= 0)) break;
                                        r = r.updateImmediateChild(s.name, s.node), o++
                                    }
                                } else {
                                    r = (r = e.withIndex(this.index_)).updatePriority(Vt.EMPTY_NODE);
                                    var a = void 0,
                                        c = void 0,
                                        l = void 0;
                                    if (i = void 0, this.reverse_) {
                                        i = r.getReverseIterator(this.index_), a = this.rangedFilter_.getEndPost(), c = this.rangedFilter_.getStartPost();
                                        var u = this.index_.getCompare();
                                        l = function(t, e) { return u(e, t) }
                                    } else i = r.getIterator(this.index_), a = this.rangedFilter_.getStartPost(), c = this.rangedFilter_.getEndPost(), l = this.index_.getCompare();
                                    o = 0;
                                    for (var h = !1; i.hasNext();) s = i.getNext(), !h && l(a, s) <= 0 && (h = !0), h && o < this.limit_ && l(s, c) <= 0 ? o++ : r = r.updateImmediateChild(s.name, Vt.EMPTY_NODE)
                                }
                                return this.rangedFilter_.getIndexedFilter().updateFullNode(t, r, n)
                            }, t.prototype.updatePriority = function(t, e) { return t }, t.prototype.filtersNodes = function() { return !0 }, t.prototype.getIndexedFilter = function() { return this.rangedFilter_.getIndexedFilter() }, t.prototype.getIndex = function() { return this.index_ }, t.prototype.fullLimitUpdateChild_ = function(t, e, n, r, i) {
                                var o;
                                if (this.reverse_) {
                                    var s = this.index_.getCompare();
                                    o = function(t, e) { return s(e, t) }
                                } else o = this.index_.getCompare();
                                var c = t;
                                a.assert(c.numChildren() === this.limit_, "");
                                var l = new wt(e, n),
                                    u = this.reverse_ ? c.getFirstChild(this.index_) : c.getLastChild(this.index_),
                                    h = this.rangedFilter_.matches(l);
                                if (c.hasChild(e)) {
                                    for (var d = c.getImmediateChild(e), p = r.getChildAfterChild(this.index_, u, this.reverse_); null != p && (p.name === e || c.hasChild(p.name));) p = r.getChildAfterChild(this.index_, p, this.reverse_);
                                    var f = null == p ? 1 : o(p, l);
                                    if (h && !n.isEmpty() && f >= 0) return null != i && i.trackChildChange(ve.childChangedChange(e, n, d)), c.updateImmediateChild(e, n);
                                    null != i && i.trackChildChange(ve.childRemovedChange(e, d));
                                    var m = c.updateImmediateChild(e, Vt.EMPTY_NODE);
                                    return null != p && this.rangedFilter_.matches(p) ? (null != i && i.trackChildChange(ve.childAddedChange(p.name, p.node)), m.updateImmediateChild(p.name, p.node)) : m
                                }
                                return n.isEmpty() ? t : h && o(u, l) >= 0 ? (null != i && (i.trackChildChange(ve.childRemovedChange(u.name, u.node)), i.trackChildChange(ve.childAddedChange(e, n))), c.updateImmediateChild(e, n).updateImmediateChild(u.name, Vt.EMPTY_NODE)) : t
                            }, t
                        }(),
                        rn = function() {
                            function t() { this.limitSet_ = !1, this.startSet_ = !1, this.startNameSet_ = !1, this.endSet_ = !1, this.endNameSet_ = !1, this.limit_ = 0, this.viewFrom_ = "", this.indexStartValue_ = null, this.indexStartName_ = "", this.indexEndValue_ = null, this.indexEndName_ = "", this.index_ = It }
                            return t.prototype.hasStart = function() { return this.startSet_ }, t.prototype.isViewFromLeft = function() { return "" === this.viewFrom_ ? this.startSet_ : this.viewFrom_ === t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT }, t.prototype.getIndexStartValue = function() { return a.assert(this.startSet_, "Only valid if start has been set"), this.indexStartValue_ }, t.prototype.getIndexStartName = function() { return a.assert(this.startSet_, "Only valid if start has been set"), this.startNameSet_ ? this.indexStartName_ : I }, t.prototype.hasEnd = function() { return this.endSet_ }, t.prototype.getIndexEndValue = function() { return a.assert(this.endSet_, "Only valid if end has been set"), this.indexEndValue_ }, t.prototype.getIndexEndName = function() { return a.assert(this.endSet_, "Only valid if end has been set"), this.endNameSet_ ? this.indexEndName_ : A }, t.prototype.hasLimit = function() { return this.limitSet_ }, t.prototype.hasAnchoredLimit = function() { return this.limitSet_ && "" !== this.viewFrom_ }, t.prototype.getLimit = function() { return a.assert(this.limitSet_, "Only valid if limit has been set"), this.limit_ }, t.prototype.getIndex = function() { return this.index_ }, t.prototype.copy_ = function() { var e = new t; return e.limitSet_ = this.limitSet_, e.limit_ = this.limit_, e.startSet_ = this.startSet_, e.indexStartValue_ = this.indexStartValue_, e.startNameSet_ = this.startNameSet_, e.indexStartName_ = this.indexStartName_, e.endSet_ = this.endSet_, e.indexEndValue_ = this.indexEndValue_, e.endNameSet_ = this.endNameSet_, e.indexEndName_ = this.indexEndName_, e.index_ = this.index_, e.viewFrom_ = this.viewFrom_, e }, t.prototype.limit = function(t) { var e = this.copy_(); return e.limitSet_ = !0, e.limit_ = t, e.viewFrom_ = "", e }, t.prototype.limitToFirst = function(e) { var n = this.copy_(); return n.limitSet_ = !0, n.limit_ = e, n.viewFrom_ = t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT, n }, t.prototype.limitToLast = function(e) { var n = this.copy_(); return n.limitSet_ = !0, n.limit_ = e, n.viewFrom_ = t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT, n }, t.prototype.startAt = function(t, e) { var n = this.copy_(); return n.startSet_ = !0, void 0 === t && (t = null), n.indexStartValue_ = t, null != e ? (n.startNameSet_ = !0, n.indexStartName_ = e) : (n.startNameSet_ = !1, n.indexStartName_ = ""), n }, t.prototype.endAt = function(t, e) { var n = this.copy_(); return n.endSet_ = !0, void 0 === t && (t = null), n.indexEndValue_ = t, void 0 !== e ? (n.endNameSet_ = !0, n.indexEndName_ = e) : (n.endNameSet_ = !1, n.indexEndName_ = ""), n }, t.prototype.orderBy = function(t) { var e = this.copy_(); return e.index_ = t, e }, t.prototype.getQueryObject = function() {
                                var e = t.WIRE_PROTOCOL_CONSTANTS_,
                                    n = {};
                                if (this.startSet_ && (n[e.INDEX_START_VALUE] = this.indexStartValue_, this.startNameSet_ && (n[e.INDEX_START_NAME] = this.indexStartName_)), this.endSet_ && (n[e.INDEX_END_VALUE] = this.indexEndValue_, this.endNameSet_ && (n[e.INDEX_END_NAME] = this.indexEndName_)), this.limitSet_) { n[e.LIMIT] = this.limit_; var r = this.viewFrom_; "" === r && (r = this.isViewFromLeft() ? e.VIEW_FROM_LEFT : e.VIEW_FROM_RIGHT), n[e.VIEW_FROM] = r }
                                return this.index_ !== It && (n[e.INDEX] = this.index_.toString()), n
                            }, t.prototype.loadsAllData = function() { return !(this.startSet_ || this.endSet_ || this.limitSet_) }, t.prototype.isDefault = function() { return this.loadsAllData() && this.index_ === It }, t.prototype.getNodeFilter = function() { return this.loadsAllData() ? new _e(this.getIndex()) : this.hasLimit() ? new nn(this) : new en(this) }, t.prototype.toRestQueryStringParameters = function() {
                                var e, n = t.REST_QUERY_CONSTANTS_,
                                    r = {};
                                return this.isDefault() ? r : (this.index_ === It ? e = n.PRIORITY_INDEX : this.index_ === Wt ? e = n.VALUE_INDEX : this.index_ === Ct ? e = n.KEY_INDEX : (a.assert(this.index_ instanceof zt, "Unrecognized index type!"), e = this.index_.toString()), r[n.ORDER_BY] = a.stringify(e), this.startSet_ && (r[n.START_AT] = a.stringify(this.indexStartValue_), this.startNameSet_ && (r[n.START_AT] += "," + a.stringify(this.indexStartName_))), this.endSet_ && (r[n.END_AT] = a.stringify(this.indexEndValue_), this.endNameSet_ && (r[n.END_AT] += "," + a.stringify(this.indexEndName_))), this.limitSet_ && (this.isViewFromLeft() ? r[n.LIMIT_TO_FIRST] = this.limit_ : r[n.LIMIT_TO_LAST] = this.limit_), r)
                            }, t.WIRE_PROTOCOL_CONSTANTS_ = { INDEX_START_VALUE: "sp", INDEX_START_NAME: "sn", INDEX_END_VALUE: "ep", INDEX_END_NAME: "en", LIMIT: "l", VIEW_FROM: "vf", VIEW_FROM_LEFT: "l", VIEW_FROM_RIGHT: "r", INDEX: "i" }, t.REST_QUERY_CONSTANTS_ = { ORDER_BY: "orderBy", PRIORITY_INDEX: "$priority", VALUE_INDEX: "$value", KEY_INDEX: "$key", START_AT: "startAt", END_AT: "endAt", LIMIT_TO_FIRST: "limitToFirst", LIMIT_TO_LAST: "limitToLast" }, t.DEFAULT = new t, t
                        }(),
                        on = function(t) {
                            function e(e, n) { if (!(e instanceof tn)) throw new Error("new Reference() no longer supported - use app.database()."); return t.call(this, e, n, rn.DEFAULT, !1) || this }
                            return s.__extends(e, t), e.prototype.getKey = function() { return a.validateArgCount("Reference.key", 0, 0, arguments.length), this.path.isEmpty() ? null : this.path.getBack() }, e.prototype.child = function(t) { return a.validateArgCount("Reference.child", 1, 1, arguments.length), "number" == typeof t ? t = String(t) : t instanceof Q || (null === this.path.getFront() ? ft("Reference.child", 1, t, !1) : pt("Reference.child", 1, t, !1)), new e(this.repo, this.path.child(t)) }, e.prototype.getParent = function() { a.validateArgCount("Reference.parent", 0, 0, arguments.length); var t = this.path.parent(); return null === t ? null : new e(this.repo, t) }, e.prototype.getRoot = function() { a.validateArgCount("Reference.root", 0, 0, arguments.length); for (var t = this; null !== t.getParent();) t = t.getParent(); return t }, e.prototype.databaseProp = function() { return this.repo.database }, e.prototype.set = function(t, e) { a.validateArgCount("Reference.set", 1, 2, arguments.length), mt("Reference.set", this.path), at("Reference.set", 1, t, this.path, !1), a.validateCallback("Reference.set", 2, e, !0); var n = new a.Deferred; return this.repo.setWithPriority(this.path, t, null, n.wrapCallback(e)), n.promise }, e.prototype.update = function(t, e) {
                                if (a.validateArgCount("Reference.update", 1, 2, arguments.length), mt("Reference.update", this.path), Array.isArray(t)) {
                                    for (var n = {}, r = 0; r < t.length; ++r) n["" + r] = t[r];
                                    t = n, T("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")
                                }
                                lt("Reference.update", 1, t, this.path, !1), a.validateCallback("Reference.update", 2, e, !0);
                                var i = new a.Deferred;
                                return this.repo.update(this.path, t, i.wrapCallback(e)), i.promise
                            }, e.prototype.setWithPriority = function(t, e, n) { if (a.validateArgCount("Reference.setWithPriority", 2, 3, arguments.length), mt("Reference.setWithPriority", this.path), at("Reference.setWithPriority", 1, t, this.path, !1), ut("Reference.setWithPriority", 2, e, !1), a.validateCallback("Reference.setWithPriority", 3, n, !0), ".length" === this.getKey() || ".keys" === this.getKey()) throw "Reference.setWithPriority failed: " + this.getKey() + " is a read-only object."; var r = new a.Deferred; return this.repo.setWithPriority(this.path, t, e, r.wrapCallback(n)), r.promise }, e.prototype.remove = function(t) { return a.validateArgCount("Reference.remove", 0, 1, arguments.length), mt("Reference.remove", this.path), a.validateCallback("Reference.remove", 1, t, !0), this.set(null, t) }, e.prototype.transaction = function(t, e, n) {
                                if (a.validateArgCount("Reference.transaction", 1, 3, arguments.length), mt("Reference.transaction", this.path), a.validateCallback("Reference.transaction", 1, t, !1), a.validateCallback("Reference.transaction", 2, e, !0), yt("Reference.transaction", 3, n, !0), ".length" === this.getKey() || ".keys" === this.getKey()) throw "Reference.transaction failed: " + this.getKey() + " is a read-only object.";
                                void 0 === n && (n = !0);
                                var r = new a.Deferred;
                                "function" == typeof e && r.promise.catch((function() {}));
                                var i = function(t, n, i) { t ? r.reject(t) : r.resolve(new _t(n, i)), "function" == typeof e && e(t, n, i) };
                                return this.repo.startTransaction(this.path, t, i, n), r.promise
                            }, e.prototype.setPriority = function(t, e) { a.validateArgCount("Reference.setPriority", 1, 2, arguments.length), mt("Reference.setPriority", this.path), ut("Reference.setPriority", 1, t, !1), a.validateCallback("Reference.setPriority", 2, e, !0); var n = new a.Deferred; return this.repo.setWithPriority(this.path.child(".priority"), t, null, n.wrapCallback(e)), n.promise }, e.prototype.push = function(t, e) {
                                a.validateArgCount("Reference.push", 0, 2, arguments.length), mt("Reference.push", this.path), at("Reference.push", 1, t, this.path, !0), a.validateCallback("Reference.push", 2, e, !0);
                                var n, r = this.repo.serverTime(),
                                    i = bt(r),
                                    o = this.child(i),
                                    s = this.child(i);
                                return n = null != t ? o.set(t, e).then((function() { return s })) : Promise.resolve(s), o.then = n.then.bind(n), o.catch = n.then.bind(n, void 0), "function" == typeof e && n.catch((function() {})), o
                            }, e.prototype.onDisconnect = function() { return mt("Reference.onDisconnect", this.path), new vt(this.repo, this.path) }, Object.defineProperty(e.prototype, "database", { get: function() { return this.databaseProp() }, enumerable: !1, configurable: !0 }), Object.defineProperty(e.prototype, "key", { get: function() { return this.getKey() }, enumerable: !1, configurable: !0 }), Object.defineProperty(e.prototype, "parent", { get: function() { return this.getParent() }, enumerable: !1, configurable: !0 }), Object.defineProperty(e.prototype, "root", { get: function() { return this.getRoot() }, enumerable: !1, configurable: !0 }), e
                        }(Qt);
                    Qt.__referenceConstructor = on, ke.__referenceConstructor = on;
                    var sn = function() { return function() { this.children = {}, this.childCount = 0, this.value = null } }(),
                        an = function() {
                            function t(t, e, n) { void 0 === t && (t = ""), void 0 === e && (e = null), void 0 === n && (n = new sn), this.name_ = t, this.parent_ = e, this.node_ = n }
                            return t.prototype.subTree = function(e) { for (var n = e instanceof Q ? e : new Q(e), r = this, i = n.getFront(); null !== i;) r = new t(i, r, a.safeGet(r.node_.children, i) || new sn), i = (n = n.popFront()).getFront(); return r }, t.prototype.getValue = function() { return this.node_.value }, t.prototype.setValue = function(t) { a.assert(void 0 !== t, "Cannot set value to undefined"), this.node_.value = t, this.updateParents_() }, t.prototype.clear = function() { this.node_.value = null, this.node_.children = {}, this.node_.childCount = 0, this.updateParents_() }, t.prototype.hasChildren = function() { return this.node_.childCount > 0 }, t.prototype.isEmpty = function() { return null === this.getValue() && !this.hasChildren() }, t.prototype.forEachChild = function(e) {
                                var n = this;
                                M(this.node_.children, (function(r, i) { e(new t(r, n, i)) }))
                            }, t.prototype.forEachDescendant = function(t, e, n) { e && !n && t(this), this.forEachChild((function(e) { e.forEachDescendant(t, !0, n) })), e && n && t(this) }, t.prototype.forEachAncestor = function(t, e) {
                                for (var n = e ? this : this.parent(); null !== n;) {
                                    if (t(n)) return !0;
                                    n = n.parent()
                                }
                                return !1
                            }, t.prototype.forEachImmediateDescendantWithValue = function(t) { this.forEachChild((function(e) { null !== e.getValue() ? t(e) : e.forEachImmediateDescendantWithValue(t) })) }, t.prototype.path = function() { return new Q(null === this.parent_ ? this.name_ : this.parent_.path() + "/" + this.name_) }, t.prototype.name = function() { return this.name_ }, t.prototype.parent = function() { return this.parent_ }, t.prototype.updateParents_ = function() { null !== this.parent_ && this.parent_.updateChild_(this.name_, this) }, t.prototype.updateChild_ = function(t, e) {
                                var n = e.isEmpty(),
                                    r = a.contains(this.node_.children, t);
                                n && r ? (delete this.node_.children[t], this.node_.childCount--, this.updateParents_()) : n || r || (this.node_.children[t] = e.node_, this.node_.childCount++, this.updateParents_())
                            }, t
                        }(),
                        cn = function(t) { return t[t.RUN = 0] = "RUN", t[t.SENT = 1] = "SENT", t[t.COMPLETED = 2] = "COMPLETED", t[t.SENT_NEEDS_ABORT = 3] = "SENT_NEEDS_ABORT", t[t.NEEDS_ABORT = 4] = "NEEDS_ABORT", t }({});
                    tn.MAX_TRANSACTION_RETRIES_ = 25, tn.prototype.transactionsInit_ = function() { this.transactionQueueTree_ = new an }, tn.prototype.startTransaction = function(t, e, n, r) {
                        this.log_("transaction on " + t);
                        var i = function() {},
                            o = new on(this, t);
                        o.on("value", i);
                        var s = { path: t, update: e, onComplete: n, status: null, order: g(), applyLocally: r, retryCount: 0, unwatcher: function() { o.off("value", i) }, abortReason: null, currentWriteId: null, currentInputSnapshot: null, currentOutputSnapshotRaw: null, currentOutputSnapshotResolved: null },
                            c = this.getLatestState_(t);
                        s.currentInputSnapshot = c;
                        var l = s.update(c.val());
                        if (void 0 === l) {
                            if (s.unwatcher(), s.currentOutputSnapshotRaw = null, s.currentOutputSnapshotResolved = null, s.onComplete) {
                                var u = new Gt(s.currentInputSnapshot, new on(this, s.path), It);
                                s.onComplete(null, !1, u)
                            }
                        } else {
                            ct("transaction failed: Data returned ", l, s.path), s.status = cn.RUN;
                            var h = this.transactionQueueTree_.subTree(t),
                                d = h.getValue() || [];
                            d.push(s), h.setValue(d);
                            var p = void 0;
                            "object" == typeof l && null !== l && a.contains(l, ".priority") ? (p = a.safeGet(l, ".priority"), a.assert(st(p), "Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")) : p = (this.serverSyncTree_.calcCompleteEventCache(t) || Vt.EMPTY_NODE).getPriority().val(), p = p;
                            var f = this.generateServerValues(),
                                m = qt(l, p),
                                y = ie(m, c, f);
                            s.currentOutputSnapshotRaw = m, s.currentOutputSnapshotResolved = y, s.currentWriteId = this.getNextWriteId_();
                            var v = this.serverSyncTree_.applyUserOverwrite(t, y, s.currentWriteId, s.applyLocally);
                            this.eventQueue_.raiseEventsForChangedPath(t, v), this.sendReadyTransactions_()
                        }
                    }, tn.prototype.getLatestState_ = function(t, e) { return this.serverSyncTree_.calcCompleteEventCache(t, e) || Vt.EMPTY_NODE }, tn.prototype.sendReadyTransactions_ = function(t) {
                        var e = this;
                        if (void 0 === t && (t = this.transactionQueueTree_), t || this.pruneCompletedTransactionsBelowNode_(t), null !== t.getValue()) {
                            var n = this.buildTransactionQueue_(t);
                            a.assert(n.length > 0, "Sending zero length transaction queue"), n.every((function(t) { return t.status === cn.RUN })) && this.sendTransactionQueue_(t.path(), n)
                        } else t.hasChildren() && t.forEachChild((function(t) { e.sendReadyTransactions_(t) }))
                    }, tn.prototype.sendTransactionQueue_ = function(t, e) {
                        for (var n = this, r = e.map((function(t) { return t.currentWriteId })), i = this.getLatestState_(t, r), o = i, s = i.hash(), c = 0; c < e.length; c++) {
                            var l = e[c];
                            a.assert(l.status === cn.RUN, "tryToSendTransactionQueue_: items in queue should all be run."), l.status = cn.SENT, l.retryCount++;
                            var u = Q.relativePath(t, l.path);
                            o = o.updateChild(u, l.currentOutputSnapshotRaw)
                        }
                        var h = o.val(!0),
                            d = t;
                        this.server_.put(d.toString(), h, (function(r) {
                            n.log_("transaction put response", { path: d.toString(), status: r });
                            var i = [];
                            if ("ok" === r) {
                                for (var o = [], s = 0; s < e.length; s++) {
                                    if (e[s].status = cn.COMPLETED, i = i.concat(n.serverSyncTree_.ackUserWrite(e[s].currentWriteId)), e[s].onComplete) {
                                        var a = e[s].currentOutputSnapshotResolved,
                                            c = new on(n, e[s].path),
                                            l = new Gt(a, c, It);
                                        o.push(e[s].onComplete.bind(null, null, !0, l))
                                    }
                                    e[s].unwatcher()
                                }
                                for (n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)), n.sendReadyTransactions_(), n.eventQueue_.raiseEventsForChangedPath(t, i), s = 0; s < o.length; s++) Y(o[s])
                            } else {
                                if ("datastale" === r)
                                    for (s = 0; s < e.length; s++) e[s].status = e[s].status === cn.SENT_NEEDS_ABORT ? cn.NEEDS_ABORT : cn.RUN;
                                else
                                    for (T("transaction at " + d.toString() + " failed: " + r), s = 0; s < e.length; s++) e[s].status = cn.NEEDS_ABORT, e[s].abortReason = r;
                                n.rerunTransactions_(t)
                            }
                        }), s)
                    }, tn.prototype.rerunTransactions_ = function(t) {
                        var e = this.getAncestorTransactionNode_(t),
                            n = e.path(),
                            r = this.buildTransactionQueue_(e);
                        return this.rerunTransactionQueue_(r, n), n
                    }, tn.prototype.rerunTransactionQueue_ = function(t, e) {
                        if (0 !== t.length) {
                            for (var n = [], r = [], i = t.filter((function(t) { return t.status === cn.RUN })).map((function(t) { return t.currentWriteId })), o = 0; o < t.length; o++) {
                                var s = t[o],
                                    c = Q.relativePath(e, s.path),
                                    l = !1,
                                    u = void 0;
                                if (a.assert(null !== c, "rerunTransactionsUnderNode_: relativePath should not be null."), s.status === cn.NEEDS_ABORT) l = !0, u = s.abortReason, r = r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId, !0));
                                else if (s.status === cn.RUN)
                                    if (s.retryCount >= tn.MAX_TRANSACTION_RETRIES_) l = !0, u = "maxretry", r = r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId, !0));
                                    else {
                                        var h = this.getLatestState_(s.path, i);
                                        s.currentInputSnapshot = h;
                                        var d = t[o].update(h.val());
                                        if (void 0 !== d) {
                                            ct("transaction failed: Data returned ", d, s.path);
                                            var p = qt(d);
                                            "object" == typeof d && null != d && a.contains(d, ".priority") || (p = p.updatePriority(h.getPriority()));
                                            var f = s.currentWriteId,
                                                m = this.generateServerValues(),
                                                g = ie(p, h, m);
                                            s.currentOutputSnapshotRaw = p, s.currentOutputSnapshotResolved = g, s.currentWriteId = this.getNextWriteId_(), i.splice(i.indexOf(f), 1), r = (r = r.concat(this.serverSyncTree_.applyUserOverwrite(s.path, g, s.currentWriteId, s.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(f, !0))
                                        } else l = !0, u = "nodata", r = r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId, !0))
                                    }
                                if (this.eventQueue_.raiseEventsForChangedPath(e, r), r = [], l && (t[o].status = cn.COMPLETED, setTimeout(t[o].unwatcher, Math.floor(0)), t[o].onComplete))
                                    if ("nodata" === u) {
                                        var y = new on(this, t[o].path),
                                            v = new Gt(t[o].currentInputSnapshot, y, It);
                                        n.push(t[o].onComplete.bind(null, null, !1, v))
                                    } else n.push(t[o].onComplete.bind(null, new Error(u), !1, null))
                            }
                            for (this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_), o = 0; o < n.length; o++) Y(n[o]);
                            this.sendReadyTransactions_()
                        }
                    }, tn.prototype.getAncestorTransactionNode_ = function(t) { var e, n = this.transactionQueueTree_; for (e = t.getFront(); null !== e && null === n.getValue();) n = n.subTree(e), e = (t = t.popFront()).getFront(); return n }, tn.prototype.buildTransactionQueue_ = function(t) { var e = []; return this.aggregateTransactionQueuesForNode_(t, e), e.sort((function(t, e) { return t.order - e.order })), e }, tn.prototype.aggregateTransactionQueuesForNode_ = function(t, e) {
                        var n = this,
                            r = t.getValue();
                        if (null !== r)
                            for (var i = 0; i < r.length; i++) e.push(r[i]);
                        t.forEachChild((function(t) { n.aggregateTransactionQueuesForNode_(t, e) }))
                    }, tn.prototype.pruneCompletedTransactionsBelowNode_ = function(t) {
                        var e = this,
                            n = t.getValue();
                        if (n) {
                            for (var r = 0, i = 0; i < n.length; i++) n[i].status !== cn.COMPLETED && (n[r] = n[i], r++);
                            n.length = r, t.setValue(n.length > 0 ? n : null)
                        }
                        t.forEachChild((function(t) { e.pruneCompletedTransactionsBelowNode_(t) }))
                    }, tn.prototype.abortTransactions_ = function(t) {
                        var e = this,
                            n = this.getAncestorTransactionNode_(t).path(),
                            r = this.transactionQueueTree_.subTree(t);
                        return r.forEachAncestor((function(t) { e.abortTransactionsOnNode_(t) })), this.abortTransactionsOnNode_(r), r.forEachDescendant((function(t) { e.abortTransactionsOnNode_(t) })), n
                    }, tn.prototype.abortTransactionsOnNode_ = function(t) { var e = t.getValue(); if (null !== e) { for (var n = [], r = [], i = -1, o = 0; o < e.length; o++) e[o].status === cn.SENT_NEEDS_ABORT || (e[o].status === cn.SENT ? (a.assert(i === o - 1, "All SENT items should be at beginning of queue."), i = o, e[o].status = cn.SENT_NEEDS_ABORT, e[o].abortReason = "set") : (a.assert(e[o].status === cn.RUN, "Unexpected transaction status in abort"), e[o].unwatcher(), r = r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId, !0)), e[o].onComplete && n.push(e[o].onComplete.bind(null, new Error("set"), !1, null)))); for (-1 === i ? t.setValue(null) : e.length = i + 1, this.eventQueue_.raiseEventsForChangedPath(t.path(), r), o = 0; o < n.length; o++) Y(n[o]) } };
                    var ln, un = function() {
                            function t() { this.repos_ = {}, this.useRestClient_ = !1 }
                            return t.getInstance = function() { return ln || (ln = new t), ln }, t.prototype.interrupt = function() { var t, e, n, r; try { for (var i = s.__values(Object.keys(this.repos_)), o = i.next(); !o.done; o = i.next()) { var a = o.value; try { for (var c = (n = void 0, s.__values(Object.keys(this.repos_[a]))), l = c.next(); !l.done; l = c.next()) this.repos_[a][l.value].interrupt() } catch (u) { n = { error: u } } finally { try { l && !l.done && (r = c.return) && r.call(c) } finally { if (n) throw n.error } } } } catch (h) { t = { error: h } } finally { try { o && !o.done && (e = i.return) && e.call(i) } finally { if (t) throw t.error } } }, t.prototype.resume = function() { var t, e, n, r; try { for (var i = s.__values(Object.keys(this.repos_)), o = i.next(); !o.done; o = i.next()) { var a = o.value; try { for (var c = (n = void 0, s.__values(Object.keys(this.repos_[a]))), l = c.next(); !l.done; l = c.next()) this.repos_[a][l.value].resume() } catch (u) { n = { error: u } } finally { try { l && !l.done && (r = c.return) && r.call(c) } finally { if (n) throw n.error } } } } catch (h) { t = { error: h } } finally { try { o && !o.done && (e = i.return) && e.call(i) } finally { if (t) throw t.error } } }, t.prototype.databaseFromApp = function(t, e, n) {
                                var r = n || t.options.databaseURL;
                                void 0 === r && x("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");
                                var i = tt(r),
                                    o = i.repoInfo,
                                    s = void 0;
                                return "undefined" != typeof process && (s = process.env.FIREBASE_DATABASE_EMULATOR_HOST), s && (o = (i = tt(r = "http://" + s + "?ns=" + o.namespace)).repoInfo), gt("Invalid Firebase Database URL", 1, i), i.path.isEmpty() || x("Database URL must point to the root of a Firebase Database (not including a child path)."), this.createRepo(o, t, e).database
                            }, t.prototype.deleteRepo = function(t) {
                                var e = a.safeGet(this.repos_, t.app.name);
                                e && a.safeGet(e, t.repoInfo_.toURLString()) === t || x("Database " + t.app.name + "(" + t.repoInfo_ + ") has already been deleted."), t.interrupt(), delete e[t.repoInfo_.toURLString()]
                            }, t.prototype.createRepo = function(t, e, n) {
                                var r = a.safeGet(this.repos_, e.name);
                                r || (this.repos_[e.name] = r = {});
                                var i = a.safeGet(r, t.toURLString());
                                return i && x("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."), i = new tn(t, this.useRestClient_, e, n), r[t.toURLString()] = i, i
                            }, t.prototype.forceRestClient = function(t) { this.useRestClient_ = t }, t
                        }(),
                        hn = function() {
                            function t(t) { this.repo_ = t, t instanceof tn || x("Don't call new Database() directly - please use firebase.database()."), this.root_ = new on(t, Q.Empty), this.INTERNAL = new dn(this) }
                            return Object.defineProperty(t.prototype, "app", { get: function() { return this.repo_.app }, enumerable: !1, configurable: !0 }), t.prototype.ref = function(t) { return this.checkDeleted_("ref"), a.validateArgCount("database.ref", 0, 1, arguments.length), t instanceof on ? this.refFromURL(t.toString()) : void 0 !== t ? this.root_.child(t) : this.root_ }, t.prototype.refFromURL = function(t) {
                                var e = "database.refFromURL";
                                this.checkDeleted_(e), a.validateArgCount(e, 1, 1, arguments.length);
                                var n = tt(t);
                                gt(e, 1, n);
                                var r = n.repoInfo;
                                return r.host !== this.repo_.repoInfo_.host && x(e + ": Host name does not match the current database: (found " + r.host + " but expected " + this.repo_.repoInfo_.host + ")"), this.ref(n.path.toString())
                            }, t.prototype.checkDeleted_ = function(t) { null === this.repo_ && x("Cannot call " + t + " on a deleted database.") }, t.prototype.goOffline = function() { a.validateArgCount("database.goOffline", 0, 0, arguments.length), this.checkDeleted_("goOffline"), this.repo_.interrupt() }, t.prototype.goOnline = function() { a.validateArgCount("database.goOnline", 0, 0, arguments.length), this.checkDeleted_("goOnline"), this.repo_.resume() }, t.ServerValue = { TIMESTAMP: { ".sv": "timestamp" }, increment: function(t) { return { ".sv": { increment: t } } } }, t
                        }(),
                        dn = function() {
                            function t(t) { this.database = t }
                            return t.prototype.delete = function() { return s.__awaiter(this, void 0, void 0, (function() { return s.__generator(this, (function(t) { return this.database.checkDeleted_("delete"), un.getInstance().deleteRepo(this.database.repo_), this.database.repo_ = null, this.database.root_ = null, this.database.INTERNAL = null, this.database = null, [2] })) })) }, t
                        }(),
                        pn = Object.freeze({ __proto__: null, forceLongPolling: function() { Ke.forceDisallow(), We.forceAllow() }, forceWebSockets: function() { We.forceDisallow() }, isWebSocketsAvailable: function() { return Ke.isAvailable() }, setSecurityDebugCallback: function(t, e) { t.repo.persistentConnection_.securityDebugCallback_ = e }, stats: function(t, e) { t.repo.stats(e) }, statsIncrementCounter: function(t, e) { t.repo.statsIncrementCounter(e) }, dataUpdateCount: function(t) { return t.repo.dataUpdateCount }, interceptServerData: function(t, e) { return t.repo.interceptServerData_(e) } }),
                        fn = Ze;
                    Ze.prototype.simpleListen = function(t, e) { this.sendRequest("q", { p: t }, e) }, Ze.prototype.echo = function(t, e) { this.sendRequest("echo", { d: t }, e) };
                    var mn = Object.freeze({
                            __proto__: null,
                            DataConnection: fn,
                            RealTimeConnection: Xe,
                            hijackHash: function(t) {
                                var e = Ze.prototype.put;
                                return Ze.prototype.put = function(n, r, i, o) { void 0 !== o && (o = t()), e.call(this, n, r, i, o) },
                                    function() { Ze.prototype.put = e }
                            },
                            ConnectionTarget: J,
                            queryIdentifier: function(t) { return t.queryIdentifier() },
                            forceRestClient: function(t) { un.getInstance().forceRestClient(t) }
                        }),
                        gn = hn.ServerValue;

                    function yn(e) {
                        Ge = e.SDK_VERSION;
                        var n = e.INTERNAL.registerComponent(new l.Component("database", (function(t, e) {
                            var n = t.getProvider("app").getImmediate(),
                                r = t.getProvider("auth-internal");
                            return un.getInstance().databaseFromApp(n, r, e)
                        }), "PUBLIC").setServiceProps({ Reference: on, Query: Qt, Database: hn, DataSnapshot: Gt, enableLogging: w, INTERNAL: pn, ServerValue: gn, TEST_ACCESS: mn }).setMultipleInstances(!0));
                        e.registerVersion("@firebase/database", "0.6.7"), a.isNodeSdk() && (t.exports = n)
                    }
                    yn(o), e.DataSnapshot = Gt, e.Database = hn, e.OnDisconnect = vt, e.Query = Qt, e.Reference = on, e.ServerValue = gn, e.enableLogging = w, e.registerDatabase = yn
                },
                O1kn: function(t, e, n) {
                    "use strict";
                    Object.defineProperty(e, "__esModule", { value: !0 });
                    var r, i = (r = n("wj3C")) && "object" == typeof r && "default" in r ? r.default : r;
                    n("fSjL");
                    var o, s = n("mrSG"),
                        a = n("zVF4"),
                        c = n("q/0M"),
                        l = n("S+S0"),
                        u = function() {
                            function t(t, e, n, r) { this.client = t, this.storage = e, this.storageCache = n, this.logger = r }
                            return t.prototype.isCachedDataFresh = function(t, e) {
                                if (!e) return this.logger.debug("Config fetch cache check. Cache unpopulated."), !1;
                                var n = Date.now() - e,
                                    r = n <= t;
                                return this.logger.debug("Config fetch cache check. Cache age millis: " + n + ". Cache max age millis (minimumFetchIntervalMillis setting): " + t + ". Is cache hit: " + r + "."), r
                            }, t.prototype.fetch = function(t) {
                                return s.__awaiter(this, void 0, void 0, (function() {
                                    var e, n, r, i, o;
                                    return s.__generator(this, (function(s) {
                                        switch (s.label) {
                                            case 0:
                                                return [4, Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(), this.storage.getLastSuccessfulFetchResponse()])];
                                            case 1:
                                                return e = s.sent(), n = e[0], (r = e[1]) && this.isCachedDataFresh(t.cacheMaxAgeMillis, n) ? [2, r] : (t.eTag = r && r.eTag, [4, this.client.fetch(t)]);
                                            case 2:
                                                return i = s.sent(), o = [this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())], 200 === i.status && o.push(this.storage.setLastSuccessfulFetchResponse(i)), [4, Promise.all(o)];
                                            case 3:
                                                return s.sent(), [2, i]
                                        }
                                    }))
                                }))
                            }, t
                        }(),
                        h = ((o = {})["registration-window"] = "Undefined window object. This SDK only supports usage in a browser environment.", o["registration-project-id"] = "Undefined project identifier. Check Firebase app initialization.", o["registration-api-key"] = "Undefined API key. Check Firebase app initialization.", o["registration-app-id"] = "Undefined app identifier. Check Firebase app initialization.", o["storage-open"] = "Error thrown when opening storage. Original error: {$originalErrorMessage}.", o["storage-get"] = "Error thrown when reading from storage. Original error: {$originalErrorMessage}.", o["storage-set"] = "Error thrown when writing to storage. Original error: {$originalErrorMessage}.", o["storage-delete"] = "Error thrown when deleting from storage. Original error: {$originalErrorMessage}.", o["fetch-client-network"] = "Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.", o["fetch-timeout"] = 'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.', o["fetch-throttle"] = 'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.', o["fetch-client-parse"] = "Fetch client could not parse response. Original error: {$originalErrorMessage}.", o["fetch-status"] = "Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.", o),
                        d = new a.ErrorFactory("remoteconfig", "Remote Config", h),
                        p = function() {
                            function t(t, e, n, r, i, o) { this.firebaseInstallations = t, this.sdkVersion = e, this.namespace = n, this.projectId = r, this.apiKey = i, this.appId = o }
                            return t.prototype.fetch = function(t) {
                                return s.__awaiter(this, void 0, void 0, (function() {
                                    var e, n, r, i, o, a, c, l, u, h, p, f, m, g, y, v;
                                    return s.__generator(this, (function(s) {
                                        switch (s.label) {
                                            case 0:
                                                return [4, Promise.all([this.firebaseInstallations.getId(), this.firebaseInstallations.getToken()])];
                                            case 1:
                                                e = s.sent(), n = window.FIREBASE_REMOTE_CONFIG_URL_BASE || "https://firebaseremoteconfig.googleapis.com", r = n + "/v1/projects/" + this.projectId + "/namespaces/" + this.namespace + ":fetch?key=" + this.apiKey, i = { sdk_version: this.sdkVersion, app_instance_id: e[0], app_instance_id_token: e[1], app_id: this.appId, language_code: (void 0 === _ && (_ = navigator), _.languages && _.languages[0] || _.language) }, o = { method: "POST", headers: { "Content-Type": "application/json", "Content-Encoding": "gzip", "If-None-Match": t.eTag || "*" }, body: JSON.stringify(i) }, a = fetch(r, o), c = new Promise((function(e, n) {
                                                    t.signal.addEventListener((function() {
                                                        var t = new Error("The operation was aborted.");
                                                        t.name = "AbortError", n(t)
                                                    }))
                                                })), s.label = 2;
                                            case 2:
                                                return s.trys.push([2, 5, , 6]), [4, Promise.race([a, c])];
                                            case 3:
                                                return s.sent(), [4, a];
                                            case 4:
                                                return l = s.sent(), [3, 6];
                                            case 5:
                                                throw u = s.sent(), h = "fetch-client-network", "AbortError" === u.name && (h = "fetch-timeout"), d.create(h, { originalErrorMessage: u.message });
                                            case 6:
                                                if (p = l.status, f = l.headers.get("ETag") || void 0, 200 !== l.status) return [3, 11];
                                                y = void 0, s.label = 7;
                                            case 7:
                                                return s.trys.push([7, 9, , 10]), [4, l.json()];
                                            case 8:
                                                return y = s.sent(), [3, 10];
                                            case 9:
                                                throw v = s.sent(), d.create("fetch-client-parse", { originalErrorMessage: v.message });
                                            case 10:
                                                m = y.entries, g = y.state, s.label = 11;
                                            case 11:
                                                if ("INSTANCE_STATE_UNSPECIFIED" === g ? p = 500 : "NO_CHANGE" === g ? p = 304 : "NO_TEMPLATE" !== g && "EMPTY_CONFIG" !== g || (m = {}), 304 !== p && 200 !== p) throw d.create("fetch-status", { httpStatus: p });
                                                return [2, { status: p, eTag: f, config: m }]
                                        }
                                        var _
                                    }))
                                }))
                            }, t
                        }(),
                        f = function() {
                            function t() { this.listeners = [] }
                            return t.prototype.addEventListener = function(t) { this.listeners.push(t) }, t.prototype.abort = function() { this.listeners.forEach((function(t) { return t() })) }, t
                        }(),
                        m = ["1", "true", "t", "yes", "y", "on"],
                        g = function() {
                            function t(t, e) { void 0 === e && (e = ""), this._source = t, this._value = e }
                            return t.prototype.asString = function() { return this._value }, t.prototype.asBoolean = function() { return "static" !== this._source && m.indexOf(this._value.toLowerCase()) >= 0 }, t.prototype.asNumber = function() { if ("static" === this._source) return 0; var t = Number(this._value); return isNaN(t) && (t = 0), t }, t.prototype.getSource = function() { return this._source }, t
                        }(),
                        y = function() {
                            function t(t, e, n, r, i) { this.app = t, this._client = e, this._storageCache = n, this._storage = r, this._logger = i, this._isInitializationComplete = !1, this.settings = { fetchTimeoutMillis: 6e4, minimumFetchIntervalMillis: 432e5 }, this.defaultConfig = {} }
                            return t.prototype.setLogLevel = function(t) {
                                switch (t) {
                                    case "debug":
                                        this._logger.logLevel = c.LogLevel.DEBUG;
                                        break;
                                    case "silent":
                                        this._logger.logLevel = c.LogLevel.SILENT;
                                        break;
                                    default:
                                        this._logger.logLevel = c.LogLevel.ERROR
                                }
                            }, Object.defineProperty(t.prototype, "fetchTimeMillis", { get: function() { return this._storageCache.getLastSuccessfulFetchTimestampMillis() || -1 }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, "lastFetchStatus", { get: function() { return this._storageCache.getLastFetchStatus() || "no-fetch-yet" }, enumerable: !1, configurable: !0 }), t.prototype.activate = function() {
                                return s.__awaiter(this, void 0, void 0, (function() {
                                    var t, e, n;
                                    return s.__generator(this, (function(r) {
                                        switch (r.label) {
                                            case 0:
                                                return [4, Promise.all([this._storage.getLastSuccessfulFetchResponse(), this._storage.getActiveConfigEtag()])];
                                            case 1:
                                                return t = r.sent(), n = t[1], (e = t[0]) && e.config && e.eTag && e.eTag !== n ? [4, Promise.all([this._storageCache.setActiveConfig(e.config), this._storage.setActiveConfigEtag(e.eTag)])] : [2, !1];
                                            case 2:
                                                return r.sent(), [2, !0]
                                        }
                                    }))
                                }))
                            }, t.prototype.ensureInitialized = function() { var t = this; return this._initializePromise || (this._initializePromise = this._storageCache.loadFromStorage().then((function() { t._isInitializationComplete = !0 }))), this._initializePromise }, t.prototype.fetch = function() {
                                return s.__awaiter(this, void 0, void 0, (function() {
                                    var t, e, n, r = this;
                                    return s.__generator(this, (function(i) {
                                        switch (i.label) {
                                            case 0:
                                                t = new f, setTimeout((function() { return s.__awaiter(r, void 0, void 0, (function() { return s.__generator(this, (function(e) { return t.abort(), [2] })) })) }), this.settings.fetchTimeoutMillis), i.label = 1;
                                            case 1:
                                                return i.trys.push([1, 4, , 6]), [4, this._client.fetch({ cacheMaxAgeMillis: this.settings.minimumFetchIntervalMillis, signal: t })];
                                            case 2:
                                                return i.sent(), [4, this._storageCache.setLastFetchStatus("success")];
                                            case 3:
                                                return i.sent(), [3, 6];
                                            case 4:
                                                return e = i.sent(), n = (o = e) instanceof a.FirebaseError && -1 !== o.code.indexOf("fetch-throttle") ? "throttle" : "failure", [4, this._storageCache.setLastFetchStatus(n)];
                                            case 5:
                                                throw i.sent(), e;
                                            case 6:
                                                return [2]
                                        }
                                        var o
                                    }))
                                }))
                            }, t.prototype.fetchAndActivate = function() {
                                return s.__awaiter(this, void 0, void 0, (function() {
                                    return s.__generator(this, (function(t) {
                                        switch (t.label) {
                                            case 0:
                                                return [4, this.fetch()];
                                            case 1:
                                                return t.sent(), [2, this.activate()]
                                        }
                                    }))
                                }))
                            }, t.prototype.getAll = function() { var t, e, n = this; return (t = this._storageCache.getActiveConfig(), e = this.defaultConfig, void 0 === t && (t = {}), void 0 === e && (e = {}), Object.keys(s.__assign(s.__assign({}, t), e))).reduce((function(t, e) { return t[e] = n.getValue(e), t }), {}) }, t.prototype.getBoolean = function(t) { return this.getValue(t).asBoolean() }, t.prototype.getNumber = function(t) { return this.getValue(t).asNumber() }, t.prototype.getString = function(t) { return this.getValue(t).asString() }, t.prototype.getValue = function(t) { this._isInitializationComplete || this._logger.debug('A value was requested for key "' + t + '" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.'); var e = this._storageCache.getActiveConfig(); return e && void 0 !== e[t] ? new g("remote", e[t]) : this.defaultConfig && void 0 !== this.defaultConfig[t] ? new g("default", String(this.defaultConfig[t])) : (this._logger.debug('Returning static value for key "' + t + '". Define a default or remote value if this is unintentional.'), new g("static")) }, t
                        }();

                    function v(t, e) { var n = t.target.error || void 0; return d.create(e, { originalErrorMessage: n && n.message }) }
                    var _ = function() {
                            function t(t, e, n, r) {
                                void 0 === r && (r = new Promise((function(t, e) {
                                    var n = indexedDB.open("firebase_remote_config", 1);
                                    n.onerror = function(t) { e(v(t, "storage-open")) }, n.onsuccess = function(e) { t(e.target.result) }, n.onupgradeneeded = function(t) {
                                        var e = t.target.result;
                                        switch (t.oldVersion) {
                                            case 0:
                                                e.createObjectStore("app_namespace_store", { keyPath: "compositeKey" })
                                        }
                                    }
                                }))), this.appId = t, this.appName = e, this.namespace = n, this.openDbPromise = r
                            }
                            return t.prototype.getLastFetchStatus = function() { return this.get("last_fetch_status") }, t.prototype.setLastFetchStatus = function(t) { return this.set("last_fetch_status", t) }, t.prototype.getLastSuccessfulFetchTimestampMillis = function() { return this.get("last_successful_fetch_timestamp_millis") }, t.prototype.setLastSuccessfulFetchTimestampMillis = function(t) { return this.set("last_successful_fetch_timestamp_millis", t) }, t.prototype.getLastSuccessfulFetchResponse = function() { return this.get("last_successful_fetch_response") }, t.prototype.setLastSuccessfulFetchResponse = function(t) { return this.set("last_successful_fetch_response", t) }, t.prototype.getActiveConfig = function() { return this.get("active_config") }, t.prototype.setActiveConfig = function(t) { return this.set("active_config", t) }, t.prototype.getActiveConfigEtag = function() { return this.get("active_config_etag") }, t.prototype.setActiveConfigEtag = function(t) { return this.set("active_config_etag", t) }, t.prototype.getThrottleMetadata = function() { return this.get("throttle_metadata") }, t.prototype.setThrottleMetadata = function(t) { return this.set("throttle_metadata", t) }, t.prototype.deleteThrottleMetadata = function() { return this.delete("throttle_metadata") }, t.prototype.get = function(t) {
                                return s.__awaiter(this, void 0, void 0, (function() {
                                    var e, n = this;
                                    return s.__generator(this, (function(r) {
                                        switch (r.label) {
                                            case 0:
                                                return [4, this.openDbPromise];
                                            case 1:
                                                return e = r.sent(), [2, new Promise((function(r, i) {
                                                    var o = e.transaction(["app_namespace_store"], "readonly").objectStore("app_namespace_store"),
                                                        s = n.createCompositeKey(t);
                                                    try {
                                                        var a = o.get(s);
                                                        a.onerror = function(t) { i(v(t, "storage-get")) }, a.onsuccess = function(t) {
                                                            var e = t.target.result;
                                                            r(e ? e.value : void 0)
                                                        }
                                                    } catch (c) { i(d.create("storage-get", { originalErrorMessage: c && c.message })) }
                                                }))]
                                        }
                                    }))
                                }))
                            }, t.prototype.set = function(t, e) {
                                return s.__awaiter(this, void 0, void 0, (function() {
                                    var n, r = this;
                                    return s.__generator(this, (function(i) {
                                        switch (i.label) {
                                            case 0:
                                                return [4, this.openDbPromise];
                                            case 1:
                                                return n = i.sent(), [2, new Promise((function(i, o) {
                                                    var s = n.transaction(["app_namespace_store"], "readwrite").objectStore("app_namespace_store"),
                                                        a = r.createCompositeKey(t);
                                                    try {
                                                        var c = s.put({ compositeKey: a, value: e });
                                                        c.onerror = function(t) { o(v(t, "storage-set")) }, c.onsuccess = function() { i() }
                                                    } catch (l) { o(d.create("storage-set", { originalErrorMessage: l && l.message })) }
                                                }))]
                                        }
                                    }))
                                }))
                            }, t.prototype.delete = function(t) {
                                return s.__awaiter(this, void 0, void 0, (function() {
                                    var e, n = this;
                                    return s.__generator(this, (function(r) {
                                        switch (r.label) {
                                            case 0:
                                                return [4, this.openDbPromise];
                                            case 1:
                                                return e = r.sent(), [2, new Promise((function(r, i) {
                                                    var o = e.transaction(["app_namespace_store"], "readwrite").objectStore("app_namespace_store"),
                                                        s = n.createCompositeKey(t);
                                                    try {
                                                        var a = o.delete(s);
                                                        a.onerror = function(t) { i(v(t, "storage-delete")) }, a.onsuccess = function() { r() }
                                                    } catch (c) { i(d.create("storage-delete", { originalErrorMessage: c && c.message })) }
                                                }))]
                                        }
                                    }))
                                }))
                            }, t.prototype.createCompositeKey = function(t) { return [this.appId, this.appName, this.namespace, t].join() }, t
                        }(),
                        b = function() {
                            function t(t) { this.storage = t }
                            return t.prototype.getLastFetchStatus = function() { return this.lastFetchStatus }, t.prototype.getLastSuccessfulFetchTimestampMillis = function() { return this.lastSuccessfulFetchTimestampMillis }, t.prototype.getActiveConfig = function() { return this.activeConfig }, t.prototype.loadFromStorage = function() {
                                return s.__awaiter(this, void 0, void 0, (function() {
                                    var t, e, n, r, i, o;
                                    return s.__generator(this, (function(s) {
                                        switch (s.label) {
                                            case 0:
                                                return t = this.storage.getLastFetchStatus(), e = this.storage.getLastSuccessfulFetchTimestampMillis(), n = this.storage.getActiveConfig(), [4, t];
                                            case 1:
                                                return (r = s.sent()) && (this.lastFetchStatus = r), [4, e];
                                            case 2:
                                                return (i = s.sent()) && (this.lastSuccessfulFetchTimestampMillis = i), [4, n];
                                            case 3:
                                                return (o = s.sent()) && (this.activeConfig = o), [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.setLastFetchStatus = function(t) { return this.lastFetchStatus = t, this.storage.setLastFetchStatus(t) }, t.prototype.setLastSuccessfulFetchTimestampMillis = function(t) { return this.lastSuccessfulFetchTimestampMillis = t, this.storage.setLastSuccessfulFetchTimestampMillis(t) }, t.prototype.setActiveConfig = function(t) { return this.activeConfig = t, this.storage.setActiveConfig(t) }, t
                        }();

                    function w(t) {
                        var e = 1e3 * Math.pow(2, t),
                            n = Math.round(.5 * e * (Math.random() - .5) * 2);
                        return Math.min(144e5, e + n)
                    }

                    function E(t, e) {
                        return new Promise((function(n, r) {
                            var i = Math.max(e - Date.now(), 0),
                                o = setTimeout(n, i);
                            t.addEventListener((function() { clearTimeout(o), r(d.create("fetch-throttle", { throttleEndTimeMillis: e })) }))
                        }))
                    }
                    var S = function() {
                            function t(t, e) { this.client = t, this.storage = e }
                            return t.prototype.fetch = function(t) {
                                return s.__awaiter(this, void 0, void 0, (function() {
                                    var e;
                                    return s.__generator(this, (function(n) {
                                        switch (n.label) {
                                            case 0:
                                                return [4, this.storage.getThrottleMetadata()];
                                            case 1:
                                                return e = n.sent() || { backoffCount: 0, throttleEndTimeMillis: Date.now() }, [2, this.attemptFetch(t, e)]
                                        }
                                    }))
                                }))
                            }, t.prototype.attemptFetch = function(t, e) {
                                var n = e.throttleEndTimeMillis,
                                    r = e.backoffCount;
                                return s.__awaiter(this, void 0, void 0, (function() {
                                    var e, i, o;
                                    return s.__generator(this, (function(s) {
                                        switch (s.label) {
                                            case 0:
                                                return [4, E(t.signal, n)];
                                            case 1:
                                                s.sent(), s.label = 2;
                                            case 2:
                                                return s.trys.push([2, 5, , 7]), [4, this.client.fetch(t)];
                                            case 3:
                                                return e = s.sent(), [4, this.storage.deleteThrottleMetadata()];
                                            case 4:
                                                return s.sent(), [2, e];
                                            case 5:
                                                if (! function(t) { if (!(t instanceof a.FirebaseError)) return !1; var e = Number(t.httpStatus); return 429 === e || 500 === e || 503 === e || 504 === e }(i = s.sent())) throw i;
                                                return o = { throttleEndTimeMillis: Date.now() + w(r), backoffCount: r + 1 }, [4, this.storage.setThrottleMetadata(o)];
                                            case 6:
                                                return s.sent(), [2, this.attemptFetch(t, o)];
                                            case 7:
                                                return [2]
                                        }
                                    }))
                                }))
                            }, t
                        }(),
                        C = "@firebase/remote-config";

                    function x(t) {
                        t.INTERNAL.registerComponent(new l.Component("remoteConfig", (function(e, n) {
                            var r = e.getProvider("app").getImmediate(),
                                i = e.getProvider("installations").getImmediate();
                            if ("undefined" == typeof window) throw d.create("registration-window");
                            var o = r.options,
                                s = o.projectId,
                                a = o.apiKey,
                                l = o.appId;
                            if (!s) throw d.create("registration-project-id");
                            if (!a) throw d.create("registration-api-key");
                            if (!l) throw d.create("registration-app-id");
                            var h = new _(l, r.name, n = n || "firebase"),
                                f = new b(h),
                                m = new c.Logger(C);
                            m.logLevel = c.LogLevel.ERROR;
                            var g = new p(i, t.SDK_VERSION, n, s, a, l),
                                v = new S(g, h),
                                w = new u(v, h, f, m),
                                E = new y(r, w, f, h, m);
                            return E.ensureInitialized(), E
                        }), "PUBLIC").setMultipleInstances(!0)), t.registerVersion(C, "0.1.25")
                    }
                    x(i), e.registerRemoteConfig = x
                },
                "S+S0": function(t, e, n) {
                    "use strict";
                    Object.defineProperty(e, "__esModule", { value: !0 });
                    var r = n("mrSG"),
                        i = n("zVF4"),
                        o = function() {
                            function t(t, e, n) { this.name = t, this.instanceFactory = e, this.type = n, this.multipleInstances = !1, this.serviceProps = {}, this.instantiationMode = "LAZY" }
                            return t.prototype.setInstantiationMode = function(t) { return this.instantiationMode = t, this }, t.prototype.setMultipleInstances = function(t) { return this.multipleInstances = t, this }, t.prototype.setServiceProps = function(t) { return this.serviceProps = t, this }, t
                        }(),
                        s = function() {
                            function t(t, e) { this.name = t, this.container = e, this.component = null, this.instances = new Map, this.instancesDeferred = new Map }
                            return t.prototype.get = function(t) {
                                void 0 === t && (t = "[DEFAULT]");
                                var e = this.normalizeInstanceIdentifier(t);
                                if (!this.instancesDeferred.has(e)) {
                                    var n = new i.Deferred;
                                    this.instancesDeferred.set(e, n);
                                    try {
                                        var r = this.getOrInitializeService(e);
                                        r && n.resolve(r)
                                    } catch (o) {}
                                }
                                return this.instancesDeferred.get(e).promise
                            }, t.prototype.getImmediate = function(t) {
                                var e = r.__assign({ identifier: "[DEFAULT]", optional: !1 }, t),
                                    n = e.optional,
                                    i = this.normalizeInstanceIdentifier(e.identifier);
                                try { var o = this.getOrInitializeService(i); if (!o) { if (n) return null; throw Error("Service " + this.name + " is not available") } return o } catch (s) { if (n) return null; throw s }
                            }, t.prototype.getComponent = function() { return this.component }, t.prototype.setComponent = function(t) {
                                var e, n;
                                if (t.name !== this.name) throw Error("Mismatching Component " + t.name + " for Provider " + this.name + ".");
                                if (this.component) throw Error("Component for " + this.name + " has already been provided");
                                if (this.component = t, function(t) { return "EAGER" === t.instantiationMode }(t)) try { this.getOrInitializeService("[DEFAULT]") } catch (u) {}
                                try {
                                    for (var i = r.__values(this.instancesDeferred.entries()), o = i.next(); !o.done; o = i.next()) {
                                        var s = r.__read(o.value, 2),
                                            a = s[1],
                                            c = this.normalizeInstanceIdentifier(s[0]);
                                        try {
                                            var l = this.getOrInitializeService(c);
                                            a.resolve(l)
                                        } catch (u) {}
                                    }
                                } catch (h) { e = { error: h } } finally { try { o && !o.done && (n = i.return) && n.call(i) } finally { if (e) throw e.error } }
                            }, t.prototype.clearInstance = function(t) { void 0 === t && (t = "[DEFAULT]"), this.instancesDeferred.delete(t), this.instances.delete(t) }, t.prototype.delete = function() {
                                return r.__awaiter(this, void 0, void 0, (function() {
                                    var t;
                                    return r.__generator(this, (function(e) {
                                        switch (e.label) {
                                            case 0:
                                                return t = Array.from(this.instances.values()), [4, Promise.all(t.filter((function(t) { return "INTERNAL" in t })).map((function(t) { return t.INTERNAL.delete() })))];
                                            case 1:
                                                return e.sent(), [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.isComponentSet = function() { return null != this.component }, t.prototype.getOrInitializeService = function(t) { var e = this.instances.get(t); return !e && this.component && (e = this.component.instanceFactory(this.container, function(t) { return "[DEFAULT]" === t ? void 0 : t }(t)), this.instances.set(t, e)), e || null }, t.prototype.normalizeInstanceIdentifier = function(t) { return this.component ? this.component.multipleInstances ? t : "[DEFAULT]" : t }, t
                        }(),
                        a = function() {
                            function t(t) { this.name = t, this.providers = new Map }
                            return t.prototype.addComponent = function(t) {
                                var e = this.getProvider(t.name);
                                if (e.isComponentSet()) throw new Error("Component " + t.name + " has already been registered with " + this.name);
                                e.setComponent(t)
                            }, t.prototype.addOrOverwriteComponent = function(t) { this.getProvider(t.name).isComponentSet() && this.providers.delete(t.name), this.addComponent(t) }, t.prototype.getProvider = function(t) { if (this.providers.has(t)) return this.providers.get(t); var e = new s(t, this); return this.providers.set(t, e), e }, t.prototype.getProviders = function() { return Array.from(this.providers.values()) }, t
                        }();
                    e.Component = o, e.ComponentContainer = a, e.Provider = s
                },
                bQlE: function(t, e, n) {
                    "use strict";
                    Object.defineProperty(e, "__esModule", { value: !0 });
                    var r, i = (r = n("wj3C")) && "object" == typeof r && "default" in r ? r.default : r;
                    n("fSjL");
                    var o, s, a, c, l = n("mrSG"),
                        u = n("zVF4"),
                        h = n("q/0M"),
                        d = n("S+S0"),
                        p = ((o = {})["trace started"] = "Trace {$traceName} was started before.", o["trace stopped"] = "Trace {$traceName} is not running.", o["no window"] = "Window is not available.", o["no app id"] = "App id is not available.", o["no project id"] = "Project id is not available.", o["no api key"] = "Api key is not available.", o["invalid cc log"] = "Attempted to queue invalid cc event", o["FB not default"] = "Performance can only start when Firebase app instance is the default one.", o["RC response not ok"] = "RC response is not ok", o["invalid attribute name"] = "Attribute name {$attributeName} is invalid.", o["invalid attribute value"] = "Attribute value {$attributeValue} is invalid.", o["invalid custom metric name"] = "Custom metric name {$customMetricName} is invalid", o["invalid String merger input"] = "Input for String merger is invalid, contact support team to resolve.", o),
                        f = new u.ErrorFactory("performance", "Performance", p),
                        m = function() {
                            function t(t) {
                                if (this.window = t, !t) throw f.create("no window");
                                this.performance = t.performance, this.PerformanceObserver = t.PerformanceObserver, this.windowLocation = t.location, this.navigator = t.navigator, this.document = t.document, this.navigator && this.navigator.cookieEnabled && (this.localStorage = t.localStorage), t.perfMetrics && t.perfMetrics.onFirstInputDelay && (this.onFirstInputDelay = t.perfMetrics.onFirstInputDelay)
                            }
                            return t.prototype.getUrl = function() { return this.windowLocation.href.split("?")[0] }, t.prototype.mark = function(t) { this.performance && this.performance.mark && this.performance.mark(t) }, t.prototype.measure = function(t, e, n) { this.performance && this.performance.measure && this.performance.measure(t, e, n) }, t.prototype.getEntriesByType = function(t) { return this.performance && this.performance.getEntriesByType ? this.performance.getEntriesByType(t) : [] }, t.prototype.getEntriesByName = function(t) { return this.performance && this.performance.getEntriesByName ? this.performance.getEntriesByName(t) : [] }, t.prototype.getTimeOrigin = function() { return this.performance && (this.performance.timeOrigin || this.performance.timing.navigationStart) }, t.prototype.requiredApisAvailable = function() { return !!(fetch && Promise && this.navigator && this.navigator.cookieEnabled) }, t.prototype.setupObserver = function(t, e) { this.PerformanceObserver && new this.PerformanceObserver((function(t) { for (var n = 0, r = t.getEntries(); n < r.length; n++) e(r[n]) })).observe({ entryTypes: [t] }) }, t.getInstance = function() { return void 0 === s && (s = new t(a)), s }, t
                        }();

                    function g(t, e) { var n = t.length - e.length; if (n < 0 || n > 1) throw f.create("invalid String merger input"); for (var r = [], i = 0; i < t.length; i++) r.push(t.charAt(i)), e.length > i && r.push(e.charAt(i)); return r.join("") }
                    var y, v = function() {
                        function t() { this.instrumentationEnabled = !0, this.dataCollectionEnabled = !0, this.loggingEnabled = !1, this.tracesSamplingRate = 1, this.networkRequestsSamplingRate = 1, this.logEndPointUrl = "https://firebaselogging.googleapis.com/v0cc/log?format=json_proto", this.flTransportEndpointUrl = g("hts/frbslgigp.ogepscmv/ieo/eaylg", "tp:/ieaeogn-agolai.o/1frlglgc/o"), this.transportKey = g("AzSC8r6ReiGqFMyfvgow", "Iayx0u-XT3vksVM-pIV"), this.logSource = 462, this.logTraceAfterSampling = !1, this.logNetworkAfterSampling = !1, this.configTimeToLive = 12 }
                        return t.prototype.getAppId = function() { var t = this.firebaseAppInstance && this.firebaseAppInstance.options && this.firebaseAppInstance.options.appId; if (!t) throw f.create("no app id"); return t }, t.prototype.getProjectId = function() { var t = this.firebaseAppInstance && this.firebaseAppInstance.options && this.firebaseAppInstance.options.projectId; if (!t) throw f.create("no project id"); return t }, t.prototype.getApiKey = function() { var t = this.firebaseAppInstance && this.firebaseAppInstance.options && this.firebaseAppInstance.options.apiKey; if (!t) throw f.create("no api key"); return t }, t.prototype.getFlTransportFullUrl = function() { return this.flTransportEndpointUrl.concat("?key=", this.transportKey) }, t.getInstance = function() { return void 0 === c && (c = new t), c }, t
                    }();

                    function _() { return y }
                    var b = function(t) { return t[t.UNKNOWN = 0] = "UNKNOWN", t[t.VISIBLE = 1] = "VISIBLE", t[t.HIDDEN = 2] = "HIDDEN", t }({}),
                        w = ["firebase_", "google_", "ga_"],
                        E = new RegExp("^[a-zA-Z]\\w*$");

                    function S() { var t = m.getInstance().navigator; return "serviceWorker" in t ? t.serviceWorker.controller ? 2 : 3 : 1 }

                    function C() {
                        switch (m.getInstance().document.visibilityState) {
                            case "visible":
                                return b.VISIBLE;
                            case "hidden":
                                return b.HIDDEN;
                            default:
                                return b.UNKNOWN
                        }
                    }

                    function x() {
                        var t = m.getInstance().navigator.connection;
                        switch (t && t.effectiveType) {
                            case "slow-2g":
                                return 1;
                            case "2g":
                                return 2;
                            case "3g":
                                return 3;
                            case "4g":
                                return 4;
                            default:
                                return 0
                        }
                    }
                    var T = new h.Logger("Performance");

                    function k(t) {
                        if (!t) return t;
                        var e = v.getInstance(),
                            n = t.entries || {};
                        return e.loggingEnabled = void 0 === n.fpr_enabled || "true" === String(n.fpr_enabled), n.fpr_log_source && (e.logSource = Number(n.fpr_log_source)), n.fpr_log_endpoint_url && (e.logEndPointUrl = n.fpr_log_endpoint_url), n.fpr_log_transport_key && (e.transportKey = n.fpr_log_transport_key), void 0 !== n.fpr_vc_network_request_sampling_rate && (e.networkRequestsSamplingRate = Number(n.fpr_vc_network_request_sampling_rate)), void 0 !== n.fpr_vc_trace_sampling_rate && (e.tracesSamplingRate = Number(n.fpr_vc_trace_sampling_rate)), e.logTraceAfterSampling = I(e.tracesSamplingRate), e.logNetworkAfterSampling = I(e.networkRequestsSamplingRate), t
                    }

                    function I(t) { return Math.random() <= t }
                    T.logLevel = h.LogLevel.INFO;
                    var A, R = 1;

                    function O() {
                        return R = 2, A = A || function() {
                            var t = m.getInstance().document;
                            return new Promise((function(e) {
                                if (t && "complete" !== t.readyState) {
                                    var n = function() { "complete" === t.readyState && (t.removeEventListener("readystatechange", n), e()) };
                                    t.addEventListener("readystatechange", n)
                                } else e()
                            }))
                        }().then((function() { return (t = v.getInstance().installationsService.getId()).then((function(t) { y = t })), t; var t })).then((function(t) {
                            return function(t) {
                                var e = function() { var t = m.getInstance().localStorage; if (t) { var e = t.getItem("@firebase/performance/configexpire"); if (e && Number(e) > Date.now()) { var n = t.getItem("@firebase/performance/config"); if (n) try { return JSON.parse(n) } catch (o) { return } } } }();
                                return e ? (k(e), Promise.resolve()) : function(t) {
                                    return (e = v.getInstance().installationsService.getToken(), e.then((function(t) {})), e).then((function(e) {
                                        var n = "https://firebaseremoteconfig.googleapis.com/v1/projects/" + v.getInstance().getProjectId() + "/namespaces/fireperf:fetch?key=" + v.getInstance().getApiKey(),
                                            r = new Request(n, { method: "POST", headers: { Authorization: "FIREBASE_INSTALLATIONS_AUTH " + e }, body: JSON.stringify({ app_instance_id: t, app_instance_id_token: e, app_id: v.getInstance().getAppId(), app_version: "0.3.9", sdk_version: "0.0.1" }) });
                                        return fetch(r).then((function(t) { if (t.ok) return t.json(); throw f.create("RC response not ok") }))
                                    })).catch((function() { T.info("Could not fetch config, will use default configs") }));
                                    var e
                                }(t).then(k).then((function(t) {
                                    return function(t) {
                                        var e = m.getInstance().localStorage;
                                        t && e && (e.setItem("@firebase/performance/config", JSON.stringify(t)), e.setItem("@firebase/performance/configexpire", String(Date.now() + 60 * v.getInstance().configTimeToLive * 60 * 1e3)))
                                    }(t)
                                }), (function() {}))
                            }(t)
                        })).then((function() { return N() }), (function() { return N() }))
                    }

                    function N() { R = 3 }
                    var D, P = 3,
                        M = [],
                        L = !1;

                    function F(t) {
                        if (!t.eventTime || !t.message) throw f.create("invalid cc log");
                        M = l.__spreadArrays(M, [t])
                    }

                    function j(t, e) {
                        D || (D = function(t) {
                            return function() {
                                for (var e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n];
                                var r = t.apply(void 0, e);
                                F({ message: r, eventTime: Date.now() })
                            }
                        }(B)), D(t, e)
                    }

                    function U(t) { var e = v.getInstance();!e.instrumentationEnabled && t.isAuto || (e.dataCollectionEnabled || t.isAuto) && m.getInstance().requiredApisAvailable() && (t.isAuto && C() !== b.VISIBLE || e.loggingEnabled && e.logTraceAfterSampling && (3 === R ? V(t) : O().then((function() { return V(t) }), (function() { return V(t) })))) }

                    function V(t) { _() && setTimeout((function() { return j(t, 1) }), 0) }

                    function B(t, e) {
                        return 0 === e ? (r = { url: (n = t).url, http_method: n.httpMethod || 0, http_response_code: 200, response_payload_bytes: n.responsePayloadBytes, client_start_time_us: n.startTimeUs, time_to_response_initiated_us: n.timeToResponseInitiatedUs, time_to_response_completed_us: n.timeToResponseCompletedUs }, i = { application_info: q(), network_request_metric: r }, JSON.stringify(i)) : function(t) {
                            var e = { name: t.name, is_auto: t.isAuto, client_start_time_us: t.startTimeUs, duration_us: t.durationUs };
                            0 !== Object.keys(t.counters).length && (e.counters = t.counters);
                            var n = t.getAttributes();
                            0 !== Object.keys(n).length && (e.custom_attributes = n);
                            var r = { application_info: q(), trace_metric: e };
                            return JSON.stringify(r)
                        }(t);
                        var n, r, i
                    }

                    function q() { return { google_app_id: v.getInstance().getAppId(), app_instance_id: _(), web_app_info: { sdk_version: "0.3.9", page_url: m.getInstance().getUrl(), service_worker_status: S(), visibility_state: C(), effective_connection_type: x() }, application_process_state: 0 } }
                    var H = ["_fp", "_fcp", "_fid"],
                        W = function() {
                            function t(t, e, n) { void 0 === e && (e = !1), this.name = t, this.isAuto = e, this.state = 1, this.customAttributes = {}, this.counters = {}, this.api = m.getInstance(), this.randomId = Math.floor(1e6 * Math.random()), this.isAuto || (this.traceStartMark = "FB-PERF-TRACE-START-" + this.randomId + "-" + this.name, this.traceStopMark = "FB-PERF-TRACE-STOP-" + this.randomId + "-" + this.name, this.traceMeasure = n || "FB-PERF-TRACE-MEASURE-" + this.randomId + "-" + this.name, n && this.calculateTraceMetrics()) }
                            return t.prototype.start = function() {
                                if (1 !== this.state) throw f.create("trace started", { traceName: this.name });
                                this.api.mark(this.traceStartMark), this.state = 2
                            }, t.prototype.stop = function() {
                                if (2 !== this.state) throw f.create("trace stopped", { traceName: this.name });
                                this.state = 3, this.api.mark(this.traceStopMark), this.api.measure(this.traceMeasure, this.traceStartMark, this.traceStopMark), this.calculateTraceMetrics(), U(this)
                            }, t.prototype.record = function(t, e, n) {
                                if (this.durationUs = Math.floor(1e3 * e), this.startTimeUs = Math.floor(1e3 * t), n && n.attributes && (this.customAttributes = l.__assign({}, n.attributes)), n && n.metrics)
                                    for (var r = 0, i = Object.keys(n.metrics); r < i.length; r++) {
                                        var o = i[r];
                                        isNaN(Number(n.metrics[o])) || (this.counters[o] = Number(Math.floor(n.metrics[o])))
                                    }
                                U(this)
                            }, t.prototype.incrementMetric = function(t, e) { void 0 === e && (e = 1), void 0 === this.counters[t] && this.putMetric(t, 0), this.counters[t] += e }, t.prototype.putMetric = function(t, e) {
                                if (! function(t, e) { return !(0 === t.length || t.length > 100) && (e && e.startsWith("_wt_") && H.indexOf(t) > -1 || !t.startsWith("_")) }(t, this.name)) throw f.create("invalid custom metric name", { customMetricName: t });
                                this.counters[t] = e
                            }, t.prototype.getMetric = function(t) { return this.counters[t] || 0 }, t.prototype.putAttribute = function(t, e) {
                                var n = function(t) { return !(0 === t.length || t.length > 40 || w.some((function(e) { return t.startsWith(e) })) || !t.match(E)) }(t),
                                    r = function(t) { return 0 !== t.length && t.length <= 100 }(e);
                                if (n && r) this.customAttributes[t] = e;
                                else { if (!n) throw f.create("invalid attribute name", { attributeName: t }); if (!r) throw f.create("invalid attribute value", { attributeValue: e }) }
                            }, t.prototype.getAttribute = function(t) { return this.customAttributes[t] }, t.prototype.removeAttribute = function(t) { void 0 !== this.customAttributes[t] && delete this.customAttributes[t] }, t.prototype.getAttributes = function() { return l.__assign({}, this.customAttributes) }, t.prototype.setStartTime = function(t) { this.startTimeUs = t }, t.prototype.setDuration = function(t) { this.durationUs = t }, t.prototype.calculateTraceMetrics = function() {
                                var t = this.api.getEntriesByName(this.traceMeasure),
                                    e = t && t[0];
                                e && (this.durationUs = Math.floor(1e3 * e.duration), this.startTimeUs = Math.floor(1e3 * (e.startTime + this.api.getTimeOrigin())))
                            }, t.createOobTrace = function(e, n, r) {
                                var i = m.getInstance().getUrl();
                                if (i) {
                                    var o = new t("_wt_" + i, !0),
                                        s = Math.floor(1e3 * m.getInstance().getTimeOrigin());
                                    if (o.setStartTime(s), e && e[0] && (o.setDuration(Math.floor(1e3 * e[0].duration)), o.putMetric("domInteractive", Math.floor(1e3 * e[0].domInteractive)), o.putMetric("domContentLoadedEventEnd", Math.floor(1e3 * e[0].domContentLoadedEventEnd)), o.putMetric("loadEventEnd", Math.floor(1e3 * e[0].loadEventEnd))), n) {
                                        var a = n.find((function(t) { return "first-paint" === t.name }));
                                        a && a.startTime && o.putMetric("_fp", Math.floor(1e3 * a.startTime));
                                        var c = n.find((function(t) { return "first-contentful-paint" === t.name }));
                                        c && c.startTime && o.putMetric("_fcp", Math.floor(1e3 * c.startTime)), r && o.putMetric("_fid", Math.floor(1e3 * r))
                                    }
                                    U(o)
                                }
                            }, t.createUserTimingTrace = function(e) { U(new t(e, !1, e)) }, t
                        }();

                    function z(t) {
                        var e = t;
                        if (e && void 0 !== e.responseStart) {
                            var n = m.getInstance().getTimeOrigin(),
                                r = Math.floor(1e3 * (e.startTime + n)),
                                i = e.responseStart ? Math.floor(1e3 * (e.responseStart - e.startTime)) : void 0,
                                o = Math.floor(1e3 * (e.responseEnd - e.startTime));
                            ! function(t) {
                                var e = v.getInstance();
                                if (e.instrumentationEnabled) {
                                    var n = t.url,
                                        r = e.logEndPointUrl.split("?")[0],
                                        i = e.flTransportEndpointUrl.split("?")[0];
                                    n !== r && n !== i && e.loggingEnabled && e.logNetworkAfterSampling && setTimeout((function() { return j(t, 0) }), 0)
                                }
                            }({ url: e.name && e.name.split("?")[0], responsePayloadBytes: e.transferSize, startTimeUs: r, timeToResponseInitiatedUs: i, timeToResponseCompletedUs: o })
                        }
                    }

                    function G() {
                        _() && (setTimeout((function() {
                            return function() {
                                var t = m.getInstance(),
                                    e = t.getEntriesByType("navigation"),
                                    n = t.getEntriesByType("paint");
                                if (t.onFirstInputDelay) {
                                    var r = setTimeout((function() { W.createOobTrace(e, n), r = void 0 }), 5e3);
                                    t.onFirstInputDelay((function(t) { r && (clearTimeout(r), W.createOobTrace(e, n, t)) }))
                                } else W.createOobTrace(e, n)
                            }()
                        }), 0), setTimeout((function() {
                            return function() {
                                for (var t = m.getInstance(), e = 0, n = t.getEntriesByType("resource"); e < n.length; e++) z(n[e]);
                                t.setupObserver("resource", z)
                            }()
                        }), 0), setTimeout((function() {
                            return function() {
                                for (var t = m.getInstance(), e = 0, n = t.getEntriesByType("measure"); e < n.length; e++) $(n[e]);
                                t.setupObserver("measure", $)
                            }()
                        }), 0))
                    }

                    function $(t) { var e = t.name; "FB-PERF-TRACE-MEASURE" !== e.substring(0, "FB-PERF-TRACE-MEASURE".length) && W.createUserTimingTrace(e) }
                    var K = function() {
                        function t(t) {
                            this.app = t, m.getInstance().requiredApisAvailable() ? (L || (function t(e) {
                                setTimeout((function() {
                                    if (0 !== P) return M.length ? void

                                    function() {
                                        var e = l.__spreadArrays(M);
                                        M = [];
                                        var n = e.map((function(t) { return { source_extension_json_proto3: t.message, event_time_ms: String(t.eventTime) } }));
                                        (function(e, n) {
                                            return function(t) { var e = v.getInstance().getFlTransportFullUrl(); return fetch(e, { method: "POST", body: JSON.stringify(t) }) }(e).then((function(t) { return t.ok || T.info("Call to Firebase backend failed."), t.json() })).then((function(e) {
                                                var r = Number(e.nextRequestWaitMillis),
                                                    i = 1e4;
                                                isNaN(r) || (i = Math.max(r, i));
                                                var o = e.logResponseDetails;
                                                Array.isArray(o) && o.length > 0 && "RETRY_REQUEST_LATER" === o[0].responseAction && (M = l.__spreadArrays(n, M), T.info("Retry transport request later.")), P = 3, t(i)
                                            }))
                                        })({ request_time_ms: String(Date.now()), client_info: { client_type: 1, js_client_info: {} }, log_source: v.getInstance().logSource, log_event: n }, e).catch((function() { M = l.__spreadArrays(e, M), P--, T.info("Tries left: " + P + "."), t(1e4) }))
                                    }(): t(1e4)
                                }), e)
                            }(5500), L = !0), O().then(G, G)) : T.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled.")
                        }
                        return t.prototype.trace = function(t) { return new W(t) }, Object.defineProperty(t.prototype, "instrumentationEnabled", { get: function() { return v.getInstance().instrumentationEnabled }, set: function(t) { v.getInstance().instrumentationEnabled = t }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, "dataCollectionEnabled", { get: function() { return v.getInstance().dataCollectionEnabled }, set: function(t) { v.getInstance().dataCollectionEnabled = t }, enumerable: !1, configurable: !0 }), t
                    }();

                    function Y(t) { t.INTERNAL.registerComponent(new d.Component("performance", (function(t) { return function(t, e) { if ("[DEFAULT]" !== t.name) throw f.create("FB not default"); if ("undefined" == typeof window) throw f.create("no window"); return function(t) { a = t }(window), v.getInstance().firebaseAppInstance = t, v.getInstance().installationsService = e, new K(t) }(t.getProvider("app").getImmediate(), t.getProvider("installations").getImmediate()) }), "PUBLIC")), t.registerVersion("@firebase/performance", "0.3.9") }
                    Y(i), e.registerPerformance = Y
                },
                fSjL: function(t, e, n) {
                    "use strict";
                    n.r(e), n.d(e, "registerInstallations", (function() { return $ }));
                    var r, i = n("wj3C"),
                        o = n.n(i),
                        s = n("S+S0"),
                        a = n("mrSG"),
                        c = n("zVF4"),
                        l = n("nbvr"),
                        u = ((r = {})["missing-app-config-values"] = 'Missing App configuration value: "{$valueName}"', r["not-registered"] = "Firebase Installation is not registered.", r["installation-not-found"] = "Firebase Installation not found.", r["request-failed"] = '{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"', r["app-offline"] = "Could not process request. Application offline.", r["delete-pending-registration"] = "Can't delete installation while there is a pending registration request.", r),
                        h = new c.ErrorFactory("installations", "Installations", u);

                    function d(t) { return t instanceof c.FirebaseError && t.code.includes("request-failed") }

                    function p(t) { return "https://firebaseinstallations.googleapis.com/v1/projects/" + t.projectId + "/installations" }

                    function f(t) { return { token: t.token, requestStatus: 2, expiresIn: (e = t.expiresIn, Number(e.replace("s", "000"))), creationTime: Date.now() }; var e }

                    function m(t, e) {
                        return Object(a.__awaiter)(this, void 0, void 0, (function() {
                            var n, r;
                            return Object(a.__generator)(this, (function(i) {
                                switch (i.label) {
                                    case 0:
                                        return [4, e.json()];
                                    case 1:
                                        return n = i.sent(), [2, h.create("request-failed", { requestName: t, serverCode: (r = n.error).code, serverMessage: r.message, serverStatus: r.status })]
                                }
                            }))
                        }))
                    }

                    function g(t) { return new Headers({ "Content-Type": "application/json", Accept: "application/json", "x-goog-api-key": t.apiKey }) }

                    function y(t, e) {
                        var n = e.refreshToken,
                            r = g(t);
                        return r.append("Authorization", function(t) { return "FIS_v2 " + t }(n)), r
                    }

                    function v(t) {
                        return Object(a.__awaiter)(this, void 0, void 0, (function() {
                            var e;
                            return Object(a.__generator)(this, (function(n) {
                                switch (n.label) {
                                    case 0:
                                        return [4, t()];
                                    case 1:
                                        return (e = n.sent()).status >= 500 && e.status < 600 ? [2, t()] : [2, e]
                                }
                            }))
                        }))
                    }

                    function _(t, e) {
                        var n = e.fid;
                        return Object(a.__awaiter)(this, void 0, void 0, (function() {
                            var e, r, i, o, s;
                            return Object(a.__generator)(this, (function(a) {
                                switch (a.label) {
                                    case 0:
                                        return e = p(t), r = g(t), i = { method: "POST", headers: r, body: JSON.stringify({ fid: n, authVersion: "FIS_v2", appId: t.appId, sdkVersion: "w:0.4.14" }) }, [4, v((function() { return fetch(e, i) }))];
                                    case 1:
                                        return (o = a.sent()).ok ? [4, o.json()] : [3, 3];
                                    case 2:
                                        return [2, { fid: (s = a.sent()).fid || n, registrationStatus: 2, refreshToken: s.refreshToken, authToken: f(s.authToken) }];
                                    case 3:
                                        return [4, m("Create Installation", o)];
                                    case 4:
                                        throw a.sent()
                                }
                            }))
                        }))
                    }

                    function b(t) { return new Promise((function(e) { setTimeout(e, t) })) }
                    var w = /^[cdef][\w-]{21}$/;

                    function E() {
                        try {
                            var t = new Uint8Array(17);
                            (self.crypto || self.msCrypto).getRandomValues(t), t[0] = 112 + t[0] % 16;
                            var e = function(t) { return (e = t, btoa(String.fromCharCode.apply(String, Object(a.__spread)(e))).replace(/\+/g, "-").replace(/\//g, "_")).substr(0, 22); var e }(t);
                            return w.test(e) ? e : ""
                        } catch (r) { return "" }
                    }

                    function S(t) { return t.appName + "!" + t.appId }
                    var C = new Map;

                    function x(t, e) {
                        var n = S(t);
                        T(n, e),
                            function(t, e) {
                                var n = I();
                                n && n.postMessage({ key: t, fid: e }), A()
                            }(n, e)
                    }

                    function T(t, e) { var n, r, i = C.get(t); if (i) try { for (var o = Object(a.__values)(i), s = o.next(); !s.done; s = o.next())(0, s.value)(e) } catch (c) { n = { error: c } } finally { try { s && !s.done && (r = o.return) && r.call(o) } finally { if (n) throw n.error } } }
                    var k = null;

                    function I() { return !k && "BroadcastChannel" in self && ((k = new BroadcastChannel("[Firebase] FID Change")).onmessage = function(t) { T(t.data.key, t.data.fid) }), k }

                    function A() { 0 === C.size && k && (k.close(), k = null) }
                    var R = "firebase-installations-store",
                        O = null;

                    function N() {
                        return O || (O = Object(l.openDb)("firebase-installations-database", 1, (function(t) {
                            switch (t.oldVersion) {
                                case 0:
                                    t.createObjectStore(R)
                            }
                        }))), O
                    }

                    function D(t, e) {
                        return Object(a.__awaiter)(this, void 0, void 0, (function() {
                            var n, r, i, o, s;
                            return Object(a.__generator)(this, (function(a) {
                                switch (a.label) {
                                    case 0:
                                        return n = S(t), [4, N()];
                                    case 1:
                                        return r = a.sent(), i = r.transaction(R, "readwrite"), [4, (o = i.objectStore(R)).get(n)];
                                    case 2:
                                        return s = a.sent(), [4, o.put(e, n)];
                                    case 3:
                                        return a.sent(), [4, i.complete];
                                    case 4:
                                        return a.sent(), s && s.fid === e.fid || x(t, e.fid), [2, e]
                                }
                            }))
                        }))
                    }

                    function P(t) {
                        return Object(a.__awaiter)(this, void 0, void 0, (function() {
                            var e, n, r;
                            return Object(a.__generator)(this, (function(i) {
                                switch (i.label) {
                                    case 0:
                                        return e = S(t), [4, N()];
                                    case 1:
                                        return n = i.sent(), [4, (r = n.transaction(R, "readwrite")).objectStore(R).delete(e)];
                                    case 2:
                                        return i.sent(), [4, r.complete];
                                    case 3:
                                        return i.sent(), [2]
                                }
                            }))
                        }))
                    }

                    function M(t, e) {
                        return Object(a.__awaiter)(this, void 0, void 0, (function() {
                            var n, r, i, o, s, c;
                            return Object(a.__generator)(this, (function(a) {
                                switch (a.label) {
                                    case 0:
                                        return n = S(t), [4, N()];
                                    case 1:
                                        return r = a.sent(), i = r.transaction(R, "readwrite"), [4, (o = i.objectStore(R)).get(n)];
                                    case 2:
                                        return s = a.sent(), void 0 !== (c = e(s)) ? [3, 4] : [4, o.delete(n)];
                                    case 3:
                                        return a.sent(), [3, 6];
                                    case 4:
                                        return [4, o.put(c, n)];
                                    case 5:
                                        a.sent(), a.label = 6;
                                    case 6:
                                        return [4, i.complete];
                                    case 7:
                                        return a.sent(), !c || s && s.fid === c.fid || x(t, c.fid), [2, c]
                                }
                            }))
                        }))
                    }

                    function L(t) {
                        return Object(a.__awaiter)(this, void 0, void 0, (function() {
                            var e, n, r;
                            return Object(a.__generator)(this, (function(i) {
                                switch (i.label) {
                                    case 0:
                                        return [4, M(t, (function(n) {
                                            var r = function(t) { return U(t || { fid: E(), registrationStatus: 0 }) }(n),
                                                i = function(t, e) {
                                                    if (0 === e.registrationStatus) {
                                                        if (!navigator.onLine) return { installationEntry: e, registrationPromise: Promise.reject(h.create("app-offline")) };
                                                        var n = { fid: e.fid, registrationStatus: 1, registrationTime: Date.now() };
                                                        return {
                                                            installationEntry: n,
                                                            registrationPromise: function(t, e) {
                                                                return Object(a.__awaiter)(this, void 0, void 0, (function() {
                                                                    var n, r;
                                                                    return Object(a.__generator)(this, (function(i) {
                                                                        switch (i.label) {
                                                                            case 0:
                                                                                return i.trys.push([0, 2, , 7]), [4, _(t, e)];
                                                                            case 1:
                                                                                return n = i.sent(), [2, D(t, n)];
                                                                            case 2:
                                                                                return d(r = i.sent()) && 409 === r.serverCode ? [4, P(t)] : [3, 4];
                                                                            case 3:
                                                                                return i.sent(), [3, 6];
                                                                            case 4:
                                                                                return [4, D(t, { fid: e.fid, registrationStatus: 0 })];
                                                                            case 5:
                                                                                i.sent(), i.label = 6;
                                                                            case 6:
                                                                                throw r;
                                                                            case 7:
                                                                                return [2]
                                                                        }
                                                                    }))
                                                                }))
                                                            }(t, n)
                                                        }
                                                    }
                                                    return 1 === e.registrationStatus ? { installationEntry: e, registrationPromise: F(t) } : { installationEntry: e }
                                                }(t, r);
                                            return e = i.registrationPromise, i.installationEntry
                                        }))];
                                    case 1:
                                        return "" !== (n = i.sent()).fid ? [3, 3] : (r = {}, [4, e]);
                                    case 2:
                                        return [2, (r.installationEntry = i.sent(), r)];
                                    case 3:
                                        return [2, { installationEntry: n, registrationPromise: e }]
                                }
                            }))
                        }))
                    }

                    function F(t) {
                        return Object(a.__awaiter)(this, void 0, void 0, (function() {
                            var e, n, r, i;
                            return Object(a.__generator)(this, (function(o) {
                                switch (o.label) {
                                    case 0:
                                        return [4, j(t)];
                                    case 1:
                                        e = o.sent(), o.label = 2;
                                    case 2:
                                        return 1 !== e.registrationStatus ? [3, 5] : [4, b(100)];
                                    case 3:
                                        return o.sent(), [4, j(t)];
                                    case 4:
                                        return e = o.sent(), [3, 2];
                                    case 5:
                                        return 0 !== e.registrationStatus ? [3, 7] : [4, L(t)];
                                    case 6:
                                        return n = o.sent(), r = n.installationEntry, (i = n.registrationPromise) ? [2, i] : [2, r];
                                    case 7:
                                        return [2, e]
                                }
                            }))
                        }))
                    }

                    function j(t) { return M(t, (function(t) { if (!t) throw h.create("installation-not-found"); return U(t) })) }

                    function U(t) { return 1 === (e = t).registrationStatus && e.registrationTime + 1e4 < Date.now() ? { fid: t.fid, registrationStatus: 0 } : t; var e }

                    function V(t, e) {
                        var n = t.appConfig,
                            r = t.platformLoggerProvider;
                        return Object(a.__awaiter)(this, void 0, void 0, (function() {
                            var t, i, o, s, c;
                            return Object(a.__generator)(this, (function(a) {
                                switch (a.label) {
                                    case 0:
                                        return t = function(t, e) { var n = e.fid; return p(t) + "/" + n + "/authTokens:generate" }(n, e), i = y(n, e), (o = r.getImmediate({ optional: !0 })) && i.append("x-firebase-client", o.getPlatformInfoString()), s = { method: "POST", headers: i, body: JSON.stringify({ installation: { sdkVersion: "w:0.4.14" } }) }, [4, v((function() { return fetch(t, s) }))];
                                    case 1:
                                        return (c = a.sent()).ok ? [4, c.json()] : [3, 3];
                                    case 2:
                                        return [2, f(a.sent())];
                                    case 3:
                                        return [4, m("Generate Auth Token", c)];
                                    case 4:
                                        throw a.sent()
                                }
                            }))
                        }))
                    }

                    function B(t, e) {
                        return void 0 === e && (e = !1), Object(a.__awaiter)(this, void 0, void 0, (function() {
                            var n, r, i;
                            return Object(a.__generator)(this, (function(o) {
                                switch (o.label) {
                                    case 0:
                                        return [4, M(t.appConfig, (function(r) {
                                            if (!H(r)) throw h.create("not-registered");
                                            var i, o = r.authToken;
                                            if (!e && 2 === (i = o).requestStatus && ! function(t) { var e = Date.now(); return e < t.creationTime || t.creationTime + t.expiresIn < e + 36e5 }(i)) return r;
                                            if (1 === o.requestStatus) return n = function(t, e) {
                                                return Object(a.__awaiter)(this, void 0, void 0, (function() {
                                                    var n, r;
                                                    return Object(a.__generator)(this, (function(i) {
                                                        switch (i.label) {
                                                            case 0:
                                                                return [4, q(t.appConfig)];
                                                            case 1:
                                                                n = i.sent(), i.label = 2;
                                                            case 2:
                                                                return 1 !== n.authToken.requestStatus ? [3, 5] : [4, b(100)];
                                                            case 3:
                                                                return i.sent(), [4, q(t.appConfig)];
                                                            case 4:
                                                                return n = i.sent(), [3, 2];
                                                            case 5:
                                                                return 0 === (r = n.authToken).requestStatus ? [2, B(t, e)] : [2, r]
                                                        }
                                                    }))
                                                }))
                                            }(t, e), r;
                                            if (!navigator.onLine) throw h.create("app-offline");
                                            var s = function(t) { var e = { requestStatus: 1, requestTime: Date.now() }; return Object(a.__assign)(Object(a.__assign)({}, t), { authToken: e }) }(r);
                                            return n = function(t, e) {
                                                return Object(a.__awaiter)(this, void 0, void 0, (function() {
                                                    var n, r, i;
                                                    return Object(a.__generator)(this, (function(o) {
                                                        switch (o.label) {
                                                            case 0:
                                                                return o.trys.push([0, 3, , 8]), [4, V(t, e)];
                                                            case 1:
                                                                return n = o.sent(), i = Object(a.__assign)(Object(a.__assign)({}, e), { authToken: n }), [4, D(t.appConfig, i)];
                                                            case 2:
                                                                return o.sent(), [2, n];
                                                            case 3:
                                                                return !d(r = o.sent()) || 401 !== r.serverCode && 404 !== r.serverCode ? [3, 5] : [4, P(t.appConfig)];
                                                            case 4:
                                                                return o.sent(), [3, 7];
                                                            case 5:
                                                                return i = Object(a.__assign)(Object(a.__assign)({}, e), { authToken: { requestStatus: 0 } }), [4, D(t.appConfig, i)];
                                                            case 6:
                                                                o.sent(), o.label = 7;
                                                            case 7:
                                                                throw r;
                                                            case 8:
                                                                return [2]
                                                        }
                                                    }))
                                                }))
                                            }(t, s), s
                                        }))];
                                    case 1:
                                        return r = o.sent(), n ? [4, n] : [3, 3];
                                    case 2:
                                        return i = o.sent(), [3, 4];
                                    case 3:
                                        i = r.authToken, o.label = 4;
                                    case 4:
                                        return [2, i]
                                }
                            }))
                        }))
                    }

                    function q(t) { return M(t, (function(t) { if (!H(t)) throw h.create("not-registered"); var e; return 1 === (e = t.authToken).requestStatus && e.requestTime + 1e4 < Date.now() ? Object(a.__assign)(Object(a.__assign)({}, t), { authToken: { requestStatus: 0 } }) : t })) }

                    function H(t) { return void 0 !== t && 2 === t.registrationStatus }

                    function W(t) {
                        return Object(a.__awaiter)(this, void 0, void 0, (function() {
                            var e;
                            return Object(a.__generator)(this, (function(n) {
                                switch (n.label) {
                                    case 0:
                                        return [4, L(t)];
                                    case 1:
                                        return (e = n.sent().registrationPromise) ? [4, e] : [3, 3];
                                    case 2:
                                        n.sent(), n.label = 3;
                                    case 3:
                                        return [2]
                                }
                            }))
                        }))
                    }

                    function z(t, e) {
                        return Object(a.__awaiter)(this, void 0, void 0, (function() {
                            var n, r, i, o;
                            return Object(a.__generator)(this, (function(s) {
                                switch (s.label) {
                                    case 0:
                                        return n = function(t, e) { var n = e.fid; return p(t) + "/" + n }(t, e), r = y(t, e), i = { method: "DELETE", headers: r }, [4, v((function() { return fetch(n, i) }))];
                                    case 1:
                                        return (o = s.sent()).ok ? [3, 3] : [4, m("Delete Installation", o)];
                                    case 2:
                                        throw s.sent();
                                    case 3:
                                        return [2]
                                }
                            }))
                        }))
                    }

                    function G(t) { return h.create("missing-app-config-values", { valueName: t }) }

                    function $(t) {
                        t.INTERNAL.registerComponent(new s.Component("installations", (function(t) {
                            var e = t.getProvider("app").getImmediate(),
                                n = { appConfig: function(t) { var e, n; if (!t || !t.options) throw G("App Configuration"); if (!t.name) throw G("App Name"); try { for (var r = Object(a.__values)(["projectId", "apiKey", "appId"]), i = r.next(); !i.done; i = r.next()) { var o = i.value; if (!t.options[o]) throw G(o) } } catch (s) { e = { error: s } } finally { try { i && !i.done && (n = r.return) && n.call(r) } finally { if (e) throw e.error } } return { appName: t.name, projectId: t.options.projectId, apiKey: t.options.apiKey, appId: t.options.appId } }(e), platformLoggerProvider: t.getProvider("platform-logger") };
                            return {
                                app: e,
                                getId: function() {
                                    return function(t) {
                                        return Object(a.__awaiter)(this, void 0, void 0, (function() {
                                            var e, n, r;
                                            return Object(a.__generator)(this, (function(i) {
                                                switch (i.label) {
                                                    case 0:
                                                        return [4, L(t.appConfig)];
                                                    case 1:
                                                        return e = i.sent(), n = e.installationEntry, (r = e.registrationPromise) ? r.catch(console.error) : B(t).catch(console.error), [2, n.fid]
                                                }
                                            }))
                                        }))
                                    }(n)
                                },
                                getToken: function(t) {
                                    return function(t, e) {
                                        return void 0 === e && (e = !1), Object(a.__awaiter)(this, void 0, void 0, (function() {
                                            return Object(a.__generator)(this, (function(n) {
                                                switch (n.label) {
                                                    case 0:
                                                        return [4, W(t.appConfig)];
                                                    case 1:
                                                        return n.sent(), [4, B(t, e)];
                                                    case 2:
                                                        return [2, n.sent().token]
                                                }
                                            }))
                                        }))
                                    }(n, t)
                                },
                                delete: function() {
                                    return function(t) {
                                        return Object(a.__awaiter)(this, void 0, void 0, (function() {
                                            var e, n;
                                            return Object(a.__generator)(this, (function(r) {
                                                switch (r.label) {
                                                    case 0:
                                                        return [4, M(e = t.appConfig, (function(t) { if (!t || 0 !== t.registrationStatus) return t }))];
                                                    case 1:
                                                        if (!(n = r.sent())) return [3, 6];
                                                        if (1 !== n.registrationStatus) return [3, 2];
                                                        throw h.create("delete-pending-registration");
                                                    case 2:
                                                        if (2 !== n.registrationStatus) return [3, 6];
                                                        if (navigator.onLine) return [3, 3];
                                                        throw h.create("app-offline");
                                                    case 3:
                                                        return [4, z(e, n)];
                                                    case 4:
                                                        return r.sent(), [4, P(e)];
                                                    case 5:
                                                        r.sent(), r.label = 6;
                                                    case 6:
                                                        return [2]
                                                }
                                            }))
                                        }))
                                    }(n)
                                },
                                onIdChange: function(t) {
                                    return function(t, e) {
                                        var n = t.appConfig;
                                        return function(t, e) {
                                                I();
                                                var n = S(t),
                                                    r = C.get(n);
                                                r || (r = new Set, C.set(n, r)), r.add(e)
                                            }(n, e),
                                            function() {
                                                ! function(t, e) {
                                                    var n = S(t),
                                                        r = C.get(n);
                                                    r && (r.delete(e), 0 === r.size && C.delete(n), A())
                                                }(n, e)
                                            }
                                    }(n, t)
                                }
                            }
                        }), "PUBLIC")), t.registerVersion("@firebase/installations", "0.4.14")
                    }
                    $(o.a)
                },
                gHGA: function(t, e, n) {
                    "use strict";
                    n.r(e);
                    var r, i = n("wj3C"),
                        o = n.n(i),
                        s = (n("fSjL"), n("S+S0")),
                        a = n("mrSG"),
                        c = n("zVF4"),
                        l = n("nbvr"),
                        u = ((r = {})["missing-app-config-values"] = 'Missing App configuration value: "{$valueName}"', r["only-available-in-window"] = "This method is available in a Window context.", r["only-available-in-sw"] = "This method is available in a service worker context.", r["permission-default"] = "The notification permission was not granted and dismissed instead.", r["permission-blocked"] = "The notification permission was not granted and blocked instead.", r["unsupported-browser"] = "This browser doesn't support the API's required to use the firebase SDK.", r["failed-service-worker-registration"] = "We are unable to register the default service worker. {$browserErrorMessage}", r["token-subscribe-failed"] = "A problem occured while subscribing the user to FCM: {$errorInfo}", r["token-subscribe-no-token"] = "FCM returned no token when subscribing the user to push.", r["token-unsubscribe-failed"] = "A problem occured while unsubscribing the user from FCM: {$errorInfo}", r["token-update-failed"] = "A problem occured while updating the user from FCM: {$errorInfo}", r["token-update-no-token"] = "FCM returned no token when updating the user to push.", r["use-sw-after-get-token"] = "The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.", r["invalid-sw-registration"] = "The input to useServiceWorker() must be a ServiceWorkerRegistration.", r["invalid-bg-handler"] = "The input to setBackgroundMessageHandler() must be a function.", r["invalid-vapid-key"] = "The public VAPID key must be a string.", r["use-vapid-key-after-get-token"] = "The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.", r),
                        h = new c.ErrorFactory("messaging", "Messaging", u);

                    function d(t) { return h.create("missing-app-config-values", { valueName: t }) }
                    var p = "BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",
                        f = function(t) { return t.PUSH_RECEIVED = "push-received", t.NOTIFICATION_CLICKED = "notification-clicked", t }({});

                    function m(t) { var e = new Uint8Array(t); return btoa(String.fromCharCode.apply(String, Object(a.__spread)(e))).replace(/=/g, "").replace(/\+/g, "-").replace(/\//g, "_") }

                    function g(t) { for (var e = (t + "=".repeat((4 - t.length % 4) % 4)).replace(/\-/g, "+").replace(/_/g, "/"), n = atob(e), r = new Uint8Array(n.length), i = 0; i < n.length; ++i) r[i] = n.charCodeAt(i); return r }

                    function y(t) {
                        return Object(a.__awaiter)(this, void 0, void 0, (function() {
                            var e, n = this;
                            return Object(a.__generator)(this, (function(r) {
                                switch (r.label) {
                                    case 0:
                                        return "databases" in indexedDB ? [4, indexedDB.databases()] : [3, 2];
                                    case 1:
                                        if (!r.sent().map((function(t) { return t.name })).includes("fcm_token_details_db")) return [2, null];
                                        r.label = 2;
                                    case 2:
                                        return e = null, [4, Object(l.openDb)("fcm_token_details_db", 5, (function(r) {
                                            return Object(a.__awaiter)(n, void 0, void 0, (function() {
                                                var n, i, o, s;
                                                return Object(a.__generator)(this, (function(a) {
                                                    switch (a.label) {
                                                        case 0:
                                                            return r.oldVersion < 2 ? [2] : r.objectStoreNames.contains("fcm_token_object_Store") ? [4, (n = r.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(t)] : [2];
                                                        case 1:
                                                            return i = a.sent(), [4, n.clear()];
                                                        case 2:
                                                            if (a.sent(), !i) return [2];
                                                            if (2 === r.oldVersion) {
                                                                if (!(o = i).auth || !o.p256dh || !o.endpoint) return [2];
                                                                e = { token: o.fcmToken, createTime: null !== (s = o.createTime) && void 0 !== s ? s : Date.now(), subscriptionOptions: { auth: o.auth, p256dh: o.p256dh, endpoint: o.endpoint, swScope: o.swScope, vapidKey: "string" == typeof o.vapidKey ? o.vapidKey : m(o.vapidKey) } }
                                                            } else 3 === r.oldVersion ? e = { token: (o = i).fcmToken, createTime: o.createTime, subscriptionOptions: { auth: m(o.auth), p256dh: m(o.p256dh), endpoint: o.endpoint, swScope: o.swScope, vapidKey: m(o.vapidKey) } } : 4 === r.oldVersion && (e = { token: (o = i).fcmToken, createTime: o.createTime, subscriptionOptions: { auth: m(o.auth), p256dh: m(o.p256dh), endpoint: o.endpoint, swScope: o.swScope, vapidKey: m(o.vapidKey) } });
                                                            return [2]
                                                    }
                                                }))
                                            }))
                                        }))];
                                    case 3:
                                        return r.sent().close(), [4, Object(l.deleteDb)("fcm_token_details_db")];
                                    case 4:
                                        return r.sent(), [4, Object(l.deleteDb)("fcm_vapid_details_db")];
                                    case 5:
                                        return r.sent(), [4, Object(l.deleteDb)("undefined")];
                                    case 6:
                                        return r.sent(), [2, v(e) ? e : null]
                                }
                            }))
                        }))
                    }

                    function v(t) { if (!t || !t.subscriptionOptions) return !1; var e = t.subscriptionOptions; return "number" == typeof t.createTime && t.createTime > 0 && "string" == typeof t.token && t.token.length > 0 && "string" == typeof e.auth && e.auth.length > 0 && "string" == typeof e.p256dh && e.p256dh.length > 0 && "string" == typeof e.endpoint && e.endpoint.length > 0 && "string" == typeof e.swScope && e.swScope.length > 0 && "string" == typeof e.vapidKey && e.vapidKey.length > 0 }
                    var _ = "firebase-messaging-store",
                        b = null;

                    function w() {
                        return b || (b = Object(l.openDb)("firebase-messaging-database", 1, (function(t) {
                            switch (t.oldVersion) {
                                case 0:
                                    t.createObjectStore(_)
                            }
                        }))), b
                    }

                    function E(t) {
                        return Object(a.__awaiter)(this, void 0, void 0, (function() {
                            var e, n, r;
                            return Object(a.__generator)(this, (function(i) {
                                switch (i.label) {
                                    case 0:
                                        return e = x(t), [4, w()];
                                    case 1:
                                        return [4, i.sent().transaction(_).objectStore(_).get(e)];
                                    case 2:
                                        return (n = i.sent()) ? [2, n] : [3, 3];
                                    case 3:
                                        return [4, y(t.appConfig.senderId)];
                                    case 4:
                                        return (r = i.sent()) ? [4, S(t, r)] : [3, 6];
                                    case 5:
                                        return i.sent(), [2, r];
                                    case 6:
                                        return [2]
                                }
                            }))
                        }))
                    }

                    function S(t, e) {
                        return Object(a.__awaiter)(this, void 0, void 0, (function() {
                            var n, r, i;
                            return Object(a.__generator)(this, (function(o) {
                                switch (o.label) {
                                    case 0:
                                        return n = x(t), [4, w()];
                                    case 1:
                                        return r = o.sent(), [4, (i = r.transaction(_, "readwrite")).objectStore(_).put(e, n)];
                                    case 2:
                                        return o.sent(), [4, i.complete];
                                    case 3:
                                        return o.sent(), [2, e]
                                }
                            }))
                        }))
                    }

                    function C(t) {
                        return Object(a.__awaiter)(this, void 0, void 0, (function() {
                            var e, n, r;
                            return Object(a.__generator)(this, (function(i) {
                                switch (i.label) {
                                    case 0:
                                        return e = x(t), [4, w()];
                                    case 1:
                                        return n = i.sent(), [4, (r = n.transaction(_, "readwrite")).objectStore(_).delete(e)];
                                    case 2:
                                        return i.sent(), [4, r.complete];
                                    case 3:
                                        return i.sent(), [2]
                                }
                            }))
                        }))
                    }

                    function x(t) { return t.appConfig.appId }

                    function T(t, e) {
                        return Object(a.__awaiter)(this, void 0, void 0, (function() {
                            var n, r, i, o, s;
                            return Object(a.__generator)(this, (function(a) {
                                switch (a.label) {
                                    case 0:
                                        return [4, R(t)];
                                    case 1:
                                        n = a.sent(), r = O(e), i = { method: "POST", headers: n, body: JSON.stringify(r) }, a.label = 2;
                                    case 2:
                                        return a.trys.push([2, 5, , 6]), [4, fetch(A(t.appConfig), i)];
                                    case 3:
                                        return [4, a.sent().json()];
                                    case 4:
                                        return o = a.sent(), [3, 6];
                                    case 5:
                                        throw s = a.sent(), h.create("token-subscribe-failed", { errorInfo: s });
                                    case 6:
                                        if (o.error) throw h.create("token-subscribe-failed", { errorInfo: o.error.message });
                                        if (!o.token) throw h.create("token-subscribe-no-token");
                                        return [2, o.token]
                                }
                            }))
                        }))
                    }

                    function k(t, e) {
                        return Object(a.__awaiter)(this, void 0, void 0, (function() {
                            var n, r, i, o, s;
                            return Object(a.__generator)(this, (function(a) {
                                switch (a.label) {
                                    case 0:
                                        return [4, R(t)];
                                    case 1:
                                        n = a.sent(), r = O(e.subscriptionOptions), i = { method: "PATCH", headers: n, body: JSON.stringify(r) }, a.label = 2;
                                    case 2:
                                        return a.trys.push([2, 5, , 6]), [4, fetch(A(t.appConfig) + "/" + e.token, i)];
                                    case 3:
                                        return [4, a.sent().json()];
                                    case 4:
                                        return o = a.sent(), [3, 6];
                                    case 5:
                                        throw s = a.sent(), h.create("token-update-failed", { errorInfo: s });
                                    case 6:
                                        if (o.error) throw h.create("token-update-failed", { errorInfo: o.error.message });
                                        if (!o.token) throw h.create("token-update-no-token");
                                        return [2, o.token]
                                }
                            }))
                        }))
                    }

                    function I(t, e) {
                        return Object(a.__awaiter)(this, void 0, void 0, (function() {
                            var n, r, i, o;
                            return Object(a.__generator)(this, (function(s) {
                                switch (s.label) {
                                    case 0:
                                        return [4, R(t)];
                                    case 1:
                                        n = s.sent(), r = { method: "DELETE", headers: n }, s.label = 2;
                                    case 2:
                                        return s.trys.push([2, 5, , 6]), [4, fetch(A(t.appConfig) + "/" + e, r)];
                                    case 3:
                                        return [4, s.sent().json()];
                                    case 4:
                                        if ((i = s.sent()).error) throw h.create("token-unsubscribe-failed", { errorInfo: i.error.message });
                                        return [3, 6];
                                    case 5:
                                        throw o = s.sent(), h.create("token-unsubscribe-failed", { errorInfo: o });
                                    case 6:
                                        return [2]
                                }
                            }))
                        }))
                    }

                    function A(t) { return "https://fcmregistrations.googleapis.com/v1/projects/" + t.projectId + "/registrations" }

                    function R(t) {
                        var e = t.appConfig,
                            n = t.installations;
                        return Object(a.__awaiter)(this, void 0, void 0, (function() {
                            var t;
                            return Object(a.__generator)(this, (function(r) {
                                switch (r.label) {
                                    case 0:
                                        return [4, n.getToken()];
                                    case 1:
                                        return t = r.sent(), [2, new Headers({ "Content-Type": "application/json", Accept: "application/json", "x-goog-api-key": e.apiKey, "x-goog-firebase-installations-auth": "FIS " + t })]
                                }
                            }))
                        }))
                    }

                    function O(t) {
                        var e = t.vapidKey,
                            n = { web: { endpoint: t.endpoint, auth: t.auth, p256dh: t.p256dh } };
                        return e !== p && (n.web.applicationPubKey = e), n
                    }

                    function N(t, e, n) {
                        return Object(a.__awaiter)(this, void 0, void 0, (function() {
                            var r, i, o, s;
                            return Object(a.__generator)(this, (function(a) {
                                switch (a.label) {
                                    case 0:
                                        if ("granted" !== Notification.permission) throw h.create("permission-blocked");
                                        return [4, L(e, n)];
                                    case 1:
                                        return r = a.sent(), [4, E(t)];
                                    case 2:
                                        return i = a.sent(), o = { vapidKey: n, swScope: e.scope, endpoint: r.endpoint, auth: m(r.getKey("auth")), p256dh: m(r.getKey("p256dh")) }, i ? [3, 3] : [2, M(t, o)];
                                    case 3:
                                        if (u = (l = o).endpoint === (c = i.subscriptionOptions).endpoint, l.vapidKey === c.vapidKey && u && l.auth === c.auth && l.p256dh === c.p256dh) return [3, 8];
                                        a.label = 4;
                                    case 4:
                                        return a.trys.push([4, 6, , 7]), [4, I(t, i.token)];
                                    case 5:
                                        return a.sent(), [3, 7];
                                    case 6:
                                        return s = a.sent(), console.warn(s), [3, 7];
                                    case 7:
                                        return [2, M(t, o)];
                                    case 8:
                                        return Date.now() >= i.createTime + 6048e5 ? [2, P({ token: i.token, createTime: Date.now(), subscriptionOptions: o }, t, e)] : [2, i.token];
                                    case 9:
                                        return [2]
                                }
                                var c, l, u
                            }))
                        }))
                    }

                    function D(t, e) {
                        return Object(a.__awaiter)(this, void 0, void 0, (function() {
                            var n, r;
                            return Object(a.__generator)(this, (function(i) {
                                switch (i.label) {
                                    case 0:
                                        return [4, E(t)];
                                    case 1:
                                        return (n = i.sent()) ? [4, I(t, n.token)] : [3, 4];
                                    case 2:
                                        return i.sent(), [4, C(t)];
                                    case 3:
                                        i.sent(), i.label = 4;
                                    case 4:
                                        return [4, e.pushManager.getSubscription()];
                                    case 5:
                                        return (r = i.sent()) ? [2, r.unsubscribe()] : [2, !0]
                                }
                            }))
                        }))
                    }

                    function P(t, e, n) {
                        return Object(a.__awaiter)(this, void 0, void 0, (function() {
                            var r, i, o;
                            return Object(a.__generator)(this, (function(s) {
                                switch (s.label) {
                                    case 0:
                                        return s.trys.push([0, 3, , 5]), [4, k(e, t)];
                                    case 1:
                                        return r = s.sent(), i = Object(a.__assign)(Object(a.__assign)({}, t), { token: r, createTime: Date.now() }), [4, S(e, i)];
                                    case 2:
                                        return s.sent(), [2, r];
                                    case 3:
                                        return o = s.sent(), [4, D(e, n)];
                                    case 4:
                                        throw s.sent(), o;
                                    case 5:
                                        return [2]
                                }
                            }))
                        }))
                    }

                    function M(t, e) {
                        return Object(a.__awaiter)(this, void 0, void 0, (function() {
                            var n, r;
                            return Object(a.__generator)(this, (function(i) {
                                switch (i.label) {
                                    case 0:
                                        return [4, T(t, e)];
                                    case 1:
                                        return n = i.sent(), r = { token: n, createTime: Date.now(), subscriptionOptions: e }, [4, S(t, r)];
                                    case 2:
                                        return i.sent(), [2, r.token]
                                }
                            }))
                        }))
                    }

                    function L(t, e) {
                        return Object(a.__awaiter)(this, void 0, void 0, (function() {
                            var n;
                            return Object(a.__generator)(this, (function(r) {
                                switch (r.label) {
                                    case 0:
                                        return [4, t.pushManager.getSubscription()];
                                    case 1:
                                        return (n = r.sent()) ? [2, n] : [2, t.pushManager.subscribe({ userVisibleOnly: !0, applicationServerKey: g(e) })]
                                }
                            }))
                        }))
                    }

                    function F(t) { return "object" == typeof t && !!t && "google.c.a.c_id" in t }
                    var j = function() {
                            function t(t) {
                                var e = this;
                                this.firebaseDependencies = t, this.vapidKey = null, this.onMessageCallback = null, navigator.serviceWorker.addEventListener("message", (function(t) { return e.messageEventListener(t) }))
                            }
                            return Object.defineProperty(t.prototype, "app", { get: function() { return this.firebaseDependencies.app }, enumerable: !1, configurable: !0 }), t.prototype.getToken = function() {
                                return Object(a.__awaiter)(this, void 0, void 0, (function() {
                                    var t;
                                    return Object(a.__generator)(this, (function(e) {
                                        switch (e.label) {
                                            case 0:
                                                return this.vapidKey || (this.vapidKey = p), [4, this.getServiceWorkerRegistration()];
                                            case 1:
                                                return t = e.sent(), "default" !== Notification.permission ? [3, 3] : [4, Notification.requestPermission()];
                                            case 2:
                                                e.sent(), e.label = 3;
                                            case 3:
                                                if ("granted" !== Notification.permission) throw h.create("permission-blocked");
                                                return [2, N(this.firebaseDependencies, t, this.vapidKey)]
                                        }
                                    }))
                                }))
                            }, t.prototype.deleteToken = function() {
                                return Object(a.__awaiter)(this, void 0, void 0, (function() {
                                    var t;
                                    return Object(a.__generator)(this, (function(e) {
                                        switch (e.label) {
                                            case 0:
                                                return [4, this.getServiceWorkerRegistration()];
                                            case 1:
                                                return t = e.sent(), [2, D(this.firebaseDependencies, t)]
                                        }
                                    }))
                                }))
                            }, t.prototype.requestPermission = function() {
                                return Object(a.__awaiter)(this, void 0, void 0, (function() {
                                    var t;
                                    return Object(a.__generator)(this, (function(e) {
                                        switch (e.label) {
                                            case 0:
                                                return "granted" === Notification.permission ? [2] : [4, Notification.requestPermission()];
                                            case 1:
                                                if ("granted" === (t = e.sent())) return [2];
                                                throw h.create("denied" === t ? "permission-blocked" : "permission-default")
                                        }
                                    }))
                                }))
                            }, t.prototype.usePublicVapidKey = function(t) {
                                if (null !== this.vapidKey) throw h.create("use-vapid-key-after-get-token");
                                if ("string" != typeof t || 0 === t.length) throw h.create("invalid-vapid-key");
                                this.vapidKey = t
                            }, t.prototype.useServiceWorker = function(t) {
                                if (!(t instanceof ServiceWorkerRegistration)) throw h.create("invalid-sw-registration");
                                if (this.swRegistration) throw h.create("use-sw-after-get-token");
                                this.swRegistration = t
                            }, t.prototype.onMessage = function(t) {
                                var e = this;
                                return this.onMessageCallback = t,
                                    function() { e.onMessageCallback = null }
                            }, t.prototype.setBackgroundMessageHandler = function() { throw h.create("only-available-in-sw") }, t.prototype.onTokenRefresh = function() { return function() {} }, t.prototype.getServiceWorkerRegistration = function() {
                                return Object(a.__awaiter)(this, void 0, void 0, (function() {
                                    var t, e;
                                    return Object(a.__generator)(this, (function(n) {
                                        switch (n.label) {
                                            case 0:
                                                if (this.swRegistration) return [3, 4];
                                                n.label = 1;
                                            case 1:
                                                return n.trys.push([1, 3, , 4]), t = this, [4, navigator.serviceWorker.register("/firebase-messaging-sw.js", { scope: "/firebase-cloud-messaging-push-scope" })];
                                            case 2:
                                                return t.swRegistration = n.sent(), this.swRegistration.update().catch((function() {})), [3, 4];
                                            case 3:
                                                throw e = n.sent(), h.create("failed-service-worker-registration", { browserErrorMessage: e.message });
                                            case 4:
                                                return [2, this.swRegistration]
                                        }
                                    }))
                                }))
                            }, t.prototype.messageEventListener = function(t) {
                                var e;
                                return Object(a.__awaiter)(this, void 0, void 0, (function() {
                                    var n, r, i, o;
                                    return Object(a.__generator)(this, (function(s) {
                                        switch (s.label) {
                                            case 0:
                                                return (null === (e = t.data) || void 0 === e ? void 0 : e.firebaseMessaging) ? (r = (n = t.data.firebaseMessaging).type, i = n.payload, this.onMessageCallback && r === f.PUSH_RECEIVED && ("function" == typeof this.onMessageCallback ? this.onMessageCallback(i) : this.onMessageCallback.next(i)), F(o = i.data) && "1" === o["google.c.a.e"] ? [4, this.logEvent(r, o)] : [3, 2]) : [2];
                                            case 1:
                                                s.sent(), s.label = 2;
                                            case 2:
                                                return [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.logEvent = function(t, e) {
                                return Object(a.__awaiter)(this, void 0, void 0, (function() {
                                    var n;
                                    return Object(a.__generator)(this, (function(r) {
                                        switch (r.label) {
                                            case 0:
                                                return n = function(t) {
                                                    switch (t) {
                                                        case f.NOTIFICATION_CLICKED:
                                                            return "notification_open";
                                                        case f.PUSH_RECEIVED:
                                                            return "notification_foreground";
                                                        default:
                                                            throw new Error
                                                    }
                                                }(t), [4, this.firebaseDependencies.analyticsProvider.get()];
                                            case 1:
                                                return r.sent().logEvent(n, { message_id: e["google.c.a.c_id"], message_name: e["google.c.a.c_l"], message_time: e["google.c.a.ts"], message_device_time: Math.floor(Date.now() / 1e3) }), [2]
                                        }
                                    }))
                                }))
                            }, t
                        }(),
                        U = function() {
                            function t(t) {
                                var e = this;
                                this.firebaseDependencies = t, this.vapidKey = null, this.bgMessageHandler = null, self.addEventListener("push", (function(t) { t.waitUntil(e.onPush(t)) })), self.addEventListener("pushsubscriptionchange", (function(t) { t.waitUntil(e.onSubChange(t)) })), self.addEventListener("notificationclick", (function(t) { t.waitUntil(e.onNotificationClick(t)) }))
                            }
                            return Object.defineProperty(t.prototype, "app", { get: function() { return this.firebaseDependencies.app }, enumerable: !1, configurable: !0 }), t.prototype.setBackgroundMessageHandler = function(t) {
                                if (!t || "function" != typeof t) throw h.create("invalid-bg-handler");
                                this.bgMessageHandler = t
                            }, t.prototype.getToken = function() {
                                var t, e;
                                return Object(a.__awaiter)(this, void 0, void 0, (function() {
                                    var n;
                                    return Object(a.__generator)(this, (function(r) {
                                        switch (r.label) {
                                            case 0:
                                                return this.vapidKey ? [3, 2] : [4, E(this.firebaseDependencies)];
                                            case 1:
                                                n = r.sent(), this.vapidKey = null !== (e = null === (t = null == n ? void 0 : n.subscriptionOptions) || void 0 === t ? void 0 : t.vapidKey) && void 0 !== e ? e : p, r.label = 2;
                                            case 2:
                                                return [2, N(this.firebaseDependencies, self.registration, this.vapidKey)]
                                        }
                                    }))
                                }))
                            }, t.prototype.deleteToken = function() { return D(this.firebaseDependencies, self.registration) }, t.prototype.requestPermission = function() { throw h.create("only-available-in-window") }, t.prototype.usePublicVapidKey = function(t) {
                                if (null !== this.vapidKey) throw h.create("use-vapid-key-after-get-token");
                                if ("string" != typeof t || 0 === t.length) throw h.create("invalid-vapid-key");
                                this.vapidKey = t
                            }, t.prototype.useServiceWorker = function() { throw h.create("only-available-in-window") }, t.prototype.onMessage = function() { throw h.create("only-available-in-window") }, t.prototype.onTokenRefresh = function() { throw h.create("only-available-in-window") }, t.prototype.onPush = function(t) {
                                return Object(a.__awaiter)(this, void 0, void 0, (function() {
                                    var e, n, r;
                                    return Object(a.__generator)(this, (function(i) {
                                        switch (i.label) {
                                            case 0:
                                                return (e = function(t) { var e = t.data; if (!e) return null; try { return e.json() } catch (n) { return null } }(t)) ? [4, q()] : [2];
                                            case 1:
                                                return function(t) { return t.some((function(t) { return "visible" === t.visibilityState && !t.url.startsWith("chrome-extension://") })) }(n = i.sent()) ? [2, B(n, e)] : (r = function(t) { var e; if (t && "object" == typeof t.notification) { var n = Object(a.__assign)({}, t.notification); return n.data = Object(a.__assign)(Object(a.__assign)({}, t.notification.data), ((e = {}).FCM_MSG = t, e)), n } }(e)) ? [4, W(r)] : [3, 3];
                                            case 2:
                                                return i.sent(), [3, 5];
                                            case 3:
                                                return this.bgMessageHandler ? [4, this.bgMessageHandler(e)] : [3, 5];
                                            case 4:
                                                i.sent(), i.label = 5;
                                            case 5:
                                                return [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.onSubChange = function(t) {
                                var e, n;
                                return Object(a.__awaiter)(this, void 0, void 0, (function() {
                                    var r;
                                    return Object(a.__generator)(this, (function(i) {
                                        switch (i.label) {
                                            case 0:
                                                return t.newSubscription ? [3, 2] : [4, D(this.firebaseDependencies, self.registration)];
                                            case 1:
                                                return i.sent(), [2];
                                            case 2:
                                                return [4, E(this.firebaseDependencies)];
                                            case 3:
                                                return r = i.sent(), [4, D(this.firebaseDependencies, self.registration)];
                                            case 4:
                                                return i.sent(), [4, N(this.firebaseDependencies, self.registration, null !== (n = null === (e = null == r ? void 0 : r.subscriptionOptions) || void 0 === e ? void 0 : e.vapidKey) && void 0 !== n ? n : p)];
                                            case 5:
                                                return i.sent(), [2]
                                        }
                                    }))
                                }))
                            }, t.prototype.onNotificationClick = function(t) {
                                var e, n;
                                return Object(a.__awaiter)(this, void 0, void 0, (function() {
                                    var r, i, o, s;
                                    return Object(a.__generator)(this, (function(a) {
                                        switch (a.label) {
                                            case 0:
                                                return (r = null === (n = null === (e = t.notification) || void 0 === e ? void 0 : e.data) || void 0 === n ? void 0 : n.FCM_MSG) ? t.action ? [2] : (t.stopImmediatePropagation(), t.notification.close(), (i = function(t) { var e, n, r; return (null !== (n = null === (e = t.fcmOptions) || void 0 === e ? void 0 : e.link) && void 0 !== n ? n : null === (r = t.notification) || void 0 === r ? void 0 : r.click_action) || (F(t.data) ? self.location.origin : null) }(r)) ? [4, V(i)] : [2]) : [2];
                                            case 1:
                                                return (o = a.sent()) ? [3, 4] : [4, self.clients.openWindow(i)];
                                            case 2:
                                                return o = a.sent(), [4, new Promise((function(t) { setTimeout(t, 3e3) }))];
                                            case 3:
                                                return a.sent(), [3, 6];
                                            case 4:
                                                return [4, o.focus()];
                                            case 5:
                                                o = a.sent(), a.label = 6;
                                            case 6:
                                                return o ? (s = H(f.NOTIFICATION_CLICKED, r), [2, o.postMessage(s)]) : [2]
                                        }
                                    }))
                                }))
                            }, t
                        }();

                    function V(t) {
                        return Object(a.__awaiter)(this, void 0, void 0, (function() {
                            var e, n, r, i, o, s, c;
                            return Object(a.__generator)(this, (function(l) {
                                switch (l.label) {
                                    case 0:
                                        return e = new URL(t, self.location.href), [4, q()];
                                    case 1:
                                        n = l.sent();
                                        try {
                                            for (r = Object(a.__values)(n), i = r.next(); !i.done; i = r.next())
                                                if (o = i.value, new URL(o.url, self.location.href).host === e.host) return [2, o]
                                        } catch (u) { s = { error: u } } finally { try { i && !i.done && (c = r.return) && c.call(r) } finally { if (s) throw s.error } }
                                        return [2, null]
                                }
                            }))
                        }))
                    }

                    function B(t, e) { var n, r, i = H(f.PUSH_RECEIVED, e); try { for (var o = Object(a.__values)(t), s = o.next(); !s.done; s = o.next()) s.value.postMessage(i) } catch (c) { n = { error: c } } finally { try { s && !s.done && (r = o.return) && r.call(o) } finally { if (n) throw n.error } } }

                    function q() { return self.clients.matchAll({ type: "window", includeUncontrolled: !0 }) }

                    function H(t, e) { return { firebaseMessaging: { type: t, payload: e } } }

                    function W(t) {
                        var e, n = null !== (e = t.title) && void 0 !== e ? e : "",
                            r = t.actions,
                            i = Notification.maxActions;
                        return r && i && r.length > i && console.warn("This browser only supports " + i + " actions. The remaining actions will not be displayed."), self.registration.showNotification(n, t)
                    }
                    var z = { isSupported: G };

                    function G() { return self && "ServiceWorkerGlobalScope" in self ? "indexedDB" in self && null !== indexedDB && "PushManager" in self && "Notification" in self && ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification") && PushSubscription.prototype.hasOwnProperty("getKey") : "indexedDB" in window && null !== indexedDB && navigator.cookieEnabled && "serviceWorker" in navigator && "PushManager" in window && "Notification" in window && "fetch" in window && ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification") && PushSubscription.prototype.hasOwnProperty("getKey") }
                    o.a.INTERNAL.registerComponent(new s.Component("messaging", (function(t) {
                        var e = t.getProvider("app").getImmediate(),
                            n = { app: e, appConfig: function(t) { var e, n; if (!t || !t.options) throw d("App Configuration Object"); if (!t.name) throw d("App Name"); var r = t.options; try { for (var i = Object(a.__values)(["projectId", "apiKey", "appId", "messagingSenderId"]), o = i.next(); !o.done; o = i.next()) { var s = o.value; if (!r[s]) throw d(s) } } catch (c) { e = { error: c } } finally { try { o && !o.done && (n = i.return) && n.call(i) } finally { if (e) throw e.error } } return { appName: t.name, projectId: r.projectId, apiKey: r.apiKey, appId: r.appId, senderId: r.messagingSenderId } }(e), installations: t.getProvider("installations").getImmediate(), analyticsProvider: t.getProvider("analytics-internal") };
                        if (!G()) throw h.create("unsupported-browser");
                        return self && "ServiceWorkerGlobalScope" in self ? new U(n) : new j(n)
                    }), "PUBLIC").setServiceProps(z))
                },
                iqUP: function(t, e, n) {
                    "use strict";
                    var r, i = (r = n("wj3C")) && "object" == typeof r && "default" in r ? r.default : r;
                    n("t6oF"), n("NSPt"), n("6Joi"), n("ABqa"), n("gHGA"), n("LmZi"), n("bQlE"), n("3Kre"), n("O1kn"), i.registerVersion("firebase", "7.16.0", "app"), console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"), i.registerVersion("firebase", "7.16.0"), t.exports = i
                },
                mrSG: function(t, e, n) {
                    "use strict";
                    n.r(e), n.d(e, "__extends", (function() { return i })), n.d(e, "__assign", (function() { return o })), n.d(e, "__rest", (function() { return s })), n.d(e, "__decorate", (function() { return a })), n.d(e, "__param", (function() { return c })), n.d(e, "__metadata", (function() { return l })), n.d(e, "__awaiter", (function() { return u })), n.d(e, "__generator", (function() { return h })), n.d(e, "__createBinding", (function() { return d })), n.d(e, "__exportStar", (function() { return p })), n.d(e, "__values", (function() { return f })), n.d(e, "__read", (function() { return m })), n.d(e, "__spread", (function() { return g })), n.d(e, "__spreadArrays", (function() { return y })), n.d(e, "__await", (function() { return v })), n.d(e, "__asyncGenerator", (function() { return _ })), n.d(e, "__asyncDelegator", (function() { return b })), n.d(e, "__asyncValues", (function() { return w })), n.d(e, "__makeTemplateObject", (function() { return E })), n.d(e, "__importStar", (function() { return S })), n.d(e, "__importDefault", (function() { return C })), n.d(e, "__classPrivateFieldGet", (function() { return x })), n.d(e, "__classPrivateFieldSet", (function() { return T }));
                    var r = function(t, e) {
                        return (r = Object.setPrototypeOf || { __proto__: [] }
                            instanceof Array && function(t, e) { t.__proto__ = e } || function(t, e) { for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]) })(t, e)
                    };

                    function i(t, e) {
                        function n() { this.constructor = t }
                        r(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
                    }
                    var o = function() {
                        return (o = Object.assign || function(t) {
                            for (var e, n = 1, r = arguments.length; n < r; n++)
                                for (var i in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                            return t
                        }).apply(this, arguments)
                    };

                    function s(t, e) { var n = {}; for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && e.indexOf(r) < 0 && (n[r] = t[r]); if (null != t && "function" == typeof Object.getOwnPropertySymbols) { var i = 0; for (r = Object.getOwnPropertySymbols(t); i < r.length; i++) e.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(t, r[i]) && (n[r[i]] = t[r[i]]) } return n }

                    function a(t, e, n, r) {
                        var i, o = arguments.length,
                            s = o < 3 ? e : null === r ? r = Object.getOwnPropertyDescriptor(e, n) : r;
                        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, r);
                        else
                            for (var a = t.length - 1; a >= 0; a--)(i = t[a]) && (s = (o < 3 ? i(s) : o > 3 ? i(e, n, s) : i(e, n)) || s);
                        return o > 3 && s && Object.defineProperty(e, n, s), s
                    }

                    function c(t, e) { return function(n, r) { e(n, r, t) } }

                    function l(t, e) { if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e) }

                    function u(t, e, n, r) {
                        return new(n || (n = Promise))((function(i, o) {
                            function s(t) { try { c(r.next(t)) } catch (e) { o(e) } }

                            function a(t) { try { c(r.throw(t)) } catch (e) { o(e) } }

                            function c(t) {
                                var e;
                                t.done ? i(t.value) : (e = t.value, e instanceof n ? e : new n((function(t) { t(e) }))).then(s, a)
                            }
                            c((r = r.apply(t, e || [])).next())
                        }))
                    }

                    function h(t, e) {
                        var n, r, i, o, s = { label: 0, sent: function() { if (1 & i[0]) throw i[1]; return i[1] }, trys: [], ops: [] };
                        return o = { next: a(0), throw: a(1), return: a(2) }, "function" == typeof Symbol && (o[Symbol.iterator] = function() { return this }), o;

                        function a(o) {
                            return function(a) {
                                return function(o) {
                                    if (n) throw new TypeError("Generator is already executing.");
                                    for (; s;) try {
                                        if (n = 1, r && (i = 2 & o[0] ? r.return : o[0] ? r.throw || ((i = r.return) && i.call(r), 0) : r.next) && !(i = i.call(r, o[1])).done) return i;
                                        switch (r = 0, i && (o = [2 & o[0], i.value]), o[0]) {
                                            case 0:
                                            case 1:
                                                i = o;
                                                break;
                                            case 4:
                                                return s.label++, { value: o[1], done: !1 };
                                            case 5:
                                                s.label++, r = o[1], o = [0];
                                                continue;
                                            case 7:
                                                o = s.ops.pop(), s.trys.pop();
                                                continue;
                                            default:
                                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === o[0] || 2 === o[0])) { s = 0; continue }
                                                if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) { s.label = o[1]; break }
                                                if (6 === o[0] && s.label < i[1]) { s.label = i[1], i = o; break }
                                                if (i && s.label < i[2]) { s.label = i[2], s.ops.push(o); break }
                                                i[2] && s.ops.pop(), s.trys.pop();
                                                continue
                                        }
                                        o = e.call(t, s)
                                    } catch (a) { o = [6, a], r = 0 } finally { n = i = 0 }
                                    if (5 & o[0]) throw o[1];
                                    return { value: o[0] ? o[1] : void 0, done: !0 }
                                }([o, a])
                            }
                        }
                    }

                    function d(t, e, n, r) { void 0 === r && (r = n), t[r] = e[n] }

                    function p(t, e) { for (var n in t) "default" === n || e.hasOwnProperty(n) || (e[n] = t[n]) }

                    function f(t) {
                        var e = "function" == typeof Symbol && Symbol.iterator,
                            n = e && t[e],
                            r = 0;
                        if (n) return n.call(t);
                        if (t && "number" == typeof t.length) return { next: function() { return t && r >= t.length && (t = void 0), { value: t && t[r++], done: !t } } };
                        throw new TypeError(e ? "Object is not iterable." : "Symbol.iterator is not defined.")
                    }

                    function m(t, e) {
                        var n = "function" == typeof Symbol && t[Symbol.iterator];
                        if (!n) return t;
                        var r, i, o = n.call(t),
                            s = [];
                        try {
                            for (;
                                (void 0 === e || e-- > 0) && !(r = o.next()).done;) s.push(r.value)
                        } catch (a) { i = { error: a } } finally { try { r && !r.done && (n = o.return) && n.call(o) } finally { if (i) throw i.error } }
                        return s
                    }

                    function g() { for (var t = [], e = 0; e < arguments.length; e++) t = t.concat(m(arguments[e])); return t }

                    function y() {
                        for (var t = 0, e = 0, n = arguments.length; e < n; e++) t += arguments[e].length;
                        var r = Array(t),
                            i = 0;
                        for (e = 0; e < n; e++)
                            for (var o = arguments[e], s = 0, a = o.length; s < a; s++, i++) r[i] = o[s];
                        return r
                    }

                    function v(t) { return this instanceof v ? (this.v = t, this) : new v(t) }

                    function _(t, e, n) {
                        if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
                        var r, i = n.apply(t, e || []),
                            o = [];
                        return r = {}, s("next"), s("throw"), s("return"), r[Symbol.asyncIterator] = function() { return this }, r;

                        function s(t) { i[t] && (r[t] = function(e) { return new Promise((function(n, r) { o.push([t, e, n, r]) > 1 || a(t, e) })) }) }

                        function a(t, e) {
                            try {
                                (n = i[t](e)).value instanceof v ? Promise.resolve(n.value.v).then(c, l) : u(o[0][2], n)
                            } catch (r) { u(o[0][3], r) }
                            var n
                        }

                        function c(t) { a("next", t) }

                        function l(t) { a("throw", t) }

                        function u(t, e) { t(e), o.shift(), o.length && a(o[0][0], o[0][1]) }
                    }

                    function b(t) {
                        var e, n;
                        return e = {}, r("next"), r("throw", (function(t) { throw t })), r("return"), e[Symbol.iterator] = function() { return this }, e;

                        function r(r, i) { e[r] = t[r] ? function(e) { return (n = !n) ? { value: v(t[r](e)), done: "return" === r } : i ? i(e) : e } : i }
                    }

                    function w(t) {
                        if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
                        var e, n = t[Symbol.asyncIterator];
                        return n ? n.call(t) : (t = f(t), e = {}, r("next"), r("throw"), r("return"), e[Symbol.asyncIterator] = function() { return this }, e);

                        function r(n) { e[n] = t[n] && function(e) { return new Promise((function(r, i) {! function(t, e, n, r) { Promise.resolve(r).then((function(e) { t({ value: e, done: n }) }), e) }(r, i, (e = t[n](e)).done, e.value) })) } }
                    }

                    function E(t, e) { return Object.defineProperty ? Object.defineProperty(t, "raw", { value: e }) : t.raw = e, t }

                    function S(t) {
                        if (t && t.__esModule) return t;
                        var e = {};
                        if (null != t)
                            for (var n in t) Object.hasOwnProperty.call(t, n) && (e[n] = t[n]);
                        return e.default = t, e
                    }

                    function C(t) { return t && t.__esModule ? t : { default: t } }

                    function x(t, e) { if (!e.has(t)) throw new TypeError("attempted to get private field on non-instance"); return e.get(t) }

                    function T(t, e, n) { if (!e.has(t)) throw new TypeError("attempted to set private field on non-instance"); return e.set(t, n), n }
                },
                nbvr: function(t, e, n) {
                    ! function(t) {
                        "use strict";

                        function e(t) { return Array.prototype.slice.call(t) }

                        function n(t) { return new Promise((function(e, n) { t.onsuccess = function() { e(t.result) }, t.onerror = function() { n(t.error) } })) }

                        function r(t, e, r) { var i, o = new Promise((function(o, s) { n(i = t[e].apply(t, r)).then(o, s) })); return o.request = i, o }

                        function i(t, e, n) { var i = r(t, e, n); return i.then((function(t) { if (t) return new u(t, i.request) })) }

                        function o(t, e, n) { n.forEach((function(n) { Object.defineProperty(t.prototype, n, { get: function() { return this[e][n] }, set: function(t) { this[e][n] = t } }) })) }

                        function s(t, e, n, i) { i.forEach((function(i) { i in n.prototype && (t.prototype[i] = function() { return r(this[e], i, arguments) }) })) }

                        function a(t, e, n, r) { r.forEach((function(r) { r in n.prototype && (t.prototype[r] = function() { return this[e][r].apply(this[e], arguments) }) })) }

                        function c(t, e, n, r) { r.forEach((function(r) { r in n.prototype && (t.prototype[r] = function() { return i(this[e], r, arguments) }) })) }

                        function l(t) { this._index = t }

                        function u(t, e) { this._cursor = t, this._request = e }

                        function h(t) { this._store = t }

                        function d(t) { this._tx = t, this.complete = new Promise((function(e, n) { t.oncomplete = function() { e() }, t.onerror = function() { n(t.error) }, t.onabort = function() { n(t.error) } })) }

                        function p(t, e, n) { this._db = t, this.oldVersion = e, this.transaction = new d(n) }

                        function f(t) { this._db = t }
                        o(l, "_index", ["name", "keyPath", "multiEntry", "unique"]), s(l, "_index", IDBIndex, ["get", "getKey", "getAll", "getAllKeys", "count"]), c(l, "_index", IDBIndex, ["openCursor", "openKeyCursor"]), o(u, "_cursor", ["direction", "key", "primaryKey", "value"]), s(u, "_cursor", IDBCursor, ["update", "delete"]), ["advance", "continue", "continuePrimaryKey"].forEach((function(t) {
                            t in IDBCursor.prototype && (u.prototype[t] = function() {
                                var e = this,
                                    r = arguments;
                                return Promise.resolve().then((function() { return e._cursor[t].apply(e._cursor, r), n(e._request).then((function(t) { if (t) return new u(t, e._request) })) }))
                            })
                        })), h.prototype.createIndex = function() { return new l(this._store.createIndex.apply(this._store, arguments)) }, h.prototype.index = function() { return new l(this._store.index.apply(this._store, arguments)) }, o(h, "_store", ["name", "keyPath", "indexNames", "autoIncrement"]), s(h, "_store", IDBObjectStore, ["put", "add", "delete", "clear", "get", "getAll", "getKey", "getAllKeys", "count"]), c(h, "_store", IDBObjectStore, ["openCursor", "openKeyCursor"]), a(h, "_store", IDBObjectStore, ["deleteIndex"]), d.prototype.objectStore = function() { return new h(this._tx.objectStore.apply(this._tx, arguments)) }, o(d, "_tx", ["objectStoreNames", "mode"]), a(d, "_tx", IDBTransaction, ["abort"]), p.prototype.createObjectStore = function() { return new h(this._db.createObjectStore.apply(this._db, arguments)) }, o(p, "_db", ["name", "version", "objectStoreNames"]), a(p, "_db", IDBDatabase, ["deleteObjectStore", "close"]), f.prototype.transaction = function() { return new d(this._db.transaction.apply(this._db, arguments)) }, o(f, "_db", ["name", "version", "objectStoreNames"]), a(f, "_db", IDBDatabase, ["close"]), ["openCursor", "openKeyCursor"].forEach((function(t) {
                            [h, l].forEach((function(n) {
                                t in n.prototype && (n.prototype[t.replace("open", "iterate")] = function() {
                                    var n = e(arguments),
                                        r = n[n.length - 1],
                                        i = this._store || this._index,
                                        o = i[t].apply(i, n.slice(0, -1));
                                    o.onsuccess = function() { r(o.result) }
                                })
                            }))
                        })), [l, h].forEach((function(t) {
                            t.prototype.getAll || (t.prototype.getAll = function(t, e) {
                                var n = this,
                                    r = [];
                                return new Promise((function(i) { n.iterateCursor(t, (function(t) { t ? (r.push(t.value), void 0 === e || r.length != e ? t.continue() : i(r)) : i(r) })) }))
                            })
                        })), t.openDb = function(t, e, n) {
                            var i = r(indexedDB, "open", [t, e]),
                                o = i.request;
                            return o && (o.onupgradeneeded = function(t) { n && n(new p(o.result, t.oldVersion, o.transaction)) }), i.then((function(t) { return new f(t) }))
                        }, t.deleteDb = function(t) { return r(indexedDB, "deleteDatabase", [t]) }, Object.defineProperty(t, "__esModule", { value: !0 })
                    }(e)
                },
                "q/0M": function(t, e, n) {
                    "use strict";

                    function r() {
                        for (var t = 0, e = 0, n = arguments.length; e < n; e++) t += arguments[e].length;
                        var r = Array(t),
                            i = 0;
                        for (e = 0; e < n; e++)
                            for (var o = arguments[e], s = 0, a = o.length; s < a; s++, i++) r[i] = o[s];
                        return r
                    }
                    var i;
                    n.r(e), n.d(e, "LogLevel", (function() { return s })), n.d(e, "Logger", (function() { return h })), n.d(e, "setLogLevel", (function() { return d })), n.d(e, "setUserLogHandler", (function() { return p }));
                    var o = [],
                        s = function(t) { return t[t.DEBUG = 0] = "DEBUG", t[t.VERBOSE = 1] = "VERBOSE", t[t.INFO = 2] = "INFO", t[t.WARN = 3] = "WARN", t[t.ERROR = 4] = "ERROR", t[t.SILENT = 5] = "SILENT", t }({}),
                        a = { debug: s.DEBUG, verbose: s.VERBOSE, info: s.INFO, warn: s.WARN, error: s.ERROR, silent: s.SILENT },
                        c = s.INFO,
                        l = ((i = {})[s.DEBUG] = "log", i[s.VERBOSE] = "log", i[s.INFO] = "info", i[s.WARN] = "warn", i[s.ERROR] = "error", i),
                        u = function(t, e) {
                            for (var n = [], i = 2; i < arguments.length; i++) n[i - 2] = arguments[i];
                            if (!(e < t.logLevel)) {
                                var o = (new Date).toISOString(),
                                    s = l[e];
                                if (!s) throw new Error("Attempted to log a message with an invalid logType (value: " + e + ")");
                                console[s].apply(console, r(["[" + o + "]  " + t.name + ":"], n))
                            }
                        },
                        h = function() {
                            function t(t) { this.name = t, this._logLevel = c, this._logHandler = u, this._userLogHandler = null, o.push(this) }
                            return Object.defineProperty(t.prototype, "logLevel", {
                                get: function() { return this._logLevel },
                                set: function(t) {
                                    if (!(t in s)) throw new TypeError('Invalid value "' + t + '" assigned to `logLevel`');
                                    this._logLevel = t
                                },
                                enumerable: !1,
                                configurable: !0
                            }), t.prototype.setLogLevel = function(t) { this._logLevel = "string" == typeof t ? a[t] : t }, Object.defineProperty(t.prototype, "logHandler", {
                                get: function() { return this._logHandler },
                                set: function(t) {
                                    if ("function" != typeof t) throw new TypeError("Value assigned to `logHandler` must be a function");
                                    this._logHandler = t
                                },
                                enumerable: !1,
                                configurable: !0
                            }), Object.defineProperty(t.prototype, "userLogHandler", { get: function() { return this._userLogHandler }, set: function(t) { this._userLogHandler = t }, enumerable: !1, configurable: !0 }), t.prototype.debug = function() {
                                for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                                this._userLogHandler && this._userLogHandler.apply(this, r([this, s.DEBUG], t)), this._logHandler.apply(this, r([this, s.DEBUG], t))
                            }, t.prototype.log = function() {
                                for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                                this._userLogHandler && this._userLogHandler.apply(this, r([this, s.VERBOSE], t)), this._logHandler.apply(this, r([this, s.VERBOSE], t))
                            }, t.prototype.info = function() {
                                for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                                this._userLogHandler && this._userLogHandler.apply(this, r([this, s.INFO], t)), this._logHandler.apply(this, r([this, s.INFO], t))
                            }, t.prototype.warn = function() {
                                for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                                this._userLogHandler && this._userLogHandler.apply(this, r([this, s.WARN], t)), this._logHandler.apply(this, r([this, s.WARN], t))
                            }, t.prototype.error = function() {
                                for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                                this._userLogHandler && this._userLogHandler.apply(this, r([this, s.ERROR], t)), this._logHandler.apply(this, r([this, s.ERROR], t))
                            }, t
                        }();

                    function d(t) { o.forEach((function(e) { e.setLogLevel(t) })) }

                    function p(t, e) {
                        for (var n = function(n) {
                                var r = null;
                                e && e.level && (r = a[e.level]), n.userLogHandler = null === t ? null : function(e, n) {
                                    for (var i = [], o = 2; o < arguments.length; o++) i[o - 2] = arguments[o];
                                    var a = i.map((function(t) { if (null == t) return null; if ("string" == typeof t) return t; if ("number" == typeof t || "boolean" == typeof t) return t.toString(); if (t instanceof Error) return t.message; try { return JSON.stringify(t) } catch (e) { return null } })).filter((function(t) { return t })).join(" ");
                                    n >= (null != r ? r : e.logLevel) && t({ level: s[n].toLowerCase(), message: a, args: i, type: e.name })
                                }
                            }, r = 0, i = o; r < i.length; r++) n(i[r])
                    }
                },
                t6oF: function(t, e, n) {
                    "use strict";
                    n.r(e);
                    var r = n("wj3C"),
                        i = n.n(r);
                    (function() {
                        var t, e = "function" == typeof Object.defineProperties ? Object.defineProperty : function(t, e, n) { t != Array.prototype && t != Object.prototype && (t[e] = n.value) },
                            n = function(t) { t = ["object" == typeof window && window, "object" == typeof self && self, "object" == typeof global && global, t]; for (var e = 0; e < t.length; ++e) { var n = t[e]; if (n && n.Math == Math) return n } return globalThis }(this);

                        function r(t) { var e = 0; return function() { return e < t.length ? { done: !1, value: t[e++] } : { done: !0 } } }

                        function o(t) { var e = "undefined" != typeof Symbol && Symbol.iterator && t[Symbol.iterator]; return e ? e.call(t) : { next: r(t) } }! function(t, r) {
                            if (r) {
                                var i = n;
                                t = t.split(".");
                                for (var o = 0; o < t.length - 1; o++) {
                                    var s = t[o];
                                    s in i || (i[s] = {}), i = i[s]
                                }(r = r(o = i[t = t[t.length - 1]])) != o && null != r && e(i, t, { configurable: !0, writable: !0, value: r })
                            }
                        }("Promise", (function(t) {
                            function e(t) { this.b = 0, this.c = void 0, this.a = []; var e = this.f(); try { t(e.resolve, e.reject) } catch (n) { e.reject(n) } }

                            function r() { this.a = null }

                            function i(t) { return t instanceof e ? t : new e((function(e) { e(t) })) }
                            if (t) return t;
                            r.prototype.b = function(t) {
                                if (null == this.a) {
                                    this.a = [];
                                    var e = this;
                                    this.c((function() { e.g() }))
                                }
                                this.a.push(t)
                            };
                            var s = n.setTimeout;
                            r.prototype.c = function(t) { s(t, 0) }, r.prototype.g = function() {
                                for (; this.a && this.a.length;) {
                                    var t = this.a;
                                    this.a = [];
                                    for (var e = 0; e < t.length; ++e) {
                                        var n = t[e];
                                        t[e] = null;
                                        try { n() } catch (r) { this.f(r) }
                                    }
                                }
                                this.a = null
                            }, r.prototype.f = function(t) { this.c((function() { throw t })) }, e.prototype.f = function() {
                                function t(t) { return function(r) { n || (n = !0, t.call(e, r)) } }
                                var e = this,
                                    n = !1;
                                return { resolve: t(this.m), reject: t(this.g) }
                            }, e.prototype.m = function(t) {
                                if (t === this) this.g(new TypeError("A Promise cannot resolve to itself"));
                                else if (t instanceof e) this.s(t);
                                else {
                                    t: switch (typeof t) {
                                        case "object":
                                            var n = null != t;
                                            break t;
                                        case "function":
                                            n = !0;
                                            break t;
                                        default:
                                            n = !1
                                    }
                                    n ? this.u(t) : this.h(t)
                                }
                            }, e.prototype.u = function(t) { var e = void 0; try { e = t.then } catch (n) { return void this.g(n) } "function" == typeof e ? this.w(e, t) : this.h(t) }, e.prototype.g = function(t) { this.i(2, t) }, e.prototype.h = function(t) { this.i(1, t) }, e.prototype.i = function(t, e) {
                                if (0 != this.b) throw Error("Cannot settle(" + t + ", " + e + "): Promise already settled in state" + this.b);
                                this.b = t, this.c = e, this.l()
                            }, e.prototype.l = function() {
                                if (null != this.a) {
                                    for (var t = 0; t < this.a.length; ++t) a.b(this.a[t]);
                                    this.a = null
                                }
                            };
                            var a = new r;
                            return e.prototype.s = function(t) {
                                var e = this.f();
                                t.Oa(e.resolve, e.reject)
                            }, e.prototype.w = function(t, e) { var n = this.f(); try { t.call(e, n.resolve, n.reject) } catch (r) { n.reject(r) } }, e.prototype.then = function(t, n) {
                                function r(t, e) { return "function" == typeof t ? function(e) { try { i(t(e)) } catch (n) { o(n) } } : e }
                                var i, o, s = new e((function(t, e) { i = t, o = e }));
                                return this.Oa(r(t, i), r(n, o)), s
                            }, e.prototype.catch = function(t) { return this.then(void 0, t) }, e.prototype.Oa = function(t, e) {
                                function n() {
                                    switch (r.b) {
                                        case 1:
                                            t(r.c);
                                            break;
                                        case 2:
                                            e(r.c);
                                            break;
                                        default:
                                            throw Error("Unexpected state: " + r.b)
                                    }
                                }
                                var r = this;
                                null == this.a ? a.b(n) : this.a.push(n)
                            }, e.resolve = i, e.reject = function(t) { return new e((function(e, n) { n(t) })) }, e.race = function(t) { return new e((function(e, n) { for (var r = o(t), s = r.next(); !s.done; s = r.next()) i(s.value).Oa(e, n) })) }, e.all = function(t) {
                                var n = o(t),
                                    r = n.next();
                                return r.done ? i([]) : new e((function(t, e) {
                                    function o(e) { return function(n) { s[e] = n, 0 == --a && t(s) } }
                                    var s = [],
                                        a = 0;
                                    do { s.push(void 0), a++, i(r.value).Oa(o(s.length - 1), e), r = n.next() } while (!r.done)
                                }))
                            }, e
                        }));
                        var s = s || {},
                            a = this || self,
                            c = /^[\w+/_-]+[=]{0,2}$/,
                            l = null;

                        function u() {}

                        function h(t) { var e = typeof t; if ("object" == e) { if (!t) return "null"; if (t instanceof Array) return "array"; if (t instanceof Object) return e; var n = Object.prototype.toString.call(t); if ("[object Window]" == n) return "object"; if ("[object Array]" == n || "number" == typeof t.length && void 0 !== t.splice && void 0 !== t.propertyIsEnumerable && !t.propertyIsEnumerable("splice")) return "array"; if ("[object Function]" == n || void 0 !== t.call && void 0 !== t.propertyIsEnumerable && !t.propertyIsEnumerable("call")) return "function" } else if ("function" == e && void 0 === t.call) return "object"; return e }

                        function d(t) { var e = h(t); return "array" == e || "object" == e && "number" == typeof t.length }

                        function p(t) { return "function" == h(t) }

                        function f(t) { var e = typeof t; return "object" == e && null != t || "function" == e }

                        function m(t) { return Object.prototype.hasOwnProperty.call(t, g) && t[g] || (t[g] = ++y) }
                        var g = "closure_uid_" + (1e9 * Math.random() >>> 0),
                            y = 0;

                        function v(t, e, n) { return t.call.apply(t.bind, arguments) }

                        function _(t, e, n) { if (!t) throw Error(); if (2 < arguments.length) { var r = Array.prototype.slice.call(arguments, 2); return function() { var n = Array.prototype.slice.call(arguments); return Array.prototype.unshift.apply(n, r), t.apply(e, n) } } return function() { return t.apply(e, arguments) } }

                        function b(t, e, n) { return (b = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? v : _).apply(null, arguments) }

                        function w(t, e) { var n = Array.prototype.slice.call(arguments, 1); return function() { var e = n.slice(); return e.push.apply(e, arguments), t.apply(this, e) } }
                        var E = Date.now || function() { return +new Date };

                        function S(t, e) {
                            function n() {}
                            n.prototype = e.prototype, t.Za = e.prototype, t.prototype = new n, t.prototype.constructor = t
                        }

                        function C(t, e, n) { this.code = k + t, this.message = e || I[t] || "", this.a = n || null }

                        function x(t) { var e = t && t.code; return e ? new C(e.substring(k.length), t.message, t.serverResponse) : null }
                        S(C, Error), C.prototype.v = function() { var t = { code: this.code, message: this.message }; return this.a && (t.serverResponse = this.a), t }, C.prototype.toJSON = function() { return this.v() };
                        var T, k = "auth/",
                            I = { "admin-restricted-operation": "This operation is restricted to administrators only.", "argument-error": "", "app-not-authorized": "This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.", "app-not-installed": "The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.", "captcha-check-failed": "The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.", "code-expired": "The SMS code has expired. Please re-send the verification code to try again.", "cordova-not-ready": "Cordova framework is not ready.", "cors-unsupported": "This browser is not supported.", "credential-already-in-use": "This credential is already associated with a different user account.", "custom-token-mismatch": "The custom token corresponds to a different audience.", "requires-recent-login": "This operation is sensitive and requires recent authentication. Log in again before retrying this request.", "dynamic-link-not-activated": "Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.", "email-change-needs-verification": "Multi-factor users must always have a verified email.", "email-already-in-use": "The email address is already in use by another account.", "expired-action-code": "The action code has expired. ", "cancelled-popup-request": "This operation has been cancelled due to another conflicting popup being opened.", "internal-error": "An internal error has occurred.", "invalid-app-credential": "The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.", "invalid-app-id": "The mobile app identifier is not registed for the current project.", "invalid-user-token": "This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.", "invalid-auth-event": "An internal error has occurred.", "invalid-verification-code": "The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.", "invalid-continue-uri": "The continue URL provided in the request is invalid.", "invalid-cordova-configuration": "The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.", "invalid-custom-token": "The custom token format is incorrect. Please check the documentation.", "invalid-dynamic-link-domain": "The provided dynamic link domain is not configured or authorized for the current project.", "invalid-email": "The email address is badly formatted.", "invalid-api-key": "Your API key is invalid, please check you have copied it correctly.", "invalid-cert-hash": "The SHA-1 certificate hash provided is invalid.", "invalid-credential": "The supplied auth credential is malformed or has expired.", "invalid-message-payload": "The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.", "invalid-multi-factor-session": "The request does not contain a valid proof of first factor successful sign-in.", "invalid-oauth-provider": "EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.", "invalid-oauth-client-id": "The OAuth client ID provided is either invalid or does not match the specified API key.", "unauthorized-domain": "This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.", "invalid-action-code": "The action code is invalid. This can happen if the code is malformed, expired, or has already been used.", "wrong-password": "The password is invalid or the user does not have a password.", "invalid-persistence-type": "The specified persistence type is invalid. It can only be local, session or none.", "invalid-phone-number": "The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].", "invalid-provider-id": "The specified provider ID is invalid.", "invalid-recipient-email": "The email corresponding to this action failed to send as the provided recipient email address is invalid.", "invalid-sender": "The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.", "invalid-verification-id": "The verification ID used to create the phone auth credential is invalid.", "invalid-tenant-id": "The Auth instance's tenant ID is invalid.", "multi-factor-info-not-found": "The user does not have a second factor matching the identifier provided.", "multi-factor-auth-required": "Proof of ownership of a second factor is required to complete sign-in.", "missing-android-pkg-name": "An Android Package Name must be provided if the Android App is required to be installed.", "auth-domain-config-required": "Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.", "missing-app-credential": "The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.", "missing-verification-code": "The phone auth credential was created with an empty SMS verification code.", "missing-continue-uri": "A continue URL must be provided in the request.", "missing-iframe-start": "An internal error has occurred.", "missing-ios-bundle-id": "An iOS Bundle ID must be provided if an App Store ID is provided.", "missing-multi-factor-info": "No second factor identifier is provided.", "missing-multi-factor-session": "The request is missing proof of first factor successful sign-in.", "missing-or-invalid-nonce": "The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.", "missing-phone-number": "To send verification codes, provide a phone number for the recipient.", "missing-verification-id": "The phone auth credential was created with an empty verification ID.", "app-deleted": "This instance of FirebaseApp has been deleted.", "account-exists-with-different-credential": "An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.", "network-request-failed": "A network error (such as timeout, interrupted connection or unreachable host) has occurred.", "no-auth-event": "An internal error has occurred.", "no-such-provider": "User was not linked to an account with the given provider.", "null-user": "A null user object was provided as the argument for an operation which requires a non-null user object.", "operation-not-allowed": "The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.", "operation-not-supported-in-this-environment": 'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.', "popup-blocked": "Unable to establish a connection with the popup. It may have been blocked by the browser.", "popup-closed-by-user": "The popup has been closed by the user before finalizing the operation.", "provider-already-linked": "User can only be linked to one identity for the given provider.", "quota-exceeded": "The project's quota for this operation has been exceeded.", "redirect-cancelled-by-user": "The redirect operation has been cancelled by the user before finalizing.", "redirect-operation-pending": "A redirect sign-in operation is already pending.", "rejected-credential": "The request contains malformed or mismatching credentials.", "second-factor-already-in-use": "The second factor is already enrolled on this account.", "maximum-second-factor-count-exceeded": "The maximum allowed number of second factors on a user has been exceeded.", "tenant-id-mismatch": "The provided tenant ID does not match the Auth instance's tenant ID", timeout: "The operation has timed out.", "user-token-expired": "The user's credential is no longer valid. The user must sign in again.", "too-many-requests": "We have blocked all requests from this device due to unusual activity. Try again later.", "unauthorized-continue-uri": "The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.", "unsupported-first-factor": "Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.", "unsupported-persistence-type": "The current environment does not support the specified persistence type.", "unsupported-tenant-operation": "This operation is not supported in a multi-tenant context.", "unverified-email": "The operation requires a verified email.", "user-cancelled": "The user did not grant your application the permissions it requested.", "user-not-found": "There is no user record corresponding to this identifier. The user may have been deleted.", "user-disabled": "The user account has been disabled by an administrator.", "user-mismatch": "The supplied credentials do not correspond to the previously signed in user.", "user-signed-out": "", "weak-password": "The password must be 6 characters long or more.", "web-storage-unsupported": "This browser is not supported or 3rd party cookies and data may be disabled." },
                            A = { hd: { Ra: "https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/", Xa: "https://staging-securetoken.sandbox.googleapis.com/v1/token", Ua: "https://staging-identitytoolkit.sandbox.googleapis.com/v2/", id: "b" }, pd: { Ra: "https://www.googleapis.com/identitytoolkit/v3/relyingparty/", Xa: "https://securetoken.googleapis.com/v1/token", Ua: "https://identitytoolkit.googleapis.com/v2/", id: "p" }, rd: { Ra: "https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/", Xa: "https://staging-securetoken.sandbox.googleapis.com/v1/token", Ua: "https://staging-identitytoolkit.sandbox.googleapis.com/v2/", id: "s" }, sd: { Ra: "https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/", Xa: "https://test-securetoken.sandbox.googleapis.com/v1/token", Ua: "https://test-identitytoolkit.sandbox.googleapis.com/v2/", id: "t" } };

                        function R(t) {
                            for (var e in A)
                                if (A[e].id === t) return { firebaseEndpoint: (t = A[e]).Ra, secureTokenEndpoint: t.Xa, identityPlatformEndpoint: t.Ua };
                            return null
                        }

                        function O(t) { if (!t) return !1; try { return !!t.$goog_Thenable } catch (e) { return !1 } }

                        function N(t) {
                            if (Error.captureStackTrace) Error.captureStackTrace(this, N);
                            else {
                                var e = Error().stack;
                                e && (this.stack = e)
                            }
                            t && (this.message = String(t))
                        }

                        function D(t, e) {
                            for (var n = "", r = (t = t.split("%s")).length - 1, i = 0; i < r; i++) n += t[i] + (i < e.length ? e[i] : "%s");
                            N.call(this, n + t[r])
                        }

                        function P(t, e) { throw new D("Failure" + (t ? ": " + t : ""), Array.prototype.slice.call(arguments, 1)) }

                        function M(t, e) { this.c = t, this.f = e, this.b = 0, this.a = null }

                        function L(t, e) { t.f(e), 100 > t.b && (t.b++, e.next = t.a, t.a = e) }

                        function F() { this.b = this.a = null }
                        T = R("__EID__") ? "__EID__" : void 0, S(N, Error), N.prototype.name = "CustomError", S(D, N), D.prototype.name = "AssertionError", M.prototype.get = function() {
                            if (0 < this.b) {
                                this.b--;
                                var t = this.a;
                                this.a = t.next, t.next = null
                            } else t = this.c();
                            return t
                        };
                        var j = new M((function() { return new V }), (function(t) { t.reset() }));

                        function U() {
                            var t = ge,
                                e = null;
                            return t.a && (e = t.a, t.a = t.a.next, t.a || (t.b = null), e.next = null), e
                        }

                        function V() { this.next = this.b = this.a = null }
                        F.prototype.add = function(t, e) {
                            var n = j.get();
                            n.set(t, e), this.b ? this.b.next = n : this.a = n, this.b = n
                        }, V.prototype.set = function(t, e) { this.a = t, this.b = e, this.next = null }, V.prototype.reset = function() { this.next = this.b = this.a = null };
                        var B = Array.prototype.indexOf ? function(t, e) { return Array.prototype.indexOf.call(t, e, void 0) } : function(t, e) {
                                if ("string" == typeof t) return "string" != typeof e || 1 != e.length ? -1 : t.indexOf(e, 0);
                                for (var n = 0; n < t.length; n++)
                                    if (n in t && t[n] === e) return n;
                                return -1
                            },
                            q = Array.prototype.forEach ? function(t, e, n) { Array.prototype.forEach.call(t, e, n) } : function(t, e, n) { for (var r = t.length, i = "string" == typeof t ? t.split("") : t, o = 0; o < r; o++) o in i && e.call(n, i[o], o, t) },
                            H = Array.prototype.filter ? function(t, e) { return Array.prototype.filter.call(t, e, void 0) } : function(t, e) {
                                for (var n = t.length, r = [], i = 0, o = "string" == typeof t ? t.split("") : t, s = 0; s < n; s++)
                                    if (s in o) {
                                        var a = o[s];
                                        e.call(void 0, a, s, t) && (r[i++] = a)
                                    }
                                return r
                            },
                            W = Array.prototype.map ? function(t, e) { return Array.prototype.map.call(t, e, void 0) } : function(t, e) { for (var n = t.length, r = Array(n), i = "string" == typeof t ? t.split("") : t, o = 0; o < n; o++) o in i && (r[o] = e.call(void 0, i[o], o, t)); return r },
                            z = Array.prototype.some ? function(t, e) { return Array.prototype.some.call(t, e, void 0) } : function(t, e) {
                                for (var n = t.length, r = "string" == typeof t ? t.split("") : t, i = 0; i < n; i++)
                                    if (i in r && e.call(void 0, r[i], i, t)) return !0;
                                return !1
                            };

                        function G(t, e) { return 0 <= B(t, e) }

                        function $(t, e) { var n; return (n = 0 <= (e = B(t, e))) && Array.prototype.splice.call(t, e, 1), n }

                        function K(t, e) {! function(t, e) { for (var n = "string" == typeof t ? t.split("") : t, r = t.length - 1; 0 <= r; --r) r in n && e.call(void 0, n[r], r, t) }(t, (function(n, r) { e.call(void 0, n, r, t) && Array.prototype.splice.call(t, r, 1) })) }

                        function Y(t) { return Array.prototype.concat.apply([], arguments) }

                        function X(t) { var e = t.length; if (0 < e) { for (var n = Array(e), r = 0; r < e; r++) n[r] = t[r]; return n } return [] }
                        var Q, Z = String.prototype.trim ? function(t) { return t.trim() } : function(t) { return /^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1] },
                            J = /&/g,
                            tt = /</g,
                            et = />/g,
                            nt = /"/g,
                            rt = /'/g,
                            it = /\x00/g,
                            ot = /[\x00&<>"']/;

                        function st(t, e) { return -1 != t.indexOf(e) }

                        function at(t, e) { return t < e ? -1 : t > e ? 1 : 0 }
                        t: {
                            var ct = a.navigator;
                            if (ct) { var lt = ct.userAgent; if (lt) { Q = lt; break t } }
                            Q = ""
                        }

                        function ut(t) { return st(Q, t) }

                        function ht(t, e) { for (var n in t) e.call(void 0, t[n], n, t) }

                        function dt(t) { for (var e in t) return !1; return !0 }

                        function pt(t) { var e, n = {}; for (e in t) n[e] = t[e]; return n }
                        var ft = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");

                        function mt(t, e) { for (var n, r, i = 1; i < arguments.length; i++) { for (n in r = arguments[i]) t[n] = r[n]; for (var o = 0; o < ft.length; o++) n = ft[o], Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } }

                        function gt(t, e) {
                            t: {
                                try {
                                    var n = t && t.ownerDocument,
                                        r = n && (n.defaultView || n.parentWindow);
                                    if ((r = r || a).Element && r.Location) { var i = r; break t }
                                } catch (s) {}
                                i = null
                            }
                            if (i && void 0 !== i[e] && (!t || !(t instanceof i[e]) && (t instanceof i.Location || t instanceof i.Element))) {
                                if (f(t)) try { var o = t.constructor.displayName || t.constructor.name || Object.prototype.toString.call(t) } catch (s) { o = "<object could not be stringified>" } else o = void 0 === t ? "undefined" : null === t ? "null" : typeof t;
                                P("Argument is not a %s (or a non-Element, non-Location mock); got: %s", e, o)
                            }
                        }

                        function yt(t, e) { this.a = t === bt && e || "", this.b = _t }

                        function vt(t) { return t instanceof yt && t.constructor === yt && t.b === _t ? t.a : (P("expected object of type Const, got '" + t + "'"), "type_error:Const") }
                        yt.prototype.ra = !0, yt.prototype.qa = function() { return this.a }, yt.prototype.toString = function() { return "Const{" + this.a + "}" };
                        var _t = {},
                            bt = {},
                            wt = new yt(bt, "");

                        function Et(t, e) { this.a = t === It && e || "", this.b = kt }

                        function St(t) { return t instanceof Et && t.constructor === Et && t.b === kt ? t.a : (P("expected object of type TrustedResourceUrl, got '" + t + "' of type " + h(t)), "type_error:TrustedResourceUrl") }

                        function Ct(t, e) { var n = vt(t); if (!Tt.test(n)) throw Error("Invalid TrustedResourceUrl format: " + n); return t = n.replace(xt, (function(t, r) { if (!Object.prototype.hasOwnProperty.call(e, r)) throw Error('Found marker, "' + r + '", in format string, "' + n + '", but no valid label mapping found in args: ' + JSON.stringify(e)); return (t = e[r]) instanceof yt ? vt(t) : encodeURIComponent(String(t)) })), new Et(It, t) }
                        Et.prototype.ra = !0, Et.prototype.qa = function() { return this.a.toString() }, Et.prototype.toString = function() { return "TrustedResourceUrl{" + this.a + "}" };
                        var xt = /%{(\w+)}/g,
                            Tt = /^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,
                            kt = {},
                            It = {};

                        function At(t, e) { this.a = t === Pt && e || "", this.b = Dt }

                        function Rt(t) { return t instanceof At && t.constructor === At && t.b === Dt ? t.a : (P("expected object of type SafeUrl, got '" + t + "' of type " + h(t)), "type_error:SafeUrl") }
                        At.prototype.ra = !0, At.prototype.qa = function() { return this.a.toString() }, At.prototype.toString = function() { return "SafeUrl{" + this.a + "}" };
                        var Ot = /^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;

                        function Nt(t) { return t instanceof At ? t : (t = "object" == typeof t && t.ra ? t.qa() : String(t), Ot.test(t) || (t = "about:invalid#zClosurez"), new At(Pt, t)) }
                        var Dt = {},
                            Pt = {};

                        function Mt() { this.a = "", this.b = Ft }

                        function Lt(t) { return t instanceof Mt && t.constructor === Mt && t.b === Ft ? t.a : (P("expected object of type SafeHtml, got '" + t + "' of type " + h(t)), "type_error:SafeHtml") }
                        Mt.prototype.ra = !0, Mt.prototype.qa = function() { return this.a.toString() }, Mt.prototype.toString = function() { return "SafeHtml{" + this.a + "}" };
                        var Ft = {};

                        function jt(t) { var e = new Mt; return e.a = t, e }
                        jt("<!DOCTYPE html>");
                        var Ut = jt("");

                        function Vt(t, e) { for (var n = t.split("%s"), r = "", i = Array.prototype.slice.call(arguments, 1); i.length && 1 < n.length;) r += n.shift() + i.shift(); return r + n.join("%s") }

                        function Bt(t) { return ot.test(t) && (-1 != t.indexOf("&") && (t = t.replace(J, "&amp;")), -1 != t.indexOf("<") && (t = t.replace(tt, "&lt;")), -1 != t.indexOf(">") && (t = t.replace(et, "&gt;")), -1 != t.indexOf('"') && (t = t.replace(nt, "&quot;")), -1 != t.indexOf("'") && (t = t.replace(rt, "&#39;")), -1 != t.indexOf("\0") && (t = t.replace(it, "&#0;"))), t }

                        function qt(t) { return qt[" "](t), t }
                        jt("<br>"), qt[" "] = u;
                        var Ht, Wt, zt = ut("Opera"),
                            Gt = ut("Trident") || ut("MSIE"),
                            $t = ut("Edge"),
                            Kt = $t || Gt,
                            Yt = ut("Gecko") && !(st(Q.toLowerCase(), "webkit") && !ut("Edge")) && !(ut("Trident") || ut("MSIE")) && !ut("Edge"),
                            Xt = st(Q.toLowerCase(), "webkit") && !ut("Edge");

                        function Qt() { var t = a.document; return t ? t.documentMode : void 0 }
                        t: {
                            var Zt = "",
                                Jt = (Wt = Q, Yt ? /rv:([^\);]+)(\)|;)/.exec(Wt) : $t ? /Edge\/([\d\.]+)/.exec(Wt) : Gt ? /\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Wt) : Xt ? /WebKit\/(\S+)/.exec(Wt) : zt ? /(?:Version)[ \/]?(\S+)/.exec(Wt) : void 0);
                            if (Jt && (Zt = Jt ? Jt[1] : ""), Gt) { var te = Qt(); if (null != te && te > parseFloat(Zt)) { Ht = String(te); break t } }
                            Ht = Zt
                        }
                        var ee, ne = {};

                        function re(t) {
                            return function(t, e) { var n = ne; return Object.prototype.hasOwnProperty.call(n, t) ? n[t] : n[t] = e() }(t, (function() {
                                for (var e = 0, n = Z(String(Ht)).split("."), r = Z(String(t)).split("."), i = Math.max(n.length, r.length), o = 0; 0 == e && o < i; o++) {
                                    var s = n[o] || "",
                                        a = r[o] || "";
                                    do {
                                        if (s = /(\d*)(\D*)(.*)/.exec(s) || ["", "", "", ""], a = /(\d*)(\D*)(.*)/.exec(a) || ["", "", "", ""], 0 == s[0].length && 0 == a[0].length) break;
                                        e = at(0 == s[1].length ? 0 : parseInt(s[1], 10), 0 == a[1].length ? 0 : parseInt(a[1], 10)) || at(0 == s[2].length, 0 == a[2].length) || at(s[2], a[2]), s = s[3], a = a[3]
                                    } while (0 == e)
                                }
                                return 0 <= e
                            }))
                        }
                        ee = a.document && Gt ? Qt() : void 0;
                        try { new self.OffscreenCanvas(0, 0).getContext("2d") } catch (Wt) {}
                        var ie = !Gt || 9 <= Number(ee);

                        function oe(t) { var e = document; return "string" == typeof t ? e.getElementById(t) : t }

                        function se(t, e) { ht(e, (function(e, n) { e && "object" == typeof e && e.ra && (e = e.qa()), "style" == n ? t.style.cssText = e : "class" == n ? t.className = e : "for" == n ? t.htmlFor = e : le.hasOwnProperty(n) ? t.setAttribute(le[n], e) : 0 == n.lastIndexOf("aria-", 0) || 0 == n.lastIndexOf("data-", 0) ? t.setAttribute(n, e) : t[n] = e })) }
                        var ae, ce, le = { cellpadding: "cellPadding", cellspacing: "cellSpacing", colspan: "colSpan", frameborder: "frameBorder", height: "height", maxlength: "maxLength", nonce: "nonce", role: "role", rowspan: "rowSpan", type: "type", usemap: "useMap", valign: "vAlign", width: "width" };

                        function ue(t, e, n) {
                            function r(n) { n && e.appendChild("string" == typeof n ? t.createTextNode(n) : n) }
                            for (var i = 2; i < n.length; i++) { var o = n[i];!d(o) || f(o) && 0 < o.nodeType ? r(o) : q(de(o) ? X(o) : o, r) }
                        }

                        function he(t, e) { return e = String(e), "application/xhtml+xml" === t.contentType && (e = e.toLowerCase()), t.createElement(e) }

                        function de(t) { if (t && "number" == typeof t.length) { if (f(t)) return "function" == typeof t.item || "string" == typeof t.item; if (p(t)) return "function" == typeof t.item } return !1 }

                        function pe(t) { a.setTimeout((function() { throw t }), 0) }

                        function fe(t, e) {
                            ce || function() {
                                if (a.Promise && a.Promise.resolve) {
                                    var t = a.Promise.resolve(void 0);
                                    ce = function() { t.then(ye) }
                                } else ce = function() {
                                    var t = ye;
                                    !p(a.setImmediate) || a.Window && a.Window.prototype && !ut("Edge") && a.Window.prototype.setImmediate == a.setImmediate ? (ae || (ae = function() {
                                        var t = a.MessageChannel;
                                        if (void 0 === t && "undefined" != typeof window && window.postMessage && window.addEventListener && !ut("Presto") && (t = function() {
                                                var t = he(document, "IFRAME");
                                                t.style.display = "none",
                                                    function(t) {
                                                        var e = new Et(It, vt(wt));
                                                        gt(t, "HTMLIFrameElement"), t.src = St(e).toString()
                                                    }(t), document.documentElement.appendChild(t);
                                                var e = t.contentWindow;
                                                (t = e.document).open(), t.write(Lt(Ut)), t.close();
                                                var n = "callImmediate" + Math.random(),
                                                    r = "file:" == e.location.protocol ? "*" : e.location.protocol + "//" + e.location.host;
                                                t = b((function(t) { "*" != r && t.origin != r || t.data != n || this.port1.onmessage() }), this), e.addEventListener("message", t, !1), this.port1 = {}, this.port2 = { postMessage: function() { e.postMessage(n, r) } }
                                            }), void 0 !== t && !ut("Trident") && !ut("MSIE")) {
                                            var e = new t,
                                                n = {},
                                                r = n;
                                            return e.port1.onmessage = function() {
                                                    if (void 0 !== n.next) {
                                                        var t = (n = n.next).Db;
                                                        n.Db = null, t()
                                                    }
                                                },
                                                function(t) { r.next = { Db: t }, r = r.next, e.port2.postMessage(0) }
                                        }
                                        return function(t) { a.setTimeout(t, 0) }
                                    }()), ae(t)) : a.setImmediate(t)
                                }
                            }(), me || (ce(), me = !0), ge.add(t, e)
                        }
                        var me = !1,
                            ge = new F;

                        function ye() {
                            for (var t; t = U();) {
                                try { t.a.call(t.b) } catch (e) { pe(e) }
                                L(j, t)
                            }
                            me = !1
                        }

                        function ve(t, e) {
                            if (this.a = _e, this.i = void 0, this.f = this.b = this.c = null, this.g = this.h = !1, t != u) try {
                                var n = this;
                                t.call(e, (function(t) { Oe(n, be, t) }), (function(t) {
                                    if (!(t instanceof je)) try { if (t instanceof Error) throw t; throw Error("Promise rejected.") } catch (e) {}
                                    Oe(n, we, t)
                                }))
                            } catch (r) { Oe(this, we, r) }
                        }
                        var _e = 0,
                            be = 2,
                            we = 3;

                        function Ee() { this.next = this.f = this.b = this.g = this.a = null, this.c = !1 }
                        Ee.prototype.reset = function() { this.f = this.b = this.g = this.a = null, this.c = !1 };
                        var Se = new M((function() { return new Ee }), (function(t) { t.reset() }));

                        function Ce(t, e, n) { var r = Se.get(); return r.g = t, r.b = e, r.f = n, r }

                        function xe(t) { if (t instanceof ve) return t; var e = new ve(u); return Oe(e, be, t), e }

                        function Te(t) { return new ve((function(e, n) { n(t) })) }

                        function ke(t, e, n) { Ne(t, e, n, null) || fe(w(e, t)) }

                        function Ie(t) {
                            return new ve((function(e) {
                                var n = t.length,
                                    r = [];
                                if (n)
                                    for (var i = function(t, i, o) { n--, r[t] = i ? { Mb: !0, value: o } : { Mb: !1, reason: o }, 0 == n && e(r) }, o = 0; o < t.length; o++) ke(t[o], w(i, o, !0), w(i, o, !1));
                                else e(r)
                            }))
                        }

                        function Ae(t, e) { t.b || t.a != be && t.a != we || De(t), t.f ? t.f.next = e : t.b = e, t.f = e }

                        function Re(t, e, n, r) {
                            var i = Ce(null, null, null);
                            return i.a = new ve((function(t, o) {
                                i.g = e ? function(n) {
                                    try {
                                        var i = e.call(r, n);
                                        t(i)
                                    } catch (s) { o(s) }
                                } : t, i.b = n ? function(e) {
                                    try {
                                        var i = n.call(r, e);
                                        void 0 === i && e instanceof je ? o(e) : t(i)
                                    } catch (s) { o(s) }
                                } : o
                            })), i.a.c = t, Ae(t, i), i.a
                        }

                        function Oe(t, e, n) { t.a == _e && (t === n && (e = we, n = new TypeError("Promise cannot resolve to itself")), t.a = 1, Ne(n, t.Yc, t.Zc, t) || (t.i = n, t.a = e, t.c = null, De(t), e != we || n instanceof je || function(t, e) { t.g = !0, fe((function() { t.g && Fe.call(null, e) })) }(t, n))) }

                        function Ne(t, e, n, r) {
                            if (t instanceof ve) return Ae(t, Ce(e || u, n || null, r)), !0;
                            if (O(t)) return t.then(e, n, r), !0;
                            if (f(t)) try {
                                var i = t.then;
                                if (p(i)) return function(t, e, n, r, i) {
                                    function o(t) { s || (s = !0, r.call(i, t)) }
                                    var s = !1;
                                    try { e.call(t, (function(t) { s || (s = !0, n.call(i, t)) }), o) } catch (a) { o(a) }
                                }(t, i, e, n, r), !0
                            } catch (o) { return n.call(r, o), !0 }
                            return !1
                        }

                        function De(t) { t.h || (t.h = !0, fe(t.ec, t)) }

                        function Pe(t) { var e = null; return t.b && (t.b = (e = t.b).next, e.next = null), t.b || (t.f = null), e }

                        function Me(t, e, n, r) {
                            if (n == we && e.b && !e.c)
                                for (; t && t.g; t = t.c) t.g = !1;
                            if (e.a) e.a.c = null, Le(e, n, r);
                            else try { e.c ? e.g.call(e.f) : Le(e, n, r) } catch (i) { Fe.call(null, i) }
                            L(Se, e)
                        }

                        function Le(t, e, n) { e == be ? t.g.call(t.f, n) : t.b && t.b.call(t.f, n) }
                        ve.prototype.then = function(t, e, n) { return Re(this, p(t) ? t : null, p(e) ? e : null, n) }, ve.prototype.$goog_Thenable = !0, (t = ve.prototype).ma = function(t, e) { return (t = Ce(t, t, e)).c = !0, Ae(this, t), this }, t.o = function(t, e) { return Re(this, null, t, e) }, t.cancel = function(t) {
                            if (this.a == _e) {
                                var e = new je(t);
                                fe((function() {
                                    ! function t(e, n) {
                                        if (e.a == _e)
                                            if (e.c) {
                                                var r = e.c;
                                                if (r.b) {
                                                    for (var i = 0, o = null, s = null, a = r.b; a && (a.c || (i++, a.a == e && (o = a), !(o && 1 < i))); a = a.next) o || (s = a);
                                                    o && (r.a == _e && 1 == i ? t(r, n) : (s ? ((i = s).next == r.f && (r.f = i), i.next = i.next.next) : Pe(r), Me(r, o, we, n)))
                                                }
                                                e.c = null
                                            } else Oe(e, we, n)
                                    }(this, e)
                                }), this)
                            }
                        }, t.Yc = function(t) { this.a = _e, Oe(this, be, t) }, t.Zc = function(t) { this.a = _e, Oe(this, we, t) }, t.ec = function() {
                            for (var t; t = Pe(this);) Me(this, t, this.a, this.i);
                            this.h = !1
                        };
                        var Fe = pe;

                        function je(t) { N.call(this, t) }

                        function Ue() { 0 != Ve && (Be[m(this)] = this), this.wa = this.wa, this.na = this.na }
                        S(je, N), je.prototype.name = "cancel";
                        var Ve = 0,
                            Be = {};

                        function qe(t) {
                            if (!t.wa && (t.wa = !0, t.Ba(), 0 != Ve)) {
                                var e = m(t);
                                if (0 != Ve && t.na && 0 < t.na.length) throw Error(t + " did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");
                                delete Be[e]
                            }
                        }
                        Ue.prototype.wa = !1, Ue.prototype.Ba = function() {
                            if (this.na)
                                for (; this.na.length;) this.na.shift()()
                        };
                        var He = Object.freeze || function(t) { return t },
                            We = !Gt || 9 <= Number(ee),
                            ze = Gt && !re("9"),
                            Ge = function() {
                                if (!a.addEventListener || !Object.defineProperty) return !1;
                                var t = !1,
                                    e = Object.defineProperty({}, "passive", { get: function() { t = !0 } });
                                try { a.addEventListener("test", u, e), a.removeEventListener("test", u, e) } catch (n) {}
                                return t
                            }();

                        function $e(t, e) { this.type = t, this.b = this.target = e, this.defaultPrevented = !1 }

                        function Ke(t, e) {
                            if ($e.call(this, t ? t.type : ""), this.relatedTarget = this.b = this.target = null, this.button = this.screenY = this.screenX = this.clientY = this.clientX = 0, this.key = "", this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1, this.pointerId = 0, this.pointerType = "", this.a = null, t) {
                                var n = this.type = t.type,
                                    r = t.changedTouches && t.changedTouches.length ? t.changedTouches[0] : null;
                                if (this.target = t.target || t.srcElement, this.b = e, e = t.relatedTarget) {
                                    if (Yt) {
                                        t: {
                                            try { qt(e.nodeName); var i = !0; break t } catch (o) {}
                                            i = !1
                                        }
                                        i || (e = null)
                                    }
                                } else "mouseover" == n ? e = t.fromElement : "mouseout" == n && (e = t.toElement);
                                this.relatedTarget = e, r ? (this.clientX = void 0 !== r.clientX ? r.clientX : r.pageX, this.clientY = void 0 !== r.clientY ? r.clientY : r.pageY, this.screenX = r.screenX || 0, this.screenY = r.screenY || 0) : (this.clientX = void 0 !== t.clientX ? t.clientX : t.pageX, this.clientY = void 0 !== t.clientY ? t.clientY : t.pageY, this.screenX = t.screenX || 0, this.screenY = t.screenY || 0), this.button = t.button, this.key = t.key || "", this.ctrlKey = t.ctrlKey, this.altKey = t.altKey, this.shiftKey = t.shiftKey, this.metaKey = t.metaKey, this.pointerId = t.pointerId || 0, this.pointerType = "string" == typeof t.pointerType ? t.pointerType : Ye[t.pointerType] || "", this.a = t, t.defaultPrevented && this.preventDefault()
                            }
                        }
                        $e.prototype.preventDefault = function() { this.defaultPrevented = !0 }, S(Ke, $e);
                        var Ye = He({ 2: "touch", 3: "pen", 4: "mouse" });
                        Ke.prototype.preventDefault = function() {
                            Ke.Za.preventDefault.call(this);
                            var t = this.a;
                            if (t.preventDefault) t.preventDefault();
                            else if (t.returnValue = !1, ze) try {
                                (t.ctrlKey || 112 <= t.keyCode && 123 >= t.keyCode) && (t.keyCode = -1)
                            } catch (e) {}
                        }, Ke.prototype.f = function() { return this.a };
                        var Xe = "closure_listenable_" + (1e6 * Math.random() | 0),
                            Qe = 0;

                        function Ze(t, e, n, r, i) { this.listener = t, this.proxy = null, this.src = e, this.type = n, this.capture = !!r, this.Ta = i, this.key = ++Qe, this.ua = this.Na = !1 }

                        function Je(t) { t.ua = !0, t.listener = null, t.proxy = null, t.src = null, t.Ta = null }

                        function tn(t) { this.src = t, this.a = {}, this.b = 0 }

                        function en(t, e) {
                            var n = e.type;
                            n in t.a && $(t.a[n], e) && (Je(e), 0 == t.a[n].length && (delete t.a[n], t.b--))
                        }

                        function nn(t, e, n, r) { for (var i = 0; i < t.length; ++i) { var o = t[i]; if (!o.ua && o.listener == e && o.capture == !!n && o.Ta == r) return i } return -1 }
                        tn.prototype.add = function(t, e, n, r, i) {
                            var o = t.toString();
                            (t = this.a[o]) || (t = this.a[o] = [], this.b++);
                            var s = nn(t, e, r, i);
                            return -1 < s ? (e = t[s], n || (e.Na = !1)) : ((e = new Ze(e, this.src, o, !!r, i)).Na = n, t.push(e)), e
                        };
                        var rn = "closure_lm_" + (1e6 * Math.random() | 0),
                            on = {};

                        function sn(t, e, n, r, i) {
                            if (r && r.once) cn(t, e, n, r, i);
                            else if (Array.isArray(e))
                                for (var o = 0; o < e.length; o++) sn(t, e[o], n, r, i);
                            else n = yn(n), t && t[Xe] ? _n(t, e, n, f(r) ? !!r.capture : !!r, i) : an(t, e, n, !1, r, i)
                        }

                        function an(t, e, n, r, i, o) {
                            if (!e) throw Error("Invalid event type");
                            var s = f(i) ? !!i.capture : !!i,
                                a = mn(t);
                            if (a || (t[rn] = a = new tn(t)), !(n = a.add(e, n, r, s, o)).proxy)
                                if (r = function() {
                                        var t = fn,
                                            e = We ? function(n) { return t.call(e.src, e.listener, n) } : function(n) { if (!(n = t.call(e.src, e.listener, n))) return n };
                                        return e
                                    }(), n.proxy = r, r.src = t, r.listener = n, t.addEventListener) Ge || (i = s), void 0 === i && (i = !1), t.addEventListener(e.toString(), r, i);
                                else if (t.attachEvent) t.attachEvent(hn(e.toString()), r);
                            else {
                                if (!t.addListener || !t.removeListener) throw Error("addEventListener and attachEvent are unavailable.");
                                t.addListener(r)
                            }
                        }

                        function cn(t, e, n, r, i) {
                            if (Array.isArray(e))
                                for (var o = 0; o < e.length; o++) cn(t, e[o], n, r, i);
                            else n = yn(n), t && t[Xe] ? bn(t, e, n, f(r) ? !!r.capture : !!r, i) : an(t, e, n, !0, r, i)
                        }

                        function ln(t, e, n, r, i) {
                            if (Array.isArray(e))
                                for (var o = 0; o < e.length; o++) ln(t, e[o], n, r, i);
                            else r = f(r) ? !!r.capture : !!r, n = yn(n), t && t[Xe] ? (t = t.u, (e = String(e).toString()) in t.a && -1 < (n = nn(o = t.a[e], n, r, i)) && (Je(o[n]), Array.prototype.splice.call(o, n, 1), 0 == o.length && (delete t.a[e], t.b--))) : t && (t = mn(t)) && (e = t.a[e.toString()], t = -1, e && (t = nn(e, n, r, i)), (n = -1 < t ? e[t] : null) && un(n))
                        }

                        function un(t) {
                            if ("number" != typeof t && t && !t.ua) {
                                var e = t.src;
                                if (e && e[Xe]) en(e.u, t);
                                else {
                                    var n = t.type,
                                        r = t.proxy;
                                    e.removeEventListener ? e.removeEventListener(n, r, t.capture) : e.detachEvent ? e.detachEvent(hn(n), r) : e.addListener && e.removeListener && e.removeListener(r), (n = mn(e)) ? (en(n, t), 0 == n.b && (n.src = null, e[rn] = null)) : Je(t)
                                }
                            }
                        }

                        function hn(t) { return t in on ? on[t] : on[t] = "on" + t }

                        function dn(t, e, n, r) {
                            var i = !0;
                            if ((t = mn(t)) && (e = t.a[e.toString()]))
                                for (e = e.concat(), t = 0; t < e.length; t++) {
                                    var o = e[t];
                                    o && o.capture == n && !o.ua && (o = pn(o, r), i = i && !1 !== o)
                                }
                            return i
                        }

                        function pn(t, e) {
                            var n = t.listener,
                                r = t.Ta || t.src;
                            return t.Na && un(t), n.call(r, e)
                        }

                        function fn(t, e) {
                            if (t.ua) return !0;
                            if (!We) {
                                if (!e) t: {
                                    e = ["window", "event"];
                                    for (var n = a, r = 0; r < e.length; r++)
                                        if (null == (n = n[e[r]])) { e = null; break t }
                                    e = n
                                }
                                if (e = new Ke(r = e, this), n = !0, !(0 > r.keyCode || null != r.returnValue)) {
                                    t: { var i = !1; if (0 == r.keyCode) try { r.keyCode = -1; break t } catch (s) { i = !0 }(i || null == r.returnValue) && (r.returnValue = !0) }
                                    for (r = [], i = e.b; i; i = i.parentNode) r.push(i);
                                    for (t = t.type, i = r.length - 1; 0 <= i; i--) {
                                        e.b = r[i];
                                        var o = dn(r[i], t, !0, e);
                                        n = n && o
                                    }
                                    for (i = 0; i < r.length; i++) e.b = r[i],
                                    o = dn(r[i], t, !1, e),
                                    n = n && o
                                }
                                return n
                            }
                            return pn(t, new Ke(e, this))
                        }

                        function mn(t) { return (t = t[rn]) instanceof tn ? t : null }
                        var gn = "__closure_events_fn_" + (1e9 * Math.random() >>> 0);

                        function yn(t) { return p(t) ? t : (t[gn] || (t[gn] = function(e) { return t.handleEvent(e) }), t[gn]) }

                        function vn() { Ue.call(this), this.u = new tn(this), this.Yb = this, this.eb = null }

                        function _n(t, e, n, r, i) { t.u.add(String(e), n, !1, r, i) }

                        function bn(t, e, n, r, i) { t.u.add(String(e), n, !0, r, i) }

                        function wn(t, e, n, r) {
                            if (!(e = t.u.a[String(e)])) return !0;
                            e = e.concat();
                            for (var i = !0, o = 0; o < e.length; ++o) {
                                var s = e[o];
                                if (s && !s.ua && s.capture == n) {
                                    var a = s.listener,
                                        c = s.Ta || s.src;
                                    s.Na && en(t.u, s), i = !1 !== a.call(c, r) && i
                                }
                            }
                            return i && !r.defaultPrevented
                        }

                        function En(t, e, n) {
                            if (p(t)) n && (t = b(t, n));
                            else {
                                if (!t || "function" != typeof t.handleEvent) throw Error("Invalid listener argument");
                                t = b(t.handleEvent, t)
                            }
                            return 2147483647 < Number(e) ? -1 : a.setTimeout(t, e || 0)
                        }

                        function Sn(t) { var e = null; return new ve((function(n, r) {-1 == (e = En((function() { n(void 0) }), t)) && r(Error("Failed to schedule timer.")) })).o((function(t) { throw a.clearTimeout(e), t })) }

                        function Cn(t) { if (t.V && "function" == typeof t.V) return t.V(); if ("string" == typeof t) return t.split(""); if (d(t)) { for (var e = [], n = t.length, r = 0; r < n; r++) e.push(t[r]); return e } for (r in e = [], n = 0, t) e[n++] = t[r]; return e }

                        function xn(t) {
                            if (t.X && "function" == typeof t.X) return t.X();
                            if (!t.V || "function" != typeof t.V) {
                                if (d(t) || "string" == typeof t) {
                                    var e = [];
                                    t = t.length;
                                    for (var n = 0; n < t; n++) e.push(n);
                                    return e
                                }
                                for (var r in e = [], n = 0, t) e[n++] = r;
                                return e
                            }
                        }

                        function Tn(t, e) {
                            this.b = {}, this.a = [], this.c = 0;
                            var n = arguments.length;
                            if (1 < n) { if (n % 2) throw Error("Uneven number of arguments"); for (var r = 0; r < n; r += 2) this.set(arguments[r], arguments[r + 1]) } else if (t)
                                if (t instanceof Tn)
                                    for (n = t.X(), r = 0; r < n.length; r++) this.set(n[r], t.get(n[r]));
                                else
                                    for (r in t) this.set(r, t[r])
                        }

                        function kn(t) {
                            if (t.c != t.a.length) {
                                for (var e = 0, n = 0; e < t.a.length;) {
                                    var r = t.a[e];
                                    In(t.b, r) && (t.a[n++] = r), e++
                                }
                                t.a.length = n
                            }
                            if (t.c != t.a.length) {
                                var i = {};
                                for (n = e = 0; e < t.a.length;) In(i, r = t.a[e]) || (t.a[n++] = r, i[r] = 1), e++;
                                t.a.length = n
                            }
                        }

                        function In(t, e) { return Object.prototype.hasOwnProperty.call(t, e) }
                        S(vn, Ue), vn.prototype[Xe] = !0, vn.prototype.addEventListener = function(t, e, n, r) { sn(this, t, e, n, r) }, vn.prototype.removeEventListener = function(t, e, n, r) { ln(this, t, e, n, r) }, vn.prototype.dispatchEvent = function(t) {
                            var e, n = this.eb;
                            if (n)
                                for (e = []; n; n = n.eb) e.push(n);
                            n = this.Yb;
                            var r = t.type || t;
                            if ("string" == typeof t) t = new $e(t, n);
                            else if (t instanceof $e) t.target = t.target || n;
                            else {
                                var i = t;
                                mt(t = new $e(r, n), i)
                            }
                            if (i = !0, e)
                                for (var o = e.length - 1; 0 <= o; o--) {
                                    var s = t.b = e[o];
                                    i = wn(s, r, !0, t) && i
                                }
                            if (i = wn(s = t.b = n, r, !0, t) && i, i = wn(s, r, !1, t) && i, e)
                                for (o = 0; o < e.length; o++) i = wn(s = t.b = e[o], r, !1, t) && i;
                            return i
                        }, vn.prototype.Ba = function() {
                            if (vn.Za.Ba.call(this), this.u) {
                                var t, e = this.u;
                                for (t in e.a) {
                                    for (var n = e.a[t], r = 0; r < n.length; r++) Je(n[r]);
                                    delete e.a[t], e.b--
                                }
                            }
                            this.eb = null
                        }, (t = Tn.prototype).V = function() { kn(this); for (var t = [], e = 0; e < this.a.length; e++) t.push(this.b[this.a[e]]); return t }, t.X = function() { return kn(this), this.a.concat() }, t.clear = function() { this.b = {}, this.c = this.a.length = 0 }, t.get = function(t, e) { return In(this.b, t) ? this.b[t] : e }, t.set = function(t, e) { In(this.b, t) || (this.c++, this.a.push(t)), this.b[t] = e }, t.forEach = function(t, e) {
                            for (var n = this.X(), r = 0; r < n.length; r++) {
                                var i = n[r],
                                    o = this.get(i);
                                t.call(e, o, i, this)
                            }
                        };
                        var An = /^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;

                        function Rn(t, e) {
                            var n;
                            this.b = this.i = this.f = "", this.l = null, this.g = this.c = "", this.h = !1, t instanceof Rn ? (this.h = void 0 !== e ? e : t.h, On(this, t.f), this.i = t.i, this.b = t.b, Nn(this, t.l), this.c = t.c, Dn(this, Zn(t.a)), this.g = t.g) : t && (n = String(t).match(An)) ? (this.h = !!e, On(this, n[1] || "", !0), this.i = jn(n[2] || ""), this.b = jn(n[3] || "", !0), Nn(this, n[4]), this.c = jn(n[5] || "", !0), Dn(this, n[6] || "", !0), this.g = jn(n[7] || "")) : (this.h = !!e, this.a = new Gn(null, this.h))
                        }

                        function On(t, e, n) { t.f = n ? jn(e, !0) : e, t.f && (t.f = t.f.replace(/:$/, "")) }

                        function Nn(t, e) {
                            if (e) {
                                if (e = Number(e), isNaN(e) || 0 > e) throw Error("Bad port number " + e);
                                t.l = e
                            } else t.l = null
                        }

                        function Dn(t, e, n) {
                            e instanceof Gn ? (t.a = e, function(t, e) {
                                e && !t.f && ($n(t), t.c = null, t.a.forEach((function(t, e) {
                                    var n = e.toLowerCase();
                                    e != n && (Yn(this, e), Qn(this, n, t))
                                }), t)), t.f = e
                            }(t.a, t.h)) : (n || (e = Un(e, Wn)), t.a = new Gn(e, t.h))
                        }

                        function Pn(t, e, n) { t.a.set(e, n) }

                        function Mn(t, e) { return t.a.get(e) }

                        function Ln(t) { return t instanceof Rn ? new Rn(t) : new Rn(t, void 0) }

                        function Fn(t, e) { var n = new Rn(null, void 0); return On(n, "https"), t && (n.b = t), e && (n.c = e), n }

                        function jn(t, e) { return t ? e ? decodeURI(t.replace(/%25/g, "%2525")) : decodeURIComponent(t) : "" }

                        function Un(t, e, n) { return "string" == typeof t ? (t = encodeURI(t).replace(e, Vn), n && (t = t.replace(/%25([0-9a-fA-F]{2})/g, "%$1")), t) : null }

                        function Vn(t) { return "%" + ((t = t.charCodeAt(0)) >> 4 & 15).toString(16) + (15 & t).toString(16) }
                        Rn.prototype.toString = function() {
                            var t = [],
                                e = this.f;
                            e && t.push(Un(e, Bn, !0), ":");
                            var n = this.b;
                            return (n || "file" == e) && (t.push("//"), (e = this.i) && t.push(Un(e, Bn, !0), "@"), t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g, "%$1")), null != (n = this.l) && t.push(":", String(n))), (n = this.c) && (this.b && "/" != n.charAt(0) && t.push("/"), t.push(Un(n, "/" == n.charAt(0) ? Hn : qn, !0))), (n = this.a.toString()) && t.push("?", n), (n = this.g) && t.push("#", Un(n, zn)), t.join("")
                        }, Rn.prototype.resolve = function(t) {
                            var e = new Rn(this),
                                n = !!t.f;
                            n ? On(e, t.f) : n = !!t.i, n ? e.i = t.i : n = !!t.b, n ? e.b = t.b : n = null != t.l;
                            var r = t.c;
                            if (n) Nn(e, t.l);
                            else if (n = !!t.c) {
                                if ("/" != r.charAt(0))
                                    if (this.b && !this.c) r = "/" + r;
                                    else { var i = e.c.lastIndexOf("/"); - 1 != i && (r = e.c.substr(0, i + 1) + r) }
                                if (".." == (i = r) || "." == i) r = "";
                                else if (st(i, "./") || st(i, "/.")) {
                                    r = 0 == i.lastIndexOf("/", 0), i = i.split("/");
                                    for (var o = [], s = 0; s < i.length;) { var a = i[s++]; "." == a ? r && s == i.length && o.push("") : ".." == a ? ((1 < o.length || 1 == o.length && "" != o[0]) && o.pop(), r && s == i.length && o.push("")) : (o.push(a), r = !0) }
                                    r = o.join("/")
                                } else r = i
                            }
                            return n ? e.c = r : n = "" !== t.a.toString(), n ? Dn(e, Zn(t.a)) : n = !!t.g, n && (e.g = t.g), e
                        };
                        var Bn = /[#\/\?@]/g,
                            qn = /[#\?:]/g,
                            Hn = /[#\?]/g,
                            Wn = /[#\?@]/g,
                            zn = /#/g;

                        function Gn(t, e) { this.b = this.a = null, this.c = t || null, this.f = !!e }

                        function $n(t) {
                            t.a || (t.a = new Tn, t.b = 0, t.c && function(t, e) {
                                if (t) {
                                    t = t.split("&");
                                    for (var n = 0; n < t.length; n++) {
                                        var r = t[n].indexOf("="),
                                            i = null;
                                        if (0 <= r) {
                                            var o = t[n].substring(0, r);
                                            i = t[n].substring(r + 1)
                                        } else o = t[n];
                                        e(o, i ? decodeURIComponent(i.replace(/\+/g, " ")) : "")
                                    }
                                }
                            }(t.c, (function(e, n) { t.add(decodeURIComponent(e.replace(/\+/g, " ")), n) })))
                        }

                        function Kn(t) {
                            var e = xn(t);
                            if (void 0 === e) throw Error("Keys are undefined");
                            var n = new Gn(null, void 0);
                            t = Cn(t);
                            for (var r = 0; r < e.length; r++) {
                                var i = e[r],
                                    o = t[r];
                                Array.isArray(o) ? Qn(n, i, o) : n.add(i, o)
                            }
                            return n
                        }

                        function Yn(t, e) { $n(t), e = Jn(t, e), In(t.a.b, e) && (t.c = null, t.b -= t.a.get(e).length, In((t = t.a).b, e) && (delete t.b[e], t.c--, t.a.length > 2 * t.c && kn(t))) }

                        function Xn(t, e) { return $n(t), e = Jn(t, e), In(t.a.b, e) }

                        function Qn(t, e, n) { Yn(t, e), 0 < n.length && (t.c = null, t.a.set(Jn(t, e), X(n)), t.b += n.length) }

                        function Zn(t) { var e = new Gn; return e.c = t.c, t.a && (e.a = new Tn(t.a), e.b = t.b), e }

                        function Jn(t, e) { return e = String(e), t.f && (e = e.toLowerCase()), e }

                        function tr(t) {
                            var e = [];
                            return function t(e, n, r) {
                                if (null == n) r.push("null");
                                else {
                                    if ("object" == typeof n) {
                                        if (Array.isArray(n)) {
                                            var i = n;
                                            n = i.length, r.push("[");
                                            for (var o = "", s = 0; s < n; s++) r.push(o), t(e, i[s], r), o = ",";
                                            return void r.push("]")
                                        }
                                        if (!(n instanceof String || n instanceof Number || n instanceof Boolean)) { for (i in r.push("{"), o = "", n) Object.prototype.hasOwnProperty.call(n, i) && "function" != typeof(s = n[i]) && (r.push(o), ir(i, r), r.push(":"), t(e, s, r), o = ","); return void r.push("}") }
                                        n = n.valueOf()
                                    }
                                    switch (typeof n) {
                                        case "string":
                                            ir(n, r);
                                            break;
                                        case "number":
                                            r.push(isFinite(n) && !isNaN(n) ? String(n) : "null");
                                            break;
                                        case "boolean":
                                            r.push(String(n));
                                            break;
                                        case "function":
                                            r.push("null");
                                            break;
                                        default:
                                            throw Error("Unknown type: " + typeof n)
                                    }
                                }
                            }(new er, t, e), e.join("")
                        }

                        function er() {}(t = Gn.prototype).add = function(t, e) { $n(this), this.c = null, t = Jn(this, t); var n = this.a.get(t); return n || this.a.set(t, n = []), n.push(e), this.b += 1, this }, t.clear = function() { this.a = this.c = null, this.b = 0 }, t.forEach = function(t, e) { $n(this), this.a.forEach((function(n, r) { q(n, (function(n) { t.call(e, n, r, this) }), this) }), this) }, t.X = function() {
                            $n(this);
                            for (var t = this.a.V(), e = this.a.X(), n = [], r = 0; r < e.length; r++)
                                for (var i = t[r], o = 0; o < i.length; o++) n.push(e[r]);
                            return n
                        }, t.V = function(t) {
                            $n(this);
                            var e = [];
                            if ("string" == typeof t) Xn(this, t) && (e = Y(e, this.a.get(Jn(this, t))));
                            else { t = this.a.V(); for (var n = 0; n < t.length; n++) e = Y(e, t[n]) }
                            return e
                        }, t.set = function(t, e) { return $n(this), this.c = null, Xn(this, t = Jn(this, t)) && (this.b -= this.a.get(t).length), this.a.set(t, [e]), this.b += 1, this }, t.get = function(t, e) { return t && 0 < (t = this.V(t)).length ? String(t[0]) : e }, t.toString = function() {
                            if (this.c) return this.c;
                            if (!this.a) return "";
                            for (var t = [], e = this.a.X(), n = 0; n < e.length; n++) {
                                var r = e[n],
                                    i = encodeURIComponent(String(r));
                                r = this.V(r);
                                for (var o = 0; o < r.length; o++) { var s = i; "" !== r[o] && (s += "=" + encodeURIComponent(String(r[o]))), t.push(s) }
                            }
                            return this.c = t.join("&")
                        };
                        var nr = { '"': '\\"', "\\": "\\\\", "/": "\\/", "\b": "\\b", "\f": "\\f", "\n": "\\n", "\r": "\\r", "\t": "\\t", "\v": "\\u000b" },
                            rr = /\uffff/.test("\uffff") ? /[\\"\x00-\x1f\x7f-\uffff]/g : /[\\"\x00-\x1f\x7f-\xff]/g;

                        function ir(t, e) { e.push('"', t.replace(rr, (function(t) { var e = nr[t]; return e || (e = "\\u" + (65536 | t.charCodeAt(0)).toString(16).substr(1), nr[t] = e), e })), '"') }

                        function or() { var t = Sr(); return Gt && !!ee && 11 == ee || /Edge\/\d+/.test(t) }

                        function sr() { return a.window && a.window.location.href || self && self.location && self.location.href || "" }

                        function ar(t, e) {
                            e = e || a.window;
                            var n = "about:blank";
                            t && (n = Rt(Nt(t))), e.location.href = n
                        }

                        function cr(t) { return !!((t = (t || Sr()).toLowerCase()).match(/android/) || t.match(/webos/) || t.match(/iphone|ipad|ipod/) || t.match(/blackberry/) || t.match(/windows phone/) || t.match(/iemobile/)) }

                        function lr(t) { t = t || a.window; try { t.close() } catch (e) {} }

                        function ur(t, e, n) {
                            var r = Math.floor(1e9 * Math.random()).toString();
                            e = e || 500, n = n || 600;
                            var i = (window.screen.availHeight - n) / 2,
                                o = (window.screen.availWidth - e) / 2;
                            for (s in e = { width: e, height: n, top: 0 < i ? i : 0, left: 0 < o ? o : 0, location: !0, resizable: !0, statusbar: !0, toolbar: !1 }, n = Sr().toLowerCase(), r && (e.target = r, st(n, "crios/") && (e.target = "_blank")), br(Sr()) == _r && (t = t || "http://localhost", e.scrollbars = !0), n = t || "", (t = e) || (t = {}), r = window, e = n instanceof At ? n : Nt(void 0 !== n.href ? n.href : String(n)), n = t.target || n.target, i = [], t) switch (s) {
                                case "width":
                                case "height":
                                case "top":
                                case "left":
                                    i.push(s + "=" + t[s]);
                                    break;
                                case "target":
                                case "noopener":
                                case "noreferrer":
                                    break;
                                default:
                                    i.push(s + "=" + (t[s] ? 1 : 0))
                            }
                            var s = i.join(",");
                            if ((ut("iPhone") && !ut("iPod") && !ut("iPad") || ut("iPad") || ut("iPod")) && r.navigator && r.navigator.standalone && n && "_self" != n ? (gt(s = he(document, "A"), "HTMLAnchorElement"), e instanceof At || e instanceof At || (e = "object" == typeof e && e.ra ? e.qa() : String(e), Ot.test(e) || (e = "about:invalid#zClosurez"), e = new At(Pt, e)), s.href = Rt(e), s.setAttribute("target", n), t.noreferrer && s.setAttribute("rel", "noreferrer"), (t = document.createEvent("MouseEvent")).initMouseEvent("click", !0, !0, r, 1), s.dispatchEvent(t), s = {}) : t.noreferrer ? (s = r.open("", n, s), t = Rt(e), s && (Kt && st(t, ";") && (t = "'" + t.replace(/'/g, "%27") + "'"), s.opener = null, t = jt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url=' + Bt(t) + '">'), r = s.document) && (r.write(Lt(t)), r.close())) : (s = r.open(Rt(e), n, s)) && t.noopener && (s.opener = null), s) try { s.focus() } catch (a) {}
                            return s
                        }
                        var hr = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,
                            dr = /^[^@]+@[^@]+$/;

                        function pr() { var t = null; return new ve((function(e) { "complete" == a.document.readyState ? e() : (t = function() { e() }, cn(window, "load", t)) })).o((function(e) { throw ln(window, "load", t), e })) }

                        function fr(t) { return t = t || Sr(), !("file:" !== Ir() && "ionic:" !== Ir() || !t.toLowerCase().match(/iphone|ipad|ipod|android/)) }

                        function mr() { var t = a.window; try { return !(!t || t == t.top) } catch (e) { return !1 } }

                        function gr() { return void 0 !== a.WorkerGlobalScope && "function" == typeof a.importScripts }

                        function yr() { return i.a.INTERNAL.hasOwnProperty("reactNative") ? "ReactNative" : i.a.INTERNAL.hasOwnProperty("node") ? "Node" : gr() ? "Worker" : "Browser" }

                        function vr() { var t = yr(); return "ReactNative" === t || "Node" === t }
                        var _r = "Firefox";

                        function br(t) { var e = t.toLowerCase(); return st(e, "opera/") || st(e, "opr/") || st(e, "opios/") ? "Opera" : st(e, "iemobile") ? "IEMobile" : st(e, "msie") || st(e, "trident/") ? "IE" : st(e, "edge/") ? "Edge" : st(e, "firefox/") ? _r : st(e, "silk/") ? "Silk" : st(e, "blackberry") ? "Blackberry" : st(e, "webos") ? "Webos" : !st(e, "safari/") || st(e, "chrome/") || st(e, "crios/") || st(e, "android") ? !st(e, "chrome/") && !st(e, "crios/") || st(e, "edge/") ? st(e, "android") ? "Android" : (t = t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/)) && 2 == t.length ? t[1] : "Other" : "Chrome" : "Safari" }
                        var wr = { jd: "FirebaseCore-web", ld: "FirebaseUI-web" };

                        function Er(t, e) {
                            e = e || [];
                            var n, r = [],
                                i = {};
                            for (n in wr) i[wr[n]] = !0;
                            for (n = 0; n < e.length; n++) void 0 !== i[e[n]] && (delete i[e[n]], r.push(e[n]));
                            return r.sort(), (e = r).length || (e = ["FirebaseCore-web"]), "Browser" === (r = yr()) ? r = br(i = Sr()) : "Worker" === r && (r = br(i = Sr()) + "-" + r), r + "/JsCore/" + t + "/" + e.join(",")
                        }

                        function Sr() { return a.navigator && a.navigator.userAgent || "" }

                        function Cr(t, e) { t = t.split("."), e = e || a; for (var n = 0; n < t.length && "object" == typeof e && null != e; n++) e = e[t[n]]; return n != t.length && (e = void 0), e }

                        function xr() {
                            try {
                                var t = a.localStorage,
                                    e = Dr();
                                if (t) return t.setItem(e, "1"), t.removeItem(e), !or() || !!a.indexedDB
                            } catch (n) { return gr() && !!a.indexedDB }
                            return !1
                        }

                        function Tr() { return (kr() || "chrome-extension:" === Ir() || fr()) && !vr() && xr() && !gr() }

                        function kr() { return "http:" === Ir() || "https:" === Ir() }

                        function Ir() { return a.location && a.location.protocol || null }

                        function Ar(t) { return !cr(t = t || Sr()) && br(t) != _r }

                        function Rr(t) { return void 0 === t ? null : tr(t) }

                        function Or(t) { var e, n = {}; for (e in t) t.hasOwnProperty(e) && null != t[e] && (n[e] = t[e]); return n }

                        function Nr(t) { if (null !== t) return JSON.parse(t) }

                        function Dr(t) { return t || Math.floor(1e9 * Math.random()).toString() }

                        function Pr(t) { return "Safari" != br(t = t || Sr()) && !t.toLowerCase().match(/iphone|ipad|ipod/) }

                        function Mr() {
                            var t = a.___jsl;
                            if (t && t.H)
                                for (var e in t.H)
                                    if (t.H[e].r = t.H[e].r || [], t.H[e].L = t.H[e].L || [], t.H[e].r = t.H[e].L.concat(), t.CP)
                                        for (var n = 0; n < t.CP.length; n++) t.CP[n] = null
                        }

                        function Lr(t, e) {
                            if (t > e) throw Error("Short delay should be less than long delay!");
                            this.a = t, this.c = e, t = Sr(), e = yr(), this.b = cr(t) || "ReactNative" === e
                        }

                        function Fr() { var t = a.document; return !t || void 0 === t.visibilityState || "visible" == t.visibilityState }

                        function jr(t) { try { var e = new Date(parseInt(t, 10)); if (!isNaN(e.getTime()) && !/[^0-9]/.test(t)) return e.toUTCString() } catch (n) {} return null }

                        function Ur() { return !(!Cr("fireauth.oauthhelper", a) && !Cr("fireauth.iframe", a)) }
                        Lr.prototype.get = function() { var t = a.navigator; return !t || "boolean" != typeof t.onLine || !kr() && "chrome-extension:" !== Ir() && void 0 === t.connection || t.onLine ? this.b ? this.c : this.a : Math.min(5e3, this.a) };
                        var Vr, Br = {};

                        function qr(t) { Br[t] || (Br[t] = !0, "undefined" != typeof console && "function" == typeof console.warn && console.warn(t)) }
                        try {
                            var Hr = {};
                            Object.defineProperty(Hr, "abcd", { configurable: !0, enumerable: !0, value: 1 }), Object.defineProperty(Hr, "abcd", { configurable: !0, enumerable: !0, value: 2 }), Vr = 2 == Hr.abcd
                        } catch (Wt) { Vr = !1 }

                        function Wr(t, e, n) { Vr ? Object.defineProperty(t, e, { configurable: !0, enumerable: !0, value: n }) : t[e] = n }

                        function zr(t, e) {
                            if (e)
                                for (var n in e) e.hasOwnProperty(n) && Wr(t, n, e[n])
                        }

                        function Gr(t) { var e = {}; return zr(e, t), e }

                        function $r(t) {
                            var e = t;
                            if ("object" == typeof t && null != t)
                                for (var n in e = "length" in t ? [] : {}, t) Wr(e, n, $r(t[n]));
                            return e
                        }

                        function Kr(t) {
                            var e = t && (t[Jr] ? "phone" : null);
                            if (!(e && t && t[Zr])) throw new C("internal-error", "Internal assert: invalid MultiFactorInfo object");
                            Wr(this, "uid", t[Zr]), Wr(this, "displayName", t[Xr] || null);
                            var n = null;
                            t[Qr] && (n = new Date(t[Qr]).toUTCString()), Wr(this, "enrollmentTime", n), Wr(this, "factorId", e)
                        }

                        function Yr(t) { try { var e = new ti(t) } catch (n) { e = null } return e }
                        Kr.prototype.v = function() { return { uid: this.uid, displayName: this.displayName, factorId: this.factorId, enrollmentTime: this.enrollmentTime } };
                        var Xr = "displayName",
                            Qr = "enrolledAt",
                            Zr = "mfaEnrollmentId",
                            Jr = "phoneInfo";

                        function ti(t) { Kr.call(this, t), Wr(this, "phoneNumber", t[Jr]) }

                        function ei(t) {
                            var e = {},
                                n = t[oi],
                                r = t[ai],
                                i = t[ci];
                            if (t = Yr(t[si]), !i || i != ri && i != ii && !n || i == ii && !r || i == ni && !t) throw Error("Invalid checkActionCode response!");
                            i == ii ? (e[ui] = n || null, e[di] = n || null, e[li] = r) : (e[ui] = r || null, e[di] = r || null, e[li] = n || null), e[hi] = t || null, Wr(this, fi, i), Wr(this, pi, $r(e))
                        }
                        S(ti, Kr), ti.prototype.v = function() { var t = ti.Za.v.call(this); return t.phoneNumber = this.phoneNumber, t };
                        var ni = "REVERT_SECOND_FACTOR_ADDITION",
                            ri = "EMAIL_SIGNIN",
                            ii = "VERIFY_AND_CHANGE_EMAIL",
                            oi = "email",
                            si = "mfaInfo",
                            ai = "newEmail",
                            ci = "requestType",
                            li = "email",
                            ui = "fromEmail",
                            hi = "multiFactorInfo",
                            di = "previousEmail",
                            pi = "data",
                            fi = "operation";

                        function mi(t) {
                            var e = Mn(t = Ln(t), gi) || null,
                                n = Mn(t, yi) || null,
                                r = Mn(t, bi) || null;
                            if (r = r && Ei[r] || null, !e || !n || !r) throw new C("argument-error", gi + ", " + yi + "and " + bi + " are required in a valid action code URL.");
                            zr(this, { apiKey: e, operation: r, code: n, continueUrl: Mn(t, vi) || null, languageCode: Mn(t, _i) || null, tenantId: Mn(t, wi) || null })
                        }
                        var gi = "apiKey",
                            yi = "oobCode",
                            vi = "continueUrl",
                            _i = "languageCode",
                            bi = "mode",
                            wi = "tenantId",
                            Ei = { recoverEmail: "RECOVER_EMAIL", resetPassword: "PASSWORD_RESET", revertSecondFactorAddition: ni, signIn: ri, verifyAndChangeEmail: ii, verifyEmail: "VERIFY_EMAIL" };

                        function Si(t) { try { return new mi(t) } catch (e) { return null } }

                        function Ci(t) {
                            var e = t[Ai];
                            if (void 0 === e) throw new C("missing-continue-uri");
                            if ("string" != typeof e || "string" == typeof e && !e.length) throw new C("invalid-continue-uri");
                            this.h = e, this.b = this.a = null, this.g = !1;
                            var n = t[xi];
                            if (n && "object" == typeof n) {
                                e = n[Ni];
                                var r = n[Ri];
                                if (n = n[Oi], "string" == typeof e && e.length) {
                                    if (this.a = e, void 0 !== r && "boolean" != typeof r) throw new C("argument-error", Ri + " property must be a boolean when specified.");
                                    if (this.g = !!r, void 0 !== n && ("string" != typeof n || "string" == typeof n && !n.length)) throw new C("argument-error", Oi + " property must be a non empty string when specified.");
                                    this.b = n || null
                                } else { if (void 0 !== e) throw new C("argument-error", Ni + " property must be a non empty string when specified."); if (void 0 !== r || void 0 !== n) throw new C("missing-android-pkg-name") }
                            } else if (void 0 !== n) throw new C("argument-error", xi + " property must be a non null object when specified.");
                            if (this.f = null, (e = t[Ii]) && "object" == typeof e) {
                                if ("string" == typeof(e = e[Di]) && e.length) this.f = e;
                                else if (void 0 !== e) throw new C("argument-error", Di + " property must be a non empty string when specified.")
                            } else if (void 0 !== e) throw new C("argument-error", Ii + " property must be a non null object when specified.");
                            if (void 0 !== (e = t[ki]) && "boolean" != typeof e) throw new C("argument-error", ki + " property must be a boolean when specified.");
                            if (this.c = !!e, void 0 !== (t = t[Ti]) && ("string" != typeof t || "string" == typeof t && !t.length)) throw new C("argument-error", Ti + " property must be a non empty string when specified.");
                            this.i = t || null
                        }
                        var xi = "android",
                            Ti = "dynamicLinkDomain",
                            ki = "handleCodeInApp",
                            Ii = "iOS",
                            Ai = "url",
                            Ri = "installApp",
                            Oi = "minimumVersion",
                            Ni = "packageName",
                            Di = "bundleId";

                        function Pi(t) { var e = {}; for (var n in e.continueUrl = t.h, e.canHandleCodeInApp = t.c, (e.androidPackageName = t.a) && (e.androidMinimumVersion = t.b, e.androidInstallApp = t.g), e.iOSBundleId = t.f, e.dynamicLinkDomain = t.i, e) null === e[n] && delete e[n]; return e }
                        var Mi = null;

                        function Li(t) {
                            var e = ji(t);
                            if (!(e && e.sub && e.iss && e.aud && e.exp)) throw Error("Invalid JWT");
                            this.g = t, this.c = e.exp, this.h = e.sub, E(), this.a = e.provider_id || e.firebase && e.firebase.sign_in_provider || null, this.f = e.firebase && e.firebase.tenant || null, this.b = !!e.is_anonymous || "anonymous" == this.a
                        }

                        function Fi(t) { try { return new Li(t) } catch (e) { return null } }

                        function ji(t) {
                            if (!t) return null;
                            if (3 != (t = t.split(".")).length) return null;
                            for (var e = (4 - (t = t[1]).length % 4) % 4, n = 0; n < e; n++) t += ".";
                            try {
                                return JSON.parse(function(t) {
                                    var e = "";
                                    return function(t, e) {
                                        function n(e) {
                                            for (; r < t.length;) {
                                                var n = t.charAt(r++),
                                                    i = Mi[n];
                                                if (null != i) return i;
                                                if (!/^[\s\xa0]*$/.test(n)) throw Error("Unknown base64 encoding at char: " + n)
                                            }
                                            return e
                                        }! function() {
                                            if (!Mi) {
                                                Mi = {};
                                                for (var t = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""), e = ["+/=", "+/", "-_=", "-_.", "-_"], n = 0; 5 > n; n++)
                                                    for (var r = t.concat(e[n].split("")), i = 0; i < r.length; i++) {
                                                        var o = r[i];
                                                        void 0 === Mi[o] && (Mi[o] = i)
                                                    }
                                            }
                                        }();
                                        for (var r = 0;;) {
                                            var i = n(-1),
                                                o = n(0),
                                                s = n(64),
                                                a = n(64);
                                            if (64 === a && -1 === i) break;
                                            e(i << 2 | o >> 4), 64 != s && (e(o << 4 & 240 | s >> 2), 64 != a && e(s << 6 & 192 | a))
                                        }
                                    }(t, (function(t) { e += String.fromCharCode(t) })), e
                                }(t))
                            } catch (r) {}
                            return null
                        }
                        Li.prototype.S = function() { return this.f }, Li.prototype.i = function() { return this.b }, Li.prototype.toString = function() { return this.g };
                        var Ui = "oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),
                            Vi = ["client_id", "response_type", "scope", "redirect_uri", "state"],
                            Bi = { kd: { Ha: "locale", ta: 700, sa: 600, ea: "facebook.com", Va: Vi }, md: { Ha: null, ta: 500, sa: 750, ea: "github.com", Va: Vi }, nd: { Ha: "hl", ta: 515, sa: 680, ea: "google.com", Va: Vi }, td: { Ha: "lang", ta: 485, sa: 705, ea: "twitter.com", Va: Ui }, gd: { Ha: "locale", ta: 640, sa: 600, ea: "apple.com", Va: [] } };

                        function qi(t) {
                            for (var e in Bi)
                                if (Bi[e].ea == t) return Bi[e];
                            return null
                        }

                        function Hi(t) {
                            var e = {};
                            e["facebook.com"] = Ki, e["google.com"] = Xi, e["github.com"] = Yi, e["twitter.com"] = Qi;
                            var n = t && t[zi];
                            try { if (n) return e[n] ? new e[n](t) : new $i(t); if (void 0 !== t[Wi]) return new Gi(t) } catch (r) {}
                            return null
                        }
                        var Wi = "idToken",
                            zi = "providerId";

                        function Gi(t) {
                            var e = t[zi];
                            if (!e && t[Wi]) {
                                var n = Fi(t[Wi]);
                                n && n.a && (e = n.a)
                            }
                            if (!e) throw Error("Invalid additional user info!");
                            "anonymous" != e && "custom" != e || (e = null), n = !1, void 0 !== t.isNewUser ? n = !!t.isNewUser : "identitytoolkit#SignupNewUserResponse" === t.kind && (n = !0), Wr(this, "providerId", e), Wr(this, "isNewUser", n)
                        }

                        function $i(t) { Gi.call(this, t), Wr(this, "profile", $r((t = Nr(t.rawUserInfo || "{}")) || {})) }

                        function Ki(t) { if ($i.call(this, t), "facebook.com" != this.providerId) throw Error("Invalid provider ID!") }

                        function Yi(t) {
                            if ($i.call(this, t), "github.com" != this.providerId) throw Error("Invalid provider ID!");
                            Wr(this, "username", this.profile && this.profile.login || null)
                        }

                        function Xi(t) { if ($i.call(this, t), "google.com" != this.providerId) throw Error("Invalid provider ID!") }

                        function Qi(t) {
                            if ($i.call(this, t), "twitter.com" != this.providerId) throw Error("Invalid provider ID!");
                            Wr(this, "username", t.screenName || null)
                        }

                        function Zi(t) {
                            var e = Ln(t),
                                n = Mn(e, "link"),
                                r = Mn(Ln(n), "link");
                            return e = Mn(e, "deep_link_id"), Mn(Ln(e), "link") || e || r || n || t
                        }

                        function Ji(t, e) {
                            if (!t && !e) throw new C("internal-error", "Internal assert: no raw session string available");
                            if (t && e) throw new C("internal-error", "Internal assert: unable to determine the session type");
                            this.a = t || null, this.b = e || null, this.type = this.a ? to : eo
                        }
                        S($i, Gi), S(Ki, $i), S(Yi, $i), S(Xi, $i), S(Qi, $i);
                        var to = "enroll",
                            eo = "signin";

                        function no() {}

                        function ro(t, e) { return t.then((function(t) { if (t[Hs]) { var n = Fi(t[Hs]); if (!n || e != n.h) throw new C("user-mismatch"); return t } throw new C("user-mismatch") })).o((function(t) { throw t && t.code && t.code == k + "user-not-found" ? new C("user-mismatch") : t })) }

                        function io(t, e) {
                            if (!e) throw new C("internal-error", "failed to construct a credential");
                            this.a = e, Wr(this, "providerId", t), Wr(this, "signInMethod", t)
                        }

                        function oo(t) { return { pendingToken: t.a, requestUri: "http://localhost" } }

                        function so(t) {
                            if (t && t.providerId && t.signInMethod && 0 == t.providerId.indexOf("saml.") && t.pendingToken) try { return new io(t.providerId, t.pendingToken) } catch (e) {}
                            return null
                        }

                        function ao(t, e, n) {
                            if (this.a = null, e.idToken || e.accessToken) e.idToken && Wr(this, "idToken", e.idToken), e.accessToken && Wr(this, "accessToken", e.accessToken), e.nonce && !e.pendingToken && Wr(this, "nonce", e.nonce), e.pendingToken && (this.a = e.pendingToken);
                            else {
                                if (!e.oauthToken || !e.oauthTokenSecret) throw new C("internal-error", "failed to construct a credential");
                                Wr(this, "accessToken", e.oauthToken), Wr(this, "secret", e.oauthTokenSecret)
                            }
                            Wr(this, "providerId", t), Wr(this, "signInMethod", n)
                        }

                        function co(t) { var e = {}; return t.idToken && (e.id_token = t.idToken), t.accessToken && (e.access_token = t.accessToken), t.secret && (e.oauth_token_secret = t.secret), e.providerId = t.providerId, t.nonce && !t.a && (e.nonce = t.nonce), e = { postBody: Kn(e).toString(), requestUri: "http://localhost" }, t.a && (delete e.postBody, e.pendingToken = t.a), e }

                        function lo(t) { if (t && t.providerId && t.signInMethod) { var e = { idToken: t.oauthIdToken, accessToken: t.oauthTokenSecret ? null : t.oauthAccessToken, oauthTokenSecret: t.oauthTokenSecret, oauthToken: t.oauthTokenSecret && t.oauthAccessToken, nonce: t.nonce, pendingToken: t.pendingToken }; try { return new ao(t.providerId, e, t.signInMethod) } catch (n) {} } return null }

                        function uo(t, e) { this.Oc = e || [], zr(this, { providerId: t, isOAuthProvider: !0 }), this.Fb = {}, this.lb = (qi(t) || {}).Ha || null, this.kb = null }

                        function ho(t) {
                            if ("string" != typeof t || 0 != t.indexOf("saml.")) throw new C("argument-error", 'SAML provider IDs must be prefixed with "saml."');
                            uo.call(this, t, [])
                        }

                        function po(t) { uo.call(this, t, Vi), this.a = [] }

                        function fo() { po.call(this, "facebook.com") }

                        function mo(t) { if (!t) throw new C("argument-error", "credential failed: expected 1 argument (the OAuth access token)."); var e = t; return f(t) && (e = t.accessToken), (new fo).credential({ accessToken: e }) }

                        function go() { po.call(this, "github.com") }

                        function yo(t) { if (!t) throw new C("argument-error", "credential failed: expected 1 argument (the OAuth access token)."); var e = t; return f(t) && (e = t.accessToken), (new go).credential({ accessToken: e }) }

                        function vo() { po.call(this, "google.com"), this.Aa("profile") }

                        function _o(t, e) { var n = t; return f(t) && (n = t.idToken, e = t.accessToken), (new vo).credential({ idToken: n, accessToken: e }) }

                        function bo() { uo.call(this, "twitter.com", Ui) }

                        function wo(t, e) { var n = t; if (f(n) || (n = { oauthToken: t, oauthTokenSecret: e }), !n.oauthToken || !n.oauthTokenSecret) throw new C("argument-error", "credential failed: expected 2 arguments (the OAuth access token and secret)."); return new ao("twitter.com", n, "twitter.com") }

                        function Eo(t, e, n) { this.a = t, this.f = e, Wr(this, "providerId", "password"), Wr(this, "signInMethod", n === Co.EMAIL_LINK_SIGN_IN_METHOD ? Co.EMAIL_LINK_SIGN_IN_METHOD : Co.EMAIL_PASSWORD_SIGN_IN_METHOD) }

                        function So(t) { return t && t.email && t.password ? new Eo(t.email, t.password, t.signInMethod) : null }

                        function Co() { zr(this, { providerId: "password", isOAuthProvider: !1 }) }

                        function xo(t, e) { if (!(e = To(e))) throw new C("argument-error", "Invalid email link!"); return new Eo(t, e.code, Co.EMAIL_LINK_SIGN_IN_METHOD) }

                        function To(t) { return (t = Si(t = Zi(t))) && t.operation === ri ? t : null }

                        function ko(t) {
                            if (!(t.bb && t.ab || t.Ja && t.da)) throw new C("internal-error");
                            this.a = t, Wr(this, "providerId", "phone"), this.ea = "phone", Wr(this, "signInMethod", "phone")
                        }

                        function Io(t) { if (t && "phone" === t.providerId && (t.verificationId && t.verificationCode || t.temporaryProof && t.phoneNumber)) { var e = {}; return q(["verificationId", "verificationCode", "temporaryProof", "phoneNumber"], (function(n) { t[n] && (e[n] = t[n]) })), new ko(e) } return null }

                        function Ao(t) { return t.a.Ja && t.a.da ? { temporaryProof: t.a.Ja, phoneNumber: t.a.da } : { sessionInfo: t.a.bb, code: t.a.ab } }

                        function Ro(t) {
                            try { this.a = t || i.a.auth() } catch (e) { throw new C("argument-error", "Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().") }
                            zr(this, { providerId: "phone", isOAuthProvider: !1 })
                        }

                        function Oo(t, e) { if (!t) throw new C("missing-verification-id"); if (!e) throw new C("missing-verification-code"); return new ko({ bb: t, ab: e }) }

                        function No(t) {
                            if (t.temporaryProof && t.phoneNumber) return new ko({ Ja: t.temporaryProof, da: t.phoneNumber });
                            var e = t && t.providerId;
                            if (!e || "password" === e) return null;
                            var n = t && t.oauthAccessToken,
                                r = t && t.oauthTokenSecret,
                                i = t && t.nonce,
                                o = t && t.oauthIdToken,
                                s = t && t.pendingToken;
                            try {
                                switch (e) {
                                    case "google.com":
                                        return _o(o, n);
                                    case "facebook.com":
                                        return mo(n);
                                    case "github.com":
                                        return yo(n);
                                    case "twitter.com":
                                        return wo(n, r);
                                    default:
                                        return n || r || o || s ? s ? 0 == e.indexOf("saml.") ? new io(e, s) : new ao(e, { pendingToken: s, idToken: t.oauthIdToken, accessToken: t.oauthAccessToken }, e) : new po(e).credential({ idToken: o, accessToken: n, rawNonce: i }) : null
                                }
                            } catch (a) { return null }
                        }

                        function Do(t) { if (!t.isOAuthProvider) throw new C("invalid-oauth-provider") }

                        function Po(t, e, n, r, i, o, s) { if (this.c = t, this.b = e || null, this.g = n || null, this.f = r || null, this.i = o || null, this.h = s || null, this.a = i || null, !this.g && !this.a) throw new C("invalid-auth-event"); if (this.g && this.a) throw new C("invalid-auth-event"); if (this.g && !this.f) throw new C("invalid-auth-event") }

                        function Mo(t) { return (t = t || {}).type ? new Po(t.type, t.eventId, t.urlResponse, t.sessionId, t.error && x(t.error), t.postBody, t.tenantId) : null }

                        function Lo() { this.b = null, this.a = [] }
                        Ji.prototype.Fa = function() { return xe(this.a ? this.a : this.b) }, Ji.prototype.v = function() { return this.type == to ? { multiFactorSession: { idToken: this.a } } : { multiFactorSession: { pendingCredential: this.b } } }, no.prototype.ia = function() {}, no.prototype.b = function() {}, no.prototype.c = function() {}, no.prototype.v = function() {}, io.prototype.ia = function(t) { return ca(t, oo(this)) }, io.prototype.b = function(t, e) { var n = oo(this); return n.idToken = e, la(t, n) }, io.prototype.c = function(t, e) { return ro(ua(t, oo(this)), e) }, io.prototype.v = function() { return { providerId: this.providerId, signInMethod: this.signInMethod, pendingToken: this.a } }, ao.prototype.ia = function(t) { return ca(t, co(this)) }, ao.prototype.b = function(t, e) { var n = co(this); return n.idToken = e, la(t, n) }, ao.prototype.c = function(t, e) { return ro(ua(t, co(this)), e) }, ao.prototype.v = function() { var t = { providerId: this.providerId, signInMethod: this.signInMethod }; return this.idToken && (t.oauthIdToken = this.idToken), this.accessToken && (t.oauthAccessToken = this.accessToken), this.secret && (t.oauthTokenSecret = this.secret), this.nonce && (t.nonce = this.nonce), this.a && (t.pendingToken = this.a), t }, uo.prototype.Ia = function(t) { return this.Fb = pt(t), this }, S(ho, uo), S(po, uo), po.prototype.Aa = function(t) { return G(this.a, t) || this.a.push(t), this }, po.prototype.Nb = function() { return X(this.a) }, po.prototype.credential = function(t, e) { var n; if (!(n = f(t) ? { idToken: t.idToken || null, accessToken: t.accessToken || null, nonce: t.rawNonce || null } : { idToken: t || null, accessToken: e || null }).idToken && !n.accessToken) throw new C("argument-error", "credential failed: must provide the ID token and/or the access token."); return new ao(this.providerId, n, this.providerId) }, S(fo, po), Wr(fo, "PROVIDER_ID", "facebook.com"), Wr(fo, "FACEBOOK_SIGN_IN_METHOD", "facebook.com"), S(go, po), Wr(go, "PROVIDER_ID", "github.com"), Wr(go, "GITHUB_SIGN_IN_METHOD", "github.com"), S(vo, po), Wr(vo, "PROVIDER_ID", "google.com"), Wr(vo, "GOOGLE_SIGN_IN_METHOD", "google.com"), S(bo, uo), Wr(bo, "PROVIDER_ID", "twitter.com"), Wr(bo, "TWITTER_SIGN_IN_METHOD", "twitter.com"), Eo.prototype.ia = function(t) { return this.signInMethod == Co.EMAIL_LINK_SIGN_IN_METHOD ? za(t, va, { email: this.a, oobCode: this.f }) : za(t, Va, { email: this.a, password: this.f }) }, Eo.prototype.b = function(t, e) { return this.signInMethod == Co.EMAIL_LINK_SIGN_IN_METHOD ? za(t, _a, { idToken: e, email: this.a, oobCode: this.f }) : za(t, Na, { idToken: e, email: this.a, password: this.f }) }, Eo.prototype.c = function(t, e) { return ro(this.ia(t), e) }, Eo.prototype.v = function() { return { email: this.a, password: this.f, signInMethod: this.signInMethod } }, zr(Co, { PROVIDER_ID: "password" }), zr(Co, { EMAIL_LINK_SIGN_IN_METHOD: "emailLink" }), zr(Co, { EMAIL_PASSWORD_SIGN_IN_METHOD: "password" }), ko.prototype.ia = function(t) { return t.cb(Ao(this)) }, ko.prototype.b = function(t, e) { var n = Ao(this); return n.idToken = e, za(t, qa, n) }, ko.prototype.c = function(t, e) { var n = Ao(this); return n.operation = "REAUTH", ro(t = za(t, Ha, n), e) }, ko.prototype.v = function() { var t = { providerId: "phone" }; return this.a.bb && (t.verificationId = this.a.bb), this.a.ab && (t.verificationCode = this.a.ab), this.a.Ja && (t.temporaryProof = this.a.Ja), this.a.da && (t.phoneNumber = this.a.da), t }, Ro.prototype.cb = function(t, e) {
                            var n = this.a.b;
                            return xe(e.verify()).then((function(r) {
                                if ("string" != typeof r) throw new C("argument-error", "An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");
                                switch (e.type) {
                                    case "recaptcha":
                                        var i = f(t) ? t.session : null,
                                            o = f(t) ? t.phoneNumber : t;
                                        return (i && i.type == to ? i.Fa().then((function(t) { return function(t, e) { return za(t, Pa, e).then((function(t) { return t.phoneSessionInfo.sessionInfo })) }(n, { idToken: t, phoneEnrollmentInfo: { phoneNumber: o, recaptchaToken: r } }) })) : i && i.type == eo ? i.Fa().then((function(e) { return function(t, e) { return za(t, Ma, e).then((function(t) { return t.phoneResponseInfo.sessionInfo })) }(n, { mfaPendingCredential: e, mfaEnrollmentId: t.multiFactorHint && t.multiFactorHint.uid || t.multiFactorUid, phoneSignInInfo: { recaptchaToken: r } }) })) : function(t, e) { return za(t, Ra, e) }(n, { phoneNumber: o, recaptchaToken: r })).then((function(t) { return "function" == typeof e.reset && e.reset(), t }), (function(t) { throw "function" == typeof e.reset && e.reset(), t }));
                                    default:
                                        throw new C("argument-error", 'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')
                                }
                            }))
                        }, zr(Ro, { PROVIDER_ID: "phone" }), zr(Ro, { PHONE_SIGN_IN_METHOD: "phone" }), Po.prototype.getUid = function() { var t = []; return t.push(this.c), this.b && t.push(this.b), this.f && t.push(this.f), this.h && t.push(this.h), t.join("-") }, Po.prototype.S = function() { return this.h }, Po.prototype.v = function() { return { type: this.c, eventId: this.b, urlResponse: this.g, sessionId: this.f, postBody: this.i, tenantId: this.h, error: this.a && this.a.v() } };
                        var Fo, jo = null;

                        function Uo(t) {
                            var e = "unauthorized-domain",
                                n = void 0,
                                r = Ln(t);
                            t = r.b, "chrome-extension" == (r = r.f) ? n = Vt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.", t) : "http" == r || "https" == r ? n = Vt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.", t) : e = "operation-not-supported-in-this-environment", C.call(this, e, n)
                        }

                        function Vo(t, e, n) { C.call(this, t, n), (t = e || {}).Gb && Wr(this, "email", t.Gb), t.da && Wr(this, "phoneNumber", t.da), t.credential && Wr(this, "credential", t.credential), t.Wb && Wr(this, "tenantId", t.Wb) }

                        function Bo(t) {
                            if (t.code) {
                                var e = t.code || "";
                                0 == e.indexOf(k) && (e = e.substring(k.length));
                                var n = { credential: No(t), Wb: t.tenantId };
                                if (t.email) n.Gb = t.email;
                                else if (t.phoneNumber) n.da = t.phoneNumber;
                                else if (!n.credential) return new C(e, t.message || void 0);
                                return new Vo(e, n, t.message)
                            }
                            return null
                        }

                        function qo() {}

                        function Ho() {}

                        function Wo(t) { if (!t.f && "undefined" == typeof XMLHttpRequest && "undefined" != typeof ActiveXObject) { for (var e = ["MSXML2.XMLHTTP.6.0", "MSXML2.XMLHTTP.3.0", "MSXML2.XMLHTTP", "Microsoft.XMLHTTP"], n = 0; n < e.length; n++) { var r = e[n]; try { return new ActiveXObject(r), t.f = r } catch (i) {} } throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed") } return t.f }

                        function zo() {}

                        function Go() { this.a = new XDomainRequest, this.readyState = 0, this.onreadystatechange = null, this.responseType = this.responseText = this.response = "", this.status = -1, this.statusText = "", this.a.onload = b(this.oc, this), this.a.onerror = b(this.Pb, this), this.a.onprogress = b(this.pc, this), this.a.ontimeout = b(this.tc, this) }

                        function $o(t, e) { t.readyState = e, t.onreadystatechange && t.onreadystatechange() }

                        function Ko(t, e, n) { this.reset(t, e, n, void 0, void 0) }

                        function Yo(t) { this.f = t, this.b = this.c = this.a = null }

                        function Xo(t, e) { this.name = t, this.value = e }
                        S(Uo, C), S(Vo, C), Vo.prototype.v = function() {
                            var t = { code: this.code, message: this.message };
                            this.email && (t.email = this.email), this.phoneNumber && (t.phoneNumber = this.phoneNumber), this.tenantId && (t.tenantId = this.tenantId);
                            var e = this.credential && this.credential.v();
                            return e && mt(t, e), t
                        }, Vo.prototype.toJSON = function() { return this.v() }, qo.prototype.c = null, S(Ho, qo), Ho.prototype.a = function() { var t = Wo(this); return t ? new ActiveXObject(t) : new XMLHttpRequest }, Ho.prototype.b = function() { var t = {}; return Wo(this) && (t[0] = !0, t[1] = !0), t }, Fo = new Ho, S(zo, qo), zo.prototype.a = function() { var t = new XMLHttpRequest; if ("withCredentials" in t) return t; if ("undefined" != typeof XDomainRequest) return new Go; throw Error("Unsupported browser") }, zo.prototype.b = function() { return {} }, (t = Go.prototype).open = function(t, e, n) {
                            if (null != n && !n) throw Error("Only async requests are supported.");
                            this.a.open(t, e)
                        }, t.send = function(t) {
                            if (t) {
                                if ("string" != typeof t) throw Error("Only string data is supported");
                                this.a.send(t)
                            } else this.a.send()
                        }, t.abort = function() { this.a.abort() }, t.setRequestHeader = function() {}, t.getResponseHeader = function(t) { return "content-type" == t.toLowerCase() ? this.a.contentType : "" }, t.oc = function() { this.status = 200, this.response = this.responseText = this.a.responseText, $o(this, 4) }, t.Pb = function() { this.status = 500, this.response = this.responseText = "", $o(this, 4) }, t.tc = function() { this.Pb() }, t.pc = function() { this.status = 200, $o(this, 1) }, t.getAllResponseHeaders = function() { return "content-type: " + this.a.contentType }, Ko.prototype.a = null, Ko.prototype.reset = function(t, e, n, r, i) { r || E(), delete this.a }, Xo.prototype.toString = function() { return this.name };
                        var Qo = new Xo("SEVERE", 1e3),
                            Zo = new Xo("WARNING", 900),
                            Jo = new Xo("CONFIG", 700),
                            ts = new Xo("FINE", 500);
                        Yo.prototype.log = function(t, e, n) {
                            if (t.value >= function t(e) { return e.c ? e.c : e.a ? t(e.a) : (P("Root logger has no level set."), null) }(this).value)
                                for (p(e) && (e = e()), t = new Ko(t, String(e), this.f), n && (t.a = n), n = this; n;) n = n.a
                        };
                        var es = {},
                            ns = null;

                        function rs(t) {
                            var e;
                            if (ns || (ns = new Yo(""), es[""] = ns, ns.c = Jo), !(e = es[t])) {
                                e = new Yo(t);
                                var n = t.lastIndexOf("."),
                                    r = t.substr(n + 1);
                                (n = rs(t.substr(0, n))).b || (n.b = {}), n.b[r] = e, e.a = n, es[t] = e
                            }
                            return e
                        }

                        function is(t, e) { t && t.log(ts, e, void 0) }

                        function os(t) { this.f = t }

                        function ss(t) { vn.call(this), this.s = t, this.readyState = as, this.status = 0, this.responseType = this.responseText = this.response = this.statusText = "", this.onreadystatechange = null, this.i = new Headers, this.b = null, this.m = "GET", this.g = "", this.a = !1, this.h = rs("goog.net.FetchXmlHttp"), this.l = this.c = this.f = null }
                        S(os, qo), os.prototype.a = function() { return new ss(this.f) }, os.prototype.b = function(t) { return function() { return t } }({}), S(ss, vn);
                        var as = 0;

                        function cs(t) { t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t)) }

                        function ls(t, e) { e && t.f && (t.status = t.f.status, t.statusText = t.f.statusText), t.readyState = 4, t.f = null, t.c = null, t.l = null, us(t) }

                        function us(t) { t.onreadystatechange && t.onreadystatechange.call(t) }

                        function hs(t) { vn.call(this), this.headers = new Tn, this.D = t || null, this.c = !1, this.B = this.a = null, this.h = this.P = this.l = "", this.f = this.O = this.i = this.N = !1, this.g = 0, this.s = null, this.m = ds, this.w = this.R = !1 }(t = ss.prototype).open = function(t, e) {
                            if (this.readyState != as) throw this.abort(), Error("Error reopening a connection");
                            this.m = t, this.g = e, this.readyState = 1, us(this)
                        }, t.send = function(t) {
                            if (1 != this.readyState) throw this.abort(), Error("need to call open() first. ");
                            this.a = !0;
                            var e = { headers: this.i, method: this.m, credentials: void 0, cache: void 0 };
                            t && (e.body = t), this.s.fetch(new Request(this.g, e)).then(this.sc.bind(this), this.Sa.bind(this))
                        }, t.abort = function() { this.response = this.responseText = "", this.i = new Headers, this.status = 0, this.c && this.c.cancel("Request was aborted."), 1 <= this.readyState && this.a && 4 != this.readyState && (this.a = !1, ls(this, !1)), this.readyState = as }, t.sc = function(t) { this.a && (this.f = t, this.b || (this.b = t.headers, this.readyState = 2, us(this)), this.a && (this.readyState = 3, us(this), this.a && ("arraybuffer" === this.responseType ? t.arrayBuffer().then(this.qc.bind(this), this.Sa.bind(this)) : void 0 !== a.ReadableStream && "body" in t ? (this.response = this.responseText = "", this.c = t.body.getReader(), this.l = new TextDecoder, cs(this)) : t.text().then(this.rc.bind(this), this.Sa.bind(this))))) }, t.nc = function(t) {
                            if (this.a) {
                                var e = this.l.decode(t.value ? t.value : new Uint8Array(0), { stream: !t.done });
                                e && (this.response = this.responseText += e), t.done ? ls(this, !0) : us(this), 3 == this.readyState && cs(this)
                            }
                        }, t.rc = function(t) { this.a && (this.response = this.responseText = t, ls(this, !0)) }, t.qc = function(t) { this.a && (this.response = t, ls(this, !0)) }, t.Sa = function(t) {
                            var e = this.h;
                            e && e.log(Zo, "Failed to fetch url " + this.g, t instanceof Error ? t : Error(t)), this.a && ls(this, !0)
                        }, t.setRequestHeader = function(t, e) { this.i.append(t, e) }, t.getResponseHeader = function(t) { return this.b ? this.b.get(t.toLowerCase()) || "" : ((t = this.h) && t.log(Zo, "Attempting to get response header but no headers have been received for url: " + this.g, void 0), "") }, t.getAllResponseHeaders = function() {
                            if (!this.b) { var t = this.h; return t && t.log(Zo, "Attempting to get all response headers but no headers have been received for url: " + this.g, void 0), "" }
                            t = [];
                            for (var e = this.b.entries(), n = e.next(); !n.done;) t.push((n = n.value)[0] + ": " + n[1]), n = e.next();
                            return t.join("\r\n")
                        }, S(hs, vn);
                        var ds = "";
                        hs.prototype.b = rs("goog.net.XhrIo");
                        var ps = /^https?$/i,
                            fs = ["POST", "PUT"];

                        function ms(t) { return "content-type" == t.toLowerCase() }

                        function gs(t, e) { t.c = !1, t.a && (t.f = !0, t.a.abort(), t.f = !1), t.h = e, ys(t), _s(t) }

                        function ys(t) { t.N || (t.N = !0, t.dispatchEvent("complete"), t.dispatchEvent("error")) }

                        function vs(t) {
                            if (t.c && void 0 !== s)
                                if (t.B[1] && 4 == ws(t) && 2 == Es(t)) is(t.b, Ss(t, "Local request error detected and ignored"));
                                else if (t.i && 4 == ws(t)) En(t.Sb, 0, t);
                            else if (t.dispatchEvent("readystatechange"), 4 == ws(t)) {
                                is(t.b, Ss(t, "Request complete")), t.c = !1;
                                try {
                                    var e, n = Es(t);
                                    t: switch (n) {
                                        case 200:
                                        case 201:
                                        case 202:
                                        case 204:
                                        case 206:
                                        case 304:
                                        case 1223:
                                            var r = !0;
                                            break t;
                                        default:
                                            r = !1
                                    }
                                    if (!(e = r)) {
                                        var i;
                                        if (i = 0 === n) {
                                            var o = String(t.l).match(An)[1] || null;
                                            if (!o && a.self && a.self.location) {
                                                var c = a.self.location.protocol;
                                                o = c.substr(0, c.length - 1)
                                            }
                                            i = !ps.test(o ? o.toLowerCase() : "")
                                        }
                                        e = i
                                    }
                                    if (e) t.dispatchEvent("complete"), t.dispatchEvent("success");
                                    else {
                                        try { var l = 2 < ws(t) ? t.a.statusText : "" } catch (u) { is(t.b, "Can not get status: " + u.message), l = "" }
                                        t.h = l + " [" + Es(t) + "]", ys(t)
                                    }
                                } finally { _s(t) }
                            }
                        }

                        function _s(t, e) {
                            if (t.a) {
                                bs(t);
                                var n = t.a,
                                    r = t.B[0] ? u : null;
                                t.a = null, t.B = null, e || t.dispatchEvent("ready");
                                try { n.onreadystatechange = r } catch (i) {
                                    (t = t.b) && t.log(Qo, "Problem encountered resetting onreadystatechange: " + i.message, void 0)
                                }
                            }
                        }

                        function bs(t) { t.a && t.w && (t.a.ontimeout = null), t.s && (a.clearTimeout(t.s), t.s = null) }

                        function ws(t) { return t.a ? t.a.readyState : 0 }

                        function Es(t) { try { return 2 < ws(t) ? t.a.status : -1 } catch (e) { return -1 } }

                        function Ss(t, e) { return e + " [" + t.P + " " + t.l + " " + Es(t) + "]" }

                        function Cs(t) {
                            var e = Ms;
                            this.g = [], this.w = e, this.s = t || null, this.f = this.a = !1, this.c = void 0, this.u = this.B = this.i = !1, this.h = 0, this.b = null, this.l = 0
                        }

                        function xs(t, e, n) { t.a = !0, t.c = n, t.f = !e, As(t) }

                        function Ts(t) {
                            if (t.a) {
                                if (!t.u) throw new Rs(t);
                                t.u = !1
                            }
                        }

                        function ks(t, e, n, r) { t.g.push([e, n, r]), t.a && As(t) }

                        function Is(t) { return z(t.g, (function(t) { return p(t[1]) })) }

                        function As(t) {
                            if (t.h && t.a && Is(t)) {
                                var e = t.h,
                                    n = Ds[e];
                                n && (a.clearTimeout(n.a), delete Ds[e]), t.h = 0
                            }
                            t.b && (t.b.l--, delete t.b), e = t.c;
                            for (var r = n = !1; t.g.length && !t.i;) {
                                var i = t.g.shift(),
                                    o = i[0],
                                    s = i[1];
                                if (i = i[2], o = t.f ? s : o) try {
                                    var c = o.call(i || t.s, e);
                                    void 0 !== c && (t.f = t.f && (c == e || c instanceof Error), t.c = e = c), (O(e) || "function" == typeof a.Promise && e instanceof a.Promise) && (r = !0, t.i = !0)
                                } catch (l) { e = l, t.f = !0, Is(t) || (n = !0) }
                            }
                            t.c = e, r && (c = b(t.m, t, !0), r = b(t.m, t, !1), e instanceof Cs ? (ks(e, c, r), e.B = !0) : e.then(c, r)), n && (e = new Ns(e), Ds[e.a] = e, t.h = e.a)
                        }

                        function Rs() { N.call(this) }

                        function Os() { N.call(this) }

                        function Ns(t) { this.a = a.setTimeout(b(this.c, this), 0), this.b = t }(t = hs.prototype).Ka = function() { void 0 !== s && this.a && (this.h = "Timed out after " + this.g + "ms, aborting", is(this.b, Ss(this, this.h)), this.dispatchEvent("timeout"), this.abort(8)) }, t.abort = function() { this.a && this.c && (is(this.b, Ss(this, "Aborting")), this.c = !1, this.f = !0, this.a.abort(), this.f = !1, this.dispatchEvent("complete"), this.dispatchEvent("abort"), _s(this)) }, t.Ba = function() { this.a && (this.c && (this.c = !1, this.f = !0, this.a.abort(), this.f = !1), _s(this, !0)), hs.Za.Ba.call(this) }, t.Sb = function() { this.wa || (this.O || this.i || this.f ? vs(this) : this.Hc()) }, t.Hc = function() { vs(this) }, t.getResponse = function() {
                            try {
                                if (!this.a) return null;
                                if ("response" in this.a) return this.a.response;
                                switch (this.m) {
                                    case ds:
                                    case "text":
                                        return this.a.responseText;
                                    case "arraybuffer":
                                        if ("mozResponseArrayBuffer" in this.a) return this.a.mozResponseArrayBuffer
                                }
                                var t = this.b;
                                return t && t.log(Qo, "Response type " + this.m + " is not supported on this browser", void 0), null
                            } catch (e) { return is(this.b, "Can not get response: " + e.message), null }
                        }, Cs.prototype.cancel = function(t) {
                            if (this.a) this.c instanceof Cs && this.c.cancel();
                            else {
                                if (this.b) {
                                    var e = this.b;
                                    delete this.b, t ? e.cancel(t) : (e.l--, 0 >= e.l && e.cancel())
                                }
                                this.w ? this.w.call(this.s, this) : this.u = !0, this.a || (t = new Os(this), Ts(this), xs(this, !1, t))
                            }
                        }, Cs.prototype.m = function(t, e) { this.i = !1, xs(this, t, e) }, Cs.prototype.then = function(t, e, n) { var r, i, o = new ve((function(t, e) { r = t, i = e })); return ks(this, r, (function(t) { t instanceof Os ? o.cancel() : i(t) })), o.then(t, e, n) }, Cs.prototype.$goog_Thenable = !0, S(Rs, N), Rs.prototype.message = "Deferred has already fired", Rs.prototype.name = "AlreadyCalledError", S(Os, N), Os.prototype.message = "Deferred was canceled", Os.prototype.name = "CanceledError", Ns.prototype.c = function() { throw delete Ds[this.a], this.b };
                        var Ds = {};

                        function Ps(t) {
                            var e = {},
                                n = e.document || document,
                                r = St(t).toString(),
                                i = he(document, "SCRIPT"),
                                o = { Tb: i, Ka: void 0 },
                                s = new Cs(o),
                                u = null,
                                h = null != e.timeout ? e.timeout : 5e3;
                            return 0 < h && (u = window.setTimeout((function() {
                                    Ls(i, !0);
                                    var t = new Us(js, "Timeout reached for loading script " + r);
                                    Ts(s), xs(s, !1, t)
                                }), h), o.Ka = u), i.onload = i.onreadystatechange = function() { i.readyState && "loaded" != i.readyState && "complete" != i.readyState || (Ls(i, e.ud || !1, u), Ts(s), xs(s, !0, null)) }, i.onerror = function() {
                                    Ls(i, !0, u);
                                    var t = new Us(Fs, "Error while loading script " + r);
                                    Ts(s), xs(s, !1, t)
                                }, mt(o = e.attributes || {}, { type: "text/javascript", charset: "UTF-8" }), se(i, o),
                                function(t, e) { gt(t, "HTMLScriptElement"), t.src = St(e), null === l && (l = (e = (e = a.document).querySelector && e.querySelector("script[nonce]")) && (e = e.nonce || e.getAttribute("nonce")) && c.test(e) ? e : ""), (e = l) && t.setAttribute("nonce", e) }(i, t),
                                function(t) { var e; return (e = (t || document).getElementsByTagName("HEAD")) && 0 != e.length ? e[0] : t.documentElement }(n).appendChild(i), s
                        }

                        function Ms() {
                            if (this && this.Tb) {
                                var t = this.Tb;
                                t && "SCRIPT" == t.tagName && Ls(t, !0, this.Ka)
                            }
                        }

                        function Ls(t, e, n) { null != n && a.clearTimeout(n), t.onload = u, t.onerror = u, t.onreadystatechange = u, e && window.setTimeout((function() { t && t.parentNode && t.parentNode.removeChild(t) }), 0) }
                        var Fs = 0,
                            js = 1;

                        function Us(t, e) {
                            var n = "Jsloader error (code #" + t + ")";
                            e && (n += ": " + e), N.call(this, n), this.code = t
                        }

                        function Vs(t) { this.f = t }

                        function Bs(t, e, n) {
                            if (this.c = t, this.u = (t = e || {}).secureTokenEndpoint || "https://securetoken.googleapis.com/v1/token", this.m = t.secureTokenTimeout || Ws, this.g = pt(t.secureTokenHeaders || zs), this.h = t.firebaseEndpoint || "https://www.googleapis.com/identitytoolkit/v3/relyingparty/", this.l = t.identityPlatformEndpoint || "https://identitytoolkit.googleapis.com/v2/", this.i = t.firebaseTimeout || Gs, this.a = pt(t.firebaseHeaders || $s), n && (this.a["X-Client-Version"] = n, this.g["X-Client-Version"] = n), n = "Node" == yr(), !(n = a.XMLHttpRequest || n && i.a.INTERNAL.node && i.a.INTERNAL.node.XMLHttpRequest) && !gr()) throw new C("internal-error", "The XMLHttpRequest compatibility library was not found.");
                            this.f = void 0, this.f = gr() ? new os(self) : vr() ? new Vs(n) : new zo, this.b = null
                        }
                        S(Us, N), S(Vs, qo), Vs.prototype.a = function() { return new this.f }, Vs.prototype.b = function() { return {} };
                        var qs, Hs = "idToken",
                            Ws = new Lr(3e4, 6e4),
                            zs = { "Content-Type": "application/x-www-form-urlencoded" },
                            Gs = new Lr(3e4, 6e4),
                            $s = { "Content-Type": "application/json" };

                        function Ks(t, e) { e ? t.a["X-Firebase-Locale"] = e : delete t.a["X-Firebase-Locale"] }

                        function Ys(t, e) { e ? (t.a["X-Client-Version"] = e, t.g["X-Client-Version"] = e) : (delete t.a["X-Client-Version"], delete t.g["X-Client-Version"]) }

                        function Xs(t, e, n, r, i, o, s) {
                            (function() { var t = Sr(); return !((t = "Chrome" != br(t) ? null : (t = t.match(/\sChrome\/(\d+)/i)) && 2 == t.length ? parseInt(t[1], 10) : null) && 30 > t || Gt && ee && !(9 < ee)) })() || gr() ? t = b(t.w, t) : (qs || (qs = new ve((function(t, e) {
                                ! function(t, e) {
                                    ((window.gapi || {}).client || {}).request ? t() : (a[Zs] = function() {
                                        ((window.gapi || {}).client || {}).request ? t() : e(Error("CORS_UNSUPPORTED"))
                                    }, function(t, e) { ks(t, null, e, void 0) }(Ps(Ct(Qs, { onload: Zs })), (function() { e(Error("CORS_UNSUPPORTED")) })))
                                }(t, e)
                            }))), t = b(t.s, t)), t(e, n, r, i, o, s)
                        }
                        Bs.prototype.S = function() { return this.b }, Bs.prototype.w = function(t, e, n, r, i, o) {
                            if (gr() && (void 0 === a.fetch || void 0 === a.Headers || void 0 === a.Request)) throw new C("operation-not-supported-in-this-environment", "fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");
                            var s = new hs(this.f);
                            if (o) { s.g = Math.max(0, o); var c = setTimeout((function() { s.dispatchEvent("timeout") }), o) }
                            _n(s, "complete", (function() {
                                    c && clearTimeout(c);
                                    var t = null;
                                    try { t = JSON.parse(function(t) { try { return t.a ? t.a.responseText : "" } catch (e) { return is(t.b, "Can not get responseText: " + e.message), "" } }(this)) || null } catch (n) { t = null }
                                    e && e(t)
                                })), bn(s, "ready", (function() { c && clearTimeout(c), qe(this) })), bn(s, "timeout", (function() { c && clearTimeout(c), qe(this), e && e(null) })),
                                function(t, e, n, r, i) {
                                    if (t.a) throw Error("[goog.net.XhrIo] Object is active with another request=" + t.l + "; newUri=" + e);
                                    n = n ? n.toUpperCase() : "GET", t.l = e, t.h = "", t.P = n, t.N = !1, t.c = !0, t.a = t.D ? t.D.a() : Fo.a(), t.B = function(t) { return t.c || (t.c = t.b()) }(t.D ? t.D : Fo), t.a.onreadystatechange = b(t.Sb, t);
                                    try { is(t.b, Ss(t, "Opening Xhr")), t.O = !0, t.a.open(n, String(e), !0), t.O = !1 } catch (s) { return is(t.b, Ss(t, "Error opening Xhr: " + s.message)), void gs(t, s) }
                                    e = r || "";
                                    var o = new Tn(t.headers);
                                    i && function(t, e) {
                                        if (t.forEach && "function" == typeof t.forEach) t.forEach(e, void 0);
                                        else if (d(t) || "string" == typeof t) q(t, e, void 0);
                                        else
                                            for (var n = xn(t), r = Cn(t), i = r.length, o = 0; o < i; o++) e.call(void 0, r[o], n && n[o], t)
                                    }(i, (function(t, e) { o.set(e, t) })), i = function(t) {
                                        t: {
                                            for (var e = ms, n = t.length, r = "string" == typeof t ? t.split("") : t, i = 0; i < n; i++)
                                                if (i in r && e.call(void 0, r[i], i, t)) { e = i; break t }
                                            e = -1
                                        }
                                        return 0 > e ? null : "string" == typeof t ? t.charAt(e) : t[e]
                                    }(o.X()), r = a.FormData && e instanceof a.FormData, !G(fs, n) || i || r || o.set("Content-Type", "application/x-www-form-urlencoded;charset=utf-8"), o.forEach((function(t, e) { this.a.setRequestHeader(e, t) }), t), t.m && (t.a.responseType = t.m), "withCredentials" in t.a && t.a.withCredentials !== t.R && (t.a.withCredentials = t.R);
                                    try { bs(t), 0 < t.g && (t.w = function(t) { return Gt && re(9) && "number" == typeof t.timeout && void 0 !== t.ontimeout }(t.a), is(t.b, Ss(t, "Will abort after " + t.g + "ms if incomplete, xhr2 " + t.w)), t.w ? (t.a.timeout = t.g, t.a.ontimeout = b(t.Ka, t)) : t.s = En(t.Ka, t.g, t)), is(t.b, Ss(t, "Sending request")), t.i = !0, t.a.send(e), t.i = !1 } catch (s) { is(t.b, Ss(t, "Send error: " + s.message)), gs(t, s) }
                                }(s, t, n, r, i)
                        };
                        var Qs = new yt(bt, "https://apis.google.com/js/client.js?onload=%{onload}"),
                            Zs = "__fcb" + Math.floor(1e6 * Math.random()).toString();

                        function Js(t) { if ("string" != typeof(t = t.email) || !dr.test(t)) throw new C("invalid-email") }

                        function ta(t) { "email" in t && Js(t) }

                        function ea(t) { if (!t[Hs]) { if (t.mfaPendingCredential) throw new C("multi-factor-auth-required", null, pt(t)); throw new C("internal-error") } }

                        function na(t) { if (t.phoneNumber || t.temporaryProof) { if (!t.phoneNumber || !t.temporaryProof) throw new C("internal-error") } else { if (!t.sessionInfo) throw new C("missing-verification-id"); if (!t.code) throw new C("missing-verification-code") } }
                        Bs.prototype.s = function(t, e, n, r, i) {
                            var o = this;
                            qs.then((function() {
                                window.gapi.client.setApiKey(o.c);
                                var s = window.gapi.auth.getToken();
                                window.gapi.auth.setToken(null), window.gapi.client.request({ path: t, method: n, body: r, headers: i, authType: "none", callback: function(t) { window.gapi.auth.setToken(s), e && e(t) } })
                            })).o((function(t) { e && e({ error: { message: t && t.message || "CORS_UNSUPPORTED" } }) }))
                        }, Bs.prototype.vb = function() { return za(this, Da, {}) }, Bs.prototype.xb = function(t, e) { return za(this, Oa, { idToken: t, email: e }) }, Bs.prototype.yb = function(t, e) { return za(this, Na, { idToken: t, password: e }) };
                        var ra = { displayName: "DISPLAY_NAME", photoUrl: "PHOTO_URL" };

                        function ia(t) { if (!t.phoneVerificationInfo) throw new C("internal-error"); if (!t.phoneVerificationInfo.sessionInfo) throw new C("missing-verification-id"); if (!t.phoneVerificationInfo.code) throw new C("missing-verification-code") }

                        function oa(t) { if (!t.requestUri || !t.sessionId && !t.postBody && !t.pendingToken) throw new C("internal-error") }

                        function sa(t, e) { return e.oauthIdToken && e.providerId && 0 == e.providerId.indexOf("oidc.") && !e.pendingToken && (t.sessionId ? e.nonce = t.sessionId : t.postBody && Xn(t = new Gn(t.postBody), "nonce") && (e.nonce = t.get("nonce"))), e }

                        function aa(t) {
                            var e = null;
                            if (t.needConfirmation ? (t.code = "account-exists-with-different-credential", e = Bo(t)) : "FEDERATED_USER_ID_ALREADY_LINKED" == t.errorMessage ? (t.code = "credential-already-in-use", e = Bo(t)) : "EMAIL_EXISTS" == t.errorMessage ? (t.code = "email-already-in-use", e = Bo(t)) : t.errorMessage && (e = Ga(t.errorMessage)), e) throw e;
                            ea(t)
                        }

                        function ca(t, e) { return e.returnIdpCredential = !0, za(t, La, e) }

                        function la(t, e) { return e.returnIdpCredential = !0, za(t, ja, e) }

                        function ua(t, e) { return e.returnIdpCredential = !0, e.autoCreate = !1, za(t, Fa, e) }

                        function ha(t) { if (!t.oobCode) throw new C("invalid-action-code") }(t = Bs.prototype).zb = function(t, e) {
                            var n = { idToken: t },
                                r = [];
                            return ht(ra, (function(t, i) {
                                var o = e[i];
                                null === o ? r.push(t) : i in e && (n[i] = o)
                            })), r.length && (n.deleteAttribute = r), za(this, Oa, n)
                        }, t.rb = function(t, e) { return mt(t = { requestType: "PASSWORD_RESET", email: t }, e), za(this, Ta, t) }, t.sb = function(t, e) { return mt(t = { requestType: "EMAIL_SIGNIN", email: t }, e), za(this, Sa, t) }, t.qb = function(t, e) { return mt(t = { requestType: "VERIFY_EMAIL", idToken: t }, e), za(this, Ca, t) }, t.Ab = function(t, e, n) { return mt(t = { requestType: "VERIFY_AND_CHANGE_EMAIL", idToken: t, newEmail: e }, n), za(this, xa, t) }, t.cb = function(t) { return za(this, Ba, t) }, t.jb = function(t, e) { return za(this, Aa, { oobCode: t, newPassword: e }) }, t.Pa = function(t) { return za(this, pa, { oobCode: t }) }, t.fb = function(t) { return za(this, da, { oobCode: t }) };
                        var da = { endpoint: "setAccountInfo", A: ha, Y: "email", C: !0 },
                            pa = { endpoint: "resetPassword", A: ha, G: function(t) { var e = t.requestType; if (!e || !t.email && "EMAIL_SIGNIN" != e && "VERIFY_AND_CHANGE_EMAIL" != e) throw new C("internal-error") }, C: !0 },
                            fa = { endpoint: "signupNewUser", A: function(t) { if (Js(t), !t.password) throw new C("weak-password") }, G: ea, U: !0, C: !0 },
                            ma = { endpoint: "createAuthUri", C: !0 },
                            ga = { endpoint: "deleteAccount", M: ["idToken"] },
                            ya = { endpoint: "setAccountInfo", M: ["idToken", "deleteProvider"], A: function(t) { if ("array" != h(t.deleteProvider)) throw new C("internal-error") } },
                            va = { endpoint: "emailLinkSignin", M: ["email", "oobCode"], A: Js, G: ea, U: !0, C: !0 },
                            _a = { endpoint: "emailLinkSignin", M: ["idToken", "email", "oobCode"], A: Js, G: ea, U: !0 },
                            ba = { endpoint: "accounts/mfaEnrollment:finalize", M: ["idToken", "phoneVerificationInfo"], A: ia, G: ea, C: !0, La: !0 },
                            wa = { endpoint: "accounts/mfaSignIn:finalize", M: ["mfaPendingCredential", "phoneVerificationInfo"], A: ia, G: ea, C: !0, La: !0 },
                            Ea = { endpoint: "getAccountInfo" },
                            Sa = {
                                endpoint: "getOobConfirmationCode",
                                M: ["requestType"],
                                A: function(t) {
                                    if ("EMAIL_SIGNIN" != t.requestType) throw new C("internal-error");
                                    Js(t)
                                },
                                Y: "email",
                                C: !0
                            },
                            Ca = { endpoint: "getOobConfirmationCode", M: ["idToken", "requestType"], A: function(t) { if ("VERIFY_EMAIL" != t.requestType) throw new C("internal-error") }, Y: "email", C: !0 },
                            xa = { endpoint: "getOobConfirmationCode", M: ["idToken", "newEmail", "requestType"], A: function(t) { if ("VERIFY_AND_CHANGE_EMAIL" != t.requestType) throw new C("internal-error") }, Y: "email", C: !0 },
                            Ta = {
                                endpoint: "getOobConfirmationCode",
                                M: ["requestType"],
                                A: function(t) {
                                    if ("PASSWORD_RESET" != t.requestType) throw new C("internal-error");
                                    Js(t)
                                },
                                Y: "email",
                                C: !0
                            },
                            ka = { hb: !0, endpoint: "getProjectConfig", Rb: "GET" },
                            Ia = { hb: !0, endpoint: "getRecaptchaParam", Rb: "GET", G: function(t) { if (!t.recaptchaSiteKey) throw new C("internal-error") } },
                            Aa = { endpoint: "resetPassword", A: ha, Y: "email", C: !0 },
                            Ra = { endpoint: "sendVerificationCode", M: ["phoneNumber", "recaptchaToken"], Y: "sessionInfo", C: !0 },
                            Oa = { endpoint: "setAccountInfo", M: ["idToken"], A: ta, U: !0 },
                            Na = { endpoint: "setAccountInfo", M: ["idToken"], A: function(t) { if (ta(t), !t.password) throw new C("weak-password") }, G: ea, U: !0 },
                            Da = { endpoint: "signupNewUser", G: ea, U: !0, C: !0 },
                            Pa = { endpoint: "accounts/mfaEnrollment:start", M: ["idToken", "phoneEnrollmentInfo"], A: function(t) { if (!t.phoneEnrollmentInfo) throw new C("internal-error"); if (!t.phoneEnrollmentInfo.phoneNumber) throw new C("missing-phone-number"); if (!t.phoneEnrollmentInfo.recaptchaToken) throw new C("missing-app-credential") }, G: function(t) { if (!t.phoneSessionInfo || !t.phoneSessionInfo.sessionInfo) throw new C("internal-error") }, C: !0, La: !0 },
                            Ma = { endpoint: "accounts/mfaSignIn:start", M: ["mfaPendingCredential", "mfaEnrollmentId", "phoneSignInInfo"], A: function(t) { if (!t.phoneSignInInfo || !t.phoneSignInInfo.recaptchaToken) throw new C("missing-app-credential") }, G: function(t) { if (!t.phoneResponseInfo || !t.phoneResponseInfo.sessionInfo) throw new C("internal-error") }, C: !0, La: !0 },
                            La = { endpoint: "verifyAssertion", A: oa, Wa: sa, G: aa, U: !0, C: !0 },
                            Fa = {
                                endpoint: "verifyAssertion",
                                A: oa,
                                Wa: sa,
                                G: function(t) {
                                    if (t.errorMessage && "USER_NOT_FOUND" == t.errorMessage) throw new C("user-not-found");
                                    if (t.errorMessage) throw Ga(t.errorMessage);
                                    ea(t)
                                },
                                U: !0,
                                C: !0
                            },
                            ja = { endpoint: "verifyAssertion", A: function(t) { if (oa(t), !t.idToken) throw new C("internal-error") }, Wa: sa, G: aa, U: !0 },
                            Ua = { endpoint: "verifyCustomToken", A: function(t) { if (!t.token) throw new C("invalid-custom-token") }, G: ea, U: !0, C: !0 },
                            Va = { endpoint: "verifyPassword", A: function(t) { if (Js(t), !t.password) throw new C("wrong-password") }, G: ea, U: !0, C: !0 },
                            Ba = { endpoint: "verifyPhoneNumber", A: na, G: ea, C: !0 },
                            qa = {
                                endpoint: "verifyPhoneNumber",
                                A: function(t) {
                                    if (!t.idToken) throw new C("internal-error");
                                    na(t)
                                },
                                G: function(t) {
                                    if (t.temporaryProof) throw t.code = "credential-already-in-use", Bo(t);
                                    ea(t)
                                }
                            },
                            Ha = { Eb: { USER_NOT_FOUND: "user-not-found" }, endpoint: "verifyPhoneNumber", A: na, G: ea, C: !0 },
                            Wa = { endpoint: "accounts/mfaEnrollment:withdraw", M: ["idToken", "mfaEnrollmentId"], G: function(t) { if (!!t[Hs] ^ !!t.refreshToken) throw new C("internal-error") }, C: !0, La: !0 };

                        function za(t, e, n) {
                            if (! function(t, e) { if (!e || !e.length) return !0; if (!t) return !1; for (var n = 0; n < e.length; n++) { var r = t[e[n]]; if (null == r || "" === r) return !1 } return !0 }(n, e.M)) return Te(new C("internal-error"));
                            var r, i = !!e.La,
                                o = e.Rb || "POST";
                            return xe(n).then(e.A).then((function() {
                                return e.U && (n.returnSecureToken = !0), e.C && t.b && void 0 === n.tenantId && (n.tenantId = t.b),
                                    function(t, e, n, r, i, o, s) {
                                        var a = Ln(e + n);
                                        Pn(a, "key", t.c), s && Pn(a, "cb", E().toString());
                                        var c = "GET" == r;
                                        if (c)
                                            for (var l in i) i.hasOwnProperty(l) && Pn(a, l, i[l]);
                                        return new ve((function(e, n) { Xs(t, a.toString(), (function(t) { t ? t.error ? n($a(t, o || {})) : e(t) : n(new C("network-request-failed")) }), r, c ? void 0 : tr(Or(i)), t.a, t.i.get()) }))
                                    }(t, i ? t.l : t.h, e.endpoint, o, n, e.Eb, e.hb || !1)
                            })).then((function(t) { return r = t, e.Wa ? e.Wa(n, r) : r })).then(e.G).then((function() { if (!e.Y) return r; if (!(e.Y in r)) throw new C("internal-error"); return r[e.Y] }))
                        }

                        function Ga(t) { return $a({ error: { errors: [{ message: t }], code: 400, message: t } }) }

                        function $a(t, e) {
                            var n = (t.error && t.error.errors && t.error.errors[0] || {}).reason || "",
                                r = { keyInvalid: "invalid-api-key", ipRefererBlocked: "app-not-authorized" };
                            if (n = r[n] ? new C(r[n]) : null) return n;
                            for (var i in n = t.error && t.error.message || "", mt(r = { INVALID_CUSTOM_TOKEN: "invalid-custom-token", CREDENTIAL_MISMATCH: "custom-token-mismatch", MISSING_CUSTOM_TOKEN: "internal-error", INVALID_IDENTIFIER: "invalid-email", MISSING_CONTINUE_URI: "internal-error", INVALID_EMAIL: "invalid-email", INVALID_PASSWORD: "wrong-password", USER_DISABLED: "user-disabled", MISSING_PASSWORD: "internal-error", EMAIL_EXISTS: "email-already-in-use", PASSWORD_LOGIN_DISABLED: "operation-not-allowed", INVALID_IDP_RESPONSE: "invalid-credential", INVALID_PENDING_TOKEN: "invalid-credential", FEDERATED_USER_ID_ALREADY_LINKED: "credential-already-in-use", MISSING_OR_INVALID_NONCE: "missing-or-invalid-nonce", INVALID_MESSAGE_PAYLOAD: "invalid-message-payload", INVALID_RECIPIENT_EMAIL: "invalid-recipient-email", INVALID_SENDER: "invalid-sender", EMAIL_NOT_FOUND: "user-not-found", RESET_PASSWORD_EXCEED_LIMIT: "too-many-requests", EXPIRED_OOB_CODE: "expired-action-code", INVALID_OOB_CODE: "invalid-action-code", MISSING_OOB_CODE: "internal-error", INVALID_PROVIDER_ID: "invalid-provider-id", CREDENTIAL_TOO_OLD_LOGIN_AGAIN: "requires-recent-login", INVALID_ID_TOKEN: "invalid-user-token", TOKEN_EXPIRED: "user-token-expired", USER_NOT_FOUND: "user-token-expired", CORS_UNSUPPORTED: "cors-unsupported", DYNAMIC_LINK_NOT_ACTIVATED: "dynamic-link-not-activated", INVALID_APP_ID: "invalid-app-id", TOO_MANY_ATTEMPTS_TRY_LATER: "too-many-requests", WEAK_PASSWORD: "weak-password", OPERATION_NOT_ALLOWED: "operation-not-allowed", USER_CANCELLED: "user-cancelled", CAPTCHA_CHECK_FAILED: "captcha-check-failed", INVALID_APP_CREDENTIAL: "invalid-app-credential", INVALID_CODE: "invalid-verification-code", INVALID_PHONE_NUMBER: "invalid-phone-number", INVALID_SESSION_INFO: "invalid-verification-id", INVALID_TEMPORARY_PROOF: "invalid-credential", MISSING_APP_CREDENTIAL: "missing-app-credential", MISSING_CODE: "missing-verification-code", MISSING_PHONE_NUMBER: "missing-phone-number", MISSING_SESSION_INFO: "missing-verification-id", QUOTA_EXCEEDED: "quota-exceeded", SESSION_EXPIRED: "code-expired", REJECTED_CREDENTIAL: "rejected-credential", INVALID_CONTINUE_URI: "invalid-continue-uri", MISSING_ANDROID_PACKAGE_NAME: "missing-android-pkg-name", MISSING_IOS_BUNDLE_ID: "missing-ios-bundle-id", UNAUTHORIZED_DOMAIN: "unauthorized-continue-uri", INVALID_DYNAMIC_LINK_DOMAIN: "invalid-dynamic-link-domain", INVALID_OAUTH_CLIENT_ID: "invalid-oauth-client-id", INVALID_CERT_HASH: "invalid-cert-hash", UNSUPPORTED_TENANT_OPERATION: "unsupported-tenant-operation", INVALID_TENANT_ID: "invalid-tenant-id", TENANT_ID_MISMATCH: "tenant-id-mismatch", ADMIN_ONLY_OPERATION: "admin-restricted-operation", INVALID_MFA_PENDING_CREDENTIAL: "invalid-multi-factor-session", MFA_ENROLLMENT_NOT_FOUND: "multi-factor-info-not-found", MISSING_MFA_PENDING_CREDENTIAL: "missing-multi-factor-session", MISSING_MFA_ENROLLMENT_ID: "missing-multi-factor-info", EMAIL_CHANGE_NEEDS_VERIFICATION: "email-change-needs-verification", SECOND_FACTOR_EXISTS: "second-factor-already-in-use", SECOND_FACTOR_LIMIT_EXCEEDED: "maximum-second-factor-count-exceeded", UNSUPPORTED_FIRST_FACTOR: "unsupported-first-factor", UNVERIFIED_EMAIL: "unverified-email" }, e || {}), e = (e = n.match(/^[^\s]+\s*:\s*([\s\S]*)$/)) && 1 < e.length ? e[1] : void 0, r)
                                if (0 === n.indexOf(i)) return new C(r[i], e);
                            return !e && t && (e = Rr(t)), new C("internal-error", e)
                        }

                        function Ka(t) {
                            this.b = t, this.a = null, this.nb = function(t) {
                                return (Za || (Za = new ve((function(t, e) {
                                    function n() { Mr(), Cr("gapi.load")("gapi.iframes", { callback: t, ontimeout: function() { Mr(), e(Error("Network Error")) }, timeout: Xa.get() }) }
                                    if (Cr("gapi.iframes.Iframe")) t();
                                    else if (Cr("gapi.load")) n();
                                    else {
                                        var r = "__iframefcb" + Math.floor(1e6 * Math.random()).toString();
                                        a[r] = function() { Cr("gapi.load") ? n() : e(Error("Network Error")) }, xe(Ps(r = Ct(Ya, { onload: r }))).o((function() { e(Error("Network Error")) }))
                                    }
                                })).o((function(t) { throw Za = null, t })))).then((function() {
                                    return new ve((function(e, n) {
                                        Cr("gapi.iframes.getContext")().open({ where: document.body, url: t.b, messageHandlersFilter: Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"), attributes: { style: { position: "absolute", top: "-100px", width: "1px", height: "1px" } }, dontclear: !0 }, (function(r) {
                                            function i() { clearTimeout(o), e() }
                                            t.a = r, t.a.restyle({ setHideOnLeave: !1 });
                                            var o = setTimeout((function() { n(Error("Network Error")) }), Qa.get());
                                            r.ping(i).then(i, (function() { n(Error("Network Error")) }))
                                        }))
                                    }))
                                }))
                            }(this)
                        }
                        var Ya = new yt(bt, "https://apis.google.com/js/api.js?onload=%{onload}"),
                            Xa = new Lr(3e4, 6e4),
                            Qa = new Lr(5e3, 15e3),
                            Za = null;

                        function Ja(t, e, n) { this.i = t, this.g = e, this.h = n, this.f = null, this.a = Fn(this.i, "/__/auth/iframe"), Pn(this.a, "apiKey", this.g), Pn(this.a, "appName", this.h), this.b = null, this.c = [] }

                        function tc(t, e, n, r, i) { this.s = t, this.m = e, this.c = n, this.u = r, this.i = this.g = this.l = null, this.a = i, this.h = this.f = null }

                        function ec(t) { try { return i.a.app(t).auth().Ea() } catch (e) { return [] } }

                        function nc(t, e, n, r, i) { this.u = t, this.f = e, this.b = n, this.c = r || null, this.h = i || null, this.m = this.s = this.w = null, this.g = [], this.l = this.a = null }

                        function rc(t) {
                            var e = sr();
                            return function(t) { return za(t, ka, {}).then((function(t) { return t.authorizedDomains || [] })) }(t).then((function(t) {
                                t: {
                                    var n = Ln(e),
                                        r = n.f;n = n.b;
                                    for (var i = 0; i < t.length; i++) {
                                        var o = t[i],
                                            s = n,
                                            a = r;
                                        if (0 == o.indexOf("chrome-extension://") ? s = Ln(o).b == s && "chrome-extension" == a : "http" != a && "https" != a ? s = !1 : hr.test(o) ? s = s == o : (o = o.split(".").join("\\."), s = new RegExp("^(.+\\." + o + "|" + o + ")$", "i").test(s)), s) { t = !0; break t }
                                    }
                                    t = !1
                                }
                                if (!t) throw new Uo(sr())
                            }))
                        }

                        function ic(t) {
                            return t.l ? t.l : (t.l = pr().then((function() {
                                if (!t.s) {
                                    var e = t.c,
                                        n = t.h,
                                        r = ec(t.b),
                                        i = new Ja(t.u, t.f, t.b);
                                    i.f = e, i.b = n, i.c = X(r || []), t.s = i.toString()
                                }
                                t.i = new Ka(t.s),
                                    function(t) { if (!t.i) throw Error("IfcHandler must be initialized!");! function(t, e) { t.nb.then((function() { t.a.register("authEvent", e, Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER")) })) }(t.i, (function(e) { var n = {}; if (e && e.authEvent) { var r = !1; for (e = Mo(e.authEvent), n = 0; n < t.g.length; n++) r = t.g[n](e) || r; return (n = {}).status = r ? "ACK" : "ERROR", xe(n) } return n.status = "ERROR", xe(n) })) }(t)
                            })), t.l)
                        }

                        function oc(t) { return t.m || (t.w = t.c ? Er(t.c, ec(t.b)) : null, t.m = new Bs(t.f, R(t.h), t.w)), t.m }

                        function sc(t, e, n, r, i, o, s, a, c, l, u) { return (t = new tc(t, e, n, r, i)).l = o, t.g = s, t.i = a, t.b = pt(c || null), t.f = l, t.ub(u).toString() }

                        function ac(t) {
                            if (this.a = t || i.a.INTERNAL.reactNative && i.a.INTERNAL.reactNative.AsyncStorage, !this.a) throw new C("internal-error", "The React Native compatibility library was not found.");
                            this.type = "asyncStorage"
                        }

                        function cc(t) { this.b = t, this.a = {}, this.f = b(this.c, this) }
                        Ja.prototype.toString = function() { return this.f ? Pn(this.a, "v", this.f) : Yn(this.a.a, "v"), this.b ? Pn(this.a, "eid", this.b) : Yn(this.a.a, "eid"), this.c.length ? Pn(this.a, "fw", this.c.join(",")) : Yn(this.a.a, "fw"), this.a.toString() }, tc.prototype.ub = function(t) { return this.h = t, this }, tc.prototype.toString = function() {
                            var t = Fn(this.s, "/__/auth/handler");
                            if (Pn(t, "apiKey", this.m), Pn(t, "appName", this.c), Pn(t, "authType", this.u), this.a.isOAuthProvider) {
                                var e = this.a;
                                try { var n = i.a.app(this.c).auth().ja() } catch (c) { n = null }
                                for (var r in e.kb = n, Pn(t, "providerId", this.a.providerId), n = Or((e = this.a).Fb)) n[r] = n[r].toString();
                                r = e.Oc, n = pt(n);
                                for (var o = 0; o < r.length; o++) {
                                    var s = r[o];
                                    s in n && delete n[s]
                                }
                                e.lb && e.kb && !n[e.lb] && (n[e.lb] = e.kb), dt(n) || Pn(t, "customParameters", Rr(n))
                            }
                            if ("function" == typeof this.a.Nb && (e = this.a.Nb()).length && Pn(t, "scopes", e.join(",")), this.l ? Pn(t, "redirectUrl", this.l) : Yn(t.a, "redirectUrl"), this.g ? Pn(t, "eventId", this.g) : Yn(t.a, "eventId"), this.i ? Pn(t, "v", this.i) : Yn(t.a, "v"), this.b)
                                for (var a in this.b) this.b.hasOwnProperty(a) && !Mn(t, a) && Pn(t, a, this.b[a]);
                            return this.h ? Pn(t, "tid", this.h) : Yn(t.a, "tid"), this.f ? Pn(t, "eid", this.f) : Yn(t.a, "eid"), (a = ec(this.c)).length && Pn(t, "fw", a.join(",")), t.toString()
                        }, (t = nc.prototype).Lb = function(t, e, n) {
                            var r = new C("popup-closed-by-user"),
                                i = new C("web-storage-unsupported"),
                                o = this,
                                s = !1;
                            return this.ka().then((function() {
                                (function(t) { var e = { type: "webStorageSupport" }; return ic(t).then((function() { return function(t, e) { return t.nb.then((function() { return new ve((function(n) { t.a.send(e.type, e, n, Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER")) })) })) }(t.i, e) })).then((function(t) { if (t && t.length && void 0 !== t[0].webStorageSupport) return t[0].webStorageSupport; throw Error() })) })(o).then((function(n) { n || (t && lr(t), e(i), s = !0) }))
                            })).o((function() {})).then((function() {
                                if (!s) return function(t) {
                                    return new ve((function(e) {
                                        return function n() {
                                            Sn(2e3).then((function() {
                                                if (t && !t.closed) return n();
                                                e()
                                            }))
                                        }()
                                    }))
                                }(t)
                            })).then((function() { if (!s) return Sn(n).then((function() { e(r) })) }))
                        }, t.Ub = function() { var t = Sr(); return !Ar(t) && !Pr(t) }, t.Qb = function() { return !1 }, t.Jb = function(t, e, n, r, i, o, s, a) {
                            if (!t) return Te(new C("popup-blocked"));
                            if (s && !Ar()) return this.ka().o((function(e) { lr(t), i(e) })), r(), xe();
                            this.a || (this.a = rc(oc(this)));
                            var c = this;
                            return this.a.then((function() { var e = c.ka().o((function(e) { throw lr(t), i(e), e })); return r(), e })).then((function() { Do(n), s || ar(sc(c.u, c.f, c.b, e, n, null, o, c.c, void 0, c.h, a), t) })).o((function(t) { throw "auth/network-request-failed" == t.code && (c.a = null), t }))
                        }, t.Kb = function(t, e, n, r) { this.a || (this.a = rc(oc(this))); var i = this; return this.a.then((function() { Do(e), ar(sc(i.u, i.f, i.b, t, e, sr(), n, i.c, void 0, i.h, r)) })).o((function(t) { throw "auth/network-request-failed" == t.code && (i.a = null), t })) }, t.ka = function() { var t = this; return ic(this).then((function() { return t.i.nb })).o((function() { throw t.a = null, new C("network-request-failed") })) }, t.Xb = function() { return !0 }, t.Ca = function(t) { this.g.push(t) }, t.Qa = function(t) { K(this.g, (function(e) { return e == t })) }, (t = ac.prototype).get = function(t) { return xe(this.a.getItem(t)).then((function(t) { return t && Nr(t) })) }, t.set = function(t, e) { return xe(this.a.setItem(t, Rr(e))) }, t.T = function(t) { return xe(this.a.removeItem(t)) }, t.ba = function() {}, t.ha = function() {};
                        var lc, uc = [];

                        function hc(t, e, n) { dt(t.a) && t.b.addEventListener("message", t.f), void 0 === t.a[e] && (t.a[e] = []), t.a[e].push(n) }

                        function dc(t) { this.a = t }

                        function pc(t) { this.c = t, this.b = !1, this.a = [] }

                        function fc(t, e, n, r) {
                            var i, o, s, a, c = n || {},
                                l = null;
                            if (t.b) return Te(Error("connection_unavailable"));
                            var u = r ? 800 : 50,
                                h = "undefined" != typeof MessageChannel ? new MessageChannel : null;
                            return new ve((function(n, r) { h ? (i = Math.floor(Math.random() * Math.pow(10, 20)).toString(), h.port1.start(), s = setTimeout((function() { r(Error("unsupported_event")) }), u), t.a.push(l = { messageChannel: h, onMessage: o = function(t) { t.data.eventId === i && ("ack" === t.data.status ? (clearTimeout(s), a = setTimeout((function() { r(Error("timeout")) }), 3e3)) : "done" === t.data.status ? (clearTimeout(a), void 0 !== t.data.response ? n(t.data.response) : r(Error("unknown_error"))) : (clearTimeout(s), clearTimeout(a), r(Error("invalid_response")))) } }), h.port1.addEventListener("message", o), t.c.postMessage({ eventType: e, eventId: i, data: c }, [h.port2])) : r(Error("connection_unavailable")) })).then((function(e) { return mc(t, l), e })).o((function(e) { throw mc(t, l), e }))
                        }

                        function mc(t, e) {
                            if (e) {
                                var n = e.messageChannel;
                                n && (n.port1.removeEventListener("message", e.onMessage), n.port1.close()), K(t.a, (function(t) { return t == e }))
                            }
                        }

                        function gc() {
                            if (!vc()) throw new C("web-storage-unsupported");
                            this.c = {}, this.a = [], this.b = 0, this.u = a.indexedDB, this.type = "indexedDB", this.g = this.l = this.f = this.i = null, this.s = !1, this.h = null;
                            var t = this;
                            gr() && self ? (this.l = function() {
                                var t = gr() ? self : null;
                                if (q(uc, (function(n) { n.b == t && (e = n) })), !e) {
                                    var e = new cc(t);
                                    uc.push(e)
                                }
                                return e
                            }(), hc(this.l, "keyChanged", (function(e, n) { return Sc(t).then((function(e) { return 0 < e.length && q(t.a, (function(t) { t(e) })), { keyProcessed: G(e, n.key) } })) })), hc(this.l, "ping", (function() { return xe(["keyChanged"]) }))) : function() { var t = a.navigator; return t && t.serviceWorker ? xe().then((function() { return t.serviceWorker.ready })).then((function(t) { return t.active || null })).o((function() { return null })) : xe(null) }().then((function(e) {
                                (t.h = e) && (t.g = new pc(new dc(e)), fc(t.g, "ping", null, !0).then((function(e) { e[0].fulfilled && G(e[0].value, "keyChanged") && (t.s = !0) })).o((function() {})))
                            }))
                        }

                        function yc(t) {
                            return t.m || (t.m = function t(e) {
                                return new ve((function(n, r) {
                                    var i = e.u.open("firebaseLocalStorageDb", 1);
                                    i.onerror = function(t) {
                                        try { t.preventDefault() } catch (e) {}
                                        r(Error(t.target.error))
                                    }, i.onupgradeneeded = function(t) { t = t.target.result; try { t.createObjectStore("firebaseLocalStorage", { keyPath: "fbase_key" }) } catch (e) { r(e) } }, i.onsuccess = function(i) {
                                        (i = i.target.result).objectStoreNames.contains("firebaseLocalStorage") ? n(i) : function(t) {
                                            return new ve((function(e, n) {
                                                var r = t.u.deleteDatabase("firebaseLocalStorageDb");
                                                r.onsuccess = function() { e() }, r.onerror = function(t) { n(Error(t.target.error)) }
                                            }))
                                        }(e).then((function() { return t(e) })).then((function(t) { n(t) })).o((function(t) { r(t) }))
                                    }
                                }))
                            }(t)), t.m
                        }

                        function vc() { try { return !!a.indexedDB } catch (Wt) { return !1 } }

                        function _c(t) { return t.objectStore("firebaseLocalStorage") }

                        function bc(t, e) { return t.transaction(["firebaseLocalStorage"], e ? "readwrite" : "readonly") }

                        function wc(t) { return new ve((function(e, n) { t.onsuccess = function(t) { t && t.target ? e(t.target.result) : e() }, t.onerror = function(t) { n(t.target.error) } })) }

                        function Ec(t, e) { return t.g && t.h && function() { var t = a.navigator; return t && t.serviceWorker && t.serviceWorker.controller || null }() === t.h ? fc(t.g, "keyChanged", { key: e }, t.s).then((function() {})).o((function() {})) : xe() }

                        function Sc(t) {
                            return yc(t).then((function(t) {
                                var e = _c(bc(t, !1));
                                return e.getAll ? wc(e.getAll()) : new ve((function(t, n) {
                                    var r = [],
                                        i = e.openCursor();
                                    i.onsuccess = function(e) {
                                        (e = e.target.result) ? (r.push(e.value), e.continue()) : t(r)
                                    }, i.onerror = function(t) { n(t.target.error) }
                                }))
                            })).then((function(e) {
                                var n = {},
                                    r = [];
                                if (0 == t.b) {
                                    for (r = 0; r < e.length; r++) n[e[r].fbase_key] = e[r].value;
                                    r = function t(e, n) { var r, i = []; for (r in e) r in n ? typeof e[r] != typeof n[r] ? i.push(r) : "object" == typeof e[r] && null != e[r] && null != n[r] ? 0 < t(e[r], n[r]).length && i.push(r) : e[r] !== n[r] && i.push(r) : i.push(r); for (r in n) r in e || i.push(r); return i }(t.c, n), t.c = n
                                }
                                return r
                            }))
                        }

                        function Cc(t) { t.i && t.i.cancel("STOP_EVENT"), t.f && (clearTimeout(t.f), t.f = null) }

                        function xc(t) {
                            var e = this,
                                n = null;
                            this.a = [], this.type = "indexedDB", this.c = t, this.b = xe().then((function() {
                                if (vc()) {
                                    var t = Dr(),
                                        r = "__sak" + t;
                                    return lc || (lc = new gc), (n = lc).set(r, t).then((function() { return n.get(r) })).then((function(e) { if (e !== t) throw Error("indexedDB not supported!"); return n.T(r) })).then((function() { return n })).o((function() { return e.c }))
                                }
                                return e.c
                            })).then((function(t) { return e.type = t.type, t.ba((function(t) { q(e.a, (function(e) { e(t) })) })), t }))
                        }

                        function Tc() { this.a = {}, this.type = "inMemory" }

                        function kc() {
                            if (! function() { var t = "Node" == yr(); if (!(t = Ic() || t && i.a.INTERNAL.node && i.a.INTERNAL.node.localStorage)) return !1; try { return t.setItem("__sak", "1"), t.removeItem("__sak"), !0 } catch (e) { return !1 } }()) { if ("Node" == yr()) throw new C("internal-error", "The LocalStorage compatibility library was not found."); throw new C("web-storage-unsupported") }
                            this.a = Ic() || i.a.INTERNAL.node.localStorage, this.type = "localStorage"
                        }

                        function Ic() {
                            try {
                                var t = a.localStorage,
                                    e = Dr();
                                return t && (t.setItem(e, "1"), t.removeItem(e)), t
                            } catch (n) { return null }
                        }

                        function Ac() { this.type = "nullStorage" }

                        function Rc() {
                            if (! function() { var t = "Node" == yr(); if (!(t = Oc() || t && i.a.INTERNAL.node && i.a.INTERNAL.node.sessionStorage)) return !1; try { return t.setItem("__sak", "1"), t.removeItem("__sak"), !0 } catch (e) { return !1 } }()) { if ("Node" == yr()) throw new C("internal-error", "The SessionStorage compatibility library was not found."); throw new C("web-storage-unsupported") }
                            this.a = Oc() || i.a.INTERNAL.node.sessionStorage, this.type = "sessionStorage"
                        }

                        function Oc() {
                            try {
                                var t = a.sessionStorage,
                                    e = Dr();
                                return t && (t.setItem(e, "1"), t.removeItem(e)), t
                            } catch (n) { return null }
                        }

                        function Nc() {
                            var t = {};
                            t.Browser = Mc, t.Node = Lc, t.ReactNative = Fc, t.Worker = jc, this.a = t[yr()]
                        }
                        cc.prototype.c = function(t) {
                            var e = t.data.eventType,
                                n = t.data.eventId,
                                r = this.a[e];
                            if (r && 0 < r.length) {
                                t.ports[0].postMessage({ status: "ack", eventId: n, eventType: e, response: null });
                                var i = [];
                                q(r, (function(e) { i.push(xe().then((function() { return e(t.origin, t.data.data) }))) })), Ie(i).then((function(r) {
                                    var i = [];
                                    q(r, (function(t) { i.push({ fulfilled: t.Mb, value: t.value, reason: t.reason ? t.reason.message : void 0 }) })), q(i, (function(t) { for (var e in t) void 0 === t[e] && delete t[e] })), t.ports[0].postMessage({ status: "done", eventId: n, eventType: e, response: i })
                                }))
                            }
                        }, dc.prototype.postMessage = function(t, e) { this.a.postMessage(t, e) }, pc.prototype.close = function() {
                            for (; 0 < this.a.length;) mc(this, this.a[0]);
                            this.b = !0
                        }, (t = gc.prototype).set = function(t, e) {
                            var n, r = !1,
                                i = this;
                            return yc(this).then((function(e) { return wc((e = _c(bc(n = e, !0))).get(t)) })).then((function(o) { var s = _c(bc(n, !0)); return o ? (o.value = e, wc(s.put(o))) : (i.b++, r = !0, (o = {}).fbase_key = t, o.value = e, wc(s.add(o))) })).then((function() { return i.c[t] = e, Ec(i, t) })).ma((function() { r && i.b-- }))
                        }, t.get = function(t) { return yc(this).then((function(e) { return wc(_c(bc(e, !1)).get(t)) })).then((function(t) { return t && t.value })) }, t.T = function(t) {
                            var e = !1,
                                n = this;
                            return yc(this).then((function(r) { return e = !0, n.b++, wc(_c(bc(r, !0)).delete(t)) })).then((function() { return delete n.c[t], Ec(n, t) })).ma((function() { e && n.b-- }))
                        }, t.ba = function(t) {
                            0 == this.a.length && function(t) {
                                Cc(t),
                                    function e() { t.f = setTimeout((function() { t.i = Sc(t).then((function(e) { 0 < e.length && q(t.a, (function(t) { t(e) })) })).then((function() { e() })).o((function(t) { "STOP_EVENT" != t.message && e() })) }), 800) }()
                            }(this), this.a.push(t)
                        }, t.ha = function(t) { K(this.a, (function(e) { return e == t })), 0 == this.a.length && Cc(this) }, (t = xc.prototype).get = function(t) { return this.b.then((function(e) { return e.get(t) })) }, t.set = function(t, e) { return this.b.then((function(n) { return n.set(t, e) })) }, t.T = function(t) { return this.b.then((function(e) { return e.T(t) })) }, t.ba = function(t) { this.a.push(t) }, t.ha = function(t) { K(this.a, (function(e) { return e == t })) }, (t = Tc.prototype).get = function(t) { return xe(this.a[t]) }, t.set = function(t, e) { return this.a[t] = e, xe() }, t.T = function(t) { return delete this.a[t], xe() }, t.ba = function() {}, t.ha = function() {}, (t = kc.prototype).get = function(t) { var e = this; return xe().then((function() { return Nr(e.a.getItem(t)) })) }, t.set = function(t, e) {
                            var n = this;
                            return xe().then((function() {
                                var r = Rr(e);
                                null === r ? n.T(t) : n.a.setItem(t, r)
                            }))
                        }, t.T = function(t) { var e = this; return xe().then((function() { e.a.removeItem(t) })) }, t.ba = function(t) { a.window && sn(a.window, "storage", t) }, t.ha = function(t) { a.window && ln(a.window, "storage", t) }, (t = Ac.prototype).get = function() { return xe(null) }, t.set = function() { return xe() }, t.T = function() { return xe() }, t.ba = function() {}, t.ha = function() {}, (t = Rc.prototype).get = function(t) { var e = this; return xe().then((function() { return Nr(e.a.getItem(t)) })) }, t.set = function(t, e) {
                            var n = this;
                            return xe().then((function() {
                                var r = Rr(e);
                                null === r ? n.T(t) : n.a.setItem(t, r)
                            }))
                        }, t.T = function(t) { var e = this; return xe().then((function() { e.a.removeItem(t) })) }, t.ba = function() {}, t.ha = function() {};
                        var Dc, Pc, Mc = { F: kc, $a: Rc },
                            Lc = { F: kc, $a: Rc },
                            Fc = { F: ac, $a: Ac },
                            jc = { F: kc, $a: Ac },
                            Uc = { od: "local", NONE: "none", qd: "session" };

                        function Vc() {
                            var t = !(Pr(Sr()) || !mr()),
                                e = Ar(),
                                n = xr();
                            this.m = t, this.h = e, this.l = n, this.a = {}, Dc || (Dc = new Nc), t = Dc;
                            try { this.g = !or() && Ur() || !a.indexedDB ? new t.a.F : new xc(gr() ? new Tc : new t.a.F) } catch (r) { this.g = new Tc, this.h = !0 }
                            try { this.i = new t.a.$a } catch (r) { this.i = new Tc }
                            this.u = new Tc, this.f = b(this.Vb, this), this.b = {}
                        }

                        function Bc() { return Pc || (Pc = new Vc), Pc }

                        function qc(t, e) {
                            switch (e) {
                                case "session":
                                    return t.i;
                                case "none":
                                    return t.u;
                                default:
                                    return t.g
                            }
                        }

                        function Hc(t, e) { return "firebase:" + t.name + (e ? ":" + e : "") }

                        function Wc(t, e, n) { return n = Hc(e, n), "local" == e.F && (t.b[n] = null), qc(t, e.F).T(n) }

                        function zc(t) { t.c && (clearInterval(t.c), t.c = null) }

                        function Gc(t) { this.a = t, this.b = Bc() }(t = Vc.prototype).get = function(t, e) { return qc(this, t.F).get(Hc(t, e)) }, t.set = function(t, e, n) {
                            var r = Hc(t, n),
                                i = this,
                                o = qc(this, t.F);
                            return o.set(r, e).then((function() { return o.get(r) })).then((function(e) { "local" == t.F && (i.b[r] = e) }))
                        }, t.addListener = function(t, e, n) {
                            t = Hc(t, e), this.l && (this.b[t] = a.localStorage.getItem(t)), dt(this.a) && (qc(this, "local").ba(this.f), this.h || (or() || !Ur()) && a.indexedDB || !this.l || function(t) {
                                zc(t), t.c = setInterval((function() {
                                    for (var e in t.a) {
                                        var n = a.localStorage.getItem(e),
                                            r = t.b[e];
                                        n != r && (t.b[e] = n, n = new Ke({ type: "storage", key: e, target: window, oldValue: r, newValue: n, a: !0 }), t.Vb(n))
                                    }
                                }), 1e3)
                            }(this)), this.a[t] || (this.a[t] = []), this.a[t].push(n)
                        }, t.removeListener = function(t, e, n) { t = Hc(t, e), this.a[t] && (K(this.a[t], (function(t) { return t == n })), 0 == this.a[t].length && delete this.a[t]), dt(this.a) && (qc(this, "local").ha(this.f), zc(this)) }, t.Vb = function(t) {
                            if (t && t.f) {
                                var e = t.a.key;
                                if (null == e)
                                    for (var n in this.a) {
                                        var r = this.b[n];
                                        void 0 === r && (r = null);
                                        var i = a.localStorage.getItem(n);
                                        i !== r && (this.b[n] = i, this.ib(n))
                                    } else if (0 == e.indexOf("firebase:") && this.a[e]) {
                                        if (void 0 !== t.a.a ? qc(this, "local").ha(this.f) : zc(this), this.m)
                                            if (n = a.localStorage.getItem(e), (r = t.a.newValue) !== n) null !== r ? a.localStorage.setItem(e, r) : a.localStorage.removeItem(e);
                                            else if (this.b[e] === r && void 0 === t.a.a) return;
                                        var o = this;
                                        n = function() { void 0 === t.a.a && o.b[e] === a.localStorage.getItem(e) || (o.b[e] = a.localStorage.getItem(e), o.ib(e)) }, Gt && ee && 10 == ee && a.localStorage.getItem(e) !== t.a.newValue && t.a.newValue !== t.a.oldValue ? setTimeout(n, 10) : n()
                                    }
                            } else q(t, b(this.ib, this))
                        }, t.ib = function(t) { this.a[t] && q(this.a[t], (function(t) { t() })) };
                        var $c, Kc = { name: "authEvent", F: "local" };

                        function Yc() { this.a = Bc() }

                        function Xc(t, e) { this.b = Qc, this.f = a.Uint8Array ? new Uint8Array(this.b) : Array(this.b), this.g = this.c = 0, this.a = [], this.i = t, this.h = e, this.l = a.Int32Array ? new Int32Array(64) : Array(64), void 0 === $c && ($c = a.Int32Array ? new Int32Array(il) : il), this.reset() }
                        S(Xc, (function() { this.b = -1 }));
                        for (var Qc = 64, Zc = Qc - 1, Jc = [], tl = 0; tl < Zc; tl++) Jc[tl] = 0;
                        var el = Y(128, Jc);

                        function nl(t) {
                            for (var e = t.f, n = t.l, r = 0, i = 0; i < e.length;) n[r++] = e[i] << 24 | e[i + 1] << 16 | e[i + 2] << 8 | e[i + 3], i = 4 * r;
                            for (e = 16; 64 > e; e++) {
                                var o = (0 | n[e - 16]) + (((i = 0 | n[e - 15]) >>> 7 | i << 25) ^ (i >>> 18 | i << 14) ^ i >>> 3) | 0,
                                    s = (0 | n[e - 7]) + (((r = 0 | n[e - 2]) >>> 17 | r << 15) ^ (r >>> 19 | r << 13) ^ r >>> 10) | 0;
                                n[e] = o + s | 0
                            }
                            r = 0 | t.a[0], i = 0 | t.a[1];
                            var a = 0 | t.a[2],
                                c = 0 | t.a[3],
                                l = 0 | t.a[4],
                                u = 0 | t.a[5],
                                h = 0 | t.a[6];
                            for (o = 0 | t.a[7], e = 0; 64 > e; e++) {
                                var d = ((r >>> 2 | r << 30) ^ (r >>> 13 | r << 19) ^ (r >>> 22 | r << 10)) + (r & i ^ r & a ^ i & a) | 0;
                                s = (o = o + ((l >>> 6 | l << 26) ^ (l >>> 11 | l << 21) ^ (l >>> 25 | l << 7)) | 0) + ((s = (s = l & u ^ ~l & h) + (0 | $c[e]) | 0) + (0 | n[e]) | 0) | 0, o = h, h = u, u = l, l = c + s | 0, c = a, a = i, i = r, r = s + d | 0
                            }
                            t.a[0] = t.a[0] + r | 0, t.a[1] = t.a[1] + i | 0, t.a[2] = t.a[2] + a | 0, t.a[3] = t.a[3] + c | 0, t.a[4] = t.a[4] + l | 0, t.a[5] = t.a[5] + u | 0, t.a[6] = t.a[6] + h | 0, t.a[7] = t.a[7] + o | 0
                        }

                        function rl(t, e, n) {
                            void 0 === n && (n = e.length);
                            var r = 0,
                                i = t.c;
                            if ("string" == typeof e)
                                for (; r < n;) t.f[i++] = e.charCodeAt(r++), i == t.b && (nl(t), i = 0);
                            else {
                                if (!d(e)) throw Error("message must be string or array");
                                for (; r < n;) {
                                    var o = e[r++];
                                    if (!("number" == typeof o && 0 <= o && 255 >= o && o == (0 | o))) throw Error("message must be a byte array");
                                    t.f[i++] = o, i == t.b && (nl(t), i = 0)
                                }
                            }
                            t.c = i, t.g += n
                        }
                        Xc.prototype.reset = function() { this.g = this.c = 0, this.a = a.Int32Array ? new Int32Array(this.h) : X(this.h) };
                        var il = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298];

                        function ol() { Xc.call(this, 8, sl) }
                        S(ol, Xc);
                        var sl = [1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225];

                        function al(t, e, n, r, i) { this.u = t, this.i = e, this.l = n, this.m = r || null, this.s = i || null, this.h = e + ":" + n, this.w = new Yc, this.g = new Gc(this.h), this.f = null, this.b = [], this.a = this.c = null }

                        function cl(t) { return new C("invalid-cordova-configuration", t) }

                        function ll(t, e) { for (var n = 0; n < t.b.length; n++) try { t.b[n](e) } catch (r) {} }

                        function ul(t) {
                            return t.f || (t.f = t.ka().then((function() {
                                return new ve((function(e) {
                                    t.Ca((function n(r) { return e(r), t.Qa(n), !1 })),
                                        function(t) {
                                            function e(e) {
                                                r = !0, i && i.cancel(), hl(t).then((function(r) {
                                                    var i = n;
                                                    if (r && e && e.url) { var o = null; - 1 != (i = Zi(e.url)).indexOf("/__/auth/callback") && (o = (o = "object" == typeof(o = Nr(Mn(o = Ln(i), "firebaseError") || null)) ? x(o) : null) ? new Po(r.c, r.b, null, null, o, null, r.S()) : new Po(r.c, r.b, i, r.f, null, null, r.S())), i = o || n }
                                                    ll(t, i)
                                                }))
                                            }
                                            var n = new Po("unknown", null, null, null, new C("no-auth-event")),
                                                r = !1,
                                                i = Sn(500).then((function() { return hl(t).then((function() { r || ll(t, n) })) })),
                                                o = a.handleOpenURL;
                                            a.handleOpenURL = function(t) { if (0 == t.toLowerCase().indexOf(Cr("BuildInfo.packageName", a).toLowerCase() + "://") && e({ url: t }), "function" == typeof o) try { o(t) } catch (n) { console.error(n) } }, jo || (jo = new Lo),
                                                function(t) {
                                                    var e = jo;
                                                    e.a.push(t), e.b || (e.b = function(t) { for (var n = 0; n < e.a.length; n++) e.a[n](t) }, "function" == typeof(t = Cr("universalLinks.subscribe", a)) && t(null, e.b))
                                                }(e)
                                        }(t)
                                }))
                            }))), t.f
                        }

                        function hl(t) { var e = null; return function(t) { return t.b.get(Kc, t.a).then((function(t) { return Mo(t) })) }(t.g).then((function(n) { return e = n, Wc((n = t.g).b, Kc, n.a) })).then((function() { return e })) }

                        function dl(t) { this.a = t, this.b = Bc() }(t = al.prototype).ka = function() {
                            return this.Ga ? this.Ga : this.Ga = (fr(void 0) ? pr().then((function() {
                                return new ve((function(t, e) {
                                    var n = a.document,
                                        r = setTimeout((function() { e(Error("Cordova framework is not ready.")) }), 1e3);
                                    n.addEventListener("deviceready", (function() { clearTimeout(r), t() }), !1)
                                }))
                            })) : Te(Error("Cordova must run in an Android or iOS file scheme."))).then((function() { if ("function" != typeof Cr("universalLinks.subscribe", a)) throw cl("cordova-universal-links-plugin-fix is not installed"); if (void 0 === Cr("BuildInfo.packageName", a)) throw cl("cordova-plugin-buildinfo is not installed"); if ("function" != typeof Cr("cordova.plugins.browsertab.openUrl", a)) throw cl("cordova-plugin-browsertab is not installed"); if ("function" != typeof Cr("cordova.InAppBrowser.open", a)) throw cl("cordova-plugin-inappbrowser is not installed") }), (function() { throw new C("cordova-not-ready") }))
                        }, t.Lb = function(t, e) { return e(new C("operation-not-supported-in-this-environment")), xe() }, t.Jb = function() { return Te(new C("operation-not-supported-in-this-environment")) }, t.Xb = function() { return !1 }, t.Ub = function() { return !0 }, t.Qb = function() { return !0 }, t.Kb = function(t, e, n, r) {
                            if (this.c) return Te(new C("redirect-operation-pending"));
                            var i = this,
                                o = a.document,
                                s = null,
                                c = null,
                                l = null,
                                u = null;
                            return this.c = xe().then((function() { return Do(e), ul(i) })).then((function() {
                                return function(t, e, n, r, i) {
                                    var o = function() { for (var t = 20, e = []; 0 < t;) e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62 * Math.random()))), t--; return e.join("") }(),
                                        s = new Po(e, r, null, o, new C("no-auth-event"), null, i),
                                        c = Cr("BuildInfo.packageName", a);
                                    if ("string" != typeof c) throw new C("invalid-cordova-configuration");
                                    var l = Cr("BuildInfo.displayName", a),
                                        u = {};
                                    if (Sr().toLowerCase().match(/iphone|ipad|ipod/)) u.ibi = c;
                                    else {
                                        if (!Sr().toLowerCase().match(/android/)) return Te(new C("operation-not-supported-in-this-environment"));
                                        u.apn = c
                                    }
                                    l && (u.appDisplayName = l), o = function(t) {
                                        var e = new ol;
                                        rl(e, t), t = [];
                                        var n = 8 * e.g;
                                        rl(e, el, 56 > e.c ? 56 - e.c : e.b - (e.c - 56));
                                        for (var r = 63; 56 <= r; r--) e.f[r] = 255 & n, n /= 256;
                                        for (nl(e), r = n = 0; r < e.i; r++)
                                            for (var i = 24; 0 <= i; i -= 8) t[n++] = e.a[r] >> i & 255;
                                        return function(t) { return W(t, (function(t) { return 1 < (t = t.toString(16)).length ? t : "0" + t })).join("") }(t)
                                    }(o), u.sessionId = o;
                                    var h = sc(t.u, t.i, t.l, e, n, null, r, t.m, u, t.s, i);
                                    return t.ka().then((function() { var e = t.h; return t.w.a.set(Kc, s.v(), e) })).then((function() {
                                        var e = Cr("cordova.plugins.browsertab.isAvailable", a);
                                        if ("function" != typeof e) throw new C("invalid-cordova-configuration");
                                        var n = null;
                                        e((function(e) {
                                            if (e) {
                                                if ("function" != typeof(n = Cr("cordova.plugins.browsertab.openUrl", a))) throw new C("invalid-cordova-configuration");
                                                n(h)
                                            } else {
                                                if ("function" != typeof(n = Cr("cordova.InAppBrowser.open", a))) throw new C("invalid-cordova-configuration");
                                                e = Sr(), t.a = n(h, e.match(/(iPad|iPhone|iPod).*OS 7_\d/i) || e.match(/(iPad|iPhone|iPod).*OS 8_\d/i) ? "_blank" : "_system", "location=yes")
                                            }
                                        }))
                                    }))
                                }(i, t, e, n, r)
                            })).then((function() { return new ve((function(t, e) { c = function() { var e = Cr("cordova.plugins.browsertab.close", a); return t(), "function" == typeof e && e(), i.a && "function" == typeof i.a.close && (i.a.close(), i.a = null), !1 }, i.Ca(c), u = function() { Fr() && l() }, o.addEventListener("resume", l = function() { s || (s = Sn(2e3).then((function() { e(new C("redirect-cancelled-by-user")) }))) }, !1), Sr().toLowerCase().match(/android/) || o.addEventListener("visibilitychange", u, !1) })).o((function(t) { return hl(i).then((function() { throw t })) })) })).ma((function() { l && o.removeEventListener("resume", l, !1), u && o.removeEventListener("visibilitychange", u, !1), s && s.cancel(), c && i.Qa(c), i.c = null }))
                        }, t.Ca = function(t) { this.b.push(t), ul(this).o((function(e) { "auth/invalid-cordova-configuration" === e.code && (e = new Po("unknown", null, null, null, new C("no-auth-event")), t(e)) })) }, t.Qa = function(t) { K(this.b, (function(e) { return e == t })) };
                        var pl = { name: "pendingRedirect", F: "session" };

                        function fl(t) { return Wc(t.b, pl, t.a) }

                        function ml(t, e, n) { this.i = {}, this.w = 0, this.D = t, this.u = e, this.m = n, this.h = [], this.f = !1, this.l = b(this.s, this), this.b = new Al, this.B = new Pl, this.g = new dl(this.u + ":" + this.m), this.c = {}, this.c.unknown = this.b, this.c.signInViaRedirect = this.b, this.c.linkViaRedirect = this.b, this.c.reauthViaRedirect = this.b, this.c.signInViaPopup = this.B, this.c.linkViaPopup = this.B, this.c.reauthViaPopup = this.B, this.a = gl(this.D, this.u, this.m, T) }

                        function gl(t, e, n, r) { var o = i.a.SDK_VERSION || null; return fr() ? new al(t, e, n, o, r) : new nc(t, e, n, o, r) }

                        function yl(t) { t.f || (t.f = !0, t.a.Ca(t.l)); var e = t.a; return t.a.ka().o((function(n) { throw t.a == e && t.reset(), n })) }

                        function vl(t) {
                            t.a.Ub() && yl(t).o((function(e) {
                                var n = new Po("unknown", null, null, null, new C("operation-not-supported-in-this-environment"));
                                Cl(e) && t.s(n)
                            })), t.a.Qb() || Rl(t.b)
                        }

                        function _l(t, e) {
                            G(t.h, e) || t.h.push(e), t.f || function(t) { return t.b.get(pl, t.a).then((function(t) { return "pending" == t })) }(t.g).then((function(e) {
                                e ? fl(t.g).then((function() {
                                    yl(t).o((function(e) {
                                        var n = new Po("unknown", null, null, null, new C("operation-not-supported-in-this-environment"));
                                        Cl(e) && t.s(n)
                                    }))
                                })) : vl(t)
                            })).o((function() { vl(t) }))
                        }

                        function bl(t, e) { K(t.h, (function(t) { return t == e })) }
                        ml.prototype.reset = function() { this.f = !1, this.a.Qa(this.l), this.a = gl(this.D, this.u, this.m), this.i = {} }, ml.prototype.s = function(t) {
                            if (!t) throw new C("invalid-auth-event");
                            if (6e5 <= E() - this.w && (this.i = {}, this.w = 0), t && t.getUid() && this.i.hasOwnProperty(t.getUid())) return !1;
                            for (var e = !1, n = 0; n < this.h.length; n++) {
                                var r = this.h[n];
                                if (r.Cb(t.c, t.b)) {
                                    (e = this.c[t.c]) && (e.h(t, r), t && (t.f || t.b) && (this.i[t.getUid()] = !0, this.w = E())), e = !0;
                                    break
                                }
                            }
                            return Rl(this.b), e
                        };
                        var wl = new Lr(2e3, 1e4),
                            El = new Lr(3e4, 6e4);

                        function Sl(t, e, n, r, i, o, s) { return t.a.Jb(e, n, r, (function() { t.f || (t.f = !0, t.a.Ca(t.l)) }), (function() { t.reset() }), i, o, s) }

                        function Cl(t) { return !(!t || "auth/cordova-not-ready" != t.code) }

                        function xl(t, e, n, r, i) { var o; return function(t) { return t.b.set(pl, "pending", t.a) }(t.g).then((function() { return t.a.Kb(e, n, r, i).o((function(e) { if (Cl(e)) throw new C("operation-not-supported-in-this-environment"); return o = e, fl(t.g).then((function() { throw o })) })).then((function() { return t.a.Xb() ? new ve((function() {})) : fl(t.g).then((function() { return t.pa() })).then((function() {})).o((function() {})) })) })) }

                        function Tl(t, e, n, r, i) { return t.a.Lb(r, (function(t) { e.la(n, null, t, i) }), wl.get()) }
                        ml.prototype.pa = function() { return this.b.pa() };
                        var kl = {};

                        function Il(t, e, n) { var r = e + ":" + n; return kl[r] || (kl[r] = new ml(t, e, n)), kl[r] }

                        function Al() { this.b = null, this.f = [], this.c = [], this.a = null, this.i = this.g = !1 }

                        function Rl(t) { t.g || (t.g = !0, Dl(t, !1, null, null)) }

                        function Ol(t) { t.g && !t.i && Dl(t, !1, null, null) }

                        function Nl(t, e) {
                            if (t.b = function() { return xe(e) }, t.f.length)
                                for (var n = 0; n < t.f.length; n++) t.f[n](e)
                        }

                        function Dl(t, e, n, r) {
                            e ? r ? function(t, e) {
                                if (t.b = function() { return Te(e) }, t.c.length)
                                    for (var n = 0; n < t.c.length; n++) t.c[n](e)
                            }(t, r) : Nl(t, n) : Nl(t, { user: null }), t.f = [], t.c = []
                        }

                        function Pl() {}

                        function Ml() { this.Bb = !1, Object.defineProperty(this, "appVerificationDisabled", { get: function() { return this.Bb }, set: function(t) { this.Bb = t }, enumerable: !1 }) }

                        function Ll(t, e) { this.a = e, Wr(this, "verificationId", t) }

                        function Fl(t, e, n, r) { return new Ro(t).cb(e, n).then((function(t) { return new Ll(t, r) })) }

                        function jl(t) {
                            var e = ji(t);
                            if (!(e && e.exp && e.auth_time && e.iat)) throw new C("internal-error", "An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");
                            zr(this, { token: t, expirationTime: jr(1e3 * e.exp), authTime: jr(1e3 * e.auth_time), issuedAtTime: jr(1e3 * e.iat), signInProvider: e.firebase && e.firebase.sign_in_provider ? e.firebase.sign_in_provider : null, signInSecondFactor: e.firebase && e.firebase.sign_in_second_factor ? e.firebase.sign_in_second_factor : null, claims: e })
                        }

                        function Ul(t, e, n) {
                            var r = e && e[Bl];
                            if (!r) throw new C("argument-error", "Internal assert: Invalid MultiFactorResolver");
                            this.a = t, this.f = pt(e), this.g = n, this.c = new Ji(null, r), this.b = [];
                            var i = this;
                            q(e[Vl] || [], (function(t) {
                                (t = Yr(t)) && i.b.push(t)
                            })), Wr(this, "auth", this.a), Wr(this, "session", this.c), Wr(this, "hints", this.b)
                        }
                        Al.prototype.reset = function() { this.b = null, this.a && (this.a.cancel(), this.a = null) }, Al.prototype.h = function(t, e) {
                            if (t) {
                                this.reset(), this.g = !0;
                                var n = t.c,
                                    r = t.b,
                                    i = t.a && "auth/web-storage-unsupported" == t.a.code,
                                    o = t.a && "auth/operation-not-supported-in-this-environment" == t.a.code;
                                this.i = !(!i && !o), "unknown" != n || i || o ? t.a ? (Dl(this, !0, null, t.a), xe()) : e.Da(n, r) ? function(t, e, n) {
                                    n = n.Da(e.c, e.b);
                                    var r = e.g,
                                        i = e.f,
                                        o = e.i,
                                        s = e.S(),
                                        a = !!e.c.match(/Redirect$/);
                                    n(r, i, s, o).then((function(e) { Dl(t, a, e, null) })).o((function(e) { Dl(t, a, null, e) }))
                                }(this, t, e) : Te(new C("invalid-auth-event")) : (Dl(this, !1, null, null), xe())
                            } else Te(new C("invalid-auth-event"))
                        }, Al.prototype.pa = function() {
                            var t = this;
                            return new ve((function(e, n) {
                                t.b ? t.b().then(e, n) : (t.f.push(e), t.c.push(n), function(t) {
                                    var e = new C("timeout");
                                    t.a && t.a.cancel(), t.a = Sn(El.get()).then((function() { t.b || (t.g = !0, Dl(t, !0, null, e)) }))
                                }(t))
                            }))
                        }, Pl.prototype.h = function(t, e) {
                            if (t) {
                                var n = t.c,
                                    r = t.b;
                                t.a ? (e.la(t.c, null, t.a, t.b), xe()) : e.Da(n, r) ? function(t, e) {
                                    var n = t.b,
                                        r = t.c;
                                    e.Da(r, n)(t.g, t.f, t.S(), t.i).then((function(t) { e.la(r, t, null, n) })).o((function(t) { e.la(r, null, t, n) }))
                                }(t, e) : Te(new C("invalid-auth-event"))
                            } else Te(new C("invalid-auth-event"))
                        }, Ll.prototype.confirm = function(t) { return t = Oo(this.verificationId, t), this.a(t) };
                        var Vl = "mfaInfo",
                            Bl = "mfaPendingCredential";

                        function ql(t, e, n, r) { C.call(this, "multi-factor-auth-required", r, e), this.b = new Ul(t, e, n), Wr(this, "resolver", this.b) }

                        function Hl(t, e, n) {
                            if (t && f(t.serverResponse) && "auth/multi-factor-auth-required" === t.code) try { return new ql(e, t.serverResponse, n, t.message) } catch (r) {}
                            return null
                        }

                        function Wl() {}

                        function zl(t) { Wr(this, "factorId", t.ea), this.a = t }

                        function Gl(t) { if (zl.call(this, t), this.a.ea != Ro.PROVIDER_ID) throw new C("argument-error", "firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential") }

                        function $l(t, e) { for (var n in $e.call(this, t), e) this[n] = e[n] }

                        function Kl(t, e) {
                            this.a = t, this.b = [], this.c = b(this.wc, this), sn(this.a, "userReloaded", this.c);
                            var n = [];
                            e && e.multiFactor && e.multiFactor.enrolledFactors && q(e.multiFactor.enrolledFactors, (function(t) {
                                var e = null,
                                    r = {};
                                if (t) {
                                    t.uid && (r[Zr] = t.uid), t.displayName && (r[Xr] = t.displayName), t.enrollmentTime && (r[Qr] = new Date(t.enrollmentTime).toISOString()), t.phoneNumber && (r[Jr] = t.phoneNumber);
                                    try { e = new ti(r) } catch (i) {}
                                    t = e
                                } else t = null;
                                t && n.push(t)
                            })), Yl(this, n)
                        }

                        function Yl(t, e) { t.b = e, Wr(t, "enrolledFactors", e) }

                        function Xl(t, e, n) { if (this.h = t, this.i = e, this.g = n, this.c = 3e4, this.f = 96e4, this.b = null, this.a = this.c, this.f < this.c) throw Error("Proactive refresh lower bound greater than upper bound!") }

                        function Ql(t) { this.c = t, this.b = this.a = null }

                        function Zl(t) { return t.b && 1e3 * t.b.c || 0 }

                        function Jl(t, e) {
                            var n = e.refreshToken;
                            t.b = Fi(e[Hs] || ""), t.a = n
                        }

                        function tu(t, e) { this.a = t || null, this.b = e || null, zr(this, { lastSignInTime: jr(e || null), creationTime: jr(t || null) }) }

                        function eu(t, e, n, r, i, o) { zr(this, { uid: t, displayName: r || null, photoURL: i || null, email: n || null, phoneNumber: o || null, providerId: e }) }

                        function nu(t, e, n) {
                            this.N = [], this.l = t.apiKey, this.m = t.appName, this.s = t.authDomain || null, t = i.a.SDK_VERSION ? Er(i.a.SDK_VERSION) : null, this.a = new Bs(this.l, R(T), t), this.b = new Ql(this.a), lu(this, e[Hs]), Jl(this.b, e), Wr(this, "refreshToken", this.b.a), du(this, n || {}), vn.call(this), this.P = !1, this.s && Tr() && (this.i = Il(this.s, this.l, this.m)), this.R = [], this.h = null, this.B = function(t) { return new Xl((function() { return t.I(!0) }), (function(t) { return !(!t || "auth/network-request-failed" != t.code) }), (function() { var e = Zl(t.b) - E() - 3e5; return 0 < e ? e : 0 })) }(this), this.Z = b(this.Ma, this);
                            var r = this;
                            this.oa = null, this.za = function(t) { r.va(t.g) }, this.aa = null, this.W = [], this.ya = function(t) { iu(r, t.c) }, this.$ = null, this.O = new Kl(this, n), Wr(this, "multiFactor", this.O)
                        }

                        function ru(t, e) { t.aa && ln(t.aa, "languageCodeChanged", t.za), (t.aa = e) && sn(e, "languageCodeChanged", t.za) }

                        function iu(t, e) { t.W = e, Ys(t.a, i.a.SDK_VERSION ? Er(i.a.SDK_VERSION, t.W) : null) }

                        function ou(t, e) { t.$ && ln(t.$, "frameworkChanged", t.ya), (t.$ = e) && sn(e, "frameworkChanged", t.ya) }

                        function su(t) { try { return i.a.app(t.m).auth() } catch (e) { throw new C("internal-error", "No firebase.auth.Auth instance is available for the Firebase App '" + t.m + "'!") } }

                        function au(t) { t.D || t.B.b || (t.B.start(), ln(t, "tokenChanged", t.Z), sn(t, "tokenChanged", t.Z)) }

                        function cu(t) { ln(t, "tokenChanged", t.Z), t.B.stop() }

                        function lu(t, e) { t.xa = e, Wr(t, "_lat", e) }

                        function uu(t) { for (var e = [], n = 0; n < t.R.length; n++) e.push(t.R[n](t)); return Ie(e).then((function() { return t })) }

                        function hu(t) { t.i && !t.P && (t.P = !0, _l(t.i, t)) }

                        function du(t, e) { zr(t, { uid: e.uid, displayName: e.displayName || null, photoURL: e.photoURL || null, email: e.email || null, emailVerified: e.emailVerified || !1, phoneNumber: e.phoneNumber || null, isAnonymous: e.isAnonymous || !1, tenantId: e.tenantId || null, metadata: new tu(e.createdAt, e.lastLoginAt), providerData: [] }), t.a.b = t.tenantId }

                        function pu() {}

                        function fu(t) { return xe().then((function() { if (t.D) throw new C("app-deleted") })) }

                        function mu(t) { return W(t.providerData, (function(t) { return t.providerId })) }

                        function gu(t, e) { e && (yu(t, e.providerId), t.providerData.push(e)) }

                        function yu(t, e) { K(t.providerData, (function(t) { return t.providerId == e })) }

                        function vu(t, e, n) {
                            ("uid" != e || n) && t.hasOwnProperty(e) && Wr(t, e, n)
                        }

                        function _u(t, e) { t != e && (zr(t, { uid: e.uid, displayName: e.displayName, photoURL: e.photoURL, email: e.email, emailVerified: e.emailVerified, phoneNumber: e.phoneNumber, isAnonymous: e.isAnonymous, tenantId: e.tenantId, providerData: [] }), Wr(t, "metadata", e.metadata ? function(t) { return new tu(t.a, t.b) }(e.metadata) : new tu), q(e.providerData, (function(e) { gu(t, e) })), function(t, e) { t.b = e.b, t.a = e.a }(t.b, e.b), Wr(t, "refreshToken", t.b.a), Yl(t.O, e.O.b)) }

                        function bu(t) { return t.I().then((function(e) { var n = t.isAnonymous; return function(t, e) { return za(t.a, Ea, { idToken: e }).then(b(t.Ic, t)) }(t, e).then((function() { return n || vu(t, "isAnonymous", !1), e })) })) }

                        function wu(t, e) { e[Hs] && t.xa != e[Hs] && (Jl(t.b, e), t.dispatchEvent(new $l("tokenChanged")), lu(t, e[Hs]), vu(t, "refreshToken", t.b.a)) }

                        function Eu(t, e) { return bu(t).then((function() { if (G(mu(t), e)) return uu(t).then((function() { throw new C("provider-already-linked") })) })) }

                        function Su(t, e, n) { return Gr({ user: t, credential: No(e), additionalUserInfo: e = Hi(e), operationType: n }) }

                        function Cu(t, e) { return wu(t, e), t.reload().then((function() { return t })) }

                        function xu(t, e, n, r, o) {
                            if (!Tr()) return Te(new C("operation-not-supported-in-this-environment"));
                            if (t.h && !o) return Te(t.h);
                            var s = qi(n.providerId),
                                a = Dr(t.uid + ":::"),
                                c = null;
                            (!Ar() || mr()) && t.s && n.isOAuthProvider && (c = sc(t.s, t.l, t.m, e, n, null, a, i.a.SDK_VERSION || null, null, null, t.tenantId));
                            var l = ur(c, s && s.ta, s && s.sa);
                            return r = r().then((function() { if (ku(t), !o) return t.I().then((function() {})) })).then((function() { return Sl(t.i, l, e, n, a, !!c, t.tenantId) })).then((function() { return new ve((function(n, r) { t.la(e, null, new C("cancelled-popup-request"), t.g || null), t.f = n, t.w = r, t.g = a, t.c = Tl(t.i, t, e, l, a) })) })).then((function(t) { return l && lr(l), t ? Gr(t) : null })).o((function(t) { throw l && lr(l), t })), Iu(t, r, o)
                        }

                        function Tu(t, e, n, r, i) {
                            if (!Tr()) return Te(new C("operation-not-supported-in-this-environment"));
                            if (t.h && !i) return Te(t.h);
                            var o = null,
                                s = Dr(t.uid + ":::");
                            return r = r().then((function() { if (ku(t), !i) return t.I().then((function() {})) })).then((function() { return t.fa = s, uu(t) })).then((function(e) { return t.ga && (e = (e = t.ga).b.set(Ou, t.v(), e.a)), e })).then((function() { return xl(t.i, e, n, s, t.tenantId) })).o((function(e) { if (o = e, t.ga) return Nu(t.ga); throw o })).then((function() { if (o) throw o })), Iu(t, r, i)
                        }

                        function ku(t) { if (!t.i || !t.P) { if (t.i && !t.P) throw new C("internal-error"); throw new C("auth-domain-config-required") } }

                        function Iu(t, e, n) { var r = function(t, e, n) { return t.h && !n ? (e.cancel(), Te(t.h)) : e.o((function(e) { throw !e || "auth/user-disabled" != e.code && "auth/user-token-expired" != e.code || (t.h || t.dispatchEvent(new $l("userInvalidated")), t.h = e), e })) }(t, e, n); return t.N.push(r), r.ma((function() { $(t.N, r) })), r.o((function(e) { var n = null; throw e && "auth/multi-factor-auth-required" === e.code && (n = Hl(e.v(), su(t), b(t.hc, t))), n || e })) }

                        function Au(t) {
                            if (!t.apiKey) return null;
                            var e = { apiKey: t.apiKey, authDomain: t.authDomain, appName: t.appName },
                                n = {};
                            if (!t.stsTokenManager || !t.stsTokenManager.accessToken) return null;
                            n[Hs] = t.stsTokenManager.accessToken, n.refreshToken = t.stsTokenManager.refreshToken || null;
                            var r = new nu(e, n, t);
                            return t.providerData && q(t.providerData, (function(t) { t && gu(r, Gr(t)) })), t.redirectEventId && (r.fa = t.redirectEventId), r
                        }

                        function Ru(t) { this.a = t, this.b = Bc() }
                        Ul.prototype.Pc = function(t) { var e = this; return t.ob(this.a.b, this.c).then((function(t) { var n = pt(e.f); return delete n[Vl], delete n[Bl], mt(n, t), e.g(n) })) }, S(ql, C), Wl.prototype.ob = function(t, e, n) { return e.type == to ? function(t, e, n, r) { return n.Fa().then((function(n) { return n = { idToken: n }, void 0 !== r && (n.displayName = r), mt(n, { phoneVerificationInfo: Ao(t.a) }), za(e, ba, n) })) }(this, t, e, n) : function(t, e, n) { return n.Fa().then((function(n) { return mt(n = { mfaPendingCredential: n }, { phoneVerificationInfo: Ao(t.a) }), za(e, wa, n) })) }(this, t, e) }, S(zl, Wl), S(Gl, zl), S($l, $e), (t = Kl.prototype).wc = function(t) {
                            Yl(this, function(t) {
                                var e = [];
                                return q(t.mfaInfo || [], (function(t) {
                                    (t = Yr(t)) && e.push(t)
                                })), e
                            }(t.ed))
                        }, t.Ob = function() { return this.a.I().then((function(t) { return new Ji(t, null) })) }, t.dc = function(t, e) {
                            var n = this,
                                r = this.a.a;
                            return this.Ob().then((function(n) { return t.ob(r, n, e) })).then((function(t) { return wu(n.a, t), n.a.reload() }))
                        }, t.$c = function(t) {
                            var e = this,
                                n = "string" == typeof t ? t : t.uid,
                                r = this.a.a;
                            return this.a.I().then((function(t) { return za(r, Wa, { idToken: t, mfaEnrollmentId: n }) })).then((function(t) { var r = H(e.b, (function(t) { return t.uid != n })); return Yl(e, r), wu(e.a, t), e.a.reload().o((function(t) { if ("auth/user-token-expired" != t.code) throw t })) }))
                        }, t.v = function() { return { multiFactor: { enrolledFactors: W(this.b, (function(t) { return t.v() })) } } }, Xl.prototype.start = function() {
                            this.a = this.c,
                                function t(e, n) {
                                    e.stop(), e.b = Sn(function(t, e) { return e ? (t.a = t.c, t.g()) : (e = t.a, t.a *= 2, t.a > t.f && (t.a = t.f), e) }(e, n)).then((function() {
                                        return function() {
                                            var t = a.document,
                                                e = null;
                                            return Fr() || !t ? xe() : new ve((function(n) { e = function() { Fr() && (t.removeEventListener("visibilitychange", e, !1), n()) }, t.addEventListener("visibilitychange", e, !1) })).o((function(n) { throw t.removeEventListener("visibilitychange", e, !1), n }))
                                        }()
                                    })).then((function() { return e.h() })).then((function() { t(e, !0) })).o((function(n) { e.i(n) && t(e, !1) }))
                                }(this, !0)
                        }, Xl.prototype.stop = function() { this.b && (this.b.cancel(), this.b = null) }, Ql.prototype.v = function() { return { apiKey: this.c.c, refreshToken: this.a, accessToken: this.b && this.b.toString(), expirationTime: Zl(this) } }, Ql.prototype.getToken = function(t) { return t = !!t, this.b && !this.a ? Te(new C("user-token-expired")) : t || !this.b || E() > Zl(this) - 3e4 ? this.a ? function(t, e) { return function(t, e) { return new ve((function(n, r) { "refresh_token" == e.grant_type && e.refresh_token || "authorization_code" == e.grant_type && e.code ? Xs(t, t.u + "?key=" + encodeURIComponent(t.c), (function(t) { t ? t.error ? r($a(t)) : t.access_token && t.refresh_token ? n(t) : r(new C("internal-error")) : r(new C("network-request-failed")) }), "POST", Kn(e).toString(), t.g, t.m.get()) : r(new C("internal-error")) })) }(t.c, e).then((function(e) { return t.b = Fi(e.access_token), t.a = e.refresh_token, { accessToken: t.b.toString(), refreshToken: t.a } })).o((function(e) { throw "auth/user-token-expired" == e.code && (t.a = null), e })) }(this, { grant_type: "refresh_token", refresh_token: this.a }) : xe(null) : xe({ accessToken: this.b.toString(), refreshToken: this.a }) }, tu.prototype.v = function() { return { lastLoginAt: this.b, createdAt: this.a } }, S(nu, vn), nu.prototype.va = function(t) { this.oa = t, Ks(this.a, t) }, nu.prototype.ja = function() { return this.oa }, nu.prototype.Ea = function() { return X(this.W) }, nu.prototype.Ma = function() { this.B.b && (this.B.stop(), this.B.start()) }, Wr(nu.prototype, "providerId", "firebase"), (t = nu.prototype).reload = function() { var t = this; return Iu(this, fu(this).then((function() { return bu(t).then((function() { return uu(t) })).then(pu) }))) }, t.mc = function(t) { return this.I(t).then((function(t) { return new jl(t) })) }, t.I = function(t) { var e = this; return Iu(this, fu(this).then((function() { return e.b.getToken(t) })).then((function(t) { if (!t) throw new C("internal-error"); return t.accessToken != e.xa && (lu(e, t.accessToken), e.dispatchEvent(new $l("tokenChanged"))), vu(e, "refreshToken", t.refreshToken), t.accessToken }))) }, t.Ic = function(t) {
                            if (!(t = t.users) || !t.length) throw new C("internal-error");
                            du(this, { uid: (t = t[0]).localId, displayName: t.displayName, photoURL: t.photoUrl, email: t.email, emailVerified: !!t.emailVerified, phoneNumber: t.phoneNumber, lastLoginAt: t.lastLoginAt, createdAt: t.createdAt, tenantId: t.tenantId });
                            for (var e = function(t) { return (t = t.providerUserInfo) && t.length ? W(t, (function(t) { return new eu(t.rawId, t.providerId, t.email, t.displayName, t.photoUrl, t.phoneNumber) })) : [] }(t), n = 0; n < e.length; n++) gu(this, e[n]);
                            vu(this, "isAnonymous", !(this.email && t.passwordHash || this.providerData && this.providerData.length)), this.dispatchEvent(new $l("userReloaded", { ed: t }))
                        }, t.Jc = function(t) { return qr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."), this.pb(t) }, t.pb = function(t) {
                            var e = this,
                                n = null;
                            return Iu(this, t.c(this.a, this.uid).then((function(t) { return wu(e, t), n = Su(e, t, "reauthenticate"), e.h = null, e.reload() })).then((function() { return n })), !0)
                        }, t.Ac = function(t) { return qr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."), this.mb(t) }, t.mb = function(t) {
                            var e = this,
                                n = null;
                            return Iu(this, Eu(this, t.providerId).then((function() { return e.I() })).then((function(n) { return t.b(e.a, n) })).then((function(t) { return n = Su(e, t, "link"), Cu(e, t) })).then((function() { return n })))
                        }, t.Bc = function(t, e) { var n = this; return Iu(this, Eu(this, "phone").then((function() { return Fl(su(n), t, e, b(n.mb, n)) }))) }, t.Kc = function(t, e) { var n = this; return Iu(this, xe().then((function() { return Fl(su(n), t, e, b(n.pb, n)) })), !0) }, t.xb = function(t) { var e = this; return Iu(this, this.I().then((function(n) { return e.a.xb(n, t) })).then((function(t) { return wu(e, t), e.reload() }))) }, t.cd = function(t) { var e = this; return Iu(this, this.I().then((function(n) { return t.b(e.a, n) })).then((function(t) { return wu(e, t), e.reload() }))) }, t.yb = function(t) { var e = this; return Iu(this, this.I().then((function(n) { return e.a.yb(n, t) })).then((function(t) { return wu(e, t), e.reload() }))) }, t.zb = function(t) { if (void 0 === t.displayName && void 0 === t.photoURL) return fu(this); var e = this; return Iu(this, this.I().then((function(n) { return e.a.zb(n, { displayName: t.displayName, photoUrl: t.photoURL }) })).then((function(t) { return wu(e, t), vu(e, "displayName", t.displayName || null), vu(e, "photoURL", t.photoUrl || null), q(e.providerData, (function(t) { "password" === t.providerId && (Wr(t, "displayName", e.displayName), Wr(t, "photoURL", e.photoURL)) })), uu(e) })).then(pu)) }, t.ad = function(t) { var e = this; return Iu(this, bu(this).then((function(n) { return G(mu(e), t) ? function(t, e, n) { return za(t, ya, { idToken: e, deleteProvider: n }) }(e.a, n, [t]).then((function(t) { var n = {}; return q(t.providerUserInfo || [], (function(t) { n[t.providerId] = !0 })), q(mu(e), (function(t) { n[t] || yu(e, t) })), n[Ro.PROVIDER_ID] || Wr(e, "phoneNumber", null), uu(e) })) : uu(e).then((function() { throw new C("no-such-provider") })) }))) }, t.delete = function() {
                            var t = this;
                            return Iu(this, this.I().then((function(e) { return za(t.a, ga, { idToken: e }) })).then((function() { t.dispatchEvent(new $l("userDeleted")) }))).then((function() {
                                for (var e = 0; e < t.N.length; e++) t.N[e].cancel("app-deleted");
                                ru(t, null), ou(t, null), t.N = [], t.D = !0, cu(t), Wr(t, "refreshToken", null), t.i && bl(t.i, t)
                            }))
                        }, t.Cb = function(t, e) { return !!("linkViaPopup" == t && (this.g || null) == e && this.f || "reauthViaPopup" == t && (this.g || null) == e && this.f || "linkViaRedirect" == t && (this.fa || null) == e || "reauthViaRedirect" == t && (this.fa || null) == e) }, t.la = function(t, e, n, r) { "linkViaPopup" != t && "reauthViaPopup" != t || r != (this.g || null) || (n && this.w ? this.w(n) : e && !n && this.f && this.f(e), this.c && (this.c.cancel(), this.c = null), delete this.f, delete this.w) }, t.Da = function(t, e) { return "linkViaPopup" == t && e == (this.g || null) ? b(this.Hb, this) : "reauthViaPopup" == t && e == (this.g || null) ? b(this.Ib, this) : "linkViaRedirect" == t && (this.fa || null) == e ? b(this.Hb, this) : "reauthViaRedirect" == t && (this.fa || null) == e ? b(this.Ib, this) : null }, t.Cc = function(t) { var e = this; return xu(this, "linkViaPopup", t, (function() { return Eu(e, t.providerId).then((function() { return uu(e) })) }), !1) }, t.Lc = function(t) { return xu(this, "reauthViaPopup", t, (function() { return xe() }), !0) }, t.Dc = function(t) { var e = this; return Tu(this, "linkViaRedirect", t, (function() { return Eu(e, t.providerId) }), !1) }, t.Mc = function(t) { return Tu(this, "reauthViaRedirect", t, (function() { return xe() }), !0) }, t.Hb = function(t, e, n, r) {
                            var i = this;
                            this.c && (this.c.cancel(), this.c = null);
                            var o = null;
                            return Iu(this, this.I().then((function(n) { return la(i.a, { requestUri: t, postBody: r, sessionId: e, idToken: n }) })).then((function(t) { return o = Su(i, t, "link"), Cu(i, t) })).then((function() { return o })))
                        }, t.Ib = function(t, e, n, r) {
                            var i = this;
                            this.c && (this.c.cancel(), this.c = null);
                            var o = null;
                            return Iu(this, xe().then((function() { return ro(ua(i.a, { requestUri: t, sessionId: e, postBody: r, tenantId: n }), i.uid) })).then((function(t) { return o = Su(i, t, "reauthenticate"), wu(i, t), i.h = null, i.reload() })).then((function() { return o })), !0)
                        }, t.qb = function(t) {
                            var e = this,
                                n = null;
                            return Iu(this, this.I().then((function(e) { return n = e, void 0 === t || dt(t) ? {} : Pi(new Ci(t)) })).then((function(t) { return e.a.qb(n, t) })).then((function(t) { if (e.email != t) return e.reload() })).then((function() {})))
                        }, t.Ab = function(t, e) {
                            var n = this,
                                r = null;
                            return Iu(this, this.I().then((function(t) { return r = t, void 0 === e || dt(e) ? {} : Pi(new Ci(e)) })).then((function(e) { return n.a.Ab(r, t, e) })).then((function(t) { if (n.email != t) return n.reload() })).then((function() {})))
                        }, t.hc = function(t) {
                            var e = null,
                                n = this;
                            return Iu(this, t = ro(xe(t), n.uid).then((function(t) { return e = Su(n, t, "reauthenticate"), wu(n, t), n.h = null, n.reload() })).then((function() { return e })), !0)
                        }, t.toJSON = function() { return this.v() }, t.v = function() { var t = { uid: this.uid, displayName: this.displayName, photoURL: this.photoURL, email: this.email, emailVerified: this.emailVerified, phoneNumber: this.phoneNumber, isAnonymous: this.isAnonymous, tenantId: this.tenantId, providerData: [], apiKey: this.l, appName: this.m, authDomain: this.s, stsTokenManager: this.b.v(), redirectEventId: this.fa || null }; return this.metadata && mt(t, this.metadata.v()), q(this.providerData, (function(e) { t.providerData.push(function(t) { var e, n = {}; for (e in t) t.hasOwnProperty(e) && (n[e] = t[e]); return n }(e)) })), mt(t, this.O.v()), t };
                        var Ou = { name: "redirectUser", F: "session" };

                        function Nu(t) { return Wc(t.b, Ou, t.a) }

                        function Du(t) {
                            this.a = t, this.b = Bc(), this.c = null, this.f = function(t) {
                                var e = Lu("local"),
                                    n = Lu("session"),
                                    r = Lu("none");
                                return function(t, e, n) {
                                    var r = Hc(e, n),
                                        i = qc(t, e.F);
                                    return t.get(e, n).then((function(o) {
                                        var s = null;
                                        try { s = Nr(a.localStorage.getItem(r)) } catch (c) {}
                                        if (s && !o) return a.localStorage.removeItem(r), t.set(e, s, n);
                                        s && o && "localStorage" != i.type && a.localStorage.removeItem(r)
                                    }))
                                }(t.b, e, t.a).then((function() { return t.b.get(n, t.a) })).then((function(i) { return i ? n : t.b.get(r, t.a).then((function(n) { return n ? r : t.b.get(e, t.a).then((function(n) { return n ? e : t.b.get(Mu, t.a).then((function(t) { return t ? Lu(t) : e })) })) })) })).then((function(e) { return t.c = e, Pu(t, e.F) })).o((function() { t.c || (t.c = e) }))
                            }(this), this.b.addListener(Lu("local"), this.a, b(this.g, this))
                        }

                        function Pu(t, e) {
                            var n, r = [];
                            for (n in Uc) Uc[n] !== e && r.push(Wc(t.b, Lu(Uc[n]), t.a));
                            return r.push(Wc(t.b, Mu, t.a)),
                                function(t) {
                                    return new ve((function(e, n) {
                                        var r = t.length,
                                            i = [];
                                        if (r)
                                            for (var o = function(t, n) { r--, i[t] = n, 0 == r && e(i) }, s = function(t) { n(t) }, a = 0; a < t.length; a++) ke(t[a], w(o, a), s);
                                        else e(i)
                                    }))
                                }(r)
                        }
                        Du.prototype.g = function() {
                            var t = this,
                                e = Lu("local");
                            Vu(this, (function() { return xe().then((function() { return t.c && "local" != t.c.F ? t.b.get(e, t.a) : null })).then((function(n) { if (n) return Pu(t, "local").then((function() { t.c = e })) })) }))
                        };
                        var Mu = { name: "persistence", F: "session" };

                        function Lu(t) { return { name: "authUser", F: t } }

                        function Fu(t, e) { return Vu(t, (function() { return t.b.set(t.c, e.v(), t.a) })) }

                        function ju(t) { return Vu(t, (function() { return Wc(t.b, t.c, t.a) })) }

                        function Uu(t, e) { return Vu(t, (function() { return t.b.get(t.c, t.a).then((function(t) { return t && e && (t.authDomain = e), Au(t || {}) })) })) }

                        function Vu(t, e) { return t.f = t.f.then(e, e), t.f }

                        function Bu(t) {
                            if (this.l = !1, Wr(this, "settings", new Ml), Wr(this, "app", t), !Ku(this).options || !Ku(this).options.apiKey) throw new C("invalid-api-key");
                            t = i.a.SDK_VERSION ? Er(i.a.SDK_VERSION) : null, this.b = new Bs(Ku(this).options && Ku(this).options.apiKey, R(T), t), this.P = [], this.m = [], this.O = [], this.$b = i.a.INTERNAL.createSubscribe(b(this.xc, this)), this.W = void 0, this.ac = i.a.INTERNAL.createSubscribe(b(this.yc, this)), Gu(this, null), this.i = new Du(Ku(this).options.apiKey + ":" + Ku(this).name), this.B = new Ru(Ku(this).options.apiKey + ":" + Ku(this).name), this.Z = Zu(this, function(t) {
                                    var e = Ku(t).options.authDomain,
                                        n = function(t) { var e = function(t, e) { return t.b.get(Ou, t.a).then((function(t) { return t && e && (t.authDomain = e), Au(t || {}) })) }(t.B, Ku(t).options.authDomain).then((function(e) { return (t.D = e) && (e.ga = t.B), Nu(t.B) })); return Zu(t, e) }(t).then((function() { return Uu(t.i, e) })).then((function(e) { return e ? (e.ga = t.B, t.D && (t.D.fa || null) == (e.fa || null) ? e : e.reload().then((function() { return Fu(t.i, e).then((function() { return e })) })).o((function(n) { return "auth/network-request-failed" == n.code ? e : ju(t.i) }))) : null })).then((function(e) { Gu(t, e || null) }));
                                    return Zu(t, n)
                                }(this)), this.h = Zu(this, function(t) {
                                    return t.Z.then((function() { return zu(t) })).o((function() {})).then((function() { if (!t.l) return t.oa() })).o((function() {})).then((function() {
                                        if (!t.l) {
                                            t.aa = !0;
                                            var e = t.i;
                                            e.b.addListener(Lu("local"), e.a, t.oa)
                                        }
                                    }))
                                }(this)), this.aa = !1, this.oa = b(this.Xc, this), this.Ma = b(this.ca, this), this.xa = b(this.jc, this), this.ya = b(this.uc, this), this.za = b(this.vc, this), this.a = null,
                                function(t) {
                                    var e = Ku(t).options.authDomain,
                                        n = Ku(t).options.apiKey;
                                    e && Tr() && (t.Zb = t.Z.then((function() {
                                        if (!t.l) {
                                            if (t.a = Il(e, n, Ku(t).name), _l(t.a, t), Yu(t) && hu(Yu(t)), t.D) {
                                                hu(t.D);
                                                var r = t.D;
                                                r.va(t.ja()), ru(r, t), iu(r = t.D, t.N), ou(r, t), t.D = null
                                            }
                                            return t.a
                                        }
                                    })))
                                }(this), this.INTERNAL = {}, this.INTERNAL.delete = b(this.delete, this), this.INTERNAL.logFramework = b(this.Ec, this), this.s = 0, vn.call(this),
                                function(t) { Object.defineProperty(t, "lc", { get: function() { return this.ja() }, set: function(t) { this.va(t) }, enumerable: !1 }), t.$ = null, Object.defineProperty(t, "ti", { get: function() { return this.S() }, set: function(t) { this.ub(t) }, enumerable: !1 }), t.R = null }(this), this.N = []
                        }

                        function qu(t) { $e.call(this, "languageCodeChanged"), this.g = t }

                        function Hu(t) { $e.call(this, "frameworkChanged"), this.c = t }

                        function Wu(t) { return t.Zb || Te(new C("auth-domain-config-required")) }

                        function zu(t) { if (!Tr()) return Te(new C("operation-not-supported-in-this-environment")); var e = Wu(t).then((function() { return t.a.pa() })).then((function(t) { return t ? Gr(t) : null })); return Zu(t, e) }

                        function Gu(t, e) { Yu(t) && (function(t, e) { K(t.R, (function(t) { return t == e })) }(Yu(t), t.Ma), ln(Yu(t), "tokenChanged", t.xa), ln(Yu(t), "userDeleted", t.ya), ln(Yu(t), "userInvalidated", t.za), cu(Yu(t))), e && (e.R.push(t.Ma), sn(e, "tokenChanged", t.xa), sn(e, "userDeleted", t.ya), sn(e, "userInvalidated", t.za), 0 < t.s && au(e)), Wr(t, "currentUser", e), e && (e.va(t.ja()), ru(e, t), iu(e, t.N), ou(e, t)) }

                        function $u(t, e) {
                            var n = null,
                                r = null;
                            return Zu(t, e.then((function(e) {
                                return n = No(e), r = Hi(e),
                                    function(t, e) { var n = {}; return n.apiKey = Ku(t).options.apiKey, n.authDomain = Ku(t).options.authDomain, n.appName = Ku(t).name, t.Z.then((function() { return function(t, e, n, r) { var i = new nu(t, e); return n && (i.ga = n), r && iu(i, r), i.reload().then((function() { return i })) }(n, e, t.B, t.Ea()) })).then((function(e) { return Yu(t) && e.uid == Yu(t).uid ? (_u(Yu(t), e), t.ca(e)) : (Gu(t, e), hu(e), t.ca(e)) })).then((function() { Qu(t) })) }(t, e)
                            }), (function(e) { var n = null; throw e && "auth/multi-factor-auth-required" === e.code && (n = Hl(e.v(), t, b(t.ic, t))), n || e })).then((function() { return Gr({ user: Yu(t), credential: n, additionalUserInfo: r, operationType: "signIn" }) })))
                        }

                        function Ku(t) { return t.app }

                        function Yu(t) { return t.currentUser }

                        function Xu(t) { return Yu(t) && Yu(t)._lat || null }

                        function Qu(t) {
                            if (t.aa) {
                                for (var e = 0; e < t.m.length; e++) t.m[e] && t.m[e](Xu(t));
                                if (t.W !== t.getUid() && t.O.length)
                                    for (t.W = t.getUid(), e = 0; e < t.O.length; e++) t.O[e] && t.O[e](Xu(t))
                            }
                        }

                        function Zu(t, e) { return t.P.push(e), e.ma((function() { $(t.P, e) })), e }

                        function Ju() {}

                        function th() { this.a = {}, this.b = 1e12 }
                        Du.prototype.tb = function(t) {
                            var e = null,
                                n = this;
                            return function(t) {
                                var e = new C("invalid-persistence-type"),
                                    n = new C("unsupported-persistence-type");
                                t: {
                                    for (r in Uc)
                                        if (Uc[r] == t) { var r = !0; break t }
                                    r = !1
                                }
                                if (!r || "string" != typeof t) throw e;
                                switch (yr()) {
                                    case "ReactNative":
                                        if ("session" === t) throw n;
                                        break;
                                    case "Node":
                                        if ("none" !== t) throw n;
                                        break;
                                    case "Worker":
                                        if ("session" === t || !vc() && "none" !== t) throw n;
                                        break;
                                    default:
                                        if (!xr() && "none" !== t) throw n
                                }
                            }(t), Vu(this, (function() { return t != n.c.F ? n.b.get(n.c, n.a).then((function(r) { return e = r, Pu(n, t) })).then((function() { if (n.c = Lu(t), e) return n.b.set(n.c, e, n.a) })) : xe() }))
                        }, S(Bu, vn), S(qu, $e), S(Hu, $e), (t = Bu.prototype).tb = function(t) { return Zu(this, t = this.i.tb(t)) }, t.va = function(t) { this.$ === t || this.l || (this.$ = t, Ks(this.b, this.$), this.dispatchEvent(new qu(this.ja()))) }, t.ja = function() { return this.$ }, t.dd = function() {
                            var t = a.navigator;
                            this.va(t && (t.languages && t.languages[0] || t.language || t.userLanguage) || null)
                        }, t.Ec = function(t) { this.N.push(t), Ys(this.b, i.a.SDK_VERSION ? Er(i.a.SDK_VERSION, this.N) : null), this.dispatchEvent(new Hu(this.N)) }, t.Ea = function() { return X(this.N) }, t.ub = function(t) { this.R === t || this.l || (this.R = t, this.b.b = this.R) }, t.S = function() { return this.R }, t.toJSON = function() { return { apiKey: Ku(this).options.apiKey, authDomain: Ku(this).options.authDomain, appName: Ku(this).name, currentUser: Yu(this) && Yu(this).v() } }, t.Cb = function(t, e) {
                            switch (t) {
                                case "unknown":
                                case "signInViaRedirect":
                                    return !0;
                                case "signInViaPopup":
                                    return this.g == e && !!this.f;
                                default:
                                    return !1
                            }
                        }, t.la = function(t, e, n, r) { "signInViaPopup" == t && this.g == r && (n && this.w ? this.w(n) : e && !n && this.f && this.f(e), this.c && (this.c.cancel(), this.c = null), delete this.f, delete this.w) }, t.Da = function(t, e) { return "signInViaRedirect" == t || "signInViaPopup" == t && this.g == e && this.f ? b(this.gc, this) : null }, t.gc = function(t, e, n, r) {
                            var i = this,
                                o = { requestUri: t, postBody: r, sessionId: e, tenantId: n };
                            return this.c && (this.c.cancel(), this.c = null), i.Z.then((function() { return $u(i, ca(i.b, o)) }))
                        }, t.Vc = function(t) {
                            if (!Tr()) return Te(new C("operation-not-supported-in-this-environment"));
                            var e = this,
                                n = qi(t.providerId),
                                r = Dr(),
                                o = null;
                            (!Ar() || mr()) && Ku(this).options.authDomain && t.isOAuthProvider && (o = sc(Ku(this).options.authDomain, Ku(this).options.apiKey, Ku(this).name, "signInViaPopup", t, null, r, i.a.SDK_VERSION || null, null, null, this.S()));
                            var s = ur(o, n && n.ta, n && n.sa);
                            return Zu(this, n = Wu(this).then((function(n) { return Sl(n, s, "signInViaPopup", t, r, !!o, e.S()) })).then((function() { return new ve((function(t, n) { e.la("signInViaPopup", null, new C("cancelled-popup-request"), e.g), e.f = t, e.w = n, e.g = r, e.c = Tl(e.a, e, "signInViaPopup", s, r) })) })).then((function(t) { return s && lr(s), t ? Gr(t) : null })).o((function(t) { throw s && lr(s), t })))
                        }, t.Wc = function(t) { if (!Tr()) return Te(new C("operation-not-supported-in-this-environment")); var e = this; return Zu(this, Wu(this).then((function() { return function(t) { return Vu(t, (function() { return t.b.set(Mu, t.c.F, t.a) })) }(e.i) })).then((function() { return xl(e.a, "signInViaRedirect", t, void 0, e.S()) }))) }, t.pa = function() { var t = this; return zu(this).then((function(e) { return t.a && Ol(t.a.b), e })).o((function(e) { throw t.a && Ol(t.a.b), e })) }, t.bd = function(t) {
                            if (!t) return Te(new C("null-user"));
                            if (this.R != t.tenantId) return Te(new C("tenant-id-mismatch"));
                            var e = this,
                                n = {};
                            n.apiKey = Ku(this).options.apiKey, n.authDomain = Ku(this).options.authDomain, n.appName = Ku(this).name;
                            var r = function(t, e, n, r) {
                                var i = t.b,
                                    o = {};
                                return o[Hs] = i.b && i.b.toString(), o.refreshToken = i.a, e = new nu(e || { apiKey: t.l, authDomain: t.s, appName: t.m }, o), n && (e.ga = n), r && iu(e, r), _u(e, t), e
                            }(t, n, e.B, e.Ea());
                            return Zu(this, this.h.then((function() { if (Ku(e).options.apiKey != t.l) return r.reload() })).then((function() { return Yu(e) && t.uid == Yu(e).uid ? (_u(Yu(e), t), e.ca(t)) : (Gu(e, r), hu(r), e.ca(r)) })).then((function() { Qu(e) })))
                        }, t.wb = function() { var t = this; return Zu(this, this.h.then((function() { return t.a && Ol(t.a.b), Yu(t) ? (Gu(t, null), ju(t.i).then((function() { Qu(t) }))) : xe() }))) }, t.Xc = function() {
                            var t = this;
                            return Uu(this.i, Ku(this).options.authDomain).then((function(e) {
                                if (!t.l) {
                                    var n;
                                    if (n = Yu(t) && e) {
                                        n = Yu(t).uid;
                                        var r = e.uid;
                                        n = null != n && "" !== n && null != r && "" !== r && n == r
                                    }
                                    if (n) return _u(Yu(t), e), Yu(t).I();
                                    (Yu(t) || e) && (Gu(t, e), e && (hu(e), e.ga = t.B), t.a && _l(t.a, t), Qu(t))
                                }
                            }))
                        }, t.ca = function(t) { return Fu(this.i, t) }, t.jc = function() { Qu(this), this.ca(Yu(this)) }, t.uc = function() { this.wb() }, t.vc = function() { this.wb() }, t.ic = function(t) { var e = this; return this.h.then((function() { return $u(e, xe(t)) })) }, t.xc = function(t) {
                            var e = this;
                            this.addAuthTokenListener((function() { t.next(Yu(e)) }))
                        }, t.yc = function(t) { var e = this;! function(t, e) { t.O.push(e), Zu(t, t.h.then((function() {!t.l && G(t.O, e) && t.W !== t.getUid() && (t.W = t.getUid(), e(Xu(t))) }))) }(this, (function() { t.next(Yu(e)) })) }, t.Gc = function(t, e, n) { var r = this; return this.aa && Promise.resolve().then((function() { p(t) ? t(Yu(r)) : p(t.next) && t.next(Yu(r)) })), this.$b(t, e, n) }, t.Fc = function(t, e, n) { var r = this; return this.aa && Promise.resolve().then((function() { r.W = r.getUid(), p(t) ? t(Yu(r)) : p(t.next) && t.next(Yu(r)) })), this.ac(t, e, n) }, t.kc = function(t) { var e = this; return Zu(this, this.h.then((function() { return Yu(e) ? Yu(e).I(t).then((function(t) { return { accessToken: t } })) : null }))) }, t.Rc = function(t) { var e = this; return this.h.then((function() { return $u(e, za(e.b, Ua, { token: t })) })).then((function(t) { var n = t.user; return vu(n, "isAnonymous", !1), e.ca(n), t })) }, t.Sc = function(t, e) { var n = this; return this.h.then((function() { return $u(n, za(n.b, Va, { email: t, password: e })) })) }, t.cc = function(t, e) { var n = this; return this.h.then((function() { return $u(n, za(n.b, fa, { email: t, password: e })) })) }, t.Ya = function(t) { var e = this; return this.h.then((function() { return $u(e, t.ia(e.b)) })) }, t.Qc = function(t) { return qr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."), this.Ya(t) }, t.vb = function() { var t = this; return this.h.then((function() { var e = Yu(t); if (e && e.isAnonymous) { var n = Gr({ providerId: null, isNewUser: !1 }); return Gr({ user: e, credential: null, additionalUserInfo: n, operationType: "signIn" }) } return $u(t, t.b.vb()).then((function(e) { var n = e.user; return vu(n, "isAnonymous", !0), t.ca(n), e })) })) }, t.getUid = function() { return Yu(this) && Yu(this).uid || null }, t.bc = function(t) { this.addAuthTokenListener(t), this.s++, 0 < this.s && Yu(this) && au(Yu(this)) }, t.Nc = function(t) {
                            var e = this;
                            q(this.m, (function(n) { n == t && e.s-- })), 0 > this.s && (this.s = 0), 0 == this.s && Yu(this) && cu(Yu(this)), this.removeAuthTokenListener(t)
                        }, t.addAuthTokenListener = function(t) {
                            var e = this;
                            this.m.push(t), Zu(this, this.h.then((function() { e.l || G(e.m, t) && t(Xu(e)) })))
                        }, t.removeAuthTokenListener = function(t) { K(this.m, (function(e) { return e == t })) }, t.delete = function() { this.l = !0; for (var t = 0; t < this.P.length; t++) this.P[t].cancel("app-deleted"); return this.P = [], this.i && (t = this.i).b.removeListener(Lu("local"), t.a, this.oa), this.a && (bl(this.a, this), Ol(this.a.b)), Promise.resolve() }, t.fc = function(t) { return Zu(this, function(t, e) { return za(t, ma, { identifier: e, continueUri: kr() ? sr() : "http://localhost" }).then((function(t) { return t.signinMethods || [] })) }(this.b, t)) }, t.zc = function(t) { return !!To(t) }, t.sb = function(t, e) { var n = this; return Zu(this, xe().then((function() { var t = new Ci(e); if (!t.c) throw new C("argument-error", ki + " must be true when sending sign in link to email"); return Pi(t) })).then((function(e) { return n.b.sb(t, e) })).then((function() {}))) }, t.fd = function(t) { return this.Pa(t).then((function(t) { return t.data.email })) }, t.jb = function(t, e) { return Zu(this, this.b.jb(t, e).then((function() {}))) }, t.Pa = function(t) { return Zu(this, this.b.Pa(t).then((function(t) { return new ei(t) }))) }, t.fb = function(t) { return Zu(this, this.b.fb(t).then((function() {}))) }, t.rb = function(t, e) { var n = this; return Zu(this, xe().then((function() { return void 0 === e || dt(e) ? {} : Pi(new Ci(e)) })).then((function(e) { return n.b.rb(t, e) })).then((function() {}))) }, t.Uc = function(t, e) { return Zu(this, Fl(this, t, e, b(this.Ya, this))) }, t.Tc = function(t, e) {
                            var n = this;
                            return Zu(this, xe().then((function() {
                                var r = e || sr(),
                                    i = xo(t, r);
                                if (!(r = To(r))) throw new C("argument-error", "Invalid email link!");
                                if (r.tenantId !== n.S()) throw new C("tenant-id-mismatch");
                                return n.Ya(i)
                            })))
                        }, Ju.prototype.render = function() {}, Ju.prototype.reset = function() {}, Ju.prototype.getResponse = function() {}, Ju.prototype.execute = function() {};
                        var eh = null;

                        function nh(t, e) { return (e = rh(e)) && t.a[e] || null }

                        function rh(t) { return (t = void 0 === t ? 1e12 : t) ? t.toString() : null }

                        function ih(t, e) {
                            this.g = !1, this.c = e, this.a = this.b = null, this.h = "invisible" !== this.c.size, this.f = oe(t);
                            var n = this;
                            this.i = function() { n.execute() }, this.h ? this.execute() : sn(this.f, "click", this.i)
                        }

                        function oh(t) { if (t.g) throw Error("reCAPTCHA mock was already deleted!") }

                        function sh() {}

                        function ah() {}
                        th.prototype.render = function(t, e) { return this.a[this.b.toString()] = new ih(t, e), this.b++ }, th.prototype.reset = function(t) {
                            var e = nh(this, t);
                            t = rh(t), e && t && (e.delete(), delete this.a[t])
                        }, th.prototype.getResponse = function(t) { return (t = nh(this, t)) ? t.getResponse() : null }, th.prototype.execute = function(t) {
                            (t = nh(this, t)) && t.execute()
                        }, ih.prototype.getResponse = function() { return oh(this), this.b }, ih.prototype.execute = function() {
                            oh(this);
                            var t = this;
                            this.a || (this.a = setTimeout((function() {
                                t.b = function() { for (var t = 50, e = []; 0 < t;) e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62 * Math.random()))), t--; return e.join("") }();
                                var e = t.c.callback,
                                    n = t.c["expired-callback"];
                                if (e) try { e(t.b) } catch (r) {}
                                t.a = setTimeout((function() {
                                    if (t.a = null, t.b = null, n) try { n() } catch (r) {}
                                    t.h && t.execute()
                                }), 6e4)
                            }), 500))
                        }, ih.prototype.delete = function() { oh(this), this.g = !0, clearTimeout(this.a), this.a = null, ln(this.f, "click", this.i) }, Wr(sh, "FACTOR_ID", "phone"), ah.prototype.g = function() { return eh || (eh = new th), xe(eh) }, ah.prototype.c = function() {};
                        var ch = null;

                        function lh() { this.b = a.grecaptcha ? 1 / 0 : 0, this.f = null, this.a = "__rcb" + Math.floor(1e6 * Math.random()).toString() }
                        var uh = new yt(bt, "https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),
                            hh = new Lr(3e4, 6e4);
                        lh.prototype.g = function(t) {
                            var e = this;
                            return new ve((function(n, r) {
                                var i = setTimeout((function() { r(new C("network-request-failed")) }), hh.get());
                                !a.grecaptcha || t !== e.f && !e.b ? (a[e.a] = function() {
                                    if (a.grecaptcha) {
                                        e.f = t;
                                        var o = a.grecaptcha.render;
                                        a.grecaptcha.render = function(t, n) { return t = o(t, n), e.b++, t }, clearTimeout(i), n(a.grecaptcha)
                                    } else clearTimeout(i), r(new C("internal-error"));
                                    delete a[e.a]
                                }, xe(Ps(Ct(uh, { onload: e.a, hl: t || "" }))).o((function() { clearTimeout(i), r(new C("internal-error", "Unable to load external reCAPTCHA dependencies!")) }))) : (clearTimeout(i), n(a.grecaptcha))
                            }))
                        }, lh.prototype.c = function() { this.b-- };
                        var dh = null;

                        function ph(t, e, n, r, i, o, s) {
                            if (Wr(this, "type", "recaptcha"), this.c = this.f = null, this.D = !1, this.u = e, this.g = null, s ? (ch || (ch = new ah), s = ch) : (dh || (dh = new lh), s = dh), this.m = s, this.a = n || { theme: "light", type: "image" }, this.h = [], this.a[gh]) throw new C("argument-error", "sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");
                            if (this.i = "invisible" === this.a[yh], !a.document) throw new C("operation-not-supported-in-this-environment", "RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");
                            if (!oe(e) || !this.i && oe(e).hasChildNodes()) throw new C("argument-error", "reCAPTCHA container is either not found or already contains inner elements!");
                            this.s = new Bs(t, o || null, i || null), this.w = r || function() { return null };
                            var c = this;
                            this.l = [];
                            var l = this.a[fh];
                            this.a[fh] = function(t) {
                                if (vh(c, t), "function" == typeof l) l(t);
                                else if ("string" == typeof l) { var e = Cr(l, a); "function" == typeof e && e(t) }
                            };
                            var u = this.a[mh];
                            this.a[mh] = function() {
                                if (vh(c, null), "function" == typeof u) u();
                                else if ("string" == typeof u) { var t = Cr(u, a); "function" == typeof t && t() }
                            }
                        }
                        var fh = "callback",
                            mh = "expired-callback",
                            gh = "sitekey",
                            yh = "size";

                        function vh(t, e) { for (var n = 0; n < t.l.length; n++) try { t.l[n](e) } catch (r) {} }

                        function _h(t, e) { return t.h.push(e), e.ma((function() { $(t.h, e) })), e }

                        function bh(t) { if (t.D) throw new C("internal-error", "RecaptchaVerifier instance has been destroyed.") }

                        function wh(t, e, n) {
                            var r = !1;
                            try { this.b = n || i.a.app() } catch (a) { throw new C("argument-error", "No firebase.app.App instance is currently initialized.") }
                            if (!this.b.options || !this.b.options.apiKey) throw new C("invalid-api-key");
                            n = this.b.options.apiKey;
                            var o = this,
                                s = null;
                            try { s = this.b.auth().Ea() } catch (a) {}
                            try { r = this.b.auth().settings.appVerificationDisabledForTesting } catch (a) {}
                            s = i.a.SDK_VERSION ? Er(i.a.SDK_VERSION, s) : null, ph.call(this, n, t, e, (function() { try { var t = o.b.auth().ja() } catch (e) { t = null } return t }), s, R(T), r)
                        }

                        function Eh(t, e, n, r) {
                            t: {
                                n = Array.prototype.slice.call(n);
                                for (var i = 0, o = !1, s = 0; s < e.length; s++)
                                    if (e[s].optional) o = !0;
                                    else {
                                        if (o) throw new C("internal-error", "Argument validator encountered a required argument after an optional argument.");
                                        i++
                                    }
                                if (o = e.length, n.length < i || o < n.length) r = "Expected " + (i == o ? 1 == i ? "1 argument" : i + " arguments" : i + "-" + o + " arguments") + " but got " + n.length + ".";
                                else {
                                    for (i = 0; i < n.length; i++)
                                        if (o = e[i].optional && void 0 === n[i], !e[i].K(n[i]) && !o) {
                                            if (e = e[i], 0 > i || i >= Sh.length) throw new C("internal-error", "Argument validator received an unsupported number of arguments.");
                                            n = Sh[i], r = (r ? "" : n + " argument ") + (e.name ? '"' + e.name + '" ' : "") + "must be " + e.J + ".";
                                            break t
                                        }
                                    r = null
                                }
                            }
                            if (r) throw new C("argument-error", t + " failed: " + r)
                        }(t = ph.prototype).Ga = function() { var t = this; return this.f ? this.f : this.f = _h(this, xe().then((function() { if (kr() && !gr()) return pr(); throw new C("operation-not-supported-in-this-environment", "RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.") })).then((function() { return t.m.g(t.w()) })).then((function(e) { return t.g = e, za(t.s, Ia, {}) })).then((function(e) { t.a[gh] = e.recaptchaSiteKey })).o((function(e) { throw t.f = null, e }))) }, t.render = function() {
                            bh(this);
                            var t = this;
                            return _h(this, this.Ga().then((function() {
                                if (null === t.c) {
                                    var e = t.u;
                                    if (!t.i) {
                                        var n = oe(e);
                                        e = function(t, e, n) {
                                            var r = arguments,
                                                i = document,
                                                o = String(r[0]),
                                                s = r[1];
                                            if (!ie && s && (s.name || s.type)) {
                                                if (o = ["<", o], s.name && o.push(' name="', Bt(s.name), '"'), s.type) {
                                                    o.push(' type="', Bt(s.type), '"');
                                                    var a = {};
                                                    mt(a, s), delete a.type, s = a
                                                }
                                                o.push(">"), o = o.join("")
                                            }
                                            return o = he(i, o), s && ("string" == typeof s ? o.className = s : Array.isArray(s) ? o.className = s.join(" ") : se(o, s)), 2 < r.length && ue(i, o, r), o
                                        }("DIV"), n.appendChild(e)
                                    }
                                    t.c = t.g.render(e, t.a)
                                }
                                return t.c
                            })))
                        }, t.verify = function() {
                            bh(this);
                            var t = this;
                            return _h(this, this.render().then((function(e) {
                                return new ve((function(n) {
                                    var r = t.g.getResponse(e);
                                    if (r) n(r);
                                    else {
                                        var i = function(e) { e && (function(t, e) { K(t.l, (function(t) { return t == e })) }(t, i), n(e)) };
                                        t.l.push(i), t.i && t.g.execute(t.c)
                                    }
                                }))
                            })))
                        }, t.reset = function() { bh(this), null !== this.c && this.g.reset(this.c) }, t.clear = function() { bh(this), this.D = !0, this.m.c(); for (var t = 0; t < this.h.length; t++) this.h[t].cancel("RecaptchaVerifier instance has been destroyed."); if (!this.i) { t = oe(this.u); for (var e; e = t.firstChild;) t.removeChild(e) } }, S(wh, ph);
                        var Sh = "First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");

                        function Ch(t, e) { return { name: t || "", J: "a valid string", optional: !!e, K: function(t) { return "string" == typeof t } } }

                        function xh(t, e) { return { name: t || "", J: "a boolean", optional: !!e, K: function(t) { return "boolean" == typeof t } } }

                        function Th(t, e) { return { name: t || "", J: "a valid object", optional: !!e, K: f } }

                        function kh(t, e) { return { name: t || "", J: "a function", optional: !!e, K: p } }

                        function Ih(t, e) { return { name: t || "", J: "null", optional: !!e, K: function(t) { return null === t } } }

                        function Ah(t) { return { name: t ? t + "Credential" : "credential", J: t ? "a valid " + t + " credential" : "a valid credential", optional: !1, K: function(e) { return !!e && !(!e.ia || t && e.providerId !== t) } } }

                        function Rh(t, e) { return f(t) && "string" == typeof t.type && t.type === e && p(t.Fa) }

                        function Oh(t) { return f(t) && "string" == typeof t.uid }

                        function Nh() { return { name: "applicationVerifier", J: "an implementation of firebase.auth.ApplicationVerifier", optional: !1, K: function(t) { return !(!t || "string" != typeof t.type || !p(t.verify)) } } }

                        function Dh(t, e, n, r) { return { name: n || "", J: t.J + " or " + e.J, optional: !!r, K: function(n) { return t.K(n) || e.K(n) } } }

                        function Ph(t, e) {
                            for (var n in e) {
                                var r = e[n].name;
                                t[r] = Fh(r, t[n], e[n].j)
                            }
                        }

                        function Mh(t, e) {
                            for (var n in e) {
                                var r = e[n].name;
                                r !== n && Object.defineProperty(t, r, { get: w((function(t) { return this[t] }), n), set: w((function(t, e, n, r) { Eh(t, [n], [r], !0), this[e] = r }), r, n, e[n].gb), enumerable: !0 })
                            }
                        }

                        function Lh(t, e, n, r) { t[e] = Fh(e, n, r) }

                        function Fh(t, e, n) {
                            function r() { var t = Array.prototype.slice.call(arguments); return Eh(o, n, t), e.apply(this, t) }
                            if (!n) return e;
                            var i, o = function(t) { return (t = t.split("."))[t.length - 1] }(t);
                            for (i in e) r[i] = e[i];
                            for (i in e.prototype) r.prototype[i] = e.prototype[i];
                            return r
                        }
                        Ph(Bu.prototype, { fb: { name: "applyActionCode", j: [Ch("code")] }, Pa: { name: "checkActionCode", j: [Ch("code")] }, jb: { name: "confirmPasswordReset", j: [Ch("code"), Ch("newPassword")] }, cc: { name: "createUserWithEmailAndPassword", j: [Ch("email"), Ch("password")] }, fc: { name: "fetchSignInMethodsForEmail", j: [Ch("email")] }, pa: { name: "getRedirectResult", j: [] }, zc: { name: "isSignInWithEmailLink", j: [Ch("emailLink")] }, Fc: { name: "onAuthStateChanged", j: [Dh(Th(), kh(), "nextOrObserver"), kh("opt_error", !0), kh("opt_completed", !0)] }, Gc: { name: "onIdTokenChanged", j: [Dh(Th(), kh(), "nextOrObserver"), kh("opt_error", !0), kh("opt_completed", !0)] }, rb: { name: "sendPasswordResetEmail", j: [Ch("email"), Dh(Th("opt_actionCodeSettings", !0), Ih(null, !0), "opt_actionCodeSettings", !0)] }, sb: { name: "sendSignInLinkToEmail", j: [Ch("email"), Th("actionCodeSettings")] }, tb: { name: "setPersistence", j: [Ch("persistence")] }, Qc: { name: "signInAndRetrieveDataWithCredential", j: [Ah()] }, vb: { name: "signInAnonymously", j: [] }, Ya: { name: "signInWithCredential", j: [Ah()] }, Rc: { name: "signInWithCustomToken", j: [Ch("token")] }, Sc: { name: "signInWithEmailAndPassword", j: [Ch("email"), Ch("password")] }, Tc: { name: "signInWithEmailLink", j: [Ch("email"), Ch("emailLink", !0)] }, Uc: { name: "signInWithPhoneNumber", j: [Ch("phoneNumber"), Nh()] }, Vc: { name: "signInWithPopup", j: [{ name: "authProvider", J: "a valid Auth provider", optional: !1, K: function(t) { return !!(t && t.providerId && t.hasOwnProperty && t.hasOwnProperty("isOAuthProvider")) } }] }, Wc: { name: "signInWithRedirect", j: [{ name: "authProvider", J: "a valid Auth provider", optional: !1, K: function(t) { return !!(t && t.providerId && t.hasOwnProperty && t.hasOwnProperty("isOAuthProvider")) } }] }, bd: { name: "updateCurrentUser", j: [Dh({ name: "user", J: "an instance of Firebase User", optional: !1, K: function(t) { return !!(t && t instanceof nu) } }, Ih(), "user")] }, wb: { name: "signOut", j: [] }, toJSON: { name: "toJSON", j: [Ch(null, !0)] }, dd: { name: "useDeviceLanguage", j: [] }, fd: { name: "verifyPasswordResetCode", j: [Ch("code")] } }), Mh(Bu.prototype, { lc: { name: "languageCode", gb: Dh(Ch(), Ih(), "languageCode") }, ti: { name: "tenantId", gb: Dh(Ch(), Ih(), "tenantId") } }), (Bu.Persistence = Uc).LOCAL = "local", Bu.Persistence.SESSION = "session", Bu.Persistence.NONE = "none", Ph(nu.prototype, { delete: { name: "delete", j: [] }, mc: { name: "getIdTokenResult", j: [xh("opt_forceRefresh", !0)] }, I: { name: "getIdToken", j: [xh("opt_forceRefresh", !0)] }, Ac: { name: "linkAndRetrieveDataWithCredential", j: [Ah()] }, mb: { name: "linkWithCredential", j: [Ah()] }, Bc: { name: "linkWithPhoneNumber", j: [Ch("phoneNumber"), Nh()] }, Cc: { name: "linkWithPopup", j: [{ name: "authProvider", J: "a valid Auth provider", optional: !1, K: function(t) { return !!(t && t.providerId && t.hasOwnProperty && t.hasOwnProperty("isOAuthProvider")) } }] }, Dc: { name: "linkWithRedirect", j: [{ name: "authProvider", J: "a valid Auth provider", optional: !1, K: function(t) { return !!(t && t.providerId && t.hasOwnProperty && t.hasOwnProperty("isOAuthProvider")) } }] }, Jc: { name: "reauthenticateAndRetrieveDataWithCredential", j: [Ah()] }, pb: { name: "reauthenticateWithCredential", j: [Ah()] }, Kc: { name: "reauthenticateWithPhoneNumber", j: [Ch("phoneNumber"), Nh()] }, Lc: { name: "reauthenticateWithPopup", j: [{ name: "authProvider", J: "a valid Auth provider", optional: !1, K: function(t) { return !!(t && t.providerId && t.hasOwnProperty && t.hasOwnProperty("isOAuthProvider")) } }] }, Mc: { name: "reauthenticateWithRedirect", j: [{ name: "authProvider", J: "a valid Auth provider", optional: !1, K: function(t) { return !!(t && t.providerId && t.hasOwnProperty && t.hasOwnProperty("isOAuthProvider")) } }] }, reload: { name: "reload", j: [] }, qb: { name: "sendEmailVerification", j: [Dh(Th("opt_actionCodeSettings", !0), Ih(null, !0), "opt_actionCodeSettings", !0)] }, toJSON: { name: "toJSON", j: [Ch(null, !0)] }, ad: { name: "unlink", j: [Ch("provider")] }, xb: { name: "updateEmail", j: [Ch("email")] }, yb: { name: "updatePassword", j: [Ch("password")] }, cd: { name: "updatePhoneNumber", j: [Ah("phone")] }, zb: { name: "updateProfile", j: [Th("profile")] }, Ab: { name: "verifyBeforeUpdateEmail", j: [Ch("email"), Dh(Th("opt_actionCodeSettings", !0), Ih(null, !0), "opt_actionCodeSettings", !0)] } }), Ph(th.prototype, { execute: { name: "execute" }, render: { name: "render" }, reset: { name: "reset" }, getResponse: { name: "getResponse" } }), Ph(Ju.prototype, { execute: { name: "execute" }, render: { name: "render" }, reset: { name: "reset" }, getResponse: { name: "getResponse" } }), Ph(ve.prototype, { ma: { name: "finally" }, o: { name: "catch" }, then: { name: "then" } }), Mh(Ml.prototype, { appVerificationDisabled: { name: "appVerificationDisabledForTesting", gb: xh("appVerificationDisabledForTesting") } }), Ph(Ll.prototype, { confirm: { name: "confirm", j: [Ch("verificationCode")] } }), Lh(no, "fromJSON", (function(t) {
                                t = "string" == typeof t ? JSON.parse(t) : t;
                                for (var e, n = [lo, So, Io, so], r = 0; r < n.length; r++)
                                    if (e = n[r](t)) return e;
                                return null
                            }), [Dh(Ch(), Th(), "json")]), Lh(Co, "credential", (function(t, e) { return new Eo(t, e) }), [Ch("email"), Ch("password")]), Ph(Eo.prototype, { v: { name: "toJSON", j: [Ch(null, !0)] } }), Ph(fo.prototype, { Aa: { name: "addScope", j: [Ch("scope")] }, Ia: { name: "setCustomParameters", j: [Th("customOAuthParameters")] } }), Lh(fo, "credential", mo, [Dh(Ch(), Th(), "token")]), Lh(Co, "credentialWithLink", xo, [Ch("email"), Ch("emailLink")]), Ph(go.prototype, { Aa: { name: "addScope", j: [Ch("scope")] }, Ia: { name: "setCustomParameters", j: [Th("customOAuthParameters")] } }), Lh(go, "credential", yo, [Dh(Ch(), Th(), "token")]), Ph(vo.prototype, { Aa: { name: "addScope", j: [Ch("scope")] }, Ia: { name: "setCustomParameters", j: [Th("customOAuthParameters")] } }), Lh(vo, "credential", _o, [Dh(Ch(), Dh(Th(), Ih()), "idToken"), Dh(Ch(), Ih(), "accessToken", !0)]), Ph(bo.prototype, { Ia: { name: "setCustomParameters", j: [Th("customOAuthParameters")] } }), Lh(bo, "credential", wo, [Dh(Ch(), Th(), "token"), Ch("secret", !0)]), Ph(po.prototype, { Aa: { name: "addScope", j: [Ch("scope")] }, credential: { name: "credential", j: [Dh(Ch(), Dh(Th(), Ih()), "optionsOrIdToken"), Dh(Ch(), Ih(), "accessToken", !0)] }, Ia: { name: "setCustomParameters", j: [Th("customOAuthParameters")] } }), Ph(ao.prototype, { v: { name: "toJSON", j: [Ch(null, !0)] } }), Ph(io.prototype, { v: { name: "toJSON", j: [Ch(null, !0)] } }), Lh(Ro, "credential", Oo, [Ch("verificationId"), Ch("verificationCode")]), Ph(Ro.prototype, { cb: { name: "verifyPhoneNumber", j: [Dh(Ch(), { name: "phoneInfoOptions", J: "valid phone info options", optional: !1, K: function(t) { return !!t && (t.session && t.phoneNumber ? Rh(t.session, to) && "string" == typeof t.phoneNumber : t.session && t.multiFactorHint ? Rh(t.session, eo) && Oh(t.multiFactorHint) : t.session && t.multiFactorUid ? Rh(t.session, eo) && "string" == typeof t.multiFactorUid : !!t.phoneNumber && "string" == typeof t.phoneNumber) } }, "phoneInfoOptions"), Nh()] } }), Ph(ko.prototype, { v: { name: "toJSON", j: [Ch(null, !0)] } }), Ph(C.prototype, { toJSON: { name: "toJSON", j: [Ch(null, !0)] } }), Ph(Vo.prototype, { toJSON: { name: "toJSON", j: [Ch(null, !0)] } }), Ph(Uo.prototype, { toJSON: { name: "toJSON", j: [Ch(null, !0)] } }), Ph(ql.prototype, { toJSON: { name: "toJSON", j: [Ch(null, !0)] } }), Ph(Ul.prototype, { Pc: { name: "resolveSignIn", j: [{ name: "multiFactorAssertion", J: "a valid multiFactorAssertion", optional: !1, K: function(t) { return !!t && !!t.ob } }] } }), Ph(Kl.prototype, { Ob: { name: "getSession", j: [] }, dc: { name: "enroll", j: [{ name: "multiFactorAssertion", J: "a valid multiFactorAssertion", optional: !1, K: function(t) { return !!t && !!t.ob } }, Ch("displayName", !0)] }, $c: { name: "unenroll", j: [Dh({ name: "multiFactorInfo", J: "a valid multiFactorInfo", optional: !1, K: Oh }, Ch(), "multiFactorInfoIdentifier")] } }), Ph(wh.prototype, { clear: { name: "clear", j: [] }, render: { name: "render", j: [] }, verify: { name: "verify", j: [] } }), Lh(mi, "parseLink", Si, [Ch("link")]), Lh(sh, "assertion", (function(t) { return new Gl(t) }), [Ah("phone")]),
                            function() {
                                if (void 0 === i.a || !i.a.INTERNAL || !i.a.INTERNAL.registerComponent) throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");
                                var t = { ActionCodeInfo: { Operation: { EMAIL_SIGNIN: ri, PASSWORD_RESET: "PASSWORD_RESET", RECOVER_EMAIL: "RECOVER_EMAIL", REVERT_SECOND_FACTOR_ADDITION: ni, VERIFY_AND_CHANGE_EMAIL: ii, VERIFY_EMAIL: "VERIFY_EMAIL" } }, Auth: Bu, AuthCredential: no, Error: C };
                                Lh(t, "EmailAuthProvider", Co, []), Lh(t, "FacebookAuthProvider", fo, []), Lh(t, "GithubAuthProvider", go, []), Lh(t, "GoogleAuthProvider", vo, []), Lh(t, "TwitterAuthProvider", bo, []), Lh(t, "OAuthProvider", po, [Ch("providerId")]), Lh(t, "SAMLAuthProvider", ho, [Ch("providerId")]), Lh(t, "PhoneAuthProvider", Ro, [{ name: "auth", J: "an instance of Firebase Auth", optional: !0, K: function(t) { return !!(t && t instanceof Bu) } }]), Lh(t, "RecaptchaVerifier", wh, [Dh(Ch(), { name: "", J: "an HTML element", optional: !1, K: function(t) { return !!(t && t instanceof Element) } }, "recaptchaContainer"), Th("recaptchaParameters", !0), { name: "app", J: "an instance of Firebase App", optional: !0, K: function(t) { return !!(t && t instanceof i.a.app.App) } }]), Lh(t, "ActionCodeURL", mi, []), Lh(t, "PhoneMultiFactorGenerator", sh, []), i.a.INTERNAL.registerComponent({ name: "auth", instanceFactory: function(t) { return new Bu(t = t.getProvider("app").getImmediate()) }, multipleInstances: !1, serviceProps: t, instantiationMode: "LAZY", type: "PUBLIC" }), i.a.INTERNAL.registerComponent({ name: "auth-internal", instanceFactory: function(t) { return { getUid: b((t = t.getProvider("auth").getImmediate()).getUid, t), getToken: b(t.kc, t), addAuthTokenListener: b(t.bc, t), removeAuthTokenListener: b(t.Nc, t) } }, multipleInstances: !1, instantiationMode: "LAZY", type: "PRIVATE" }), i.a.registerVersion("@firebase/auth", "0.14.8"), i.a.INTERNAL.extendNamespace({ User: nu })
                            }()
                    }).apply("undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
                },
                wj3C: function(t, e, n) {
                    "use strict";
                    Object.defineProperty(e, "__esModule", { value: !0 });
                    var r, i, o = n("mrSG"),
                        s = n("zVF4"),
                        a = n("S+S0"),
                        c = n("q/0M"),
                        l = ((r = {})["no-app"] = "No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()", r["bad-app-name"] = "Illegal App name: '{$appName}", r["duplicate-app"] = "Firebase App named '{$appName}' already exists", r["app-deleted"] = "Firebase App named '{$appName}' already deleted", r["invalid-app-argument"] = "firebase.{$appName}() takes either no argument or a Firebase App instance.", r["invalid-log-argument"] = "First argument to `onLog` must be null or a function.", r),
                        u = new s.ErrorFactory("app", "Firebase", l),
                        h = ((i = {})["@firebase/app"] = "fire-core", i["@firebase/analytics"] = "fire-analytics", i["@firebase/auth"] = "fire-auth", i["@firebase/database"] = "fire-rtdb", i["@firebase/functions"] = "fire-fn", i["@firebase/installations"] = "fire-iid", i["@firebase/messaging"] = "fire-fcm", i["@firebase/performance"] = "fire-perf", i["@firebase/remote-config"] = "fire-rc", i["@firebase/storage"] = "fire-gcs", i["@firebase/firestore"] = "fire-fst", i["fire-js"] = "fire-js", i["firebase-wrapper"] = "fire-js-all", i),
                        d = new c.Logger("@firebase/app"),
                        p = function() {
                            function t(t, e, n) {
                                var r, i, c = this;
                                this.firebase_ = n, this.isDeleted_ = !1, this.name_ = e.name, this.automaticDataCollectionEnabled_ = e.automaticDataCollectionEnabled || !1, this.options_ = s.deepCopy(t), this.container = new a.ComponentContainer(e.name), this._addComponent(new a.Component("app", (function() { return c }), "PUBLIC"));
                                try { for (var l = o.__values(this.firebase_.INTERNAL.components.values()), u = l.next(); !u.done; u = l.next()) this._addComponent(u.value) } catch (h) { r = { error: h } } finally { try { u && !u.done && (i = l.return) && i.call(l) } finally { if (r) throw r.error } }
                            }
                            return Object.defineProperty(t.prototype, "automaticDataCollectionEnabled", { get: function() { return this.checkDestroyed_(), this.automaticDataCollectionEnabled_ }, set: function(t) { this.checkDestroyed_(), this.automaticDataCollectionEnabled_ = t }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, "name", { get: function() { return this.checkDestroyed_(), this.name_ }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, "options", { get: function() { return this.checkDestroyed_(), this.options_ }, enumerable: !1, configurable: !0 }), t.prototype.delete = function() { var t = this; return new Promise((function(e) { t.checkDestroyed_(), e() })).then((function() { return t.firebase_.INTERNAL.removeApp(t.name_), Promise.all(t.container.getProviders().map((function(t) { return t.delete() }))) })).then((function() { t.isDeleted_ = !0 })) }, t.prototype._getService = function(t, e) { return void 0 === e && (e = "[DEFAULT]"), this.checkDestroyed_(), this.container.getProvider(t).getImmediate({ identifier: e }) }, t.prototype._removeServiceInstance = function(t, e) { void 0 === e && (e = "[DEFAULT]"), this.container.getProvider(t).clearInstance(e) }, t.prototype._addComponent = function(t) { try { this.container.addComponent(t) } catch (e) { d.debug("Component " + t.name + " failed to register with FirebaseApp " + this.name, e) } }, t.prototype._addOrOverwriteComponent = function(t) { this.container.addOrOverwriteComponent(t) }, t.prototype.checkDestroyed_ = function() { if (this.isDeleted_) throw u.create("app-deleted", { appName: this.name_ }) }, t
                        }();
                    p.prototype.name && p.prototype.options || p.prototype.delete || console.log("dc");
                    var f = function t() {
                            var e = function(t) {
                                var e = {},
                                    n = new Map,
                                    r = {
                                        __esModule: !0,
                                        initializeApp: function(n, i) {
                                            void 0 === i && (i = {}), "object" == typeof i && null !== i || (i = { name: i });
                                            var o = i;
                                            void 0 === o.name && (o.name = "[DEFAULT]");
                                            var a = o.name;
                                            if ("string" != typeof a || !a) throw u.create("bad-app-name", { appName: String(a) });
                                            if (s.contains(e, a)) throw u.create("duplicate-app", { appName: a });
                                            var c = new t(n, o, r);
                                            return e[a] = c, c
                                        },
                                        app: i,
                                        registerVersion: function(t, e, n) {
                                            var r, i = null !== (r = h[t]) && void 0 !== r ? r : t;
                                            n && (i += "-" + n);
                                            var o = i.match(/\s|\//),
                                                s = e.match(/\s|\//);
                                            if (o || s) { var c = ['Unable to register library "' + i + '" with version "' + e + '":']; return o && c.push('library name "' + i + '" contains illegal characters (whitespace or "/")'), o && s && c.push("and"), s && c.push('version name "' + e + '" contains illegal characters (whitespace or "/")'), void d.warn(c.join(" ")) }
                                            l(new a.Component(i + "-version", (function() { return { library: i, version: e } }), "VERSION"))
                                        },
                                        setLogLevel: c.setLogLevel,
                                        onLog: function(t, e) {
                                            if (null !== t && "function" != typeof t) throw u.create("invalid-log-argument", { appName: name });
                                            c.setUserLogHandler(t, e)
                                        },
                                        apps: null,
                                        SDK_VERSION: "7.16.0",
                                        INTERNAL: { registerComponent: l, removeApp: function(t) { delete e[t] }, components: n, useAsService: function(t, e) { return "serverAuth" === e ? null : e } }
                                    };

                                function i(t) { if (!s.contains(e, t = t || "[DEFAULT]")) throw u.create("no-app", { appName: t }); return e[t] }

                                function l(a) {
                                    var c, l, h = a.name;
                                    if (n.has(h)) return d.debug("There were multiple attempts to register component " + h + "."), "PUBLIC" === a.type ? r[h] : null;
                                    if (n.set(h, a), "PUBLIC" === a.type) {
                                        var p = function(t) { if (void 0 === t && (t = i()), "function" != typeof t[h]) throw u.create("invalid-app-argument", { appName: h }); return t[h]() };
                                        void 0 !== a.serviceProps && s.deepExtend(p, a.serviceProps), r[h] = p, t.prototype[h] = function() { for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e]; var n = this._getService.bind(this, h); return n.apply(this, a.multipleInstances ? t : []) }
                                    }
                                    try { for (var f = o.__values(Object.keys(e)), m = f.next(); !m.done; m = f.next()) e[m.value]._addComponent(a) } catch (g) { c = { error: g } } finally { try { m && !m.done && (l = f.return) && l.call(f) } finally { if (c) throw c.error } }
                                    return "PUBLIC" === a.type ? r[h] : null
                                }
                                return r.default = r, Object.defineProperty(r, "apps", { get: function() { return Object.keys(e).map((function(t) { return e[t] })) } }), i.App = t, r
                            }(p);
                            return e.INTERNAL = o.__assign(o.__assign({}, e.INTERNAL), { createFirebaseNamespace: t, extendNamespace: function(t) { s.deepExtend(e, t) }, createSubscribe: s.createSubscribe, ErrorFactory: s.ErrorFactory, deepExtend: s.deepExtend }), e
                        }(),
                        m = function() {
                            function t(t) { this.container = t }
                            return t.prototype.getPlatformInfoString = function() { return this.container.getProviders().map((function(t) { if (function(t) { var e = t.getComponent(); return "VERSION" === (null == e ? void 0 : e.type) }(t)) { var e = t.getImmediate(); return e.library + "/" + e.version } return null })).filter((function(t) { return t })).join(" ") }, t
                        }();
                    if (s.isBrowser() && void 0 !== self.firebase) {
                        d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");
                        var g = self.firebase.SDK_VERSION;
                        g && g.indexOf("LITE") >= 0 && d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")
                    }
                    var y = f.initializeApp;
                    f.initializeApp = function() { for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e]; return s.isNode() && d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '), y.apply(void 0, t) };
                    var v = f;
                    ! function(t, e) { t.INTERNAL.registerComponent(new a.Component("platform-logger", (function(t) { return new m(t) }), "PRIVATE")), t.registerVersion("@firebase/app", "0.6.8", void 0), t.registerVersion("fire-js", "") }(v), e.default = v, e.firebase = v
                },
                x7I3: function(t, e, n) {
                    "use strict";

                    function r(t) {
                        var e = "function" == typeof Symbol && Symbol.iterator,
                            n = e && t[e],
                            r = 0;
                        if (n) return n.call(t);
                        if (t && "number" == typeof t.length) return { next: function() { return t && r >= t.length && (t = void 0), { value: t && t[r++], done: !t } } };
                        throw new TypeError(e ? "Object is not iterable." : "Symbol.iterator is not defined.")
                    }
                    n.r(e), n.d(e, "ErrorCode", (function() { return Kn })), n.d(e, "EventType", (function() { return Yn })), n.d(e, "WebChannel", (function() { return Xn })), n.d(e, "XhrIo", (function() { return Qn })), n.d(e, "createWebChannelTransport", (function() { return $n }));
                    var i, o = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {},
                        s = s || {},
                        a = o || self;

                    function c() {}

                    function l(t) { var e = typeof t; if ("object" == e) { if (!t) return "null"; if (t instanceof Array) return "array"; if (t instanceof Object) return e; var n = Object.prototype.toString.call(t); if ("[object Window]" == n) return "object"; if ("[object Array]" == n || "number" == typeof t.length && void 0 !== t.splice && void 0 !== t.propertyIsEnumerable && !t.propertyIsEnumerable("splice")) return "array"; if ("[object Function]" == n || void 0 !== t.call && void 0 !== t.propertyIsEnumerable && !t.propertyIsEnumerable("call")) return "function" } else if ("function" == e && void 0 === t.call) return "object"; return e }

                    function u(t) { var e = l(t); return "array" == e || "object" == e && "number" == typeof t.length }

                    function h(t) { var e = typeof t; return "object" == e && null != t || "function" == e }
                    var d = "closure_uid_" + (1e9 * Math.random() >>> 0),
                        p = 0;

                    function f(t, e, n) { return t.call.apply(t.bind, arguments) }

                    function m(t, e, n) { if (!t) throw Error(); if (2 < arguments.length) { var r = Array.prototype.slice.call(arguments, 2); return function() { var n = Array.prototype.slice.call(arguments); return Array.prototype.unshift.apply(n, r), t.apply(e, n) } } return function() { return t.apply(e, arguments) } }

                    function g(t, e, n) { return (g = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? f : m).apply(null, arguments) }

                    function y(t, e) { var n = Array.prototype.slice.call(arguments, 1); return function() { var e = n.slice(); return e.push.apply(e, arguments), t.apply(this, e) } }
                    var v = Date.now || function() { return +new Date };

                    function _(t, e) {
                        function n() {}
                        n.prototype = e.prototype, t.M = e.prototype, t.prototype = new n, t.prototype.constructor = t
                    }

                    function b() { this.j = this.j, this.i = this.i }
                    b.prototype.j = !1, b.prototype.da = function() {!this.j && (this.j = !0, this.C(), 0) && function(t) { Object.prototype.hasOwnProperty.call(t, d) && t[d] || (t[d] = ++p) }(this) }, b.prototype.C = function() {
                        if (this.i)
                            for (; this.i.length;) this.i.shift()()
                    };
                    var w = Array.prototype.indexOf ? function(t, e) { return Array.prototype.indexOf.call(t, e, void 0) } : function(t, e) {
                            if ("string" == typeof t) return "string" != typeof e || 1 != e.length ? -1 : t.indexOf(e, 0);
                            for (var n = 0; n < t.length; n++)
                                if (n in t && t[n] === e) return n;
                            return -1
                        },
                        E = Array.prototype.forEach ? function(t, e, n) { Array.prototype.forEach.call(t, e, n) } : function(t, e, n) { for (var r = t.length, i = "string" == typeof t ? t.split("") : t, o = 0; o < r; o++) o in i && e.call(n, i[o], o, t) };

                    function S(t) { return Array.prototype.concat.apply([], arguments) }

                    function C(t) { var e = t.length; if (0 < e) { for (var n = Array(e), r = 0; r < e; r++) n[r] = t[r]; return n } return [] }

                    function x(t) { return /^[\s\xa0]*$/.test(t) }
                    var T, k = String.prototype.trim ? function(t) { return t.trim() } : function(t) { return /^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1] };

                    function I(t, e) { return -1 != t.indexOf(e) }

                    function A(t, e) { return t < e ? -1 : t > e ? 1 : 0 }
                    t: {
                        var R = a.navigator;
                        if (R) { var O = R.userAgent; if (O) { T = O; break t } }
                        T = ""
                    }

                    function N(t, e, n) { for (var r in t) e.call(n, t[r], r, t) }

                    function D(t) { var e = {}; for (var n in t) e[n] = t[n]; return e }
                    var P = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");

                    function M(t, e) { for (var n, r, i = 1; i < arguments.length; i++) { for (n in r = arguments[i]) t[n] = r[n]; for (var o = 0; o < P.length; o++) n = P[o], Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } }

                    function L(t) { return L[" "](t), t }
                    L[" "] = c;
                    var F, j, U = I(T, "Opera"),
                        V = I(T, "Trident") || I(T, "MSIE"),
                        B = I(T, "Edge"),
                        q = B || V,
                        H = I(T, "Gecko") && !(I(T.toLowerCase(), "webkit") && !I(T, "Edge")) && !(I(T, "Trident") || I(T, "MSIE")) && !I(T, "Edge"),
                        W = I(T.toLowerCase(), "webkit") && !I(T, "Edge");

                    function z() { var t = a.document; return t ? t.documentMode : void 0 }
                    t: {
                        var G = "",
                            $ = (j = T, H ? /rv:([^\);]+)(\)|;)/.exec(j) : B ? /Edge\/([\d\.]+)/.exec(j) : V ? /\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(j) : W ? /WebKit\/(\S+)/.exec(j) : U ? /(?:Version)[ \/]?(\S+)/.exec(j) : void 0);
                        if ($ && (G = $ ? $[1] : ""), V) { var K = z(); if (null != K && K > parseFloat(G)) { F = String(K); break t } }
                        F = G
                    }
                    var Y = {};

                    function X(t) {
                        return function(t, e) { var n = Y; return Object.prototype.hasOwnProperty.call(n, t) ? n[t] : n[t] = e() }(t, (function() {
                            for (var e = 0, n = k(String(F)).split("."), r = k(String(t)).split("."), i = Math.max(n.length, r.length), o = 0; 0 == e && o < i; o++) {
                                var s = n[o] || "",
                                    a = r[o] || "";
                                do {
                                    if (s = /(\d*)(\D*)(.*)/.exec(s) || ["", "", "", ""], a = /(\d*)(\D*)(.*)/.exec(a) || ["", "", "", ""], 0 == s[0].length && 0 == a[0].length) break;
                                    e = A(0 == s[1].length ? 0 : parseInt(s[1], 10), 0 == a[1].length ? 0 : parseInt(a[1], 10)) || A(0 == s[2].length, 0 == a[2].length) || A(s[2], a[2]), s = s[3], a = a[3]
                                } while (0 == e)
                            }
                            return 0 <= e
                        }))
                    }
                    var Q = a.document && V && (z() || parseInt(F, 10)) || void 0,
                        Z = !V || 9 <= Number(Q),
                        J = V && !X("9"),
                        tt = function() {
                            if (!a.addEventListener || !Object.defineProperty) return !1;
                            var t = !1,
                                e = Object.defineProperty({}, "passive", { get: function() { t = !0 } });
                            try { a.addEventListener("test", c, e), a.removeEventListener("test", c, e) } catch (n) {}
                            return t
                        }();

                    function et(t, e) { this.type = t, this.a = this.target = e, this.defaultPrevented = !1 }

                    function nt(t, e) {
                        if (et.call(this, t ? t.type : ""), this.relatedTarget = this.a = this.target = null, this.button = this.screenY = this.screenX = this.clientY = this.clientX = 0, this.key = "", this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1, this.pointerId = 0, this.pointerType = "", this.c = null, t) {
                            var n = this.type = t.type,
                                r = t.changedTouches && t.changedTouches.length ? t.changedTouches[0] : null;
                            if (this.target = t.target || t.srcElement, this.a = e, e = t.relatedTarget) {
                                if (H) {
                                    t: {
                                        try { L(e.nodeName); var i = !0; break t } catch (o) {}
                                        i = !1
                                    }
                                    i || (e = null)
                                }
                            } else "mouseover" == n ? e = t.fromElement : "mouseout" == n && (e = t.toElement);
                            this.relatedTarget = e, r ? (this.clientX = void 0 !== r.clientX ? r.clientX : r.pageX, this.clientY = void 0 !== r.clientY ? r.clientY : r.pageY, this.screenX = r.screenX || 0, this.screenY = r.screenY || 0) : (this.clientX = void 0 !== t.clientX ? t.clientX : t.pageX, this.clientY = void 0 !== t.clientY ? t.clientY : t.pageY, this.screenX = t.screenX || 0, this.screenY = t.screenY || 0), this.button = t.button, this.key = t.key || "", this.ctrlKey = t.ctrlKey, this.altKey = t.altKey, this.shiftKey = t.shiftKey, this.metaKey = t.metaKey, this.pointerId = t.pointerId || 0, this.pointerType = "string" == typeof t.pointerType ? t.pointerType : rt[t.pointerType] || "", this.c = t, t.defaultPrevented && this.b()
                        }
                    }
                    et.prototype.b = function() { this.defaultPrevented = !0 }, _(nt, et);
                    var rt = { 2: "touch", 3: "pen", 4: "mouse" };
                    nt.prototype.b = function() {
                        nt.M.b.call(this);
                        var t = this.c;
                        if (t.preventDefault) t.preventDefault();
                        else if (t.returnValue = !1, J) try {
                            (t.ctrlKey || 112 <= t.keyCode && 123 >= t.keyCode) && (t.keyCode = -1)
                        } catch (e) {}
                    };
                    var it = "closure_listenable_" + (1e6 * Math.random() | 0),
                        ot = 0;

                    function st(t, e, n, r, i) { this.listener = t, this.proxy = null, this.src = e, this.type = n, this.capture = !!r, this.aa = i, this.key = ++ot, this.V = this.X = !1 }

                    function at(t) { t.V = !0, t.listener = null, t.proxy = null, t.src = null, t.aa = null }

                    function ct(t) { this.src = t, this.a = {}, this.b = 0 }

                    function lt(t, e) {
                        var n = e.type;
                        if (n in t.a) {
                            var r, i = t.a[n],
                                o = w(i, e);
                            (r = 0 <= o) && Array.prototype.splice.call(i, o, 1), r && (at(e), 0 == t.a[n].length && (delete t.a[n], t.b--))
                        }
                    }

                    function ut(t, e, n, r) { for (var i = 0; i < t.length; ++i) { var o = t[i]; if (!o.V && o.listener == e && o.capture == !!n && o.aa == r) return i } return -1 }
                    ct.prototype.add = function(t, e, n, r, i) {
                        var o = t.toString();
                        (t = this.a[o]) || (t = this.a[o] = [], this.b++);
                        var s = ut(t, e, r, i);
                        return -1 < s ? (e = t[s], n || (e.X = !1)) : ((e = new st(e, this.src, o, !!r, i)).X = n, t.push(e)), e
                    };
                    var ht = "closure_lm_" + (1e6 * Math.random() | 0),
                        dt = {};

                    function pt(t, e, n, r, i) { if (r && r.once) return function t(e, n, r, i, o) { if (Array.isArray(n)) { for (var s = 0; s < n.length; s++) t(e, n[s], r, i, o); return null } return r = wt(r), e && e[it] ? e.sa(n, r, h(i) ? !!i.capture : !!i, o) : ft(e, n, r, !0, i, o) }(t, e, n, r, i); if (Array.isArray(e)) { for (var o = 0; o < e.length; o++) pt(t, e[o], n, r, i); return null } return n = wt(n), t && t[it] ? t.ra(e, n, h(r) ? !!r.capture : !!r, i) : ft(t, e, n, !1, r, i) }

                    function ft(t, e, n, r, i, o) {
                        if (!e) throw Error("Invalid event type");
                        var s = h(i) ? !!i.capture : !!i;
                        if (s && !Z) return null;
                        var a = _t(t);
                        if (a || (t[ht] = a = new ct(t)), (n = a.add(e, n, r, s, o)).proxy) return n;
                        if (r = function() {
                                var t = vt,
                                    e = Z ? function(n) { return t.call(e.src, e.listener, n) } : function(n) { if (!(n = t.call(e.src, e.listener, n))) return n };
                                return e
                            }(), n.proxy = r, r.src = t, r.listener = n, t.addEventListener) tt || (i = s), void 0 === i && (i = !1), t.addEventListener(e.toString(), r, i);
                        else if (t.attachEvent) t.attachEvent(gt(e.toString()), r);
                        else {
                            if (!t.addListener || !t.removeListener) throw Error("addEventListener and attachEvent are unavailable.");
                            t.addListener(r)
                        }
                        return n
                    }

                    function mt(t) {
                        if ("number" != typeof t && t && !t.V) {
                            var e = t.src;
                            if (e && e[it]) lt(e.c, t);
                            else {
                                var n = t.type,
                                    r = t.proxy;
                                e.removeEventListener ? e.removeEventListener(n, r, t.capture) : e.detachEvent ? e.detachEvent(gt(n), r) : e.addListener && e.removeListener && e.removeListener(r), (n = _t(e)) ? (lt(n, t), 0 == n.b && (n.src = null, e[ht] = null)) : at(t)
                            }
                        }
                    }

                    function gt(t) { return t in dt ? dt[t] : dt[t] = "on" + t }

                    function yt(t, e) {
                        var n = t.listener,
                            r = t.aa || t.src;
                        return t.X && mt(t), n.call(r, e)
                    }

                    function vt(t, e) {
                        if (t.V) return !0;
                        if (!Z) {
                            if (!e) t: {
                                e = ["window", "event"];
                                for (var n = a, r = 0; r < e.length; r++)
                                    if (null == (n = n[e[r]])) { e = null; break t }
                                e = n
                            }
                            return yt(t, e = new nt(e, this))
                        }
                        return yt(t, new nt(e, this))
                    }

                    function _t(t) { return (t = t[ht]) instanceof ct ? t : null }
                    var bt = "__closure_events_fn_" + (1e9 * Math.random() >>> 0);

                    function wt(t) { return "function" == l(t) ? t : (t[bt] || (t[bt] = function(e) { return t.handleEvent(e) }), t[bt]) }

                    function Et() { b.call(this), this.c = new ct(this), this.J = this, this.A = null }

                    function St(t, e, n, r) {
                        if (!(e = t.c.a[String(e)])) return !0;
                        e = e.concat();
                        for (var i = !0, o = 0; o < e.length; ++o) {
                            var s = e[o];
                            if (s && !s.V && s.capture == n) {
                                var a = s.listener,
                                    c = s.aa || s.src;
                                s.X && lt(t.c, s), i = !1 !== a.call(c, r) && i
                            }
                        }
                        return i && !r.defaultPrevented
                    }
                    _(Et, b), Et.prototype[it] = !0, (i = Et.prototype).addEventListener = function(t, e, n, r) { pt(this, t, e, n, r) }, i.removeEventListener = function(t, e, n, r) {
                        ! function t(e, n, r, i, o) {
                            if (Array.isArray(n))
                                for (var s = 0; s < n.length; s++) t(e, n[s], r, i, o);
                            else i = h(i) ? !!i.capture : !!i, r = wt(r), e && e[it] ? (e = e.c, (n = String(n).toString()) in e.a && -1 < (r = ut(s = e.a[n], r, i, o)) && (at(s[r]), Array.prototype.splice.call(s, r, 1), 0 == s.length && (delete e.a[n], e.b--))) : e && (e = _t(e)) && (n = e.a[n.toString()], e = -1, n && (e = ut(n, r, i, o)), (r = -1 < e ? n[e] : null) && mt(r))
                        }(this, t, e, n, r)
                    }, i.dispatchEvent = function(t) {
                        var e, n = this.A;
                        if (n)
                            for (e = []; n; n = n.A) e.push(n);
                        n = this.J;
                        var r = t.type || t;
                        if ("string" == typeof t) t = new et(t, n);
                        else if (t instanceof et) t.target = t.target || n;
                        else {
                            var i = t;
                            M(t = new et(r, n), i)
                        }
                        if (i = !0, e)
                            for (var o = e.length - 1; 0 <= o; o--) {
                                var s = t.a = e[o];
                                i = St(s, r, !0, t) && i
                            }
                        if (i = St(s = t.a = n, r, !0, t) && i, i = St(s, r, !1, t) && i, e)
                            for (o = 0; o < e.length; o++) i = St(s = t.a = e[o], r, !1, t) && i;
                        return i
                    }, i.C = function() {
                        if (Et.M.C.call(this), this.c) {
                            var t, e = this.c;
                            for (t in e.a) {
                                for (var n = e.a[t], r = 0; r < n.length; r++) at(n[r]);
                                delete e.a[t], e.b--
                            }
                        }
                        this.A = null
                    }, i.ra = function(t, e, n, r) { return this.c.add(String(t), e, !1, n, r) }, i.sa = function(t, e, n, r) { return this.c.add(String(t), e, !0, n, r) };
                    var Ct = a.JSON.stringify;

                    function xt() { this.b = this.a = null }
                    var Tt, kt = new(function() {
                        function t(t, e, n) { this.f = n, this.c = t, this.g = e, this.b = 0, this.a = null }
                        return t.prototype.get = function() { var t; return 0 < this.b ? (this.b--, this.a = (t = this.a).next, t.next = null) : t = this.c(), t }, t
                    }())((function() { return new At }), (function(t) { t.reset() }), 100);

                    function It() {
                        var t = Dt,
                            e = null;
                        return t.a && (e = t.a, t.a = t.a.next, t.a || (t.b = null), e.next = null), e
                    }

                    function At() { this.next = this.b = this.a = null }

                    function Rt(t) { a.setTimeout((function() { throw t }), 0) }

                    function Ot(t, e) {
                        Tt || function() {
                            var t = a.Promise.resolve(void 0);
                            Tt = function() { t.then(Pt) }
                        }(), Nt || (Tt(), Nt = !0), Dt.add(t, e)
                    }
                    xt.prototype.add = function(t, e) {
                        var n = kt.get();
                        n.set(t, e), this.b ? this.b.next = n : this.a = n, this.b = n
                    }, At.prototype.set = function(t, e) { this.a = t, this.b = e, this.next = null }, At.prototype.reset = function() { this.next = this.b = this.a = null };
                    var Nt = !1,
                        Dt = new xt;

                    function Pt() {
                        for (var t; t = It();) {
                            try { t.a.call(t.b) } catch (n) { Rt(n) }
                            var e = kt;
                            e.g(t), e.b < e.f && (e.b++, t.next = e.a, e.a = t)
                        }
                        Nt = !1
                    }

                    function Mt(t, e) { Et.call(this), this.b = t || 1, this.a = e || a, this.f = g(this.Ua, this), this.g = v() }

                    function Lt(t) { t.Z = !1, t.L && (t.a.clearTimeout(t.L), t.L = null) }

                    function Ft(t, e, n) {
                        if ("function" == l(t)) n && (t = g(t, n));
                        else {
                            if (!t || "function" != typeof t.handleEvent) throw Error("Invalid listener argument");
                            t = g(t.handleEvent, t)
                        }
                        return 2147483647 < Number(e) ? -1 : a.setTimeout(t, e || 0)
                    }

                    function jt(t, e, n) { b.call(this), this.f = null != n ? g(t, n) : t, this.c = e, this.b = g(this.Pa, this), this.a = [] }

                    function Ut(t) { t.T = Ft(t.b, t.c), t.f.apply(null, t.a) }

                    function Vt(t) { b.call(this), this.b = t, this.a = {} }
                    _(Mt, Et), (i = Mt.prototype).Z = !1, i.L = null, i.Ua = function() {
                        if (this.Z) {
                            var t = v() - this.g;
                            0 < t && t < .8 * this.b ? this.L = this.a.setTimeout(this.f, this.b - t) : (this.L && (this.a.clearTimeout(this.L), this.L = null), this.dispatchEvent("tick"), this.Z && (Lt(this), this.start()))
                        }
                    }, i.start = function() { this.Z = !0, this.L || (this.L = this.a.setTimeout(this.f, this.b), this.g = v()) }, i.C = function() { Mt.M.C.call(this), Lt(this), delete this.a }, _(jt, b), (i = jt.prototype).ba = !1, i.T = null, i.Ia = function(t) { this.a = arguments, this.T ? this.ba = !0 : Ut(this) }, i.C = function() { jt.M.C.call(this), this.T && (a.clearTimeout(this.T), this.T = null, this.ba = !1, this.a = []) }, i.Pa = function() { this.T = null, this.ba && (this.ba = !1, Ut(this)) }, _(Vt, b);
                    var Bt = [];

                    function qt(t, e, n, r) {
                        Array.isArray(n) || (n && (Bt[0] = n.toString()), n = Bt);
                        for (var i = 0; i < n.length; i++) {
                            var o = pt(e, n[i], r || t.handleEvent, !1, t.b || t);
                            if (!o) break;
                            t.a[o.key] = o
                        }
                    }

                    function Ht(t) { N(t.a, (function(t, e) { this.a.hasOwnProperty(e) && mt(t) }), t), t.a = {} }

                    function Wt() {}
                    Vt.prototype.C = function() { Vt.M.C.call(this), Ht(this) }, Vt.prototype.handleEvent = function() { throw Error("EventHandler.handleEvent not implemented") };
                    var zt = null;

                    function Gt() { return zt = zt || new Et }

                    function $t(t) { et.call(this, "serverreachability", t) }

                    function Kt(t) {
                        var e = Gt();
                        e.dispatchEvent(new $t(e, t))
                    }

                    function Yt(t) { et.call(this, "statevent", t) }

                    function Xt(t) {
                        var e = Gt();
                        e.dispatchEvent(new Yt(e, t))
                    }

                    function Qt(t) { et.call(this, "timingevent", t) }

                    function Zt(t, e) { if ("function" != l(t)) throw Error("Fn must not be null and must be a function"); return a.setTimeout((function() { t() }), e) }
                    _($t, et), _(Yt, et), _(Qt, et);
                    var Jt = { NO_ERROR: 0, Va: 1, bb: 2, ab: 3, Ya: 4, $a: 5, cb: 6, za: 7, TIMEOUT: 8, gb: 9 },
                        te = { Xa: "complete", kb: "success", Aa: "error", za: "abort", ib: "ready", jb: "readystatechange", TIMEOUT: "timeout", eb: "incrementaldata", hb: "progress", Za: "downloadprogress", lb: "uploadprogress" };

                    function ee() {}

                    function ne() {}
                    ee.prototype.a = null;
                    var re, ie = { OPEN: "a", Wa: "b", Aa: "c", fb: "d" };

                    function oe() { et.call(this, "d") }

                    function se() { et.call(this, "c") }

                    function ae() {}

                    function ce(t, e, n) { this.g = t, this.W = e, this.U = n || 1, this.G = new Vt(this), this.N = le, this.O = new Mt(t = q ? 125 : void 0), this.m = null, this.b = !1, this.j = this.A = this.f = this.B = this.s = this.P = this.h = null, this.i = [], this.a = null, this.w = 0, this.c = this.v = null, this.H = -1, this.l = !1, this.J = 0, this.D = null, this.o = this.R = this.F = !1 }
                    _(oe, et), _(se, et), _(ae, ee), re = new ae;
                    var le = 45e3,
                        ue = {},
                        he = {};

                    function de(t, e, n) { t.B = 1, t.f = Pe(Ie(e)), t.j = n, t.F = !0, pe(t, null) }

                    function pe(t, e) {
                        t.s = v(), ge(t), t.A = Ie(t.f);
                        var n = t.A,
                            r = t.U;
                        Array.isArray(r) || (r = [String(r)]), $e(n.b, "t", r), t.w = 0, t.a = Un(t.g, t.g.w ? e : null), 0 < t.J && (t.D = new jt(g(t.ya, t, t.a), t.J)), qt(t.G, t.a, "readystatechange", t.Sa), e = t.m ? D(t.m) : {}, t.j ? (t.v || (t.v = "POST"), e["Content-Type"] = "application/x-www-form-urlencoded", t.a.$(t.A, t.v, t.j, e)) : (t.v = "GET", t.a.$(t.A, t.v, null, e)), Kt(1)
                    }

                    function fe(t, e, n) {
                        for (var r = !0; !t.l && t.w < n.length;) {
                            var i = me(t, n);
                            if (i == he) { 4 == e && (t.c = 4, Xt(14), r = !1); break }
                            if (i == ue) { t.c = 4, Xt(15), r = !1; break }
                            we(t, i)
                        }
                        4 == e && 0 == n.length && (t.c = 1, Xt(16), r = !1), t.b = t.b && r, r || (be(t), _e(t))
                    }

                    function me(t, e) {
                        var n = t.w,
                            r = e.indexOf("\n", n);
                        return -1 == r ? he : (n = Number(e.substring(n, r)), isNaN(n) ? ue : (r += 1) + n > e.length ? he : (e = e.substr(r, n), t.w = r + n, e))
                    }

                    function ge(t) { t.P = v() + t.N, ye(t, t.N) }

                    function ye(t, e) {
                        if (null != t.h) throw Error("WatchDog timer not null");
                        t.h = Zt(g(t.Qa, t), e)
                    }

                    function ve(t) { t.h && (a.clearTimeout(t.h), t.h = null) }

                    function _e(t) { 0 == t.g.u || t.l || Pn(t.g, t) }

                    function be(t) {
                        ve(t);
                        var e = t.D;
                        e && "function" == typeof e.da && e.da(), t.D = null, Lt(t.O), Ht(t.G), t.a && (e = t.a, t.a = null, e.abort(), e.da())
                    }

                    function we(t, e) {
                        try {
                            var n = t.g;
                            if (0 != n.u && (n.a == t || tn(n.b, t)))
                                if (n.A = t.H, !t.o && tn(n.b, t) && 3 == n.u) {
                                    try { var r = n.ja.a.parse(e) } catch (m) { r = null }
                                    if (Array.isArray(r) && 3 == r.length) {
                                        var i = r;
                                        if (0 == i[0]) {
                                            t: if (!n.i) {
                                                if (n.a) {
                                                    if (!(n.a.s + 3e3 < t.s)) break t;
                                                    Dn(n), n.a.cancel(), n.a = null
                                                }
                                                Nn(n), Xt(18)
                                            }
                                        }
                                        else n.ia = i[1], 0 < n.ia - n.G && 37500 > i[2] && n.U && 0 == n.m && !n.l && (n.l = Zt(g(n.Na, n), 6e3));
                                        if (1 >= Je(n.b) && n.O) {
                                            try { n.O() } catch (m) {}
                                            n.O = void 0
                                        }
                                    } else Ln(n, 11)
                                } else if ((t.o || n.a == t) && Dn(n), !x(e))
                                for (e = r = n.ja.a.parse(e), r = 0; r < e.length; r++)
                                    if (n.G = (i = e[r])[0], i = i[1], 2 == n.u)
                                        if ("c" == i[0]) {
                                            n.B = i[1], n.R = i[2];
                                            var o = i[3];
                                            null != o && (n.oa = o);
                                            var s = i[5];
                                            null != s && "number" == typeof s && 0 < s && (n.D = 1.5 * s);
                                            var a = n,
                                                c = t.a;
                                            if (c) {
                                                var l = c.a ? c.a.getResponseHeader("X-Client-Wire-Protocol") : null;
                                                if (l) { var u = a.b;!u.a && (I(l, "spdy") || I(l, "quic") || I(l, "h2")) && (u.f = u.g, u.a = new Set, u.b && (en(u, u.b), u.b = null)) }
                                                if (a.s) {
                                                    var h = c.a ? c.a.getResponseHeader("X-HTTP-Session-Id") : null;
                                                    h && (a.ha = h, De(a.v, a.s, h))
                                                }
                                            }
                                            n.u = 3, n.c && n.c.na();
                                            var d = t;
                                            if ((a = n).ea = jn(a, a.w ? a.R : null, a.P), d.o) {
                                                nn(a.b, d);
                                                var p = d,
                                                    f = a.D;
                                                f && p.setTimeout(f), p.h && (ve(p), ge(p)), a.a = d
                                            } else On(a);
                                            0 < n.f.length && kn(n)
                                        } else "stop" != i[0] && "close" != i[0] || Ln(n, 7);
                            else 3 == n.u && ("stop" == i[0] || "close" == i[0] ? "stop" == i[0] ? Ln(n, 7) : Cn(n) : "noop" != i[0] && n.c && n.c.ma(i), n.m = 0);
                            Kt(4)
                        } catch (m) {}
                    }

                    function Ee(t, e) {
                        if (t.forEach && "function" == typeof t.forEach) t.forEach(e, void 0);
                        else if (u(t) || "string" == typeof t) E(t, e, void 0);
                        else {
                            if (t.K && "function" == typeof t.K) var n = t.K();
                            else if (t.I && "function" == typeof t.I) n = void 0;
                            else if (u(t) || "string" == typeof t) { n = []; for (var r = t.length, i = 0; i < r; i++) n.push(i) } else
                                for (i in n = [], r = 0, t) n[r++] = i;
                            i = (r = function(t) { if (t.I && "function" == typeof t.I) return t.I(); if ("string" == typeof t) return t.split(""); if (u(t)) { for (var e = [], n = t.length, r = 0; r < n; r++) e.push(t[r]); return e } for (r in e = [], n = 0, t) e[n++] = t[r]; return e }(t)).length;
                            for (var o = 0; o < i; o++) e.call(void 0, r[o], n && n[o], t)
                        }
                    }

                    function Se(t, e) {
                        this.b = {}, this.a = [], this.c = 0;
                        var n = arguments.length;
                        if (1 < n) { if (n % 2) throw Error("Uneven number of arguments"); for (var r = 0; r < n; r += 2) this.set(arguments[r], arguments[r + 1]) } else if (t)
                            if (t instanceof Se)
                                for (n = t.K(), r = 0; r < n.length; r++) this.set(n[r], t.get(n[r]));
                            else
                                for (r in t) this.set(r, t[r])
                    }

                    function Ce(t) {
                        if (t.c != t.a.length) {
                            for (var e = 0, n = 0; e < t.a.length;) {
                                var r = t.a[e];
                                xe(t.b, r) && (t.a[n++] = r), e++
                            }
                            t.a.length = n
                        }
                        if (t.c != t.a.length) {
                            var i = {};
                            for (n = e = 0; e < t.a.length;) xe(i, r = t.a[e]) || (t.a[n++] = r, i[r] = 1), e++;
                            t.a.length = n
                        }
                    }

                    function xe(t, e) { return Object.prototype.hasOwnProperty.call(t, e) }(i = ce.prototype).setTimeout = function(t) { this.N = t }, i.Sa = function(t) {
                        t = t.target;
                        var e = this.D;
                        e && 3 == bn(t) ? e.Ia() : this.ya(t)
                    }, i.ya = function(t) {
                        try {
                            if (t == this.a) t: {
                                var e = bn(this.a),
                                    n = this.a.qa(),
                                    r = this.a.S();
                                if (!(3 > e || 3 == e && !q && !this.a.Y())) {
                                    this.l || 4 != e || 7 == n || Kt(8 == n || 0 >= r ? 3 : 2), ve(this);
                                    var i = this.a.S();
                                    this.H = i;
                                    var o = this.a.Y();
                                    if (this.b = 200 == i) {
                                        if (this.R && !this.o) {
                                            e: {
                                                if (this.a) { var s, a = this.a; if ((s = a.a ? a.a.getResponseHeader("X-HTTP-Initial-Response") : null) && !x(s)) { var c = s; break e } }
                                                c = null
                                            }
                                            if (!c) { this.b = !1, this.c = 3, Xt(12), be(this), _e(this); break t }
                                            this.o = !0,
                                            we(this, c)
                                        }
                                        this.F ? (fe(this, e, o), q && this.b && 3 == e && (qt(this.G, this.O, "tick", this.Ra), this.O.start())) : we(this, o), 4 == e && be(this), this.b && !this.l && (4 == e ? Pn(this.g, this) : (this.b = !1, ge(this)))
                                    } else 400 == i && 0 < o.indexOf("Unknown SID") ? (this.c = 3, Xt(12)) : (this.c = 0, Xt(13)), be(this), _e(this)
                                }
                            }
                        } catch (l) {}
                    }, i.Ra = function() {
                        if (this.a) {
                            var t = bn(this.a),
                                e = this.a.Y();
                            this.w < e.length && (ve(this), fe(this, t, e), this.b && 4 != t && ge(this))
                        }
                    }, i.cancel = function() { this.l = !0, be(this) }, i.Qa = function() {
                        this.h = null;
                        var t = v();
                        0 <= t - this.P ? (2 != this.B && (Kt(3), Xt(17)), be(this), this.c = 2, _e(this)) : ye(this, this.P - t)
                    }, (i = Se.prototype).I = function() { Ce(this); for (var t = [], e = 0; e < this.a.length; e++) t.push(this.b[this.a[e]]); return t }, i.K = function() { return Ce(this), this.a.concat() }, i.get = function(t, e) { return xe(this.b, t) ? this.b[t] : e }, i.set = function(t, e) { xe(this.b, t) || (this.c++, this.a.push(t)), this.b[t] = e }, i.forEach = function(t, e) {
                        for (var n = this.K(), r = 0; r < n.length; r++) {
                            var i = n[r],
                                o = this.get(i);
                            t.call(e, o, i, this)
                        }
                    };
                    var Te = /^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;

                    function ke(t, e) {
                        if (this.c = this.j = this.f = "", this.h = null, this.i = this.g = "", this.a = !1, t instanceof ke) {
                            this.a = void 0 !== e ? e : t.a, Ae(this, t.f), this.j = t.j, Re(this, t.c), Oe(this, t.h), this.g = t.g, e = t.b;
                            var n = new He;
                            n.c = e.c, e.a && (n.a = new Se(e.a), n.b = e.b), Ne(this, n), this.i = t.i
                        } else t && (n = String(t).match(Te)) ? (this.a = !!e, Ae(this, n[1] || "", !0), this.j = Me(n[2] || ""), Re(this, n[3] || "", !0), Oe(this, n[4]), this.g = Me(n[5] || "", !0), Ne(this, n[6] || "", !0), this.i = Me(n[7] || "")) : (this.a = !!e, this.b = new He(null, this.a))
                    }

                    function Ie(t) { return new ke(t) }

                    function Ae(t, e, n) { t.f = n ? Me(e, !0) : e, t.f && (t.f = t.f.replace(/:$/, "")) }

                    function Re(t, e, n) { t.c = n ? Me(e, !0) : e }

                    function Oe(t, e) {
                        if (e) {
                            if (e = Number(e), isNaN(e) || 0 > e) throw Error("Bad port number " + e);
                            t.h = e
                        } else t.h = null
                    }

                    function Ne(t, e, n) {
                        e instanceof He ? (t.b = e, function(t, e) {
                            e && !t.f && (We(t), t.c = null, t.a.forEach((function(t, e) {
                                var n = e.toLowerCase();
                                e != n && (ze(this, e), $e(this, n, t))
                            }), t)), t.f = e
                        }(t.b, t.a)) : (n || (e = Le(e, Be)), t.b = new He(e, t.a))
                    }

                    function De(t, e, n) { t.b.set(e, n) }

                    function Pe(t) { return De(t, "zx", Math.floor(2147483648 * Math.random()).toString(36) + Math.abs(Math.floor(2147483648 * Math.random()) ^ v()).toString(36)), t }

                    function Me(t, e) { return t ? e ? decodeURI(t.replace(/%25/g, "%2525")) : decodeURIComponent(t) : "" }

                    function Le(t, e, n) { return "string" == typeof t ? (t = encodeURI(t).replace(e, Fe), n && (t = t.replace(/%25([0-9a-fA-F]{2})/g, "%$1")), t) : null }

                    function Fe(t) { return "%" + ((t = t.charCodeAt(0)) >> 4 & 15).toString(16) + (15 & t).toString(16) }
                    ke.prototype.toString = function() {
                        var t = [],
                            e = this.f;
                        e && t.push(Le(e, je, !0), ":");
                        var n = this.c;
                        return (n || "file" == e) && (t.push("//"), (e = this.j) && t.push(Le(e, je, !0), "@"), t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g, "%$1")), null != (n = this.h) && t.push(":", String(n))), (n = this.g) && (this.c && "/" != n.charAt(0) && t.push("/"), t.push(Le(n, "/" == n.charAt(0) ? Ve : Ue, !0))), (n = this.b.toString()) && t.push("?", n), (n = this.i) && t.push("#", Le(n, qe)), t.join("")
                    };
                    var je = /[#\/\?@]/g,
                        Ue = /[#\?:]/g,
                        Ve = /[#\?]/g,
                        Be = /[#\?@]/g,
                        qe = /#/g;

                    function He(t, e) { this.b = this.a = null, this.c = t || null, this.f = !!e }

                    function We(t) {
                        t.a || (t.a = new Se, t.b = 0, t.c && function(t, e) {
                            if (t) {
                                t = t.split("&");
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n].indexOf("="),
                                        i = null;
                                    if (0 <= r) {
                                        var o = t[n].substring(0, r);
                                        i = t[n].substring(r + 1)
                                    } else o = t[n];
                                    e(o, i ? decodeURIComponent(i.replace(/\+/g, " ")) : "")
                                }
                            }
                        }(t.c, (function(e, n) { t.add(decodeURIComponent(e.replace(/\+/g, " ")), n) })))
                    }

                    function ze(t, e) { We(t), e = Ke(t, e), xe(t.a.b, e) && (t.c = null, t.b -= t.a.get(e).length, xe((t = t.a).b, e) && (delete t.b[e], t.c--, t.a.length > 2 * t.c && Ce(t))) }

                    function Ge(t, e) { return We(t), e = Ke(t, e), xe(t.a.b, e) }

                    function $e(t, e, n) { ze(t, e), 0 < n.length && (t.c = null, t.a.set(Ke(t, e), C(n)), t.b += n.length) }

                    function Ke(t, e) { return e = String(e), t.f && (e = e.toLowerCase()), e }

                    function Ye(t, e) { this.b = t, this.a = e }

                    function Xe(t) { this.g = t || Qe, t = a.PerformanceNavigationTiming ? 0 < (t = a.performance.getEntriesByType("navigation")).length && ("hq" == t[0].nextHopProtocol || "h2" == t[0].nextHopProtocol) : !!(a.ca && a.ca.ua && a.ca.ua() && a.ca.ua().mb), this.f = t ? this.g : 1, this.a = null, 1 < this.f && (this.a = new Set), this.b = null, this.c = [] }(i = He.prototype).add = function(t, e) { We(this), this.c = null, t = Ke(this, t); var n = this.a.get(t); return n || this.a.set(t, n = []), n.push(e), this.b += 1, this }, i.forEach = function(t, e) { We(this), this.a.forEach((function(n, r) { E(n, (function(n) { t.call(e, n, r, this) }), this) }), this) }, i.K = function() {
                        We(this);
                        for (var t = this.a.I(), e = this.a.K(), n = [], r = 0; r < e.length; r++)
                            for (var i = t[r], o = 0; o < i.length; o++) n.push(e[r]);
                        return n
                    }, i.I = function(t) {
                        We(this);
                        var e = [];
                        if ("string" == typeof t) Ge(this, t) && (e = S(e, this.a.get(Ke(this, t))));
                        else { t = this.a.I(); for (var n = 0; n < t.length; n++) e = S(e, t[n]) }
                        return e
                    }, i.set = function(t, e) { return We(this), this.c = null, Ge(this, t = Ke(this, t)) && (this.b -= this.a.get(t).length), this.a.set(t, [e]), this.b += 1, this }, i.get = function(t, e) { return t && 0 < (t = this.I(t)).length ? String(t[0]) : e }, i.toString = function() {
                        if (this.c) return this.c;
                        if (!this.a) return "";
                        for (var t = [], e = this.a.K(), n = 0; n < e.length; n++) {
                            var r = e[n],
                                i = encodeURIComponent(String(r));
                            r = this.I(r);
                            for (var o = 0; o < r.length; o++) { var s = i; "" !== r[o] && (s += "=" + encodeURIComponent(String(r[o]))), t.push(s) }
                        }
                        return this.c = t.join("&")
                    };
                    var Qe = 10;

                    function Ze(t) { return !!t.b || !!t.a && t.a.size >= t.f }

                    function Je(t) { return t.b ? 1 : t.a ? t.a.size : 0 }

                    function tn(t, e) { return t.b ? t.b == e : !!t.a && t.a.has(e) }

                    function en(t, e) { t.a ? t.a.add(e) : t.b = e }

                    function nn(t, e) { t.b && t.b == e ? t.b = null : t.a && t.a.has(e) && t.a.delete(e) }

                    function rn(t) { var e, n; if (null != t.b) return t.c.concat(t.b.i); if (null != t.a && 0 !== t.a.size) { var i = t.c; try { for (var o = r(t.a.values()), s = o.next(); !s.done; s = o.next()) i = i.concat(s.value.i) } catch (a) { e = { error: a } } finally { try { s && !s.done && (n = o.return) && n.call(o) } finally { if (e) throw e.error } } return i } return C(t.c) }

                    function on() {}

                    function sn() { this.a = new on }

                    function an(t, e, n) {
                        var r = n || "";
                        try {
                            Ee(t, (function(t, n) {
                                var i = t;
                                h(t) && (i = Ct(t)), e.push(r + n + "=" + encodeURIComponent(i))
                            }))
                        } catch (i) { throw e.push(r + "type=" + encodeURIComponent("_badmap")), i }
                    }

                    function cn(t, e, n, r, i) { try { e.onload = null, e.onerror = null, e.onabort = null, e.ontimeout = null, i(r) } catch (o) {} }
                    Xe.prototype.cancel = function() {
                        var t, e;
                        if (this.c = rn(this), this.b) this.b.cancel(), this.b = null;
                        else if (this.a && 0 !== this.a.size) {
                            try { for (var n = r(this.a.values()), i = n.next(); !i.done; i = n.next()) i.value.cancel() } catch (o) { t = { error: o } } finally { try { i && !i.done && (e = n.return) && e.call(n) } finally { if (t) throw t.error } }
                            this.a.clear()
                        }
                    }, on.prototype.stringify = function(t) { return a.JSON.stringify(t, void 0) }, on.prototype.parse = function(t) { return a.JSON.parse(t, void 0) };
                    var ln = a.JSON.parse;

                    function un(t) { Et.call(this), this.headers = new Se, this.G = t || null, this.b = !1, this.s = this.a = null, this.D = "", this.h = 0, this.f = "", this.g = this.w = this.l = this.v = !1, this.o = 0, this.m = null, this.H = hn, this.B = this.F = !1 }
                    _(un, Et);
                    var hn = "",
                        dn = /^https?$/i,
                        pn = ["POST", "PUT"];

                    function fn(t) { return "content-type" == t.toLowerCase() }

                    function mn(t, e) { t.b = !1, t.a && (t.g = !0, t.a.abort(), t.g = !1), t.f = e, t.h = 5, gn(t), vn(t) }

                    function gn(t) { t.v || (t.v = !0, t.dispatchEvent("complete"), t.dispatchEvent("error")) }

                    function yn(t) {
                        if (t.b && void 0 !== s && (!t.s[1] || 4 != bn(t) || 2 != t.S()))
                            if (t.l && 4 == bn(t)) Ft(t.va, 0, t);
                            else if (t.dispatchEvent("readystatechange"), 4 == bn(t)) {
                            t.b = !1;
                            try {
                                var e, n = t.S();
                                t: switch (n) {
                                    case 200:
                                    case 201:
                                    case 202:
                                    case 204:
                                    case 206:
                                    case 304:
                                    case 1223:
                                        var r = !0;
                                        break t;
                                    default:
                                        r = !1
                                }
                                if (!(e = r)) {
                                    var i;
                                    if (i = 0 === n) {
                                        var o = String(t.D).match(Te)[1] || null;
                                        if (!o && a.self && a.self.location) {
                                            var c = a.self.location.protocol;
                                            o = c.substr(0, c.length - 1)
                                        }
                                        i = !dn.test(o ? o.toLowerCase() : "")
                                    }
                                    e = i
                                }
                                if (e) t.dispatchEvent("complete"), t.dispatchEvent("success");
                                else {
                                    t.h = 6;
                                    try { var l = 2 < bn(t) ? t.a.statusText : "" } catch (u) { l = "" }
                                    t.f = l + " [" + t.S() + "]", gn(t)
                                }
                            } finally { vn(t) }
                        }
                    }

                    function vn(t, e) {
                        if (t.a) {
                            _n(t);
                            var n = t.a,
                                r = t.s[0] ? c : null;
                            t.a = null, t.s = null, e || t.dispatchEvent("ready");
                            try { n.onreadystatechange = r } catch (i) {}
                        }
                    }

                    function _n(t) { t.a && t.B && (t.a.ontimeout = null), t.m && (a.clearTimeout(t.m), t.m = null) }

                    function bn(t) { return t.a ? t.a.readyState : 0 }

                    function wn(t, e, n) {
                        t: {
                            for (r in n) { var r = !1; break t }
                            r = !0
                        }
                        r || (n = function(t) { var e = ""; return N(t, (function(t, n) { e += n, e += ":", e += t, e += "\r\n" })), e }(n), "string" == typeof t ? null != n && encodeURIComponent(String(n)) : De(t, e, n))
                    }

                    function En(t, e, n) { return n && n.internalChannelParams && n.internalChannelParams[t] || e }

                    function Sn(t) { this.f = [], this.R = this.ea = this.v = this.P = this.a = this.ha = this.s = this.N = this.h = this.F = this.j = null, this.Fa = this.H = 0, this.Ca = En("failFast", !1, t), this.U = this.l = this.i = this.g = this.c = null, this.W = !0, this.A = this.ia = this.G = -1, this.J = this.m = this.o = 0, this.Ba = En("baseRetryDelayMs", 5e3, t), this.Ga = En("retryDelaySeedMs", 1e4, t), this.Da = En("forwardChannelMaxRetries", 2, t), this.ga = En("forwardChannelRequestTimeoutMs", 2e4, t), this.Ea = t && t.nb || void 0, this.D = void 0, this.w = t && t.supportsCrossDomainXhr || !1, this.B = "", this.b = new Xe(t && t.concurrentRequestLimit), this.ja = new sn, this.fa = t && t.fastHandshake || !1, t && t.forceLongPolling && (this.W = !1), this.O = void 0 }

                    function Cn(t) {
                        if (xn(t), 3 == t.u) {
                            var e = t.H++,
                                n = Ie(t.v);
                            De(n, "SID", t.B), De(n, "RID", e), De(n, "TYPE", "terminate"), An(t, n), (e = new ce(t, e, void 0)).B = 2, e.f = Pe(Ie(n)), n = !1, a.navigator && a.navigator.sendBeacon && (n = a.navigator.sendBeacon(e.f.toString(), "")), !n && a.Image && ((new Image).src = e.f, n = !0), n || (e.a = Un(e.g, null), e.a.$(e.f)), e.s = v(), ge(e)
                        }
                        Fn(t)
                    }

                    function xn(t) { t.a && (t.a.cancel(), t.a = null), t.i && (a.clearTimeout(t.i), t.i = null), Dn(t), t.b.cancel(), t.g && ("number" == typeof t.g && a.clearTimeout(t.g), t.g = null) }

                    function Tn(t, e) { t.f.push(new Ye(t.Fa++, e)), 3 == t.u && kn(t) }

                    function kn(t) { Ze(t.b) || t.g || (t.g = !0, Ot(t.xa, t), t.o = 0) }

                    function In(t, e) {
                        var n;
                        n = e ? e.W : t.H++;
                        var r = Ie(t.v);
                        De(r, "SID", t.B), De(r, "RID", n), De(r, "AID", t.G), An(t, r), t.h && t.j && wn(r, t.h, t.j), n = new ce(t, n, t.o + 1), null === t.h && (n.m = t.j), e && (t.f = e.i.concat(t.f)), e = Rn(t, n, 1e3), n.setTimeout(Math.round(.5 * t.ga) + Math.round(.5 * t.ga * Math.random())), en(t.b, n), de(n, r, e)
                    }

                    function An(t, e) { t.c && Ee({}, (function(t, n) { De(e, n, t) })) }

                    function Rn(t, e, n) {
                        n = Math.min(t.f.length, n);
                        var r = t.c ? g(t.c.Ha, t.c, t) : null;
                        t: for (var i = t.f, o = -1;;) {
                            var s = ["count=" + n]; - 1 == o ? 0 < n ? s.push("ofs=" + (o = i[0].b)) : o = 0 : s.push("ofs=" + o);
                            for (var a = !0, c = 0; c < n; c++) {
                                var l = i[c].b,
                                    u = i[c].a;
                                if (0 > (l -= o)) o = Math.max(0, i[c].b - 100), a = !1;
                                else try { an(u, s, "req" + l + "_") } catch (h) { r && r(u) }
                            }
                            if (a) { r = s.join("&"); break t }
                        }
                        return t = t.f.splice(0, n), e.i = t, r
                    }

                    function On(t) { t.a || t.i || (t.J = 1, Ot(t.wa, t), t.m = 0) }

                    function Nn(t) { return !(t.a || t.i || 3 <= t.m || (t.J++, t.i = Zt(g(t.wa, t), Mn(t, t.m)), t.m++, 0)) }

                    function Dn(t) { null != t.l && (a.clearTimeout(t.l), t.l = null) }

                    function Pn(t, e) {
                        var n = null;
                        if (t.a == e) { Dn(t), t.a = null; var r = 2 } else {
                            if (!tn(t.b, e)) return;
                            n = e.i, nn(t.b, e), r = 1
                        }
                        if (t.A = e.H, 0 != t.u)
                            if (e.b)
                                if (1 == r) {
                                    n = e.j ? e.j.length : 0, e = v() - e.s;
                                    var i = t.o;
                                    (r = Gt()).dispatchEvent(new Qt(r, n, e, i)), kn(t)
                                } else On(t);
                        else if (3 == (i = e.c) || 0 == i && 0 < t.A || !(1 == r && function(t, e) { return !(Je(t.b) >= t.b.f - (t.g ? 1 : 0) || (t.g ? (t.f = e.i.concat(t.f), 0) : 1 == t.u || 2 == t.u || t.o >= (t.Ca ? 0 : t.Da) || (t.g = Zt(g(t.xa, t, e), Mn(t, t.o)), t.o++, 0))) }(t, e) || 2 == r && Nn(t))) switch (n && 0 < n.length && (e = t.b, e.c = e.c.concat(n)), i) {
                            case 1:
                                Ln(t, 5);
                                break;
                            case 4:
                                Ln(t, 10);
                                break;
                            case 3:
                                Ln(t, 6);
                                break;
                            default:
                                Ln(t, 2)
                        }
                    }

                    function Mn(t, e) { var n = t.Ba + Math.floor(Math.random() * t.Ga); return t.c || (n *= 2), n * e }

                    function Ln(t, e) {
                        if (2 == e) {
                            var n = null;
                            t.c && (n = null);
                            var r = g(t.Ta, t);
                            n || (n = new ke("//www.google.com/images/cleardot.gif"), a.location && "http" == a.location.protocol || Ae(n, "https"), Pe(n)),
                                function(t, e) {
                                    var n = new Wt;
                                    if (a.Image) {
                                        var r = new Image;
                                        r.onload = y(cn, n, r, "TestLoadImage: loaded", !0, e), r.onerror = y(cn, n, r, "TestLoadImage: error", !1, e), r.onabort = y(cn, n, r, "TestLoadImage: abort", !1, e), r.ontimeout = y(cn, n, r, "TestLoadImage: timeout", !1, e), a.setTimeout((function() { r.ontimeout && r.ontimeout() }), 1e4), r.src = t
                                    } else e(!1)
                                }(n.toString(), r)
                        } else Xt(2);
                        t.u = 0, t.c && t.c.la(e), Fn(t), xn(t)
                    }

                    function Fn(t) { t.u = 0, t.A = -1, t.c && (0 == rn(t.b).length && 0 == t.f.length || (t.b.c.length = 0, C(t.f), t.f.length = 0), t.c.ka()) }

                    function jn(t, e, n) {
                        var r = function(t) { return t instanceof ke ? Ie(t) : new ke(t, void 0) }(n);
                        if ("" != r.c) e && Re(r, e + "." + r.c), Oe(r, r.h);
                        else {
                            var i = a.location;
                            r = function(t, e, n, r) { var i = new ke(null, void 0); return t && Ae(i, t), e && Re(i, e), n && Oe(i, n), r && (i.g = r), i }(i.protocol, e ? e + "." + i.hostname : i.hostname, +i.port, n)
                        }
                        return t.N && N(t.N, (function(t, e) { De(r, e, t) })), n = t.ha, (e = t.s) && n && De(r, e, n), De(r, "VER", t.oa), An(t, r), r
                    }

                    function Un(t, e) { if (e && !t.w) throw Error("Can't create secondary domain capable XhrIo object."); return (e = new un(t.Ea)).F = t.w, e }

                    function Vn() {}

                    function Bn() { if (V && !(10 <= Number(Q))) throw Error("Environmental error: no available transport.") }

                    function qn(t, e) { Et.call(this), this.a = new Sn(e), this.l = t, this.b = e && e.messageUrlParams || null, t = e && e.messageHeaders || null, e && e.clientProtocolHeaderRequired && (t ? t["X-Client-Protocol"] = "webchannel" : t = { "X-Client-Protocol": "webchannel" }), this.a.j = t, t = e && e.initMessageHeaders || null, e && e.messageContentType && (t ? t["X-WebChannel-Content-Type"] = e.messageContentType : t = { "X-WebChannel-Content-Type": e.messageContentType }), e && e.pa && (t ? t["X-WebChannel-Client-Profile"] = e.pa : t = { "X-WebChannel-Client-Profile": e.pa }), this.a.F = t, (t = e && e.httpHeadersOverwriteParam) && !x(t) && (this.a.h = t), this.h = e && e.supportsCrossDomainXhr || !1, this.g = e && e.sendRawJson || !1, (e = e && e.httpSessionIdParam) && !x(e) && (this.a.s = e, null !== (t = this.b) && e in t && e in (t = this.b) && delete t[e]), this.f = new zn(this) }

                    function Hn(t) {
                        oe.call(this);
                        var e = t.__sm__;
                        if (e) {
                            t: {
                                for (var n in e) { t = n; break t }
                                t = void 0
                            }(this.c = t) ? (t = this.c, this.data = null !== e && t in e ? e[t] : void 0) : this.data = e
                        }
                        else this.data = t
                    }

                    function Wn() { se.call(this), this.status = 1 }

                    function zn(t) { this.a = t }(i = un.prototype).$ = function(t, e, n, r) {
                        if (this.a) throw Error("[goog.net.XhrIo] Object is active with another request=" + this.D + "; newUri=" + t);
                        e = e ? e.toUpperCase() : "GET", this.D = t, this.f = "", this.h = 0, this.v = !1, this.b = !0, this.a = new XMLHttpRequest, this.s = function(t) { var e; return (e = t.a) || (e = t.a = {}), e }(this.G ? this.G : re), this.a.onreadystatechange = g(this.va, this);
                        try { this.w = !0, this.a.open(e, String(t), !0), this.w = !1 } catch (o) { return void mn(this, o) }
                        t = n || "";
                        var i = new Se(this.headers);
                        r && Ee(r, (function(t, e) { i.set(e, t) })), r = function(t) {
                            t: {
                                for (var e = fn, n = t.length, r = "string" == typeof t ? t.split("") : t, i = 0; i < n; i++)
                                    if (i in r && e.call(void 0, r[i], i, t)) { e = i; break t }
                                e = -1
                            }
                            return 0 > e ? null : "string" == typeof t ? t.charAt(e) : t[e]
                        }(i.K()), n = a.FormData && t instanceof a.FormData, !(0 <= w(pn, e)) || r || n || i.set("Content-Type", "application/x-www-form-urlencoded;charset=utf-8"), i.forEach((function(t, e) { this.a.setRequestHeader(e, t) }), this), this.H && (this.a.responseType = this.H), "withCredentials" in this.a && this.a.withCredentials !== this.F && (this.a.withCredentials = this.F);
                        try { _n(this), 0 < this.o && ((this.B = function(t) { return V && X(9) && "number" == typeof t.timeout && void 0 !== t.ontimeout }(this.a)) ? (this.a.timeout = this.o, this.a.ontimeout = g(this.ta, this)) : this.m = Ft(this.ta, this.o, this)), this.l = !0, this.a.send(t), this.l = !1 } catch (o) { mn(this, o) }
                    }, i.ta = function() { void 0 !== s && this.a && (this.f = "Timed out after " + this.o + "ms, aborting", this.h = 8, this.dispatchEvent("timeout"), this.abort(8)) }, i.abort = function(t) { this.a && this.b && (this.b = !1, this.g = !0, this.a.abort(), this.g = !1, this.h = t || 7, this.dispatchEvent("complete"), this.dispatchEvent("abort"), vn(this)) }, i.C = function() { this.a && (this.b && (this.b = !1, this.g = !0, this.a.abort(), this.g = !1), vn(this, !0)), un.M.C.call(this) }, i.va = function() { this.j || (this.w || this.l || this.g ? yn(this) : this.Oa()) }, i.Oa = function() { yn(this) }, i.S = function() { try { return 2 < bn(this) ? this.a.status : -1 } catch (j) { return -1 } }, i.Y = function() { try { return this.a ? this.a.responseText : "" } catch (j) { return "" } }, i.Ja = function(t) { if (this.a) { var e = this.a.responseText; return t && 0 == e.indexOf(t) && (e = e.substring(t.length)), ln(e) } }, i.qa = function() { return this.h }, i.Ma = function() { return "string" == typeof this.f ? this.f : String(this.f) }, (i = Sn.prototype).oa = 8, i.u = 1, i.xa = function(t) {
                        if (this.g)
                            if (this.g = null, 1 == this.u) {
                                if (!t) {
                                    this.H = Math.floor(1e5 * Math.random());
                                    var e, n = new ce(this, t = this.H++, void 0),
                                        r = this.j;
                                    if (this.F && (r ? M(r = D(r), this.F) : r = this.F), null === this.h && (n.m = r), this.fa) t: {
                                        for (var i = e = 0; i < this.f.length; i++) { var o = this.f[i]; if (void 0 === (o = "__data__" in o.a && "string" == typeof(o = o.a.__data__) ? o.length : void 0)) break; if (4096 < (e += o)) { e = i; break t } if (4096 === e || i === this.f.length - 1) { e = i + 1; break t } }
                                        e = 1e3
                                    }
                                    else e = 1e3;
                                    e = Rn(this, n, e), De(i = Ie(this.v), "RID", t), De(i, "CVER", 22), this.s && De(i, "X-HTTP-Session-Id", this.s), An(this, i), this.h && r && wn(i, this.h, r), en(this.b, n), this.fa ? (De(i, "$req", e), De(i, "SID", "null"), n.R = !0, de(n, i, null)) : de(n, i, e), this.u = 2
                                }
                            } else 3 == this.u && (t ? In(this, t) : 0 == this.f.length || Ze(this.b) || In(this))
                    }, i.wa = function() {
                        this.i = null, this.a = new ce(this, "rpc", this.J), null === this.h && (this.a.m = this.j), this.a.J = 0;
                        var t = Ie(this.ea);
                        De(t, "RID", "rpc"), De(t, "SID", this.B), De(t, "CI", this.U ? "0" : "1"), De(t, "AID", this.G), An(this, t), De(t, "TYPE", "xmlhttp"), this.h && this.j && wn(t, this.h, this.j), this.D && this.a.setTimeout(this.D);
                        var e = this.a,
                            n = this.R;
                        e.B = 1, e.f = Pe(Ie(t)), e.j = null, e.F = !0, pe(e, n)
                    }, i.Na = function() { null != this.l && (this.l = null, this.a.cancel(), this.a = null, Nn(this), Xt(19)) }, i.Ta = function(t) { Xt(t ? 2 : 1) }, (i = Vn.prototype).na = function() {}, i.ma = function() {}, i.la = function() {}, i.ka = function() {}, i.Ha = function() {}, Bn.prototype.a = function(t, e) { return new qn(t, e) }, _(qn, Et), (i = qn.prototype).addEventListener = function(t, e, n, r) { qn.M.addEventListener.call(this, t, e, n, r) }, i.removeEventListener = function(t, e, n, r) { qn.M.removeEventListener.call(this, t, e, n, r) }, i.Ka = function() {
                        this.a.c = this.f, this.h && (this.a.w = !0);
                        var t = this.a,
                            e = this.l,
                            n = this.b || void 0;
                        Xt(0), t.P = e, t.N = n || {}, t.U = t.W, t.v = jn(t, null, t.P), kn(t)
                    }, i.close = function() { Cn(this.a) }, i.La = function(t) {
                        if ("string" == typeof t) {
                            var e = {};
                            e.__data__ = t, Tn(this.a, e)
                        } else this.g ? ((e = {}).__data__ = Ct(t), Tn(this.a, e)) : Tn(this.a, t)
                    }, i.C = function() { this.a.c = null, delete this.f, Cn(this.a), delete this.a, qn.M.C.call(this) }, _(Hn, oe), _(Wn, se), _(zn, Vn), zn.prototype.na = function() { this.a.dispatchEvent("a") }, zn.prototype.ma = function(t) { this.a.dispatchEvent(new Hn(t)) }, zn.prototype.la = function(t) { this.a.dispatchEvent(new Wn(t)) }, zn.prototype.ka = function() { this.a.dispatchEvent("b") }, Bn.prototype.createWebChannel = Bn.prototype.a, qn.prototype.send = qn.prototype.La, qn.prototype.open = qn.prototype.Ka, qn.prototype.close = qn.prototype.close, Jt.NO_ERROR = 0, Jt.TIMEOUT = 8, Jt.HTTP_ERROR = 6, te.COMPLETE = "complete", ne.EventType = ie, ie.OPEN = "a", ie.CLOSE = "b", ie.ERROR = "c", ie.MESSAGE = "d", Et.prototype.listen = Et.prototype.ra, un.prototype.listenOnce = un.prototype.sa, un.prototype.getLastError = un.prototype.Ma, un.prototype.getLastErrorCode = un.prototype.qa, un.prototype.getStatus = un.prototype.S, un.prototype.getResponseJson = un.prototype.Ja, un.prototype.getResponseText = un.prototype.Y, un.prototype.send = un.prototype.$;
                    var Gn = { createWebChannelTransport: function() { return new Bn }, ErrorCode: Jt, EventType: te, WebChannel: ne, XhrIo: un },
                        $n = Gn.createWebChannelTransport,
                        Kn = Gn.ErrorCode,
                        Yn = Gn.EventType,
                        Xn = Gn.WebChannel,
                        Qn = Gn.XhrIo;
                    e.default = Gn
                },
                zUnb: function(t, e, n) {
                        "use strict";

                        function r(t) { return "function" == typeof t }
                        n.r(e);
                        let i = !1;
                        const o = {
                            Promise: void 0,
                            set useDeprecatedSynchronousErrorHandling(t) {
                                if (t) {
                                    const t = new Error;
                                    console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n" + t.stack)
                                } else i && console.log("RxJS: Back to a better error behavior. Thank you. <3");
                                i = t
                            },
                            get useDeprecatedSynchronousErrorHandling() { return i }
                        };

                        function s(t) { setTimeout(() => { throw t }, 0) }
                        const a = {
                                closed: !0,
                                next(t) {},
                                error(t) {
                                    if (o.useDeprecatedSynchronousErrorHandling) throw t;
                                    s(t)
                                },
                                complete() {}
                            },
                            c = (() => Array.isArray || (t => t && "number" == typeof t.length))();

                        function l(t) { return null !== t && "object" == typeof t }
                        const u = (() => {
                                    function t(t) { return Error.call(this), this.message = t ? `${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(i))try{i.call(this)}catch(s){e=s instanceof u?d(s.errors):[s]}if(c(o)){let t=-1,n=o.length;for(;++t<n;){const n=o[t];if(l(n))try{n.unsubscribe()}catch(s){e=e||[],s instanceof u?e=e.concat(d(s.errors)):e.push(s)}}}if(e)throw new u(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof u?e.errors:e),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof f?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,t,e,n)}}[p](){return this}static create(t,e,n){const r=new f(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class m extends f{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let s=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==a&&(s=Object.create(e),r(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const g=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(t){return t}function v(...t){return _(t)}function _(t){return 0===t.length?y:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}let b=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof f)return t;if(t[p])return t[p]()}return t||e||n?new f(t,e,n):new f(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof f?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=w(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[g](){return this}pipe(...t){return 0===t.length?this:_(t)(this)}toPromise(t){return new(t=w(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function w(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const E=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class S extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class C extends f{constructor(t){super(t),this.destination=t}}let x=(()=>{class t extends b{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new C(this)}lift(t){const e=new T(this,this);return e.operator=t,e}next(t){if(this.closed)throw new E;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new E;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new E;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new E;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new E;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new S(this,t))}asObservable(){const t=new b;return t.source=this,t}}return t.create=(t,e)=>new T(t,e),t})();class T extends x{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function k(t){return t&&"function"==typeof t.schedule}class I extends f{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const A=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function R(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const O=R(),N=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function D(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const P=t=>{if(t&&"function"==typeof t[g])return r=t,t=>{const e=r[g]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(N(t))return A(t);if(D(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,s),t);if(t&&"function"==typeof t[O])return e=t,t=>{const n=e[O]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=l(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}var e,n,r};function M(t,e,n,r,i=new I(t,n,r)){if(!i.closed)return e instanceof b?e.subscribe(i):P(e)(i)}class L extends f{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function F(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new j(t,e))}}class j{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new U(t,this.project,this.thisArg))}}class U extends f{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function V(t,e){return new b(n=>{const r=new h;let i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}function B(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[g]}(t))return function(t,e){return new b(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[g]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(D(t))return function(t,e){return new b(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(N(t))return V(t,e);if(function(t){return t&&"function"==typeof t[O]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new b(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[O](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof b?t:new b(P(t))}function q(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(q((n,r)=>B(t(n,r)).pipe(F((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new H(t,n)))}class H{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new W(t,this.project,this.concurrent))}}class W extends L{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new I(this,e,n),i=this.destination;i.add(r);const o=M(this,t,void 0,void 0,r);o!==r&&i.add(o)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function z(t=Number.POSITIVE_INFINITY){return q(y,t)}function G(t,e){return e?V(t,e):new b(A(t))}function $(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return k(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof b?t[0]:z(e)(G(t,n))}function K(){return function(t){return t.lift(new Y(t))}}class Y{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new X(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class X extends f{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class Q extends b{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new J(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return K()(this)}}const Z=(()=>{const t=Q.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class J extends C{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function tt(){return new x}function et(){return t=>{return K()((e=tt,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,Z);return r.source=t,r.subjectFactory=n,r})(t));var e}}function nt(t){return{toString:t}.toString()}function rt(t,e,n){return nt(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const it=rt("Inject",t=>({token:t})),ot=rt("Optional"),st=rt("Self"),at=rt("SkipSelf");var ct=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function lt(t){for(let e in t)if(t[e]===lt)return e;throw Error("Could not find renamed property on target object.")}function ut(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ht(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function dt(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function pt(t){return ft(t,t[gt])||ft(t,t[_t])}function ft(t,e){return e&&e.token===t?e:null}function mt(t){return t&&(t.hasOwnProperty(yt)||t.hasOwnProperty(bt))?t[yt]:null}const gt=lt({"\u0275prov":lt}),yt=lt({"\u0275inj":lt}),vt=lt({"\u0275provFallback":lt}),_t=lt({ngInjectableDef:lt}),bt=lt({ngInjectorDef:lt});function wt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(wt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Et(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const St=lt({__forward_ref__:lt});function Ct(t){return t.__forward_ref__=Ct,t.toString=function(){return wt(this())},t}function xt(t){return Tt(t)?t():t}function Tt(t){return"function"==typeof t&&t.hasOwnProperty(St)&&t.__forward_ref__===Ct}const kt="undefined"!=typeof globalThis&&globalThis,It="undefined"!=typeof window&&window,At="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Rt="undefined"!=typeof global&&global,Ot=kt||Rt||It||At,Nt=lt({"\u0275cmp":lt}),Dt=lt({"\u0275dir":lt}),Pt=lt({"\u0275pipe":lt}),Mt=lt({"\u0275mod":lt}),Lt=lt({"\u0275loc":lt}),Ft=lt({"\u0275fac":lt}),jt=lt({__NG_ELEMENT_ID__:lt});class Ut{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ht({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Vt=new Ut("INJECTOR",-1),Bt={},qt=/\n/gm,Ht=lt({provide:String,useValue:lt});let Wt,zt=void 0;function Gt(t){const e=zt;return zt=t,e}function $t(t){const e=Wt;return Wt=t,e}function Kt(t,e=ct.Default){if(void 0===zt)throw new Error("inject() must be called from an injection context");return null===zt?Qt(t,void 0,e):zt.get(t,e&ct.Optional?null:void 0,e)}function Yt(t,e=ct.Default){return(Wt||Kt)(xt(t),e)}const Xt=Yt;function Qt(t,e,n){const r=pt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&ct.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${wt(t)}]`)}function Zt(t){const e=[];for(let n=0;n<t.length;n++){const r=xt(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=ct.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof ot||"Optional"===i.ngMetadataName||i===ot?n|=ct.Optional:i instanceof at||"SkipSelf"===i.ngMetadataName||i===at?n|=ct.SkipSelf:i instanceof st||"Self"===i.ngMetadataName||i===st?n|=ct.Self:t=i instanceof it||i===it?i.token:i}e.push(Yt(t,n))}else e.push(Yt(r))}return e}class Jt{get(t,e=Bt){if(e===Bt){const e=new Error(`NullInjectorError: No provider for ${wt(t)}!`);throw e.name="NullInjectorError",e}return e}}class te{}class ee{}function ne(t,e){t.forEach(t=>Array.isArray(t)?ne(t,e):e(t))}function re(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ie(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function oe(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function se(t,e,n){let r=ce(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function ae(t,e){const n=ce(t,e);if(n>=0)return t[1|n]}function ce(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const le=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),ue=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),he={},de=[];let pe=0;function fe(t){return nt(()=>{const e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===le.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||de,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ue.Emulated,id:"c",styles:t.styles||de,_:null,setInput:null,schemas:t.schemas||null,tView:null},o=t.directives,s=t.features,a=t.pipes;return i.id+=pe++,i.inputs=_e(t.inputs,r),i.outputs=_e(t.outputs),s&&s.forEach(t=>t(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(me):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(ge):null,i})}function me(t){return Ee(t)||function(t){return t[Dt]||null}(t)}function ge(t){return function(t){return t[Pt]||null}(t)}const ye={};function ve(t){const e={type:t.type,bootstrap:t.bootstrap||de,declarations:t.declarations||de,imports:t.imports||de,exports:t.exports||de,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&nt(()=>{ye[t.id]=t.type}),e}function _e(t,e){if(null==t)return he;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const be=fe;function we(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ee(t){return t[Nt]||null}function Se(t,e){return t.hasOwnProperty(Ft)?t[Ft]:null}function Ce(t,e){const n=t[Mt]||null;if(!n&&!0===e)throw new Error(`Type ${wt(t)} does not have '\u0275mod' property.`);return n}function xe(t){return Array.isArray(t)&&"object"==typeof t[1]}function Te(t){return Array.isArray(t)&&!0===t[1]}function ke(t){return 0!=(8&t.flags)}function Ie(t){return 2==(2&t.flags)}function Ae(t){return 1==(1&t.flags)}function Re(t){return null!==t.template}function Oe(t){return 0!=(512&t[2])}let Ne=void 0;function De(t){return!!t.listen}const Pe={createRenderer:(t,e)=>void 0!==Ne?Ne:"undefined"!=typeof document?document:void 0};function Me(t){for(;Array.isArray(t);)t=t[0];return t}function Le(t,e){return Me(e[t+19])}function Fe(t,e){return Me(e[t.index])}function je(t,e){return t.data[e+19]}function Ue(t,e){return t[e+19]}function Ve(t,e){const n=e[t];return xe(n)?n:n[0]}function Be(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function qe(t){return 4==(4&t[2])}function He(t){return 128==(128&t[2])}function We(t,e){return null===t||null==e?null:t[e]}function ze(t){t[18]=0}const Ge={lFrame:dn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function $e(){return Ge.bindingsEnabled}function Ke(){return Ge.lFrame.lView}function Ye(){return Ge.lFrame.tView}function Xe(t){Ge.lFrame.contextLView=t}function Qe(){return Ge.lFrame.previousOrParentTNode}function Ze(t,e){Ge.lFrame.previousOrParentTNode=t,Ge.lFrame.isParent=e}function Je(){return Ge.lFrame.isParent}function tn(){Ge.lFrame.isParent=!1}function en(){return Ge.checkNoChangesMode}function nn(t){Ge.checkNoChangesMode=t}function rn(){const t=Ge.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function on(){return Ge.lFrame.bindingIndex++}function sn(t,e){const n=Ge.lFrame;n.bindingIndex=n.bindingRootIndex=t,n.currentDirectiveIndex=e}function an(){return Ge.lFrame.currentQueryIndex}function cn(t){Ge.lFrame.currentQueryIndex=t}function ln(t,e){const n=hn();Ge.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function un(t,e){const n=hn(),r=t[1];Ge.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function hn(){const t=Ge.lFrame,e=null===t?null:t.child;return null===e?dn(t):e}function dn(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function pn(){const t=Ge.lFrame;return Ge.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const fn=pn;function mn(){const t=pn();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function gn(){return Ge.lFrame.selectedIndex}function yn(t){Ge.lFrame.selectedIndex=t}function vn(){const t=Ge.lFrame;return je(t.tView,t.selectedIndex)}function _n(){Ge.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function bn(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function wn(t,e,n){Cn(t,e,3,n)}function En(t,e,n,r){(3&t[2])===n&&Cn(t,e,n,r)}function Sn(t,e){let n=t[2];(3&n)===e&&(n&=1023,n+=1,t[2]=n)}function Cn(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(xn(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function xn(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>10<t[18]>>16&&(3&t[2])===e&&(t[2]+=1024,o.call(s)):o.call(s)}class Tn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function kn(t,e,n){const r=De(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,s):e.setAttributeNS(s,a,c)}else{const s=o,a=n[++i];An(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function In(t){return 3===t||4===t||6===t}function An(t){return 64===t.charCodeAt(0)}function Rn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||On(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function On(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Nn(t){return-1!==t}function Dn(t){return 32767&t}function Pn(t){return t>>16}function Mn(t,e){let n=Pn(t),r=e;for(;n>0;)r=r[15],n--;return r}function Ln(t){return"string"==typeof t?t:null==t?"":""+t}function Fn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ln(t)}const jn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ot))();function Un(t){return t instanceof Function?t():t}let Vn=!0;function Bn(t){const e=Vn;return Vn=t,e}let qn=0;function Hn(t,e){const n=zn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Wn(r.data,t),Wn(e,null),Wn(r.blueprint,null));const i=Gn(t,e),o=t.injectorIndex;if(Nn(i)){const t=Dn(i),n=Mn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Wn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function zn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function Gn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function $n(t,e,n){!function(t,e,n){let r="string"!=typeof n?n[jt]:n.charCodeAt(0)||0;null==r&&(r=n[jt]=qn++);const i=255&r,o=1<<i,s=64&i,a=32&i,c=e.data;128&i?s?a?c[t+7]|=o:c[t+6]|=o:a?c[t+5]|=o:c[t+4]|=o:s?a?c[t+3]|=o:c[t+2]|=o:a?c[t+1]|=o:c[t]|=o}(t,e,n)}function Kn(t,e,n,r=ct.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[jt];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){ln(e,t);try{const t=i();if(null!=t||r&ct.Optional)return t;throw new Error(`No provider for ${Fn(n)}!`)}finally{fn()}}else if("number"==typeof i){if(-1===i)return new er(t,e);let o=null,s=zn(t,e),a=-1,c=r&ct.Host?e[16][6]:null;for((-1===s||r&ct.SkipSelf)&&(a=-1===s?Gn(t,e):e[s+8],tr(r,!1)?(o=e[1],s=Dn(a),e=Mn(a,e)):s=-1);-1!==s;){a=e[s+8];const t=e[1];if(Jn(i,s,t.data)){const t=Xn(s,e,n,o,r,c);if(t!==Yn)return t}tr(r,e[1].data[s+8]===c)&&Jn(i,s,e)?(o=t,s=Dn(a),e=Mn(a,e)):s=-1}}}if(r&ct.Optional&&void 0===i&&(i=null),0==(r&(ct.Self|ct.Host))){const t=e[9],o=$t(void 0);try{return t?t.get(n,i,r&ct.Optional):Qt(n,i,r&ct.Optional)}finally{$t(o)}}if(r&ct.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Fn(n)}]`)}const Yn={};function Xn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],c=Qn(a,s,n,null==r?Ie(a)&&Vn:r!=s&&3===a.type,i&ct.Host&&o===a);return null!==c?Zn(e,s,c,a):Yn}function Qn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=65535&o,c=t.directiveStart,l=o>>16,u=i?a+l:t.directiveEnd;for(let h=r?a:a+l;h<u;h++){const t=s[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(i){const t=s[c];if(t&&Re(t)&&t.type===n)return c}return null}function Zn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Tn){const s=i;if(s.resolving)throw new Error(`Circular dep for ${Fn(o[n])}`);const a=Bn(s.canSeeViewProviders);let c;s.resolving=!0,s.injectImpl&&(c=$t(s.injectImpl)),ln(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{onChanges:r,onInit:i,doCheck:o}=e;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{s.injectImpl&&$t(c),Bn(a),s.resolving=!1,fn()}}return i}function Jn(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function tr(t,e){return!(t&ct.Self||t&ct.Host&&e)}class er{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Kn(this._tNode,this._lView,t,void 0,e)}}function nr(t){return nt(()=>{const e=Object.getPrototypeOf(t.prototype).constructor,n=e[Ft]||function t(e){const n=e;if(Tt(e))return()=>{const e=t(xt(n));return e?e():null};let r=Se(n);if(null===r){const t=mt(n);r=t&&t.factory}return r||null}(e);return null!==n?n:t=>new t})}function rr(t){return t.ngDebugContext}function ir(t){return t.ngOriginalError}function or(t,...e){t.error(...e)}class sr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||or}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?rr(t)?rr(t):this._findContext(ir(t)):null}_findOriginalError(t){let e=ir(t);for(;e&&ir(e);)e=ir(e);return e}}class ar{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class cr extends ar{getTypeName(){return"HTML"}}class lr extends ar{getTypeName(){return"Style"}}class ur extends ar{getTypeName(){return"Script"}}class hr extends ar{getTypeName(){return"URL"}}class dr extends ar{getTypeName(){return"ResourceURL"}}function pr(t){return t instanceof ar?t.changingThisBreaksApplicationSecurity:t}function fr(t,e){const n=mr(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function mr(t){return t instanceof ar&&t.getTypeName()||null}let gr=!0,yr=!1;function vr(){return yr=!0,gr}class _r{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let e=this.inertDocument.body;if(null==e){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),e=this.inertDocument.createElement("body"),t.appendChild(e)}e.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!e.querySelector||e.querySelector("svg")?(e.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=e.querySelector&&e.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const br=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,wr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Er(t){return(t=String(t)).match(br)||t.match(wr)?t:(vr()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Sr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Cr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const xr=Sr("area,br,col,hr,img,wbr"),Tr=Sr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),kr=Sr("rp,rt"),Ir=Cr(kr,Tr),Ar=Cr(xr,Cr(Tr,Sr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Cr(kr,Sr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ir),Rr=Sr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Or=Sr("srcset"),Nr=Cr(Rr,Or,Sr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Sr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Dr=Sr("script,style,template");class Pr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Ar.hasOwnProperty(e))return this.sanitizedSomething=!0,!Dr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!Nr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Rr[o]&&(s=Er(s)),Or[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Er(t.trim())).join(", ")),this.buf.push(" ",e,'="',Fr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Ar.hasOwnProperty(e)&&!xr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Fr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Mr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Lr=/([^\#-~ |!])/g;function Fr(t){return t.replace(/&/g,"&amp;").replace(Mr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Lr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let jr;function Ur(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Vr=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),Br=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),qr=/^url\(([^)]+)\)$/;function Hr(t){const e=function(){const t=Ke();return t&&t[12]}();return e?e.sanitize(Vr.URL,t)||"":fr(t,"URL")?pr(t):Er(Ln(t))}function Wr(t,e){t.__ngContext__=e}function zr(t){throw new Error(`Multiple components match node with tagname ${t.tagName}`)}function Gr(){throw new Error("Cannot mix multi providers and regular providers")}function $r(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function Kr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==$r(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Yr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function Xr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(In(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!Yr(t,c,n)||""===c&&1===e.length){if(Qr(r))return!1;s=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!Kr(t.attrs,l,n)){if(Qr(r))return!1;s=!0}continue}const u=Zr(8&r?"class":c,i,0==t.type&&"ng-template"!==t.tagName,n);if(-1===u){if(Qr(r))return!1;s=!0;continue}if(""!==l){let t;t=u>o?"":i[u+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==$r(e,l,0)||2&r&&l!==t){if(Qr(r))return!1;s=!0}}}}else{if(!s&&!Qr(r)&&!Qr(c))return!1;if(s&&Qr(c))continue;s=!1,r=c|1&r}}return Qr(r)||s}function Qr(t){return 0==(1&t)}function Zr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){if(t[n]===e)return n;n++}return-1}(e,t)}function Jr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Xr(t,e[r],n))return!0;return!1}function ti(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function ei(t,e){return t?":not("+e.trim()+")":e}function ni(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Qr(s)||(e+=ei(o,i),i=""),r=s,o=o||!Qr(r);n++}return""!==i&&(e+=ei(o,i)),e}const ri={};function ii(t){const e=t[3];return Te(e)?e[3]:e}function oi(t){si(Ye(),Ke(),gn()+t,en())}function si(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&wn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&En(e,r,0,n)}yn(n)}function ai(t,e){return t<<17|e<<2}function ci(t){return t>>17&32767}function li(t){return 2|t}function ui(t){return(131068&t)>>2}function hi(t,e){return-131069&t|e<<2}function di(t){return 1|t}function pi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];cn(i),n.contentQueries(2,e[o],o)}}}function fi(t,e,n){return De(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function mi(t,e,n,r,i,o,s,a,c,l){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,ze(u),u[3]=u[15]=t,u[8]=n,u[10]=s||t&&t[10],u[11]=a||t&&t[11],u[12]=c||t&&t[12]||null,u[9]=l||t&&t[9]||null,u[6]=o,u[16]=2==e.type?t[16]:u,u}function gi(t,e,n,r,i,o){const s=n+19,a=t.data[s]||function(t,e,n,r,i,o){const s=Qe(),a=Je(),c=a?s:s&&s.parent,l=t.data[n]=Ti(0,c&&c!==e?c:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=l),s&&(!a||null!=s.child||null===l.parent&&2!==s.type?a||(s.next=l):s.child=l),l}(t,e,s,r,i,o);return Ze(a,!0),a}function yi(t,e,n){un(e,e[6]);try{const r=t.viewQuery;null!==r&&Yi(1,r,n);const i=t.template;null!==i&&bi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&pi(t,e),t.staticViewQueries&&Yi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Wi(t,e[n])}(e,o)}finally{e[2]&=-5,mn()}}function vi(t,e,n,r){const i=e[2];if(256==(256&i))return;un(e,e[6]);const o=en();try{ze(e),Ge.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&bi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&wn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&En(e,n,0,null),Sn(e,0)}if(function(t){let e=t[13];for(;null!==e;){let n;if(Te(e)&&(n=e[2])>>1==-1){for(let t=9;t<e.length;t++){const n=e[t],r=n[1];He(n)&&vi(r,n,r.template,n[8])}0!=(1&n)&&qi(e,t[16])}e=e[4]}}(e),null!==t.contentQueries&&pi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&wn(e,n)}else{const n=t.contentHooks;null!==n&&En(e,n,1),Sn(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,yn(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(sn(r,i),s(2,e[i])),i++)}}}finally{yn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Hi(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&Yi(2,c,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&wn(e,n)}else{const n=t.viewHooks;null!==n&&En(e,n,2),Sn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73)}finally{mn()}}function _i(t,e,n,r){const i=e[10],o=!en(),s=qe(e);try{o&&!s&&i.begin&&i.begin(),s&&yi(t,e,r),vi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function bi(t,e,n,r,i){const o=gn();try{yn(-1),2&r&&e.length>19&&si(t,e,0,en()),n(r,i)}finally{yn(o)}}function wi(t,e,n){if(ke(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ei(t,e,n){$e()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Hn(n,e),Wr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=Re(r);o&&ji(e,n,r);const c=Zn(e,t,a,n);Wr(c,e),null!==s&&Ui(0,a-i,c,r,0,s),o&&(Ve(n.index,e)[8]=c)}}(t,e,n,Fe(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-19;try{yn(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?Ni(r,i):s&&o.push(null)}}finally{yn(-1)}}(t,e,n))}function Si(t,e,n=Fe){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Ci(t){return t.tView||(t.tView=xi(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts))}function xi(t,e,n,r,i,o,s,a,c,l){const u=19+r,h=u+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ri);return n}(u,h);return d[1]={type:t,id:e,blueprint:d,template:n,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:l}}function Ti(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ki(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ii(t,e,n,r,i,o,s,a){const c=Fe(e,n);let l,u=e.inputs;!a&&null!=u&&(l=u[r])?(eo(t,n,l,r,i),Ie(e)&&function(t,e){const n=Ve(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.tagName||"",r):i,De(o)?o.setProperty(c,r,i):An(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function Ai(t,e,n,r){let i=!1;if($e()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Jr(n,s.selectors,!1)&&(i||(i=[]),$n(Hn(n,e),t,s.type),Re(s)?(2&n.flags&&zr(n),Pi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,Li(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}Di(t,n,o.length);let a=!1,c=!1;for(let i=0;i<o.length;i++){const l=o[i];n.mergedAttrs=Rn(n.mergedAttrs,l.hostAttrs),Fi(t,e,l),Mi(t.data.length-1,l,s),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128),!a&&(l.onChanges||l.onInit||l.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-19),a=!0),c||!l.onChanges&&!l.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-19),c=!0),Ri(t,l),r+=l.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],e=t.inputs;o.push(null!==i?Vi(e,i):null),s=ki(e,c,s),a=ki(t.outputs,c,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),Oi(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Rn(n.mergedAttrs,n.attrs),i}function Ri(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function Oi(t,e,n){for(let r=0;r<n;r++)e.push(ri),t.blueprint.push(ri),t.data.push(null)}function Ni(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Di(t,e,n){const r=19-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function Pi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Mi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Re(e)&&(n[""]=t)}}function Li(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Fi(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Se(n.type)),i=new Tn(r,Re(n),null);t.blueprint.push(i),e.push(i)}function ji(t,e,n){const r=Fe(e,t),i=Ci(n),o=t[10],s=zi(t,mi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=s}function Ui(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Vi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Bi(t,e,n,r){return new Array(t,!0,-2,e,null,null,r,n,null)}function qi(t,e){const n=t[5];for(let r=0;r<n.length;r++){const t=n[r],i=t[3][3][16];if(i!==e&&0==(16&i[2])){const e=t[1];vi(e,t,e.template,t[8])}}}function Hi(t,e){const n=Ve(e,t);if(He(n)&&80&n[2]){const t=n[1];vi(t,n,t.template,n[8])}}function Wi(t,e){const n=Ve(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),yi(r,n,n[8])}function zi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Gi(t){for(;t;){t[2]|=64;const e=ii(t);if(Oe(t)&&!e)return t;t=e}return null}function $i(t,e,n){const r=e[10];r.begin&&r.begin();try{vi(t,e,t.template,n)}catch(i){throw to(e,i),i}finally{r.end&&r.end()}}function Ki(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Be(n),i=r[1];_i(i,r,i.template,n)}}(t[8])}function Yi(t,e,n){cn(0),e(t,n)}const Xi=(()=>Promise.resolve(null))();function Qi(t){return t[7]||(t[7]=[])}function Zi(t){return t.cleanup||(t.cleanup=[])}function Ji(t,e){return function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(e[t.index])[11]}function to(t,e){const n=t[9],r=n?n.get(sr,null):null;r&&r.handleError(e)}function eo(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],c=e[s],l=t.data[s];null!==l.setInput?l.setInput(c,i,r,a):c[a]=i}}function no(t,e){const n=e[3];return-1===t.index?Te(n)?n:null:n}function ro(t,e){const n=no(t,e);return n?go(e[11],n[7]):null}function io(t,e,n,r,i){if(null!=r){let o,s=!1;Te(r)?o=r:xe(r)&&(s=!0,r=r[0]);const a=Me(r);0===t&&null!==n?null==i?fo(e,n,a):po(e,n,a,i||null):1===t&&null!==n?po(e,n,a,i||null):2===t?function(t,e,n){const r=go(t,e);r&&function(t,e,n,r){De(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Me(n)&&io(e,t,r,o,i);for(let s=9;s<n.length;s++){const i=n[s];wo(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function oo(t,e,n,r){const i=ro(t.node,e);i&&wo(t,e,e[11],n?1:2,i,r)}function so(t,e){const n=t[5],r=n.indexOf(e);n.splice(r,1)}function ao(t,e){if(t.length<=9)return;const n=9+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&so(i,r),e>0&&(t[n-1][4]=r[4]);const o=ie(t,9+e);oo(r[1],r,!1,null);const s=o[5];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function co(t,e){if(!(256&e[2])){const n=e[11];De(n)&&n.destroyNode&&wo(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return uo(t[1],t);for(;e;){let n=null;if(xe(e))n=e[13];else{const t=e[9];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)xe(e)&&uo(e[1],e),e=lo(e,t);null===e&&(e=t),xe(e)&&uo(e[1],e),n=e&&e[4]}e=n}}(e)}}function lo(t,e){let n;return xe(t)&&(n=t[6])&&2===n.type?no(n,t):t[3]===e?null:t[3]}function uo(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];t instanceof Tn||n[r+1].call(t)}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):Me(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&De(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&Te(e[3])){r!==e[3]&&so(r,e);const n=e[5];null!==n&&n.detachView(t)}}}function ho(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?ro(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Fe(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==ue.ShadowDom&&n!==ue.Native)return null}return Fe(r,n)}function po(t,e,n,r){De(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function fo(t,e,n){De(t)?t.appendChild(e,n):e.appendChild(n)}function mo(t,e,n,r){null!==r?po(t,e,n,r):fo(t,e,n)}function go(t,e){return De(t)?t.parentNode(e):e.parentNode}function yo(t,e){if(2===t.type){const n=no(t,e);return null===n?null:_o(n.indexOf(e,9)-9,n)}return 4===t.type||5===t.type?Fe(t,e):null}function vo(t,e,n,r){const i=ho(t,r,e);if(null!=i){const t=e[11],o=yo(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)mo(t,i,n[e],o);else mo(t,i,n,o)}}function _o(t,e){const n=9+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return Fe(n,e);if(0===r)return _o(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return Te(t)?_o(-1,t):Me(t)}}{const r=e[16],i=r[6],o=ii(r),s=i.projection[n.projection];return null!=s?t(o,s):t(e,n.next)}}return null}(t,r)}return e[7]}function bo(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;s&&0===e&&(a&&Wr(Me(a),r),n.flags|=4),64!=(64&n.flags)&&(4===c||5===c?(bo(t,e,n.child,r,i,o,!1),io(e,t,i,a,o)):1===c?Eo(t,e,r,n,i,o):io(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function wo(t,e,n,r,i,o){bo(n,r,t.node.child,e,i,o,!1)}function Eo(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)io(e,t,i,a[c],o);else bo(t,e,a,s[3],i,o,!0)}function So(t,e,n){De(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Co(t,e,n){De(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class xo{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(Me(s)),Te(s))for(let e=9;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],o=e[6],s=ii(e);let a=o.projection[r.projection];null!==a&&null!==s&&t(s[1],s,a,i,!0)}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}co(this._lView[1],this._lView)}onDestroy(t){var e,n,r;e=this._lView[1],r=t,Qi(n=this._lView).push(r),e.firstCreatePass&&Zi(e).push(n[7].length-1,null)}markForCheck(){Gi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){$i(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){nn(!0);try{$i(t,e,n)}finally{nn(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,wo(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class To extends xo{constructor(t){super(t),this._view=t}detectChanges(){Ki(this._view)}checkNoChanges(){!function(t){nn(!0);try{Ki(t)}finally{nn(!1)}}(this._view)}get context(){return null}}let ko,Io,Ao;function Ro(t,e,n){return ko||(ko=class extends t{}),new ko(Fe(e,n))}function Oo(t,e,n,r){return Io||(Io=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=mi(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[5];null!==r&&(n[5]=r.createEmbeddedView(e)),yi(e,n,t);const i=new xo(n);return i._tViewNode=n[6],i}}),0===n.type?new Io(r,n,Ro(e,n,r)):null}function No(t,e,n,r){let i;Ao||(Ao=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Ro(e,this._hostTNode,this._hostView)}get injector(){return new er(this._hostTNode,this._hostView)}get parentInjector(){const t=Gn(this._hostTNode,this._hostView),e=Mn(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=Pn(t),i=e,o=e[6];for(;r>1;)i=i[15],o=i[6],r--;return o}(t,this._hostView,this._hostTNode);return Nn(t)&&null!=n?new er(n,e):new er(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-9}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(te,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Te(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ao(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=9+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-9?(e[4]=n[i],re(n,9+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[5],r=e[3][3][16];16!=(16&r[2])&&e[16]!==r&&(t[2]|=1),null===n?t[5]=[e]:n.push(e)}(s,e);const a=e[5];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),oo(r,n,!0,_o(i,this._lContainer)),t.attachToViewContainerRef(this),re(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);(function(t,e){const n=ao(t,e);n&&co(n[1],n)})(this._lContainer,e),ie(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=ao(this._lContainer,e);return n&&null!=ie(this._lContainer[8],e)?new xo(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(Te(o))i=o,function(t,e){t[2]=-2}(i);else{let t;if(4===n.type)t=Me(o);else if(t=r[11].createComment(""),Oe(r)){const e=r[11],i=Fe(n,r);po(e,go(e,i),t,function(t,e){return De(t)?t.nextSibling(e):e.nextSibling}(e,i))}else vo(r[1],r,t,n);r[n.index]=i=Bi(o,r,t,n),zi(r,i)}return new Ao(i,n,r)}let Do=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Po(),t})();const Po=function(t=!1){return function(t,e,n){if(!n&&Ie(t)){const n=Ve(t.index,e);return new xo(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new xo(e[16],e):null}(Qe(),Ke(),t)},Mo=new Ut("Set Injector scope."),Lo={},Fo={},jo=[];let Uo=void 0;function Vo(){return void 0===Uo&&(Uo=new Jt),Uo}function Bo(t,e=null,n=null,r){return new qo(t,n,e||Vo(),r)}class qo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&ne(e,n=>this.processProvider(n,t,e)),ne([t],t=>this.processInjectorType(t,[],i)),this.records.set(Vt,zo(void 0,this));const o=this.records.get(Mo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:wt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Bt,n=ct.Default){this.assertNotDestroyed();const r=Gt(this);try{if(!(n&ct.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Ut)&&pt(t);e=n&&this.injectableDefInScope(n)?zo(Ho(t),Lo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&ct.Self?Vo():this.parent).get(t,e=n&ct.Optional&&e===Bt?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(wt(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=wt(e);if(Array.isArray(e))i=e.map(wt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):wt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(qt,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{Gt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(wt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=xt(t)))return!1;let r=mt(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=mt(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{ne(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];ne(r,t=>this.processProvider(t,n,r||jo))}}this.injectorDefTypes.add(o),this.records.set(o,zo(r.factory,Lo));const a=r.providers;if(null!=a&&!s){const e=t;ne(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=$o(t=xt(t))?t:xt(t&&t.provide);const i=function(t,e,n){return Go(t)?zo(void 0,t.useValue):zo(Wo(t,e,n),Lo)}(t,e,n);if($o(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&Gr()}else{let e=this.records.get(r);e?void 0===e.multi&&Gr():(e=zo(void 0,Lo,!0),e.factory=()=>Zt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Fo?function(t){throw new Error(`Cannot instantiate cyclic dependency! ${t}`)}(wt(t)):e.value===Lo&&(e.value=Fo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Ho(t){const e=pt(t),n=null!==e?e.factory:Se(t);if(null!==n)return n;const r=mt(t);if(null!==r)return r.factory;if(t instanceof Ut)throw new Error(`Token ${wt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=oe(e,"?");throw new Error(`Can't resolve all parameters for ${wt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[gt]||t[_t]||t[vt]&&t[vt]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\n`+`This will become an error in v10. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Wo(t,e,n){let r=void 0;if($o(t)){const e=xt(t);return Se(e)||Ho(e)}if(Go(t))r=()=>xt(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Zt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Yt(xt(t.useExisting));else{const i=xt(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${wt(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return Se(i)||Ho(i);r=()=>new i(...Zt(t.deps))}var i;return r}function zo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Go(t){return null!==t&&"object"==typeof t&&Ht in t}function $o(t){return"function"==typeof t}const Ko=function(t,e,n){return function(t,e=null,n=null,r){const i=Bo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Yo=(()=>{class t{static create(t,e){return Array.isArray(t)?Ko(t,e,""):Ko(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Bt,t.NULL=new Jt,t.\u0275prov=ht({token:t,providedIn:"any",factory:()=>Yt(Vt)}),t.__NG_ELEMENT_ID__=-1,t})();const Xo=new Ut("AnalyzeForEntryComponents");let Qo=new Map;const Zo=new Set;function Jo(t){return"string"==typeof t?t:t.text()}function ts(t,e){let n=t.styles,r=t.classes,i=0;for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?i=t:1==i?r=Et(r,t):2==i&&(n=Et(n,t+": "+e[++o]+";"))}null!==n&&(t.styles=n),null!==r&&(t.classes=r)}let es=null;function ns(){if(!es){const t=Ot.Symbol;if(t&&t.iterator)es=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(es=n)}}}return es}function rs(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}class is{constructor(t){this.wrapped=t}static wrap(t){return new is(t)}static unwrap(t){return is.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof is}}function os(t){return!!ss(t)&&(Array.isArray(t)||!(t instanceof Map)&&ns()in t)}function ss(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function as(t,e,n){return t[e]=n}function cs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ls(t,e,n,r){const i=Ke();return cs(i,on(),e)&&(Ye(),function(t,e,n,r,i,o){const s=Fe(t,e),a=e[11];if(null==r)De(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?Ln(r):i(r,t.tagName||"",n);De(a)?a.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}(vn(),i,t,e,n,r)),ls}function us(t,e,n,r){return cs(t,on(),n)?e+Ln(n)+r:ri}function hs(t,e,n,r,i,o,s,a){const c=Ke(),l=Ye(),u=t+19,h=l.firstCreatePass?function(t,e,n,r,i,o,s,a,c){const l=e.consts,u=gi(e,n[6],t,0,s||null,We(l,a));Ai(e,n,u,We(l,c)),bn(e,u);const h=u.tViews=xi(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l),d=Ti(0,null,2,-1,null,null);return d.injectorIndex=u.injectorIndex,h.node=d,null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(t,l,c,e,n,r,i,o,s):l.data[u];Ze(h,!1);const d=c[11].createComment("");vo(l,c,d,h),Wr(d,c),zi(c,c[u]=Bi(d,c,d,h)),Ae(h)&&Ei(l,c,h),null!=s&&Si(c,h,a)}function ds(t){return Ue(Ge.lFrame.contextLView,t)}function ps(t,e=ct.Default){const n=Ke();return null==n?Yt(t,e):Kn(Qe(),n,xt(t),e)}function fs(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(In(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Qe(),t)}function ms(){throw new Error("invalid")}function gs(t,e,n){const r=Ke();return cs(r,on(),e)&&Ii(Ye(),vn(),r,t,e,r[11],n,!1),gs}function ys(t,e,n,r,i){const o=i?"class":"style";eo(t,n,e.inputs[o],o,r)}function vs(t,e,n,r){const i=Ke(),o=Ye(),s=19+t,a=i[11],c=i[s]=fi(e,a,Ge.lFrame.currentNamespace),l=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,c=We(a,o),l=gi(e,n[6],t,3,i,c);return Ai(e,n,l,We(a,s)),null!==l.mergedAttrs&&ts(l,l.mergedAttrs),null!==e.queries&&e.queries.elementStart(e,l),l}(t,o,i,0,e,n,r):o.data[s];Ze(l,!0);const u=l.mergedAttrs;null!==u&&kn(a,c,u);const h=l.classes;null!==h&&Co(a,c,h);const d=l.styles;null!==d&&So(a,c,d),vo(o,i,c,l),0===Ge.lFrame.elementDepthCount&&Wr(c,i),Ge.lFrame.elementDepthCount++,Ae(l)&&(Ei(o,i,l),wi(o,l,i)),null!==r&&Si(i,l)}function _s(){let t=Qe();Je()?tn():(t=t.parent,Ze(t,!1));const e=t;Ge.lFrame.elementDepthCount--;const n=Ye();n.firstCreatePass&&(bn(n,t),ke(t)&&n.queries.elementEnd(t)),null!==e.classes&&function(t){return 0!=(16&t.flags)}(e)&&ys(n,e,Ke(),e.classes,!0),null!==e.styles&&function(t){return 0!=(32&t.flags)}(e)&&ys(n,e,Ke(),e.styles,!1)}function bs(t,e,n,r){vs(t,e,n,r),_s()}function ws(t,e,n){const r=Ke(),i=Ye(),o=t+19,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=We(o,r),a=gi(e,n[6],t,4,"ng-container",s);return null!==s&&ts(a,s),Ai(e,n,a,We(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[o];Ze(s,!0);const a=r[o]=r[11].createComment("");vo(i,r,a,s),Wr(a,r),Ae(s)&&(Ei(i,r,s),wi(i,s,r)),null!=n&&Si(r,s)}function Es(){let t=Qe();const e=Ye();Je()?tn():(t=t.parent,Ze(t,!1)),e.firstCreatePass&&(bn(e,t),ke(t)&&e.queries.elementEnd(t))}function Ss(t,e,n){ws(t,e,n),Es()}function Cs(){return Ke()}function xs(t){return!!t&&"function"==typeof t.then}function Ts(t){return!!t&&"function"==typeof t.subscribe}function ks(t,e,n=!1,r){const i=Ke(),o=Ye(),s=Qe();return As(o,i,i[11],s,t,e,n,r),ks}function Is(t,e,n=!1,r){const i=Qe(),o=Ke(),s=Ji(i,o);return As(Ye(),o,s,i,t,e,n,r),Is}function As(t,e,n,r,i,o,s=!1,a){const c=Ae(r),l=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),u=Qi(e);let h=!0;if(3===r.type){const d=Fe(r,e),p=a?a(d):he,f=p.target||d,m=u.length,g=a?t=>a(Me(t[r.index])).target:r.index;if(De(n)){let s=null;if(!a&&c&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Os(r,e,o,!1);const t=n.listen(p.name||f,i,o);u.push(o,t),l&&l.push(i,g,m,m+1)}}else o=Os(r,e,o,!0),f.addEventListener(i,o,s),u.push(o),l&&l.push(i,g,m,s)}const d=r.outputs;let p;if(h&&null!==d&&(p=d[i])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(o),s=u.length;u.push(o,t),l&&l.push(i,r.index,s,-(s+1))}}}function Rs(t,e,n){try{return!1!==e(n)}catch(r){return to(t,r),!1}}function Os(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Ve(t.index,e):e;0==(32&e[2])&&Gi(s);let a=Rs(e,n,o),c=i.__ngNextListenerFn__;for(;c;)a=Rs(e,c,o)&&a,c=c.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Ns(t=1){return function(t){return(Ge.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ge.lFrame.contextLView))[8]}(t)}function Ds(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?Jr(t,o,!0):ti(r,o))return i}else n=i}return n}function Ps(t){const e=Ke()[16][6];if(!e.projection){const n=e.projection=oe(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Ds(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Ms(t,e=0,n){const r=Ke(),i=Ye(),o=gi(i,r[6],t,1,null,n||null);null===o.projection&&(o.projection=e),tn(),function(t,e,n){Eo(e[11],0,e,n,ho(t,n,e),yo(n.parent||e[6],e))}(i,r,o)}function Ls(t,e,n){return Fs(t,"",e,"",n),Ls}function Fs(t,e,n,r,i){const o=Ke(),s=us(o,e,n,r);return s!==ri&&Ii(Ye(),vn(),o,t,s,o[11],i,!1),Fs}const js=[];function Us(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?ci(o):ui(o),c=!1;for(;0!==a&&(!1===c||s);){const n=t[a+1];Vs(t[a],e)&&(c=!0,t[a+1]=r?di(n):li(n)),a=r?ci(n):ui(n)}c&&(t[n+1]=r?li(o):di(o))}function Vs(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ce(t,e)>=0}function Bs(t,e,n){return Hs(t,e,n,!1),Bs}function qs(t,e){return Hs(t,e,null,!0),qs}function Hs(t,e,n,r){const i=Ke(),o=Ye(),s=function(t){const e=Ge.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();if(o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[gn()+19],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Ge.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=zs(n=Ws(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Ws(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==ui(r))return t[ci(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Ws(null,t,e,n[1],r),n=zs(n,e.attrs,r),function(t,e,n,r){t[ci(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=zs(r,t[o].hostAttrs,n);return zs(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ci(s),c=ui(s);t[r]=n;let l,u=!1;if(Array.isArray(n)){const t=n;l=t[1],(null===l||ce(t,l)>0)&&(u=!0)}else l=n;if(i)if(0!==c){const e=ci(t[a+1]);t[r+1]=ai(e,a),0!==e&&(t[e+1]=hi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ai(a,0),0!==a&&(t[a+1]=hi(t[a+1],r)),a=r;else t[r+1]=ai(c,0),0===a?a=r:t[c+1]=hi(t[c+1],r),c=r;u&&(t[r+1]=li(t[r+1])),Us(t,l,r,!0),Us(t,l,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&ce(o,e)>=0&&(n[r+1]=di(n[r+1]))}(e,l,t,r,o),s=ai(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==ri&&cs(i,s,e)){let a;null==n&&(a=function(){const t=Ge.lFrame;return null===t?null:t.currentSanitizer}())&&(n=a),function(t,e,n,r,i,o,s,a){if(3!==e.type)return;const c=t.data,l=c[a+1];$s(1==(1&l)?Gs(c,e,n,i,ui(l),s):void 0)||($s(o)||function(t){return 2==(2&t)}(l)&&(o=Gs(c,null,n,i,a,s)),function(t,e,n,r,i){const o=De(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,e):n.style.removeProperty(r):o?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,s,Le(gn(),n),i,o))}(o,o.data[gn()+19],i,i[11],t,i[s+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=wt(pr(t)))),t}(e,n),r,s)}}function Ws(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=zs(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function zs(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),se(t,s,!!n||e[++o]))}return void 0===t?null:t}function Gs(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),c=o?e[1]:e,l=null===c;let u=n[i+1];u===ri&&(u=l?js:void 0);let h=l?ae(u,r):c===r?u:void 0;if(o&&!$s(h)&&(h=ae(e,r)),$s(h)&&(a=h,s))return a;const d=t[i+1];i=s?ci(d):ui(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=ae(t,r))}return a}function $s(t){return void 0!==t}function Ks(t,e=""){const n=Ke(),r=Ye(),i=t+19,o=r.firstCreatePass?gi(r,n[6],t,3,null,null):r.data[i],s=n[i]=function(t,e){return De(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);vo(r,n,s,o),Ze(o,!1)}function Ys(t){return Xs("",t,""),Ys}function Xs(t,e,n){const r=Ke(),i=us(r,t,e,n);return i!==ri&&function(t,e,n){const r=Le(e,t),i=t[11];De(i)?i.setValue(r,n):r.textContent=n}(r,gn(),i),Xs}function Qs(t,e,n){const r=Ke();return cs(r,on(),e)&&Ii(Ye(),vn(),r,t,e,r[11],n,!0),Qs}function Zs(t,e,n){const r=Ke();if(cs(r,on(),e)){const i=Ye(),o=vn();Ii(i,o,r,t,e,Ji(o,r),n,!0)}return Zs}function Js(t,e){const n=Be(t)[1],r=n.data.length-1;bn(n,{directiveStart:r,directiveEnd:r+1})}function ta(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Re(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=ea(t.inputs),e.declaredInputs=ea(t.declaredInputs),e.outputs=ea(t.outputs);const n=i.hostBindings;n&&ia(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&na(t,o),s&&ra(t,s),ut(t.inputs,i.inputs),ut(t.declaredInputs,i.declaredInputs),ut(t.outputs,i.outputs),Re(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}e.afterContentChecked=e.afterContentChecked||i.afterContentChecked,e.afterContentInit=t.afterContentInit||i.afterContentInit,e.afterViewChecked=t.afterViewChecked||i.afterViewChecked,e.afterViewInit=t.afterViewInit||i.afterViewInit,e.doCheck=t.doCheck||i.doCheck,e.onDestroy=t.onDestroy||i.onDestroy,e.onInit=t.onInit||i.onInit}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===ta&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Rn(i.hostAttrs,n=Rn(n,i.hostAttrs))}}(r)}function ea(t){return t===he?{}:t===de?[]:t}function na(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function ra(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function ia(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}class oa{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function sa(t){t.type.prototype.ngOnChanges&&(t.setInput=aa,t.onChanges=function(){const t=ca(this),e=t&&t.current;if(e){const n=t.previous;if(n===he)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function aa(t,e,n,r){const i=ca(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:he,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],c=s[a];o[a]=new oa(c&&c.currentValue,e,s===he),t[r]=e}function ca(t){return t.__ngSimpleChanges__||null}function la(t,e,n,r,i){if(t=xt(t),Array.isArray(t))for(let o=0;o<t.length;o++)la(t[o],e,n,r,i);else{const o=Ye(),s=Ke();let a=$o(t)?t:xt(t.provide),c=Wo(t);const l=Qe(),u=65535&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>16;if($o(t)||!t.multi){const r=new Tn(c,i,ps),p=da(a,e,i?u:u+d,h);-1===p?($n(Hn(l,s),o,a),ua(o,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(r),s.push(r)):(n[p]=r,s[p]=r)}else{const p=da(a,e,u+d,h),f=da(a,e,u,u+d),m=p>=0&&n[p],g=f>=0&&n[f];if(i&&!g||!i&&!m){$n(Hn(l,s),o,a);const u=function(t,e,n,r,i){const o=new Tn(t,n,ps);return o.multi=[],o.index=e,o.componentProviders=0,ha(o,i,r&&!n),o}(i?fa:pa,n.length,i,r,c);!i&&g&&(n[f].providerFactory=u),ua(o,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(u),s.push(u)}else ua(o,t,p>-1?p:f),ha(n[i?f:p],c,!i&&r);!i&&r&&g&&n[f].componentProviders++}}}function ua(t,e,n){if($o(e)||e.useClass){const r=(e.useClass||e).prototype.ngOnDestroy;r&&(t.destroyHooks||(t.destroyHooks=[])).push(n,r)}}function ha(t,e,n){t.multi.push(e),n&&t.componentProviders++}function da(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function pa(t,e,n,r){return ma(this.multi,[])}function fa(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Zn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),ma(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],ma(i,o);return o}function ma(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ga(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Ye();if(r.firstCreatePass){const i=Re(t);la(n,r.data,r.blueprint,i,!0),la(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}sa.ngInherit=!0;class ya{}class va{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${wt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let _a=(()=>{class t{}return t.NULL=new va,t})(),ba=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>wa(t),t})();const wa=function(t){return Ro(t,Qe(),Ke())};class Ea{}const Sa=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let Ca=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>xa(),t})();const xa=function(){const t=Ke(),e=Ve(Qe().index,t);return function(t){const e=t[11];if(De(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(xe(e)?e:t)};let Ta=(()=>{class t{}return t.\u0275prov=ht({token:t,providedIn:"root",factory:()=>null}),t})();class ka{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ia=new ka("9.0.7");class Aa{constructor(){}supports(t){return os(t)}create(t){return new Oa(t)}}const Ra=(t,e)=>e;class Oa{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ra}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Ma(n,r,i)?e:n,s=Ma(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!os(t))throw new Error(`Error trying to diff '${wt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&rs(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),rs(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[ns()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&rs(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),rs(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(rs(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(rs(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Na(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Pa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Pa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Na{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Da{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&rs(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Pa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Da,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ma(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class La{constructor(){}supports(t){return t instanceof Map||ss(t)}create(){return new Fa}}class Fa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||ss(t)))throw new Error(`Error trying to diff '${wt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ja(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){rs(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ja{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Ua=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new at,new ot]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=ht({token:t,providedIn:"root",factory:()=>new t([new Aa])}),t})(),Va=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new at,new ot]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ht({token:t,providedIn:"root",factory:()=>new t([new La])}),t})();const Ba=[new La],qa=new Ua([new Aa]),Ha=new Va(Ba);let Wa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>za(t,ba),t})();const za=function(t,e){return Oo(t,e,Qe(),Ke())};let Ga=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>$a(t,ba),t})();const $a=function(t,e){return No(t,e,Qe(),Ke())},Ka={};class Ya extends _a{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Ee(t);return new Za(e,this.ngModule)}}function Xa(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Qa=new Ut("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>jn});class Za extends ya{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ni).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Xa(this.componentDef.inputs)}get outputs(){return Xa(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Ka,i);return o!==Ka||r===Ka?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Ea,Pe),s=i.get(Ta,null),a=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?function(t,e,n){if(De(t))return t.selectRootElement(e,n===ue.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):fi(c,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),u=this.componentDef.onPush?576:528,h="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),d={components:[],scheduler:jn,clean:Xi,playerHandler:null,flags:0},p=xi(0,-1,null,1,0,null,null,null,null,null),f=mi(null,p,d,u,null,null,o,a,s,i);let m,g;un(f,null);try{const t=function(t,e,n,r,i,o){const s=n[1];n[19]=t;const a=gi(s,null,0,3,null,null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(ts(a,c),null!==t&&(kn(i,t,c),null!==a.classes&&Co(i,t,a.classes),null!==a.styles&&So(i,t,a.styles)));const l=r.createRenderer(t,e),u=mi(n,Ci(e),null,e.onPush?64:16,n[19],a,r,l,void 0);return s.firstCreatePass&&($n(Hn(a,n),s,e.type),Pi(s,a),Li(a,n.length,1)),zi(n,u),n[19]=u}(l,this.componentDef,f,o,a);if(l)if(n)kn(a,l,["ng-version",Ia.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Qr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&kn(a,l,t),e&&e.length>0&&Co(a,l,e.join(" "))}g=je(f[1],0),e&&(g.projection=e.map(t=>Array.from(t))),m=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Qe();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Di(t,r,1),Fi(t,e,n));const i=Zn(e,t,e.length-1,r);Wr(i,e);const o=Fe(r,e);return o&&Wr(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=Qe();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){yn(a.index-19);const t=n[1];Ri(t,e),Oi(t,n,e.hostVars),Ni(e,s)}return s}(t,this.componentDef,f,d,[Js]),yi(p,f,null)}finally{mn()}const y=new Ja(this.componentType,m,Ro(ba,g,f),f,g);return n&&!h||(y.hostView._tViewNode.child=g),y}}class Ja extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new To(r),this.hostView._tViewNode=function(t,e,n,r){let i=t.node;return null==i&&(t.node=i=Ti(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new er(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const tc=void 0;var ec=["en",[["a","p"],["AM","PM"],tc],[["AM","PM"],tc,tc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],tc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],tc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",tc,"{1} 'at' {0}",tc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let nc={};function rc(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ic(e);if(n)return n;const r=e.split("-")[0];if(n=ic(r),n)return n;if("en"===r)return ec;throw new Error(`Missing locale data for the locale "${t}".`)}function ic(t){return t in nc||(nc[t]=Ot.ng&&Ot.ng.common&&Ot.ng.common.locales&&Ot.ng.common.locales[t]),nc[t]}const oc=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,PluralCase:19,ExtraData:20};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();let sc="en-US";function ac(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(sc=t.toLowerCase().replace(/_/g,"-"))}const cc=new Map;class lc extends te{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ya(this);const n=Ce(t),r=t[Lt]||null;r&&ac(r),this._bootstrapComponents=Un(n.bootstrap),this._r3Injector=Bo(t,e,[{provide:te,useValue:this},{provide:_a,useValue:this.componentFactoryResolver}],wt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Yo.THROW_IF_NOT_FOUND,n=ct.Default){return t===Yo||t===te||t===Vt?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class uc extends ee{constructor(t){super(),this.moduleType=t,null!==Ce(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${wt(e)} vs ${wt(e.name)}`)})(t,cc.get(t),e),cc.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new lc(this.moduleType,t)}}function hc(t,e,n,r){return function(t,e,n,r,i,o){const s=e+n;return cs(t,s,i)?as(t,s+1,o?r.call(o,i):r(i)):dc(t,s+1)}(Ke(),rn(),t,e,n,r)}function dc(t,e){const n=t[e];return n===ri?void 0:n}function pc(t,e,n,r,i,o,s){const a=e+n;return function(t,e,n,r){const i=cs(t,e,n);return cs(t,e+1,r)||i}(t,a,i,o)?as(t,a+2,s?r.call(s,i,o):r(i,o)):dc(t,a+2)}class fc extends x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,i,o);return t instanceof h&&t.add(s),s}}function mc(){return this._results[ns()]()}class gc{constructor(){this.dirty=!0,this._results=[],this.changes=new fc,this.length=0;const t=ns(),e=gc.prototype;e[t]||(e[t]=mc)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class yc{constructor(t){this.queryList=t,this.matches=null}clone(){return new yc(this.queryList)}setDirty(){this.queryList.setDirty()}}class vc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new vc(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Mc(t,e).matches&&this.queries[e].setDirty()}}class _c{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class bc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new bc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class wc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new wc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,Ec(e,n[r]))}else{const n=this.metadata.predicate;n===Wa?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Qn(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ba||r===Ga||r===Wa&&0===e.type)this.addMatch(e.index,-2);else{const n=Qn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ec(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Sc(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?Ro(ba,t,e):0===t.type?Oo(Wa,ba,t,e):null}(e,t):-2===n?function(t,e,n){return n===ba?Ro(ba,e,t):n===Wa?Oo(Wa,ba,e,t):n===Ga?No(Ga,ba,e,t):void 0}(t,e,r):Zn(t,t[1],n,e)}function Cc(t,e,n,r){const i=e[5].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Sc(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function xc(t){const e=Ke(),n=Ye(),r=an();cn(r+1);const i=Mc(n,r);if(t.dirty&&qe(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?function t(e,n,r,i){const o=e.queries.getByIndex(r),s=o.matches;if(null!==s){const a=Cc(e,n,o,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)i.push(a[e/2]);else{const o=s[e+1],a=n[-r];for(let e=9;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,o,i)}if(null!==a[5]){const e=a[5];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,o,i)}}}}}return i}(n,e,r,[]):Cc(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Tc(t,e,n){Ic(Ye(),Ke(),t,e,n,!0)}function kc(t,e,n){Ic(Ye(),Ke(),t,e,n,!1)}function Ic(t,e,n,r,i,o){t.firstCreatePass&&(Pc(t,new _c(n,r,o,i),-1),o&&(t.staticViewQueries=!0)),Dc(t,e)}function Ac(t,e,n,r){Oc(Ye(),Ke(),e,n,r,!1,Qe(),t)}function Rc(t,e,n,r){Oc(Ye(),Ke(),e,n,r,!0,Qe(),t)}function Oc(t,e,n,r,i,o,s,a){t.firstCreatePass&&(Pc(t,new _c(n,r,o,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),o&&(t.staticContentQueries=!0)),Dc(t,e)}function Nc(){return t=Ke(),e=an(),t[5].queries[e].queryList;var t,e}function Dc(t,e){const n=new gc;!function(t,e,n,r){const i=Qi(e);i.push(n),t.firstCreatePass&&Zi(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[5]&&(e[5]=new vc),e[5].queries.push(new yc(n))}function Pc(t,e,n){null===t.queries&&(t.queries=new bc),t.queries.track(new wc(e,n))}function Mc(t,e){return t.queries.getByIndex(e)}function Lc(t,e){return Oo(Wa,ba,t,e)}const Fc=new Ut("Application Initializer");let jc=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();xs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Yt(Fc,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Uc=new Ut("AppId"),Vc={provide:Uc,useFactory:function(){return`${Bc()}${Bc()}${Bc()}`},deps:[]};function Bc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qc=new Ut("Platform Initializer"),Hc=new Ut("Platform ID"),Wc=new Ut("appBootstrapListener");let zc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Gc=new Ut("LocaleId"),$c=new Ut("DefaultCurrencyCode");class Kc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Yc=function(t){return new uc(t)},Xc=Yc,Qc=function(t){return Promise.resolve(Yc(t))},Zc=function(t){const e=Yc(t),n=Un(Ce(t).declarations).reduce((t,e)=>{const n=Ee(e);return n&&t.push(new Za(n)),t},[]);return new Kc(e,n)},Jc=Zc,tl=function(t){return Promise.resolve(Zc(t))};let el=(()=>{class t{constructor(){this.compileModuleSync=Xc,this.compileModuleAsync=Qc,this.compileModuleAndAllComponentsSync=Jc,this.compileModuleAndAllComponentsAsync=tl}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const nl=new Ut("compilerOptions"),rl=(()=>Promise.resolve(0))();function il(t){"undefined"==typeof Zone?rl.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ol{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fc(!1),this.onMicrotaskEmpty=new fc(!1),this.onStable=new fc(!1),this.onError=new fc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=Ot.requestAnimationFrame,e=Ot.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ot,()=>{t.lastRequestAnimationFrameId=-1,ll(t),cl(t)}),ll(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return ul(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),hl(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return ul(t),e.invoke(r,i,o,s,a)}finally{hl(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,ll(t),cl(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ol.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ol.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,al,sl,sl);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function sl(){}const al={};function cl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ll(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function ul(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function hl(t){t._nesting--,cl(t)}class dl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fc,this.onMicrotaskEmpty=new fc,this.onStable=new fc,this.onError=new fc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let pl=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ol.assertNotInAngularZone(),il(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())il(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Yt(ol))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),fl=(()=>{class t{constructor(){this._applications=new Map,yl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return yl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class ml{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let gl,yl=new ml,vl=function(t,e,n){const r=new uc(n);if(0===Qo.size)return Promise.resolve(r);const i=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(t.get(nl,[]).concat(e).map(t=>t.providers));if(0===i.length)return Promise.resolve(r);const o=function(){const t=Ot.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),s=Yo.create({providers:i}).get(o.ResourceLoader);return function(t){const e=[],n=new Map;function r(t){let e=n.get(t);if(!e){const r=(t=>Promise.resolve(s.get(t)))(t);n.set(t,e=r.then(Jo))}return e}return Qo.forEach((t,n)=>{const i=[];t.templateUrl&&i.push(r(t.templateUrl).then(e=>{t.template=e}));const o=t.styleUrls,s=t.styles||(t.styles=[]),a=t.styles.length;o&&o.forEach((e,n)=>{s.push(""),i.push(r(e).then(r=>{s[a+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)}))});const c=Promise.all(i).then(()=>function(t){Zo.delete(t)}(n));e.push(c)}),Qo=new Map,Promise.all(e).then(()=>{})}().then(()=>r)};const _l=new Ut("AllowMultipleToken");class bl{constructor(t,e){this.name=t,this.token=e}}function wl(t,e,n=[]){const r=`Platform: ${e}`,i=new Ut(r);return(e=[])=>{let o=El();if(!o||o.injector.get(_l,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Mo,useValue:"platform"});!function(t){if(gl&&!gl.destroyed&&!gl.injector.get(_l,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");gl=t.get(Sl);const e=t.get(qc,null);e&&e.forEach(t=>t())}(Yo.create({providers:t,name:r}))}return function(t){const e=El();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function El(){return gl&&!gl.destroyed?gl:null}let Sl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new dl:("zone.js"===t?void 0:t)||new ol({enableLongStackTrace:vr(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:ol,useValue:n}];return n.run(()=>{const e=Yo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(sr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Tl(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return xs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(jc);return t.runInitializers(),t.donePromise.then(()=>(ac(i.injector.get(Gc,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Cl({},e);return vl(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(xl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${wt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Yt(Yo))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function Cl(t,e){return Array.isArray(e)?e.reduce(Cl,t):Object.assign(Object.assign({},t),e)}let xl=(()=>{class t{constructor(t,e,n,r,i,o){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=vr(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new b(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new b(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{ol.assertNotInAngularZone(),il(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{ol.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=$(s,a.pipe(et()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ya?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(te),i=n.create(Yo.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(pl,null);return o&&i.injector.get(fl).registerApplication(i.location.nativeElement,o),this._loadComponent(i),vr()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Tl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Wc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Tl(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Yt(ol),Yt(zc),Yt(Yo),Yt(sr),Yt(_a),Yt(jc))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function Tl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class kl{}class Il{}const Al={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Rl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Al}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Ol(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Ol(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Yt(el),Yt(Il,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function Ol(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Nl=wl(null,"core",[{provide:Hc,useValue:"unknown"},{provide:Sl,deps:[Yo]},{provide:fl,deps:[]},{provide:zc,deps:[]}]),Dl=[{provide:xl,useClass:xl,deps:[ol,zc,Yo,sr,_a,jc]},{provide:Qa,deps:[ol],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:jc,useClass:jc,deps:[[new ot,Fc]]},{provide:el,useClass:el,deps:[]},Vc,{provide:Ua,useFactory:function(){return qa},deps:[]},{provide:Va,useFactory:function(){return Ha},deps:[]},{provide:Gc,useFactory:function(t){return ac(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new it(Gc),new ot,new at]]},{provide:$c,useValue:"USD"}];let Pl=(()=>{class t{constructor(t){}}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)(Yt(xl))},providers:Dl}),t})(),Ml=null;function Ll(){return Ml}const Fl=new Ut("DocumentToken");let jl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:Ul,token:t,providedIn:"platform"}),t})();function Ul(){return Yt(Bl)}const Vl=new Ut("Location Initialized");let Bl=(()=>{class t extends jl{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=Ll().getLocation(),this._history=Ll().getHistory()}getBaseHrefFromDOM(){return Ll().getBaseHref(this._doc)}onPopState(t){Ll().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){Ll().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){ql()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){ql()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Yt(Fl))},t.\u0275prov=ht({factory:Hl,token:t,providedIn:"platform"}),t})();function ql(){return!!window.history.pushState}function Hl(){return new Bl(Yt(Fl))}function Wl(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function zl(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Gl(t){return t&&"?"!==t[0]?"?"+t:t}let $l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:Kl,token:t,providedIn:"root"}),t})();function Kl(t){const e=Yt(Fl).location;return new Xl(Yt(jl),e&&e.origin||"")}const Yl=new Ut("appBaseHref");let Xl=(()=>{class t extends $l{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Wl(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Gl(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+Gl(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+Gl(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Yt(jl),Yt(Yl,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Ql=(()=>{class t extends $l{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=Wl(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+Gl(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+Gl(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Yt(jl),Yt(Yl,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Zl=(()=>{class t{constructor(t,e){this._subject=new fc,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=zl(tu(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Gl(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,tu(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Gl(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Gl(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(Yt($l),Yt(jl))},t.normalizeQueryParams=Gl,t.joinWithSlash=Wl,t.stripTrailingSlash=zl,t.\u0275prov=ht({factory:Jl,token:t,providedIn:"root"}),t})();function Jl(){return new Zl(Yt($l),Yt(jl))}function tu(t){return t.replace(/\/index.html$/,"")}const eu=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),nu=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),ru=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),iu=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),ou=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function su(t,e){return hu(rc(t)[oc.DateFormat],e)}function au(t,e){return hu(rc(t)[oc.TimeFormat],e)}function cu(t,e){return hu(rc(t)[oc.DateTimeFormat],e)}function lu(t,e){const n=rc(t),r=n[oc.NumberSymbols][e];if(void 0===r){if(e===ou.CurrencyDecimal)return n[oc.NumberSymbols][ou.Decimal];if(e===ou.CurrencyGroup)return n[oc.NumberSymbols][ou.Group]}return r}function uu(t){if(!t[oc.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[oc.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function hu(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function du(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const pu=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,fu={},mu=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,gu=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),yu=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.FractionalSeconds]="FractionalSeconds",t[t.Day]="Day",t}(),vu=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}();function _u(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function bu(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function wu(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function(t,e){switch(t){case yu.FullYear:return e.getFullYear();case yu.Month:return e.getMonth();case yu.Date:return e.getDate();case yu.Hours:return e.getHours();case yu.Minutes:return e.getMinutes();case yu.Seconds:return e.getSeconds();case yu.FractionalSeconds:return e.getMilliseconds();case yu.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===yu.Hours)0===a&&-12===n&&(a=12);else if(t===yu.FractionalSeconds)return c=e,bu(a,3).substr(0,c);var c;const l=lu(s,ou.MinusSign);return bu(a,e,l,r,i)}}function Eu(t,e,n=nu.Format,r=!1){return function(i,o){return function(t,e,n,r,i,o){switch(n){case vu.Months:return function(t,e,n){const r=rc(t),i=hu([r[oc.MonthsFormat],r[oc.MonthsStandalone]],e);return hu(i,n)}(e,i,r)[t.getMonth()];case vu.Days:return function(t,e,n){const r=rc(t),i=hu([r[oc.DaysFormat],r[oc.DaysStandalone]],e);return hu(i,n)}(e,i,r)[t.getDay()];case vu.DayPeriods:const s=t.getHours(),a=t.getMinutes();if(o){const t=function(t){const e=rc(t);return uu(e),(e[oc.ExtraData][2]||[]).map(t=>"string"==typeof t?du(t):[du(t[0]),du(t[1])])}(e),n=function(t,e,n){const r=rc(t);uu(r);const i=hu([r[oc.ExtraData][0],r[oc.ExtraData][1]],e)||[];return hu(i,n)||[]}(e,i,r);let o;if(t.forEach((t,e)=>{if(Array.isArray(t)){const{hours:r,minutes:i}=t[0],{hours:c,minutes:l}=t[1];s>=r&&a>=i&&(s<c||s===c&&a<l)&&(o=n[e])}else{const{hours:r,minutes:i}=t;r===s&&i===a&&(o=n[e])}}),o)return o}return function(t,e,n){const r=rc(t),i=hu([r[oc.DayPeriodsFormat],r[oc.DayPeriodsStandalone]],e);return hu(i,n)}(e,i,r)[s<12?0:1];case vu.Eras:return function(t,e){return hu(rc(t)[oc.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,t,e,n,r)}}function Su(t){return function(e,n,r){const i=-1*r,o=lu(n,ou.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case gu.Short:return(i>=0?"+":"")+bu(s,2,o)+bu(Math.abs(i%60),2,o);case gu.ShortGMT:return"GMT"+(i>=0?"+":"")+bu(s,1,o);case gu.Long:return"GMT"+(i>=0?"+":"")+bu(s,2,o)+":"+bu(Math.abs(i%60),2,o);case gu.Extended:return 0===r?"Z":(i>=0?"+":"")+bu(s,2,o)+":"+bu(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function Cu(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(n.getFullYear()),e=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(4-o.getDay()))).getTime()-t.getTime();i=1+Math.round(e/6048e5)}var o;return bu(i,t,lu(r,ou.MinusSign))}}const xu={};function Tu(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function ku(t){return t instanceof Date&&!isNaN(t.valueOf())}class Iu{}let Au=(()=>{class t extends Iu{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return rc(t)[oc.PluralCase]}(e||this.locale)(t)){case eu.Zero:return"zero";case eu.One:return"one";case eu.Two:return"two";case eu.Few:return"few";case eu.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(Yt(Gc))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function Ru(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let Ou=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(os(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${wt(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(ps(Ua),ps(Va),ps(ba),ps(Ca))},t.\u0275dir=be({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class Nu{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Du=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){vr()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Nu(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new Pu(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new Pu(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(ps(Ga),ps(Wa),ps(Ua))},t.\u0275dir=be({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Pu{constructor(t,e){this.record=t,this.view=e}}let Mu=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new Lu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Fu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Fu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(ps(Ga),ps(Wa))},t.\u0275dir=be({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Lu{constructor(){this.$implicit=null,this.ngIf=null}}function Fu(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${wt(e)}'.`)}class ju{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Uu=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),Vu=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new ju(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(ps(Ga),ps(Wa),ps(Uu,1))},t.\u0275dir=be({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),Bu=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(ps(ba),ps(Va),ps(Ca))},t.\u0275dir=be({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),qu=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",r,i){if(null==e||""===e||e!=e)return null;try{return function(t,e,n,r){let i=function(t){if(ku(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(pu))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),l=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,c,l),e}(n)}const e=new Date(t);if(!ku(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const r=function(t){return rc(t)[oc.LocaleId]}(e);if(fu[r]=fu[r]||{},fu[r][n])return fu[r][n];let i="";switch(n){case"shortDate":i=su(e,iu.Short);break;case"mediumDate":i=su(e,iu.Medium);break;case"longDate":i=su(e,iu.Long);break;case"fullDate":i=su(e,iu.Full);break;case"shortTime":i=au(e,iu.Short);break;case"mediumTime":i=au(e,iu.Medium);break;case"longTime":i=au(e,iu.Long);break;case"fullTime":i=au(e,iu.Full);break;case"short":const n=t(e,"shortTime"),r=t(e,"shortDate");i=_u(cu(e,iu.Short),[n,r]);break;case"medium":const o=t(e,"mediumTime"),s=t(e,"mediumDate");i=_u(cu(e,iu.Medium),[o,s]);break;case"long":const a=t(e,"longTime"),c=t(e,"longDate");i=_u(cu(e,iu.Long),[a,c]);break;case"full":const l=t(e,"fullTime"),u=t(e,"fullDate");i=_u(cu(e,iu.Full),[l,u])}return i&&(fu[r][n]=i),i}(n,e)||e;let o,s=[];for(;e;){if(o=mu.exec(e),!o){s.push(e);break}{s=s.concat(o.slice(1));const t=s.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=Tu(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(Tu(e,r)-r))}(i,r));let c="";return s.forEach(t=>{const e=function(t){if(xu[t])return xu[t];let e;switch(t){case"G":case"GG":case"GGG":e=Eu(vu.Eras,ru.Abbreviated);break;case"GGGG":e=Eu(vu.Eras,ru.Wide);break;case"GGGGG":e=Eu(vu.Eras,ru.Narrow);break;case"y":e=wu(yu.FullYear,1,0,!1,!0);break;case"yy":e=wu(yu.FullYear,2,0,!0,!0);break;case"yyy":e=wu(yu.FullYear,3,0,!1,!0);break;case"yyyy":e=wu(yu.FullYear,4,0,!1,!0);break;case"M":case"L":e=wu(yu.Month,1,1);break;case"MM":case"LL":e=wu(yu.Month,2,1);break;case"MMM":e=Eu(vu.Months,ru.Abbreviated);break;case"MMMM":e=Eu(vu.Months,ru.Wide);break;case"MMMMM":e=Eu(vu.Months,ru.Narrow);break;case"LLL":e=Eu(vu.Months,ru.Abbreviated,nu.Standalone);break;case"LLLL":e=Eu(vu.Months,ru.Wide,nu.Standalone);break;case"LLLLL":e=Eu(vu.Months,ru.Narrow,nu.Standalone);break;case"w":e=Cu(1);break;case"ww":e=Cu(2);break;case"W":e=Cu(1,!0);break;case"d":e=wu(yu.Date,1);break;case"dd":e=wu(yu.Date,2);break;case"E":case"EE":case"EEE":e=Eu(vu.Days,ru.Abbreviated);break;case"EEEE":e=Eu(vu.Days,ru.Wide);break;case"EEEEE":e=Eu(vu.Days,ru.Narrow);break;case"EEEEEE":e=Eu(vu.Days,ru.Short);break;case"a":case"aa":case"aaa":e=Eu(vu.DayPeriods,ru.Abbreviated);break;case"aaaa":e=Eu(vu.DayPeriods,ru.Wide);break;case"aaaaa":e=Eu(vu.DayPeriods,ru.Narrow);break;case"b":case"bb":case"bbb":e=Eu(vu.DayPeriods,ru.Abbreviated,nu.Standalone,!0);break;case"bbbb":e=Eu(vu.DayPeriods,ru.Wide,nu.Standalone,!0);break;case"bbbbb":e=Eu(vu.DayPeriods,ru.Narrow,nu.Standalone,!0);break;case"B":case"BB":case"BBB":e=Eu(vu.DayPeriods,ru.Abbreviated,nu.Format,!0);break;case"BBBB":e=Eu(vu.DayPeriods,ru.Wide,nu.Format,!0);break;case"BBBBB":e=Eu(vu.DayPeriods,ru.Narrow,nu.Format,!0);break;case"h":e=wu(yu.Hours,1,-12);break;case"hh":e=wu(yu.Hours,2,-12);break;case"H":e=wu(yu.Hours,1);break;case"HH":e=wu(yu.Hours,2);break;case"m":e=wu(yu.Minutes,1);break;case"mm":e=wu(yu.Minutes,2);break;case"s":e=wu(yu.Seconds,1);break;case"ss":e=wu(yu.Seconds,2);break;case"S":e=wu(yu.FractionalSeconds,1);break;case"SS":e=wu(yu.FractionalSeconds,2);break;case"SSS":e=wu(yu.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Su(gu.Short);break;case"ZZZZZ":e=Su(gu.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Su(gu.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Su(gu.Long);break;default:return null}return xu[t]=e,e}(t);c+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}(e,n,i||this.locale,r)}catch(o){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${wt(t)}'`)}(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(ps(Gc))},t.\u0275pipe=we({name:"date",type:t,pure:!0}),t})(),Hu=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[{provide:Iu,useClass:Au}]}),t})();function Wu(t){return"browser"===t}let zu=(()=>{class t{}return t.\u0275prov=ht({token:t,providedIn:"root",factory:()=>new Gu(Yt(Fl),window,Yt(sr))}),t})();class Gu{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector(`#${t}`);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}class $u extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new $u,Ml||(Ml=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Yu||(Yu=document.querySelector("base"),Yu)?Yu.getAttribute("href"):null;return null==e?null:(n=e,Ku||(Ku=document.createElement("a")),Ku.setAttribute("href",n),"/"===Ku.pathname.charAt(0)?Ku.pathname:"/"+Ku.pathname);var n}resetBaseElement(){Yu=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Ru(document.cookie,t)}}let Ku,Yu=null;const Xu=new Ut("TRANSITION_ID"),Qu=[{provide:Fc,useFactory:function(t,e,n){return()=>{n.get(jc).donePromise.then(()=>{const n=Ll();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Xu,Fl,Yo],multi:!0}];class Zu{static init(){var t;t=new Zu,yl=t}addToWindow(t){Ot.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Ot.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ot.getAllAngularRootElements=()=>t.getAllRootElements(),Ot.frameworkStabilizers||(Ot.frameworkStabilizers=[]),Ot.frameworkStabilizers.push(t=>{const e=Ot.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(i)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Ll().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Ju=new Ut("EventManagerPlugins");let th=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(Yt(Ju),Yt(ol))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class eh{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Ll().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let nh=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),rh=(()=>{class t extends nh{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Ll().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(Yt(Fl))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const ih={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},oh=/%COMP%/g;function sh(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?sh(t,i,n):(i=i.replace(oh,t),n.push(i))}return n}function ah(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ch=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new lh(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case ue.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new uh(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case ue.Native:case ue.ShadowDom:return new hh(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=sh(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Yt(th),Yt(rh),Yt(Uc))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class lh{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(ih[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=ih[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=ih[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&Sa.DashCase?t.style.setProperty(e,n,r&Sa.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Sa.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ah(n)):this.eventManager.addEventListener(t,e,ah(n))}}class uh extends lh{constructor(t,e,n,r){super(t),this.component=n;const i=sh(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(oh,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(oh,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class hh extends lh{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===ue.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=sh(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let dh=(()=>{class t extends eh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Yt(Fl))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const ph=["alt","control","meta","shift"],fh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mh={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},gh={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let yh=(()=>{class t extends eh{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ll().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(ph.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&mh.hasOwnProperty(e)&&(e=mh[e]))}return fh[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ph.forEach(r=>{r!=n&&(0,gh[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(Yt(Fl))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),vh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:function(){return Yt(_h)},token:t,providedIn:"root"}),t})(),_h=(()=>{class t extends vh{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Vr.NONE:return e;case Vr.HTML:return fr(e,"HTML")?pr(e):function(t,e){let n=null;try{jr=jr||new _r(t);let r=e?String(e):"";n=jr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=jr.getInertBodyElement(r)}while(r!==o);const s=new Pr,a=s.sanitizeChildren(Ur(n)||n);return vr()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Ur(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e));case Vr.STYLE:return fr(e,"Style")?pr(e):function(t){if(!(t=String(t).trim()))return"";const e=t.match(qr);return e&&Er(e[1])===e[1]||t.match(Br)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(vr()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}(e);case Vr.SCRIPT:if(fr(e,"Script"))return pr(e);throw new Error("unsafe value used in a script context");case Vr.URL:return mr(e),fr(e,"URL")?pr(e):Er(String(e));case Vr.RESOURCE_URL:if(fr(e,"ResourceURL"))return pr(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return new cr(t)}bypassSecurityTrustStyle(t){return new lr(t)}bypassSecurityTrustScript(t){return new ur(t)}bypassSecurityTrustUrl(t){return new hr(t)}bypassSecurityTrustResourceUrl(t){return new dr(t)}}return t.\u0275fac=function(e){return new(e||t)(Yt(Fl))},t.\u0275prov=ht({factory:function(){return t=Yt(Vt),new _h(t.get(Fl));var t},token:t,providedIn:"root"}),t})();const bh=wl(Nl,"browser",[{provide:Hc,useValue:"browser"},{provide:qc,useValue:function(){$u.makeCurrent(),Zu.init()},multi:!0},{provide:Fl,useFactory:function(){return function(t){Ne=t}(document),document},deps:[]}]),wh=[[],{provide:Mo,useValue:"root"},{provide:sr,useFactory:function(){return new sr},deps:[]},{provide:Ju,useClass:dh,multi:!0,deps:[Fl,ol,Hc]},{provide:Ju,useClass:yh,multi:!0,deps:[Fl]},[],{provide:ch,useClass:ch,deps:[th,rh,Uc]},{provide:Ea,useExisting:ch},{provide:nh,useExisting:rh},{provide:rh,useClass:rh,deps:[Fl]},{provide:pl,useClass:pl,deps:[ol]},{provide:th,useClass:th,deps:[Ju,ol]},[]];let Eh=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Uc,useValue:e.appId},{provide:Xu,useExisting:Uc},Qu]}}}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)(Yt(t,12))},providers:wh,imports:[Hu,Pl]}),t})();function Sh(...t){let e=t[t.length-1];return k(e)?(t.pop(),V(t,e)):G(t)}"undefined"!=typeof window&&window;class Ch extends x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new E;return this._value}next(t){super.next(this._value=t)}}const xh=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),Th={};function kh(...t){let e=null,n=null;return k(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&c(t[0])&&(t=t[0]),G(t,n).lift(new Ih(e))}class Ih{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Ah(t,this.resultSelector))}}class Ah extends L{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Th),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(M(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,s=this.toRespond?o[n]===Th?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Rh=new b(t=>t.complete());function Oh(t){return t?function(t){return new b(e=>t.schedule(()=>e.complete()))}(t):Rh}function Nh(t){return new b(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?B(n):Oh()).subscribe(e)})}function Dh(){return z(1)}function Ph(t,e){return function(n){return n.lift(new Mh(t,e))}}class Mh{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Lh(t,this.predicate,this.thisArg))}}class Lh extends f{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Fh=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function jh(t){return function(e){return 0===t?Oh():e.lift(new Uh(t))}}class Uh{constructor(t){if(this.total=t,this.total<0)throw new Fh}call(t,e){return e.subscribe(new Vh(t,this.total))}}class Vh extends f{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Bh(t=Wh){return e=>e.lift(new qh(t))}class qh{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Hh(t,this.errorFactory))}}class Hh extends f{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Wh(){return new xh}function zh(t=null){return e=>e.lift(new Gh(t))}class Gh{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new $h(t,this.defaultValue))}}class $h extends f{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Kh(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ph((e,n)=>t(e,n,r)):y,jh(1),n?zh(e):Bh(()=>new xh))}function Yh(t){return function(e){const n=new Xh(t),r=e.lift(n);return n.caught=r}}class Xh{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Qh(t,this.selector,this.caught))}}class Qh extends L{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new I(this,void 0,void 0);this.add(r);const i=M(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}function Zh(t){return e=>0===t?Oh():e.lift(new Jh(t))}class Jh{constructor(t){if(this.total=t,this.total<0)throw new Fh}call(t,e){return e.subscribe(new td(t,this.total))}}class td extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function ed(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ph((e,n)=>t(e,n,r)):y,Zh(1),n?zh(e):Bh(()=>new xh))}class nd{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new rd(t,this.predicate,this.thisArg,this.source))}}class rd extends f{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function id(t,e){return"function"==typeof e?n=>n.pipe(id((n,r)=>B(t(n,r)).pipe(F((t,i)=>e(n,t,r,i))))):e=>e.lift(new od(t))}class od{constructor(t){this.project=t}call(t,e){return e.subscribe(new sd(t,this.project))}}class sd extends L{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new I(this,e,n),o=this.destination;o.add(i),this.innerSubscription=M(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function ad(...t){return Dh()(Sh(...t))}function cd(...t){const e=t[t.length-1];return k(e)?(t.pop(),n=>ad(t,n,e)):e=>ad(t,e)}function ld(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ud(t,e,n))}}class ud{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new hd(t,this.accumulator,this.seed,this.hasSeed))}}class hd extends f{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function dd(t,e){return q(t,e,1)}function pd(){}function fd(t,e,n){return function(r){return r.lift(new md(t,e,n))}}class md{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new gd(t,this.nextOrObserver,this.error,this.complete))}}class gd extends f{constructor(t,e,n,i){super(t),this._tapNext=pd,this._tapError=pd,this._tapComplete=pd,this._tapError=n||pd,this._tapComplete=i||pd,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||pd,this._tapError=e.error||pd,this._tapComplete=e.complete||pd)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function yd(t){return e=>e.lift(new vd(t))}class vd{constructor(t){this.callback=t}call(t,e){return e.subscribe(new _d(t,this.callback))}}class _d extends f{constructor(t,e){super(t),this.add(new h(e))}}class bd{constructor(t,e){this.id=t,this.url=e}}class wd extends bd{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ed extends bd{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sd extends bd{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Cd extends bd{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xd extends bd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Td extends bd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kd extends bd{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Id extends bd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ad extends bd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rd{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Od{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Nd{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dd{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pd{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Md{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ld{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Fd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&bs(0,"router-outlet")},directives:function(){return[Bf]},encapsulation:2}),t})();class jd{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ud(t){return new jd(t)}function Vd(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Bd(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class qd{constructor(t,e){this.routes=t,this.module=e}}function Hd(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Wd(r,zd(e,r))}}function Wd(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Hd(t.children,e)}function zd(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Gd(t){const e=t.children&&t.children.map(Gd),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Fd),n}function $d(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Kd(t[i],e[i]))return!1;return!0}function Kd(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function Yd(t){return Array.prototype.concat.apply([],t)}function Xd(t){return t.length>0?t[t.length-1]:null}function Qd(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Zd(t){return Ts(t)?t:xs(t)?B(Promise.resolve(t)):Sh(t)}function Jd(t,e,n){return n?function(t,e){return $d(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!rp(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Kd(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!rp(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!rp(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!rp(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class tp{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ud(this.queryParams)),this._queryParamMap}toString(){return ap.serialize(this)}}class ep{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Qd(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cp(this)}}class np{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ud(this.parameters)),this._parameterMap}toString(){return fp(this)}}function rp(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function ip(t,e){let n=[];return Qd(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),Qd(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class op{}class sp{parse(t){const e=new _p(t);return new tp(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return cp(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return Qd(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=ip(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${cp(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${up(e)}=${up(t)}`).join("&"):`${up(e)}=${up(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const ap=new sp;function cp(t){return t.segments.map(t=>fp(t)).join("/")}function lp(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function up(t){return lp(t).replace(/%3B/gi,";")}function hp(t){return lp(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dp(t){return decodeURIComponent(t)}function pp(t){return dp(t.replace(/\+/g,"%20"))}function fp(t){return`${hp(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${hp(t)}=${hp(e[t])}`).join("")}`;var e}const mp=/^[^\/()?;=#]+/;function gp(t){const e=t.match(mp);return e?e[0]:""}const yp=/^[^=?&#]+/,vp=/^[^?&#]+/;class _p{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ep([],{}):new ep([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new ep(t,e)),n}parseSegment(){const t=gp(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new np(dp(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=gp(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=gp(this.remaining);t&&(n=t,this.capture(n))}t[dp(e)]=dp(n)}parseQueryParam(t){const e=function(t){const e=t.match(yp);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(vp);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=pp(e),i=pp(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=gp(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new ep([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class bp{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=wp(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=wp(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ep(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Ep(t,this._root).map(t=>t.value)}}function wp(t,e){if(t===e.value)return e;for(const n of e.children){const e=wp(t,n);if(e)return e}return null}function Ep(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Ep(t,n);if(r.length)return r.unshift(e),r}return[]}class Sp{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Cp(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class xp extends bp{constructor(t,e){super(t),this.snapshot=e,Op(this,t)}toString(){return this.snapshot.toString()}}function Tp(t,e){const n=function(t,e){const n=new Ap([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Rp("",new Sp(n,[]))}(t,e),r=new Ch([new np("",{})]),i=new Ch({}),o=new Ch({}),s=new Ch({}),a=new Ch(""),c=new kp(r,i,s,a,o,"primary",e,n.root);return c.snapshot=n.root,new xp(new Sp(c,[]),n)}class kp{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(F(t=>Ud(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(F(t=>Ud(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ip(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ap{constructor(t,e,n,r,i,o,s,a,c,l,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ud(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ud(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Rp extends bp{constructor(t,e){super(e),this.url=t,Op(this,e)}toString(){return Np(this._root)}}function Op(t,e){e.value._routerState=t,e.children.forEach(e=>Op(t,e))}function Np(t){const e=t.children.length>0?` { ${t.children.map(Np).join(", ")} } `:"";return`${t.value}${e}`}function Dp(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,$d(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),$d(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!$d(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),$d(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Pp(t,e){var n,r;return $d(t.params,e.params)&&rp(n=t.url,r=e.url)&&n.every((t,e)=>$d(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Pp(t.parent,e.parent))}function Mp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Lp(t,e,n,r,i){let o={};return r&&Qd(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new tp(n.root===t?e:function t(e,n,r){const i={};return Qd(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new ep(e.segments,i)}(n.root,t,e),o,i)}class Fp{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Mp(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==Xd(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class jp{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Up(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:`${t}`}function Vp(t,e,n){if(t||(t=new ep([],{})),0===t.segments.length&&t.hasChildren())return Bp(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=Up(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!zp(s,a,e))return o;r+=2}else{if(!zp(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new ep(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new ep(t.segments.slice(r.pathIndex),t.children),Bp(e,0,i)}return r.match&&0===i.length?new ep(t.segments,{}):r.match&&!t.hasChildren()?qp(t,e,n):r.match?Bp(t,0,i):qp(t,e,n)}function Bp(t,e,n){if(0===n.length)return new ep(t.segments,{});{const r=function(t){return"object"!=typeof t[0]?{primary:t}:void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return Qd(r,(n,r)=>{null!==n&&(i[r]=Vp(t.children[r],e,n))}),Qd(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new ep(t.segments,i)}}function qp(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=Hp(n[i].outlets);return new ep(r,t)}if(0===i&&Mp(n[0])){r.push(new np(t.segments[e].path,n[0])),i++;continue}const o=Up(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&Mp(s)?(r.push(new np(o,Wp(s))),i+=2):(r.push(new np(o,{})),i++)}return new ep(r,{})}function Hp(t){const e={};return Qd(t,(t,n)=>{null!==t&&(e[n]=qp(new ep([],{}),0,t))}),e}function Wp(t){const e={};return Qd(t,(t,n)=>e[n]=`${t}`),e}function zp(t,e,n){return t==n.path&&$d(e,n.parameters)}class Gp{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Dp(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Cp(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Qd(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Cp(t),i=t.value.component?n.children:e;Qd(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Cp(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Md(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Dd(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Dp(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),$p(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function $p(t){Dp(t.value),t.children.forEach($p)}function Kp(t){return"function"==typeof t}function Yp(t){return t instanceof tp}class Xp{constructor(t){this.segmentGroup=t||null}}class Qp{constructor(t){this.urlTree=t}}function Zp(t){return new b(e=>e.error(new Xp(t)))}function Jp(t){return new b(e=>e.error(new Qp(t)))}function tf(t){return new b(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class ef{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(te)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(F(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Yh(t=>{if(t instanceof Qp)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Xp)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(F(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Yh(t=>{if(t instanceof Xp)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new ep([],{primary:t}):t;return new tp(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(F(t=>new ep([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Sh({});const n=[],r=[],i={};return Qd(t,(t,o)=>{const s=e(o,t).pipe(F(t=>i[o]=t));"primary"===o?n.push(s):r.push(s)}),Sh.apply(null,n.concat(r)).pipe(Dh(),Kh(),F(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return Sh(...n).pipe(F(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Yh(t=>{if(t instanceof Xp)return Sh(null);throw t}))),Dh(),ed(t=>!!t),Yh((t,n)=>{if(t instanceof xh||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Sh(new ep([],{}));throw new Xp(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return sf(r)!==o?Zp(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Zp(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Jp(i):this.lineralizeSegments(n,i).pipe(q(n=>{const i=new ep(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:c,positionalParamSegments:l}=nf(e,r,i);if(!s)return Zp(e);const u=this.applyRedirectCommands(a,r.redirectTo,l);return r.redirectTo.startsWith("/")?Jp(u):this.lineralizeSegments(r,u).pipe(q(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(F(t=>(n._loadedConfig=t,new ep(r,{})))):Sh(new ep(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=nf(e,n,r);if(!i)return Zp(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(q(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>of(t,e,n)&&"primary"!==sf(n))}(t,n,r)?{segmentGroup:rf(new ep(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==sf(r)&&(n[sf(r)]=new ep([],{}));return n}(r,new ep(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>of(t,e,n))}(t,n,r)?{segmentGroup:rf(new ep(t.segments,function(t,e,n,r){const i={};for(const o of n)of(t,e,o)&&!r[sf(o)]&&(i[sf(o)]=new ep([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(F(t=>new ep(o,t))):0===r.length&&0===s.length?Sh(new ep(o,{})):this.expandSegment(n,i,r,s,"primary",!0).pipe(F(t=>new ep(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Sh(new qd(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Sh(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?B(r).pipe(F(r=>{const i=t.get(r);let o;if(function(t){return t&&Kp(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Kp(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Zd(o)})).pipe(Dh(),(i=t=>!0===t,t=>t.lift(new nd(i,void 0,t)))):Sh(!0);var i}(t.injector,e,n).pipe(q(n=>n?this.configLoader.load(t.injector,e).pipe(F(t=>(e._loadedConfig=t,t))):function(t){return new b(e=>e.error(Vd(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Sh(new qd([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Sh(n);if(r.numberOfChildren>1||!r.children.primary)return tf(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new tp(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Qd(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Qd(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new ep(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function nf(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Bd)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function rf(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new ep(t.segments.concat(e.segments),e.children)}return t}function of(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function sf(t){return t.outlet||"primary"}class af{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class cf{constructor(t,e){this.component=t,this.route=e}}function lf(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Cp(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,c=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!rp(t.url,e.url);case"pathParamsOrQueryParamsChange":return!rp(t.url,e.url)||!$d(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Pp(t,e)||!$d(t.queryParams,e.queryParams);case"paramsChange":default:return!Pp(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new af(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?c?c.children:null:r,i,o),l&&o.canDeactivateChecks.push(new cf(c&&c.outlet&&c.outlet.component||null,a))}else a&&hf(n,c,o),o.canActivateChecks.push(new af(i)),t(e,null,s.component?c?c.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),Qd(s,(t,e)=>hf(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function uf(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function hf(t,e,n){const r=Cp(t),i=t.value;Qd(r,(t,r)=>{hf(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new cf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const df=Symbol("INITIAL_VALUE");function pf(){return id(t=>kh(...t.map(t=>t.pipe(Zh(1),cd(df)))).pipe(ld((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==df)return t;if(r===df&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Yp(r))return r}return t},t)},df),Ph(t=>t!==df),F(t=>Yp(t)?t:!0===t),Zh(1)))}function ff(t,e){return null!==t&&e&&e(new Pd(t)),Sh(!0)}function mf(t,e){return null!==t&&e&&e(new Nd(t)),Sh(!0)}function gf(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?Sh(r.map(r=>Nh(()=>{const i=uf(r,e,n);let o;if(function(t){return t&&Kp(t.canActivate)}(i))o=Zd(i.canActivate(e,t));else{if(!Kp(i))throw new Error("Invalid CanActivate guard");o=Zd(i(e,t))}return o.pipe(ed())}))).pipe(pf()):Sh(!0)}function yf(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Nh(()=>Sh(e.guards.map(i=>{const o=uf(i,e.node,n);let s;if(function(t){return t&&Kp(t.canActivateChild)}(o))s=Zd(o.canActivateChild(r,t));else{if(!Kp(o))throw new Error("Invalid CanActivateChild guard");s=Zd(o(r,t))}return s.pipe(ed())})).pipe(pf())));return Sh(i).pipe(pf())}class vf{}class _f{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Ef(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Ap([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Sp(n,e),i=new Rp(this.url,r);return this.inheritParamsAndData(i._root),Sh(i)}catch(t){return new b(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Ip(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=ip(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof vf))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new vf}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new vf;if((t.outlet||"primary")!==r)throw new vf;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?Xd(n).parameters:{};i=new Ap(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,xf(t),r,t.component,t,bf(e),wf(e)+n.length,Tf(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new vf;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Bd)(n,t,e);if(!r)throw new vf;const i={};Qd(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new Ap(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,xf(t),r,t.component,t,bf(e),wf(e)+o.length,Tf(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:l}=Ef(e,o,s,a,this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const t=this.processChildren(a,c);return[new Sp(i,t)]}if(0===a.length&&0===l.length)return[new Sp(i,[])];const u=this.processSegment(a,c,l,"primary");return[new Sp(i,u)]}}function bf(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function wf(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ef(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Sf(t,e,n)&&"primary"!==Cf(n))}(t,n,r)){const i=new ep(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==Cf(o)){const n=new ep([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Cf(o)]=n}return i}(t,e,r,new ep(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Sf(t,e,n))}(t,n,r)){const o=new ep(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Sf(t,n,a)&&!i[Cf(a)]){const n=new ep([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Cf(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new ep(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Sf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Cf(t){return t.outlet||"primary"}function xf(t){return t.data||{}}function Tf(t){return t.resolve||{}}function kf(t,e,n,r){const i=uf(t,e,r);return Zd(i.resolve?i.resolve(e,n):i(e,n))}function If(t){return function(e){return e.pipe(id(e=>{const n=t(e);return n?B(n).pipe(F(()=>e)):B([e])}))}}class Af{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const Rf=new Ut("ROUTES");class Of{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(F(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new qd(Yd(r.injector.get(Rf)).map(Gd),r)}))}loadModuleFactory(t){return"string"==typeof t?B(this.loader.load(t)):Zd(t()).pipe(q(t=>t instanceof ee?Sh(t):B(this.compiler.compileModuleAsync(t))))}}class Nf{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Df(t){throw t}function Pf(t,e,n){return e.parse("/")}function Mf(t,e){return Sh(null)}let Lf=(()=>{class t{constructor(t,e,n,r,i,o,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new x,this.errorHandler=Df,this.malformedUriErrorHandler=Pf,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Mf,afterPreactivation:Mf},this.urlHandlingStrategy=new Nf,this.routeReuseStrategy=new Af,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(te),this.console=i.get(zc);const c=i.get(ol);this.isNgZoneEnabled=c instanceof ol,this.resetConfig(a),this.currentUrlTree=new tp(new ep([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Of(o,s,t=>this.triggerEvent(new Rd(t)),t=>this.triggerEvent(new Od(t))),this.routerState=Tp(this.currentUrlTree,this.rootComponentType),this.transitions=new Ch({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Ph(t=>0!==t.id),F(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),id(t=>{let n=!1,r=!1;return Sh(t).pipe(fd(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),id(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Sh(t).pipe(id(t=>{const n=this.transitions.getValue();return e.next(new wd(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Rh:[t]}),id(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(id(t=>function(t,e,n,r,i){return new ef(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(F(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),fd(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(q(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new _f(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(F(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),fd(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),fd(t=>{const n=new xd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new wd(n,this.serializeUrl(r),i,o);e.next(a);const c=Tp(r,this.rootComponentType).snapshot;return Sh(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Rh}),If(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),fd(t=>{const e=new Td(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),F(t=>Object.assign(Object.assign({},t),{guards:lf(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(q(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Sh(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return B(t).pipe(q(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Sh(o.map(o=>{const s=uf(o,e,i);let a;if(function(t){return t&&Kp(t.canDeactivate)}(s))a=Zd(s.canDeactivate(t,e,n,r));else{if(!Kp(s))throw new Error("Invalid CanDeactivate guard");a=Zd(s(t,e,n,r))}return a.pipe(ed())})).pipe(pf()):Sh(!0)}(t.component,t.route,n,e,r)),ed(t=>!0!==t,!0))}(s,r,i,t).pipe(q(n=>n&&"boolean"==typeof n?function(t,e,n,r){return B(e).pipe(dd(e=>B([mf(e.route.parent,r),ff(e.route,r),yf(t,e.path,n),gf(t,e.route,n)]).pipe(Dh(),ed(t=>!0!==t,!0))),ed(t=>!0!==t,!0))}(r,o,t,e):Sh(n)),F(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),fd(t=>{if(Yp(t.guardsResult)){const e=Vd(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),fd(t=>{const e=new kd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Ph(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Sd(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),If(t=>{if(t.guards.canActivateChecks.length)return Sh(t).pipe(fd(t=>{const e=new Id(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(q(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;return i.length?B(i).pipe(dd(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Sh({});if(1===i.length){const o=i[0];return kf(t[o],e,n,r).pipe(F(t=>({[o]:t})))}const o={};return B(i).pipe(q(i=>kf(t[i],e,n,r).pipe(F(t=>(o[i]=t,t))))).pipe(Kh(),F(()=>o))}(t._resolve,t,e,r).pipe(F(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Ip(t,n).resolve),null)))}(t.route,r,e,n)),function(t,e){return arguments.length>=2?function(n){return v(ld(t,e),jh(1),zh(e))(n)}:function(e){return v(ld((e,n,r)=>t(e,n,r+1)),jh(1))(e)}}((t,e)=>t),F(e=>t)):Sh(t)}))}),fd(t=>{const e=new Ad(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),If(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),F(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Sp(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new kp(new Ch((i=n.value).url),new Ch(i.params),new Ch(i.queryParams),new Ch(i.fragment),new Ch(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new Sp(r,o)}}var i}(t,e._root,n?n._root:void 0);return new xp(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),fd(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,o=this.routeReuseStrategy,s=t=>this.triggerEvent(t),F(t=>(new Gp(o,t.targetRouterState,t.currentRouterState,s).activate(i),t))),fd({next(){n=!0},complete(){n=!0}}),yd(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Sd(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Yh(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Yp(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Sd(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Cd(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return Rh}));var i,o,s}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Hd(t),this.config=t.map(Gd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:o,queryParamsHandling:s,preserveFragment:a}=e;vr()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=a?this.currentUrlTree.fragment:i;let u=null;if(s)switch(s){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}else u=o?this.currentUrlTree.queryParams:r||null;return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,n,r,i){if(0===n.length)return Lp(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Fp(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Qd(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Fp(n,e,r)}(n);if(o.toRoot())return Lp(e.root,new ep([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new jp(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new jp(n.snapshot._urlSegment,!0,0);const r=Mp(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new jp(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Bp(s.segmentGroup,s.index,o.commands):Vp(s.segmentGroup,s.index,o.commands);return Lp(s.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,u,l)}navigateByUrl(t,e={skipLocationChange:!1}){vr()&&this.isNgZoneEnabled&&!ol.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Yp(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Yp(t))return Jd(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Jd(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Ed(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition();if(o&&"imperative"!==e&&"imperative"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"hashchange"==e&&"popstate"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"popstate"==e&&"hashchange"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);let s,a,c;i?(s=i.resolve,a=i.reject,c=i.promise):c=new Promise((t,e)=>{s=t,a=e});const l=++this.navigationId;return this.setTransition({id:l,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:s,reject:a,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(t){ms()},t.\u0275dir=be({type:t}),t})(),Ff=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){vr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:jf(this.skipLocationChange),replaceUrl:jf(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:jf(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:jf(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(ps(Lf),ps(kp),fs("tabindex"),ps(Ca),ps(ba))},t.\u0275dir=be({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&ks("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),t})();function jf(t){return""===t||!!t}class Uf{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Vf,this.attachRef=null}}class Vf{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Uf,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Bf=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new fc,this.deactivateEvents=new fc,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new qf(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(ps(Vf),ps(Ga),ps(_a),fs("name"),ps(Do))},t.\u0275dir=be({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class qf{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===kp?this.route:t===Vf?this.childContexts:this.parent.get(t,e)}}class Hf{}class Wf{preload(t,e){return Sh(null)}}let zf=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Of(e,n,e=>t.triggerEvent(new Rd(e)),e=>t.triggerEvent(new Od(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ph(t=>t instanceof Ed),dd(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(te);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return B(n).pipe(z(),F(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(q(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(Yt(Lf),Yt(kl),Yt(el),Yt(Yo),Yt(Hf))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Gf=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof wd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ed&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ld&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Ld(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(t){ms()},t.\u0275dir=be({type:t}),t})();const $f=new Ut("ROUTER_CONFIGURATION"),Kf=new Ut("ROUTER_FORROOT_GUARD"),Yf=[Zl,{provide:op,useClass:sp},{provide:Lf,useFactory:function(t,e,n,r,i,o,s,a={},c,l){const u=new Lf(null,t,e,n,r,i,o,Yd(s));if(c&&(u.urlHandlingStrategy=c),l&&(u.routeReuseStrategy=l),a.errorHandler&&(u.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(u.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const t=Ll();u.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(u.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(u.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(u.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(u.relativeLinkResolution=a.relativeLinkResolution),u},deps:[op,Vf,Zl,Yo,kl,el,Rf,$f,[class{},new ot],[class{},new ot]]},Vf,{provide:kp,useFactory:function(t){return t.routerState.root},deps:[Lf]},{provide:kl,useClass:Rl},zf,Wf,class{preload(t,e){return e().pipe(Yh(()=>Sh(null)))}},{provide:$f,useValue:{enableTracing:!1}}];function Xf(){return new bl("Router",Lf)}let Qf=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Yf,em(e),{provide:Kf,useFactory:tm,deps:[[Lf,new ot,new at]]},{provide:$f,useValue:n||{}},{provide:$l,useFactory:Jf,deps:[jl,[new it(Yl),new ot],$f]},{provide:Gf,useFactory:Zf,deps:[Lf,zu,$f]},{provide:Hf,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Wf},{provide:bl,multi:!0,useFactory:Xf},[nm,{provide:Fc,multi:!0,useFactory:rm,deps:[nm]},{provide:om,useFactory:im,deps:[nm]},{provide:Wc,multi:!0,useExisting:om}]]}}static forChild(e){return{ngModule:t,providers:[em(e)]}}}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)(Yt(Kf,8),Yt(Lf,8))}}),t})();function Zf(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Gf(t,e,n)}function Jf(t,e,n={}){return n.useHash?new Ql(t,e):new Xl(t,e)}function tm(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function em(t){return[{provide:Xo,multi:!0,useValue:t},{provide:Rf,multi:!0,useValue:t}]}let nm=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new x}appInitializer(){return this.injector.get(Vl,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Lf),r=this.injector.get($f);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Sh(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get($f),n=this.injector.get(zf),r=this.injector.get(Gf),i=this.injector.get(Lf),o=this.injector.get(xl);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(Yt(Yo))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function rm(t){return t.appInitializer.bind(t)}function im(t){return t.bootstrapListener.bind(t)}const om=new Ut("Router Initializer");function sm(...t){if(1===t.length){const e=t[0];if(c(e))return am(e,null);if(l(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return am(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return am(t=1===t.length&&c(t[0])?t[0]:t,null).pipe(F(t=>e(...t)))}return am(t,null)}function am(t,e){return new b(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const c=B(t[a]);let l=!1;n.add(c.subscribe({next:t=>{l||(l=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&l||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const cm=new Ut("NgValueAccessor"),lm={provide:cm,useExisting:Ct(()=>um),multi:!0};let um=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(ps(Ca),ps(ba))},t.\u0275dir=be({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&ks("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[ga([lm])]}),t})();const hm={provide:cm,useExisting:Ct(()=>pm),multi:!0},dm=new Ut("CompositionEventMode");let pm=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Ll()?Ll().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(ps(Ca),ps(ba),ps(dm,8))},t.\u0275dir=be({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&ks("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[ga([hm])]}),t})(),fm=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t}),t})(),mm=(()=>{class t extends fm{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return gm(e||t)},t.\u0275dir=be({type:t,features:[ta]}),t})();const gm=nr(mm);function ym(){throw new Error("unimplemented")}class vm extends fm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return ym()}get asyncValidator(){return ym()}}class _m{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let bm=(()=>{class t extends _m{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(ps(vm,2))},t.\u0275dir=be({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&qs("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[ta]}),t})(),wm=(()=>{class t extends _m{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(ps(mm,2))},t.\u0275dir=be({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&qs("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[ta]}),t})();function Em(t){return null==t||0===t.length}const Sm=new Ut("NgValidators"),Cm=new Ut("NgAsyncValidators"),xm=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Tm{static min(t){return e=>{if(Em(e.value)||Em(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Em(e.value)||Em(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Em(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Em(t.value)?null:xm.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(Em(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return Tm.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Em(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(km);return 0==e.length?null:function(t){return Am(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(km);return 0==e.length?null:function(t){return sm(function(t,e){return e.map(e=>e(t))}(t,e).map(Im)).pipe(F(Am))}}}function km(t){return null!=t}function Im(t){const e=xs(t)?B(t):t;if(!Ts(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Am(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Rm(t){return t.validate?e=>t.validate(e):t}function Om(t){return t.validate?e=>t.validate(e):t}const Nm={provide:cm,useExisting:Ct(()=>Dm),multi:!0};let Dm=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(ps(Ca),ps(ba))},t.\u0275dir=be({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&ks("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[ga([Nm])]}),t})();const Pm={provide:cm,useExisting:Ct(()=>Lm),multi:!0};let Mm=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Lm=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(vm),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(ps(Ca),ps(ba),ps(Mm),ps(Yo))},t.\u0275dir=be({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&ks("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[ga([Pm])]}),t})();const Fm={provide:cm,useExisting:Ct(()=>jm),multi:!0};let jm=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(ps(Ca),ps(ba))},t.\u0275dir=be({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&ks("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[ga([Fm])]}),t})();const Um='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',Vm='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Bm='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';class qm{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Um}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${Vm}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${Bm}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${Um}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Vm}`)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const Hm={provide:cm,useExisting:Ct(()=>Wm),multi:!0};let Wm=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=rs}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(ps(Ca),ps(ba))},t.\u0275dir=be({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&ks("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[ga([Hm])]}),t})();const zm={provide:cm,useExisting:Ct(()=>Gm),multi:!0};let Gm=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=rs}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(ps(Ca),ps(ba))},t.\u0275dir=be({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&ks("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[ga([zm])]}),t})();function $m(t,e){return[...e.path,t]}function Km(t,e){t||Zm(e,"Cannot find control with"),e.valueAccessor||Zm(e,"No value accessor for form control with"),t.validator=Tm.compose([t.validator,e.validator]),t.asyncValidator=Tm.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Ym(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Ym(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Ym(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Xm(t,e){null==t&&Zm(e,"Cannot find control with"),t.validator=Tm.compose([t.validator,e.validator]),t.asyncValidator=Tm.composeAsync([t.asyncValidator,e.asyncValidator])}function Qm(t){return Zm(t,"There is no FormControl instance attached to form control element with")}function Zm(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function Jm(t){return null!=t?Tm.compose(t.map(Rm)):null}function tg(t){return null!=t?Tm.composeAsync(t.map(Om)):null}function eg(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!rs(e,n.currentValue)}const ng=[um,jm,Dm,Wm,Gm,Lm];function rg(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function ig(t,e){if(!e)return null;Array.isArray(e)||Zm(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{var o;e.constructor===pm?n=e:(o=e,ng.some(t=>o.constructor===t)?(r&&Zm(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Zm(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(Zm(t,"No valid value accessor for form control with"),null)}function og(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function sg(t){const e=cg(t)?t.validators:t;return Array.isArray(e)?Jm(e):e||null}function ag(t,e){const n=cg(e)?e.asyncValidators:t;return Array.isArray(n)?tg(n):n||null}function cg(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class lg{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=sg(t)}setAsyncValidators(t){this.asyncValidator=ag(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=Im(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof hg?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof dg&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new fc,this.statusChanges=new fc}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){cg(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class ug extends lg{constructor(t=null,e,n){super(sg(e),ag(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class hg extends lg{constructor(t,e,n){super(sg(e),ag(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof ug?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class dg extends lg{constructor(t,e,n){super(sg(e),ag(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ug?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const pg={provide:mm,useExisting:Ct(()=>mg)},fg=(()=>Promise.resolve(null))();let mg=(()=>{class t extends mm{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new fc,this.form=new hg({},Jm(t),tg(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){fg.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Km(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){fg.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),og(this._directives,t)})}addFormGroup(t){fg.then(()=>{const e=this._findContainer(t.path),n=new hg({});Xm(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){fg.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){fg.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,rg(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(ps(Sm,10),ps(Cm,10))},t.\u0275dir=be({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&ks("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ga([pg]),ta]}),t})(),gg=(()=>{class t extends mm{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return $m(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Jm(this._validators)}get asyncValidator(){return tg(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return yg(e||t)},t.\u0275dir=be({type:t,features:[ta]}),t})();const yg=nr(gg);class vg{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${Um}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${Vm}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${Bm}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${Vm}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${Bm}`)}}const _g={provide:mm,useExisting:Ct(()=>bg)};let bg=(()=>{class t extends gg{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof mg||vg.modelGroupParentException()}}return t.\u0275fac=function(e){return new(e||t)(ps(mm,5),ps(Sm,10),ps(Cm,10))},t.\u0275dir=be({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[ga([_g]),ta]}),t})();const wg={provide:vm,useExisting:Ct(()=>Sg)},Eg=(()=>Promise.resolve(null))();let Sg=(()=>{class t extends vm{constructor(t,e,n,r){super(),this.control=new ug,this._registered=!1,this.update=new fc,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=ig(this,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),eg(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?$m(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Jm(this._rawValidators)}get asyncValidator(){return tg(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Km(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof bg)&&this._parent instanceof gg?vg.formGroupNameException():this._parent instanceof bg||this._parent instanceof mg||vg.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||vg.missingNameException()}_updateValue(t){Eg.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Eg.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(ps(mm,9),ps(Sm,10),ps(Cm,10),ps(cm,10))},t.\u0275dir=be({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ga([wg]),ta,sa]}),t})(),Cg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const xg=new Ut("NgModelWithFormControlWarning"),Tg={provide:mm,useExisting:Ct(()=>kg)};let kg=(()=>{class t extends mm{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new fc}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Km(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){og(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);Xm(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);Xm(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,rg(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>Qm(e)),e.valueAccessor.registerOnTouched(()=>Qm(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&Km(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=Jm(this._validators);this.form.validator=Tm.compose([this.form.validator,t]);const e=tg(this._asyncValidators);this.form.asyncValidator=Tm.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||qm.missingFormException()}}return t.\u0275fac=function(e){return new(e||t)(ps(Sm,10),ps(Cm,10))},t.\u0275dir=be({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&ks("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ga([Tg]),ta,sa]}),t})();const Ig={provide:mm,useExisting:Ct(()=>Ag)};let Ag=(()=>{class t extends gg{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){Ng(this._parent)&&qm.groupParentException()}}return t.\u0275fac=function(e){return new(e||t)(ps(mm,13),ps(Sm,10),ps(Cm,10))},t.\u0275dir=be({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[ga([Ig]),ta]}),t})();const Rg={provide:mm,useExisting:Ct(()=>Og)};let Og=(()=>{class t extends mm{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return $m(null==this.name?this.name:this.name.toString(),this._parent)}get validator(){return Jm(this._validators)}get asyncValidator(){return tg(this._asyncValidators)}_checkParentType(){Ng(this._parent)&&qm.arrayParentException()}}return t.\u0275fac=function(e){return new(e||t)(ps(mm,13),ps(Sm,10),ps(Cm,10))},t.\u0275dir=be({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[ga([Rg]),ta]}),t})();function Ng(t){return!(t instanceof Ag||t instanceof kg||t instanceof Og)}const Dg={provide:vm,useExisting:Ct(()=>Pg)};let Pg=(()=>{class t extends vm{constructor(t,e,n,r,i){super(),this._ngModelWarningConfig=i,this._added=!1,this.update=new fc,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=ig(this,r)}set isDisabled(t){qm.disabledAttrWarning()}ngOnChanges(e){var n,r,i;this._added||this._setUpControl(),eg(e,this.viewModel)&&(n=t,r=this,i=this._ngModelWarningConfig,vr()&&"never"!==i&&((null!==i&&"once"!==i||n._ngModelWarningSentOnce)&&("always"!==i||r._ngModelWarningSent)||(qm.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,r._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return $m(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Jm(this._rawValidators)}get asyncValidator(){return tg(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof Ag)&&this._parent instanceof gg?qm.ngModelGroupException():this._parent instanceof Ag||this._parent instanceof kg||this._parent instanceof Og||qm.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(ps(mm,13),ps(Sm,10),ps(Cm,10),ps(cm,10),ps(xg,8))},t.\u0275dir=be({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ga([Dg]),ta,sa]}),t._ngModelWarningSentOnce=!1,t})(),Mg=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})(),Lg=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new hg(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new ug(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new dg(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof ug||t instanceof hg||t instanceof dg?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Fg=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[Mm],imports:[Mg]}),t})(),jg=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:xg,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[Lg,Mm],imports:[Mg]}),t})();var Ug=n("iqUP");function Vg(t){return null!=t&&"false"!==`${t}`}function Bg(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function qg(t){return Array.isArray(t)?t:[t]}function Hg(t){return null==t?"":"string"==typeof t?t:`${t}px`}function Wg(t){return t instanceof ba?t.nativeElement:t}class zg extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class Gg extends zg{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let $g=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class Kg extends $g{constructor(t,e=$g.now){super(t,()=>Kg.delegate&&Kg.delegate!==this?Kg.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Kg.delegate&&Kg.delegate!==this?Kg.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const Yg=new Kg(Gg);function Xg(t,e=Yg){return n=>n.lift(new Qg(t,e))}class Qg{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Zg(t,this.dueTime,this.scheduler))}}class Zg extends f{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Jg,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Jg(t){t.debouncedNext()}let ty,ey=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:function(){return new t},token:t,providedIn:"root"}),t})(),ny=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=Wg(t);return new b(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new x,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(Yt(ey))},t.\u0275prov=ht({factory:function(){return new t(Yt(ey))},token:t,providedIn:"root"}),t})(),ry=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new fc,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Vg(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Bg(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Xg(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(ps(ny),ps(ba),ps(ol))},t.\u0275dir=be({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),iy=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[ey]}),t})();function oy(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}try{ty="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(pO){ty=!1}let sy,ay=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Wu(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ty)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(Yt(Hc,8))},t.\u0275prov=ht({factory:function(){return new t(Yt(Hc,8))},token:t,providedIn:"root"}),t})(),cy=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})();const ly=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function uy(){if(sy)return sy;if("object"!=typeof document||!document)return sy=new Set(ly),sy;let t=document.createElement("input");return sy=new Set(ly.filter(e=>(t.setAttribute("type",e),t.type===e))),sy}let hy,dy,py;function fy(t){return function(){if(null==hy&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>hy=!0}))}finally{hy=hy||!1}return hy}()?t:!!t.capture}function my(){if("object"!=typeof document||!document)return 0;if(null==dy){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.height="1px",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const n=document.createElement("div"),r=n.style;r.width="2px",r.height="1px",t.appendChild(n),document.body.appendChild(t),dy=0,0===t.scrollLeft&&(t.scrollLeft=1,dy=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return dy}function gy(t){if(function(){if(null==py){const t="undefined"!=typeof document?document.head:null;py=!(!t||!t.createShadowRoot&&!t.attachShadow)}return py}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}class yy extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new x,this._typeaheadSubscription=h.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new x,this.change=new x,t instanceof gc&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){if(this._items.length&&this._items.some(t=>"function"!=typeof t.getLabel))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(fd(t=>this._pressedLetters.push(t)),Xg(t),Ph(()=>this._pressedLetters.length>0),F(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const r=(this._activeItemIndex+n)%e.length,i=e[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}setActiveItem(t){const e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((n||oy(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof gc?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let vy=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(pO){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){const t=e&&e.nodeName.toLowerCase();if(-1===by(e))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===t)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=by(t);if(t.hasAttribute("contenteditable"))return-1!==i;if("iframe"===r)return!1;if("audio"===r){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===r){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==r||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}isFocusable(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||_y(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}return t.\u0275fac=function(e){return new(e||t)(Yt(ay))},t.\u0275prov=ht({factory:function(){return new t(Yt(ay))},token:t,providedIn:"root"}),t})();function _y(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function by(t){if(!_y(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class wy{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], `+`[cdkFocusRegion${t}], `+`[cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated `+"attribute will be removed in 8.0.0.",e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated attribute `+"will be removed in 8.0.0.",e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),vr()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(Zh(1)).subscribe(t)}}let Ey=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new wy(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(Yt(vy),Yt(ol),Yt(Fl))},t.\u0275prov=ht({factory:function(){return new t(Yt(vy),Yt(ol),Yt(Fl))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;const Sy=new Ut("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Cy=new Ut("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let xy=(()=>{class t{constructor(t,e,n,r){this._ngZone=e,this._defaultOptions=r,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let r,i;return 1===e.length&&"number"==typeof e[0]?i=e[0]:[r,i]=e,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}return t.\u0275fac=function(e){return new(e||t)(Yt(Sy,8),Yt(ol),Yt(Fl),Yt(Cy,8))},t.\u0275prov=ht({factory:function(){return new t(Yt(Sy,8),Yt(ol),Yt(Fl),Yt(Cy,8))},token:t,providedIn:"root"}),t})();function Ty(t){return 0===t.buttons}const ky=new Ut("cdk-focus-monitor-default-options"),Iy=fy({passive:!0,capture:!0});let Ay=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=Ty(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=Ry(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=Ry(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){if(!this._platform.isBrowser)return Sh(null);const n=Wg(t),r=gy(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject.asObservable();const o={checkChildren:e,subject:new x,rootNode:r};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject.asObservable()}stopMonitoring(t){const e=Wg(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=Wg(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=Ry(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==Ry(t))return;const r=this._getFocusOrigin(t);this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,Iy),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,Iy)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,Iy),t.addEventListener("mousedown",this._documentMousedownListener,Iy),t.addEventListener("touchstart",this._documentTouchstartListener,Iy),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Iy),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Iy),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,Iy),t.removeEventListener("mousedown",this._documentMousedownListener,Iy),t.removeEventListener("touchstart",this._documentTouchstartListener,Iy),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}return t.\u0275fac=function(e){return new(e||t)(Yt(ol),Yt(ay),Yt(Fl,8),Yt(ky,8))},t.\u0275prov=ht({factory:function(){return new t(Yt(ol),Yt(ay),Yt(Fl,8),Yt(ky,8))},token:t,providedIn:"root"}),t})();function Ry(t){return t.composedPath?t.composedPath()[0]:t.target}let Oy=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");const e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}return t.\u0275fac=function(e){return new(e||t)(Yt(ay),Yt(Fl))},t.\u0275prov=ht({factory:function(){return new t(Yt(ay),Yt(Fl))},token:t,providedIn:"root"}),t})(),Ny=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)(Yt(Oy))},imports:[[cy,iy]]}),t})();const Dy=new Ut("cdk-dir-doc",{providedIn:"root",factory:function(){return Xt(Fl)}});let Py=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new fc,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(Yt(Dy,8))},t.\u0275prov=ht({factory:function(){return new t(Yt(Dy,8))},token:t,providedIn:"root"}),t})(),My=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})();const Ly=new ka("9.2.4");class Fy{}function jy(t,e){return{type:7,name:t,definitions:e,options:{}}}function Uy(t,e=null){return{type:4,styles:e,timings:t}}function Vy(t,e=null){return{type:3,steps:t,options:e}}function By(t,e=null){return{type:2,steps:t,options:e}}function qy(t){return{type:6,styles:t,offset:null}}function Hy(t,e,n){return{type:0,name:t,styles:e,options:n}}function Wy(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function zy(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function Gy(t){Promise.resolve(null).then(t)}class $y{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Gy(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Ky{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Gy(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Yy(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Xy(t){switch(t.length){case 0:return new $y;case 1:return t[0];default:return new Ky(t)}}function Qy(t,e,n,r,i={},o={}){const s=[],a=[];let c=-1,l=null;if(r.forEach(t=>{const n=t.offset,r=n==c,u=r&&l||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case"!":a=i[n];break;case"*":a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}u[r]=a}),r||a.push(u),l=u,c=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function Zy(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Jy(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Jy(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Jy(n,"destroy",t)))}}function Jy(t,e,n){const r=n.totalTime,i=tv(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function tv(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function ev(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function nv(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let rv=(t,e)=>!1,iv=(t,e)=>!1,ov=(t,e,n)=>[];const sv=Yy();(sv||"undefined"!=typeof Element)&&(rv=(t,e)=>t.contains(e),iv=(()=>{if(sv||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):iv}})(),ov=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let av=null,cv=!1;function lv(t){av||(av=("undefined"!=typeof document?document.body:null)||{},cv=!!av.style&&"WebkitAppearance"in av.style);let e=!0;return av.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in av.style,!e&&cv)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in av.style),e}const uv=iv,hv=rv,dv=ov;function pv(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let fv=(()=>{class t{validateStyleProperty(t){return lv(t)}matchesElement(t,e){return uv(t,e)}containsElement(t,e){return hv(t,e)}query(t,e,n){return dv(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],s){return new $y(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),mv=(()=>{class t{}return t.NOOP=new fv,t})();function gv(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:yv(parseFloat(e[1]),e[2])}function yv(t,e){switch(e){case"s":return 1e3*t;default:return t}}function vv(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=yv(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=yv(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function _v(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function bv(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else _v(t,n);return n}function wv(t,e,n){return n?e+":"+n+";":""}function Ev(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=wv(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=wv(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Sv(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Ov(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Yy()&&Ev(t))}function Cv(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Ov(e);t.style[n]=""}),Yy()&&Ev(t))}function xv(t){return Array.isArray(t)?1==t.length?t[0]:By(t):t}const Tv=new RegExp("{{\\s*(.+?)\\s*}}","g");function kv(t){let e=[];if("string"==typeof t){let n;for(;n=Tv.exec(t);)e.push(n[1]);Tv.lastIndex=0}return e}function Iv(t,e,n){const r=t.toString(),i=r.replace(Tv,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function Av(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Rv=/-+([a-z0-9])/g;function Ov(t){return t.replace(Rv,(...t)=>t[1].toUpperCase())}function Nv(t,e){return 0===t||0===e}function Dv(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var i=1;i<e.length;i++){let n=e[i];s.forEach((function(e){n[e]=Mv(t,e)}))}}return e}function Pv(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Mv(t,e){return window.getComputedStyle(t)[e]}function Lv(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(Uv(i,s)),"<"!=o[0]||"*"==i&&"*"==s||e.push(Uv(s,i))}(t,n,e)):n.push(t),n}const Fv=new Set(["true","1"]),jv=new Set(["false","0"]);function Uv(t,e){const n=Fv.has(t)||jv.has(t),r=Fv.has(e)||jv.has(e);return(i,o)=>{let s="*"==t||t==i,a="*"==e||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?Fv.has(t):jv.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?Fv.has(e):jv.has(e)),s&&a}}const Vv=new RegExp("s*:selfs*,?","g");function Bv(t,e,n){return new qv(t).build(e,n)}class qv{constructor(t){this._driver=t}build(t,e){const n=new Hv(e);return this._resetContextStyleTimingState(n),Pv(this,xv(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(Wv(t)){const e=t;Object.keys(e).forEach(t=>{kv(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Av(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Pv(this,xv(t.animation),e);return{type:1,matchers:Lv(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:zv(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Pv(this,t,e)),options:zv(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Pv(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:zv(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Gv(vv(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Gv(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||vv(r,e),Gv(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:qy({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=qy(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=o,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Wv(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=kv(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Wv(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Wv(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),l=0;return null!=c&&(r++,l=n.offset=c),s=s||l<0||l>1,o=o||l<a,a=l,i.push(l),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const l=t.steps.length;let u=0;r>0&&r<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(u=1/(l-1));const h=l-1,d=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return c.forEach((t,r)=>{const o=u>0?r==h?1:u*r:i[r],s=o*f;e.currentTime=d+p.delay+s,p.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Pv(this,xv(t.animation),e),options:zv(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:zv(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:zv(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Vv,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,ev(e.collectedStyles,e.currentQuerySelector,{});const s=Pv(this,xv(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:zv(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:vv(t.timings,e.errors,!0);return{type:12,animation:Pv(this,xv(t.animation),e),timings:n,options:null}}}class Hv{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Wv(t){return!Array.isArray(t)&&"object"==typeof t}function zv(t){var e;return t?(t=_v(t)).params&&(t.params=(e=t.params)?_v(e):null):t={},t}function Gv(t,e,n){return{duration:t,delay:e,easing:n}}function $v(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class Kv{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Yv=new RegExp(":enter","g"),Xv=new RegExp(":leave","g");function Qv(t,e,n,r,i,o={},s={},a,c,l=[]){return(new Zv).buildKeyframes(t,e,n,r,i,o,s,a,c,l)}class Zv{buildKeyframes(t,e,n,r,i,o,s,a,c,l=[]){c=c||new Kv;const u=new t_(t,e,c,r,i,l,[]);u.options=a,u.currentTimeline.setStyles([o],null,u.errors,a),Pv(this,n,u);const h=u.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,u.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[$v(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?gv(n.duration):null,o=null!=n.delay?gv(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Pv(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Jv);const t=gv(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Pv(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?gv(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),Pv(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return vv(e.params?Iv(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?gv(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Jv);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(a=s.currentTimeline),Pv(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const l=c.currentTime;Pv(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}const Jv={};class t_{constructor(t,e,n,r,i,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Jv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new e_(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=gv(n.duration)),null!=n.delay&&(r.delay=gv(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Iv(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new t_(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Jv,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new n_(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(Yv,"."+this._enterClassName)).replace(Xv,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class e_{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new e_(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):bv(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=Iv(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=bv(i,!0);Object.keys(s).forEach(n=>{const r=s[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=t.size?Av(t.values()):[],o=e.size?Av(e.values()):[];if(n){const t=r[0],e=_v(t);t.offset=0,e.offset=1,r=[t,e]}return $v(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class n_ extends e_{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,a=bv(t[0],!1);a.offset=0,i.push(a);const c=bv(t[0],!1);c.offset=r_(s),i.push(c);const l=t.length-1;for(let r=1;r<=l;r++){let s=bv(t[r],!1);s.offset=r_((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return $v(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function r_(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class i_{}class o_ extends i_{normalizePropertyName(t,e){return Ov(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(s_[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const s_=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function a_(t,e,n,r,i,o,s,a,c,l,u,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:h,errors:d}}const c_={};class l_{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,a,c,l){const u=[],h=this.ast.options&&this.ast.options.params||c_,d=this.buildStyles(n,s&&s.params||c_,u),p=a&&a.params||c_,f=this.buildStyles(r,p,u),m=new Set,g=new Map,y=new Map,v="void"===r,_={params:Object.assign(Object.assign({},h),p)},b=l?[]:Qv(t,e,this.ast.animation,i,o,d,f,_,c,u);let w=0;if(b.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),u.length)return a_(e,this._triggerName,n,r,v,d,f,[],[],g,y,w,u);b.forEach(t=>{const n=t.element,r=ev(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=ev(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const E=Av(m.values());return a_(e,this._triggerName,n,r,v,d,f,b,E,g,y,w)}}class u_{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=_v(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=Iv(o,r,e)),n[t]=o})}}),n}}class h_{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new u_(t.style,t.options&&t.options.params||{})}),d_(this.states,"true","1"),d_(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new l_(t,e,this.states))}),this.fallbackTransition=new l_(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function d_(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const p_=new Kv;class f_{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Bv(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Qy(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const s=new Map;if(i?(o=Qv(this._driver,e,i,"ng-enter","ng-leave",{},{},n,p_,r),o.forEach(t=>{const e=ev(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=Xy(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=tv(e,"","","");return Zy(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const m_=[],g_={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},y_={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class v_{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=_v(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const __=new v_("void");class b_{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,k_(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=ev(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=ev(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(k_(t,"ng-trigger"),k_(t,"ng-trigger-"+e),a[e]=__),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new E_(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(k_(t,"ng-trigger"),k_(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const c=new v_(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),s[e]=c,a||(a=__),"void"!==c.value&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,c.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Cv(t,n),Sv(t,r)})}return}const l=ev(this._engine.playersByElement,t,[]);l.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let u=i.matchTransition(a.value,c.value,t,c.params),h=!1;if(!u){if(!r)return;u=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:u,fromState:a,toState:c,player:o,isFallbackTransition:h}),h||(k_(t,"ng-animate-queued"),o.onStart(()=>{I_(t,"ng-animate-queued")})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),l.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Xy(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,o=this._engine.statesByElement.get(t)[r]||__,s=new v_("void"),a=new E_(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==g_||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){k_(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=tv(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Zy(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class w_{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new b_(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(S_(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!S_(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),k_(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),I_(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(S_(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return S_(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Xy(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=g_,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)k_(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Xy(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Kv,r=[],i=new Map,o=[],s=new Map,a=new Map,c=new Map,l=new Set;this.disabledNodes.forEach(t=>{l.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)l.add(e[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=T_(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((t,e)=>{const n="ng-enter"+f++;p.set(e,n),t.forEach(t=>k_(t,n))});const m=[],g=new Set,y=new Set;for(let R=0;R<this.collectedLeaveElements.length;R++){const t=this.collectedLeaveElements[R],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,_=T_(h,Array.from(g));_.forEach((t,e)=>{const n="ng-leave"+f++;v.set(e,n),t.forEach(t=>k_(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>I_(t,n))}),_.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>I_(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const b=[],w=[];for(let R=this._namespaceList.length-1;R>=0;R--)this._namespaceList[R].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(b.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const l=!u||!this.driver.containsElement(u,i),h=v.get(i),d=p.get(i),f=this._buildInstruction(t,n,d,h,l);if(!f.errors||!f.errors.length)return l?(e.onStart(()=>Cv(i,f.fromStyles)),e.onDestroy(()=>Sv(i,f.toStyles)),void r.push(e)):t.isFallbackTransition?(e.onStart(()=>Cv(i,f.fromStyles)),e.onDestroy(()=>Sv(i,f.toStyles)),void r.push(e)):(f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,f.timelines),o.push({instruction:f,player:e,element:i}),f.queriedElements.forEach(t=>ev(s,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=c.get(e);r||c.set(e,r=new Set),n.forEach(t=>r.add(t))}));w.push(f)});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,S=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{ev(E,e,[]).push(t),t.destroy()})});const C=m.filter(t=>R_(t,a,c)),x=new Map;x_(x,this.driver,y,c,"*").forEach(t=>{R_(t,a,c)&&C.push(t)});const T=new Map;d.forEach((t,e)=>{x_(T,this.driver,new Set(t),a,"!")}),C.forEach(t=>{const e=x.get(t),n=T.get(t);x.set(t,Object.assign(Object.assign({},e),n))});const k=[],I=[],A={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(l.has(e))return o.onDestroy(()=>Sv(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let t=A;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,E,i,T,x);if(o.setRealPlayer(n),t===A)k.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=Xy(e)),r.push(o)}}else Cv(e,s.fromStyles),o.onDestroy(()=>Sv(e,s.toStyles)),I.push(o),l.has(e)&&r.push(o)}),I.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Xy(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let R=0;R<m.length;R++){const t=m[R],e=t.__ng_removed;if(I_(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?A_(this,t,r):this.processLeaveNode(t)}return m.length=0,k.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),k}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==r,c=ev(n,t,[]);this._getPreviousPlayers(t,a,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}Cv(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const s=e.triggerName,a=e.element,c=[],l=new Set,u=new Set,h=e.timelines.map(e=>{const h=e.element;l.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new $y(e.duration,e.delay);const p=h!==a,f=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof Ky?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||m_).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=o.get(h),y=Qy(0,this._normalizer,0,e.keyframes,m,g),v=this._buildPlayer(e,y,f);if(e.subTimeline&&r&&u.add(h),p){const e=new E_(t,s,h);e.setRealPlayer(v),c.push(e)}return v});c.forEach(t=>{ev(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),l.forEach(t=>k_(t,"ng-animating"));const d=Xy(h);return d.onDestroy(()=>{l.forEach(t=>I_(t,"ng-animating")),Sv(a,e.toStyles)}),u.forEach(t=>{ev(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new $y(t.duration,t.delay)}}class E_{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new $y,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Zy(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ev(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function S_(t){return t&&1===t.nodeType}function C_(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function x_(t,e,n,r,i){const o=[];n.forEach(t=>o.push(C_(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=y_,s.push(r))}),t.set(r,o)});let a=0;return n.forEach(t=>C_(t,o[a++])),s}function T_(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let o=i.get(e);if(o)return o;const s=e.parentNode;return o=n.has(s)?s:r.has(s)?1:t(s),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)}),n}function k_(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function I_(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function A_(t,e,n){Xy(n).onDone(()=>t.processLeaveNode(e))}function R_(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class O_{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new w_(t,e,n),this._timelineEngine=new f_(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=Bv(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new h_(t,e)}(r,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=nv(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=nv(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function N_(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=P_(e[0]),e.length>1&&(r=P_(e[e.length-1]))):e&&(n=P_(e)),n||r?new D_(t,n,r):null}let D_=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Sv(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Sv(this._element,this._initialStyles),this._endStyles&&(Sv(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Cv(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Cv(this._element,this._endStyles),this._endStyles=null),Sv(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function P_(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];M_(i)&&(e=e||{},e[i]=t[i])}return e}function M_(t){return"display"===t||"position"===t}class L_{constructor(t,e,n,r,i,o,s){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=q_(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),B_(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),V_(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){F_(this._element,this._name,"paused")}resume(){F_(this._element,this._name,"running")}setPosition(t){const e=j_(this._element,this._name);this._position=t*this._duration,B_(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),V_(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=q_(t,"").split(","),r=U_(n,e);r>=0&&(n.splice(r,1),B_(t,"",n.join(",")))}(this._element,this._name))}}function F_(t,e,n){B_(t,"PlayState",n,j_(t,e))}function j_(t,e){const n=q_(t,"");return n.indexOf(",")>0?U_(n.split(","),e):U_([n],e)}function U_(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function V_(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function B_(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function q_(t,e){return t.style["animation"+e]}class H_{constructor(t,e,n,r,i,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new L_(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Mv(this.element,n))})}this.currentSnapshot=t}}class W_ extends $y{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=pv(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class z_{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return lv(t)}matchesElement(t,e){return uv(t,e)}containsElement(t,e){return hv(t,e)}query(t,e,n){return dv(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>pv(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const o=document.createElement("style");return o.innerHTML=r,o}animate(t,e,n,r,i,o=[],s){s&&this._notifyFaultyScrubber();const a=o.filter(t=>t instanceof H_),c={};Nv(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Dv(t,e,c));if(0==n)return new W_(t,l);const u=`gen_css_kf_${this._count++}`,h=this.buildKeyframeElement(t,u,e);document.querySelector("head").appendChild(h);const d=N_(t,e),p=new H_(t,e,u,n,r,i,l,d);return p.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class G_{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Mv(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class $_{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(K_().toString()),this._cssKeyframesDriver=new z_}validateStyleProperty(t){return lv(t)}matchesElement(t,e){return uv(t,e)}containsElement(t,e){return hv(t,e)}query(t,e,n){return dv(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},l=o.filter(t=>t instanceof G_);Nv(n,r)&&l.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=N_(t,e=Dv(t,e=e.map(t=>bv(t,!1)),c));return new G_(t,e,a,u)}}function K_(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Y_=(()=>{class t extends Fy{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:ue.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?By(t):t;return Z_(this._renderer,null,e,"register",[n]),new X_(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(Yt(Ea),Yt(Fl))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class X_ extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Q_(this._id,t,e||{},this._renderer)}}class Q_{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Z_(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function Z_(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let J_=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new tb("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(o),new eb(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(Yt(Ea),Yt(O_),Yt(ol))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class tb{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class eb extends tb{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return"@"!=i.charAt(0)&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let nb=(()=>{class t extends O_{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(Yt(Fl),Yt(mv),Yt(i_))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const rb=new Ut("AnimationModuleType"),ib=[{provide:mv,useFactory:function(){return"function"==typeof K_()?new $_:new z_}},{provide:rb,useValue:"BrowserAnimations"},{provide:Fy,useClass:Y_},{provide:i_,useFactory:function(){return new o_}},{provide:O_,useClass:nb},{provide:Ea,useFactory:function(t,e,n){return new J_(t,e,n)},deps:[ch,O_,ol]}];let ob=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:ib,imports:[Eh]}),t})();const sb=new ka("9.2.4"),ab=new Ut("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let cb=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return vr()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(t||!e||!e.body||"function"!=typeof getComputedStyle)return;const n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);const r=getComputedStyle(n);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&sb.full!==Ly.full&&console.warn("The Angular Material version ("+sb.full+") does not match the Angular CDK version ("+Ly.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)(Yt(Oy),Yt(ab,8),Yt(Fl,8))},imports:[[My],My]}),t})();function lb(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Vg(t)}}}function ub(t,e){return class extends t{constructor(...t){super(...t),this.color=e}get color(){return this._color}set color(t){const n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}}}function hb(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Vg(t)}}}function db(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new x}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}function pb(t){return class extends t{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new b(t=>{this._isInitialized?this._notifySubscriber(t):this._pendingSubscribers.push(t)})}_markInitialized(){if(this._isInitialized)throw Error("This directive has already been marked as initialized and should not be called twice.");this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}const fb=new Ut("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return Xt(Gc)}});class mb{constructor(){this._localeChanges=new x}get localeChanges(){return this._localeChanges}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let n=this.isValid(t),r=this.isValid(e);return n&&r?!this.compareDate(t,e):n==r}return t==e}clampDate(t,e,n){return e&&this.compareDate(t,e)<0?e:n&&this.compareDate(t,n)>0?n:t}}const gb=new Ut("mat-date-formats");let yb;try{yb="undefined"!=typeof Intl}catch(pO){yb=!1}const vb={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},_b=Eb(31,t=>String(t+1)),bb={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},wb=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Eb(t,e){const n=Array(t);for(let r=0;r<t;r++)n[r]=e(r);return n}let Sb=(()=>{class t extends mb{constructor(t,e){super(),this.useUtcForDisplay=!0,super.setLocale(t),this.useUtcForDisplay=!e.TRIDENT,this._clampDate=e.TRIDENT||e.EDGE}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){if(yb){const e=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return Eb(12,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,t,1))))}return vb[t]}getDateNames(){if(yb){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Eb(31,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,0,e+1))))}return _b}getDayOfWeekNames(t){if(yb){const e=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return Eb(7,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,t+1))))}return bb[t]}getYearName(t){if(yb){const e=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(e,t))}return String(this.getYear(t))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,e,n){if(e<0||e>11)throw Error(`Invalid month index "${e}". Month index has to be between 0 and 11.`);if(n<1)throw Error(`Invalid date "${n}". Date has to be greater than 0.`);let r=this._createDateWithOverflow(t,e,n);if(r.getMonth()!=e)throw Error(`Invalid date "${n}" for month with index "${e}".`);return r}today(){return new Date}parse(t){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,e){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");if(yb){this._clampDate&&(t.getFullYear()<1||t.getFullYear()>9999)&&(t=this.clone(t)).setFullYear(Math.max(1,Math.min(9999,t.getFullYear()))),e=Object.assign(Object.assign({},e),{timeZone:"utc"});const n=new Intl.DateTimeFormat(this.locale,e);return this._stripDirectionalityCharacters(this._format(n,t))}return this._stripDirectionalityCharacters(t.toDateString())}addCalendarYears(t,e){return this.addCalendarMonths(t,12*e)}addCalendarMonths(t,e){let n=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+e,this.getDate(t));return this.getMonth(n)!=((this.getMonth(t)+e)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}addCalendarDays(t,e){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+e)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(wb.test(t)){let e=new Date(t);if(this.isValid(e))return e}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,e,n){const r=new Date(t,e,n);return t>=0&&t<100&&r.setFullYear(this.getYear(r)-1900),r}_2digit(t){return("00"+t).slice(-2)}_stripDirectionalityCharacters(t){return t.replace(/[\u200e\u200f]/g,"")}_format(t,e){const n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.format(n)}}return t.\u0275fac=function(e){return new(e||t)(Yt(fb,8),Yt(ay))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Cb=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[{provide:mb,useClass:Sb}],imports:[[cy]]}),t})();const xb={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Tb=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[{provide:gb,useValue:xb}],imports:[[Cb]]}),t})(),kb=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Ib=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),t})();function Ab(t,e,n){const r=t.nativeElement.classList;n?r.add(e):r.remove(e)}let Rb=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[cb],cb]}),t})();class Ob{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Nb={enterDuration:450,exitDuration:400},Db=fy({passive:!0}),Pb=["mousedown","touchstart"],Mb=["mouseup","mouseleave","touchend","touchcancel"];class Lb{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Wg(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},Nb),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),s=t-r.left,a=e-r.top,c=i.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=`${s-o}px`,l.style.top=`${a-o}px`,l.style.height=`${2*o}px`,l.style.width=`${2*o}px`,null!=n.color&&(l.style.backgroundColor=n.color),l.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";const u=new Ob(this,l,n);return u.state=0,this._activeRipples.add(u),n.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const t=u===this._mostRecentTransientRipple;u.state=1,n.persistent||t&&this._isPointerDown||u.fadeOut()},c),u}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},Nb),t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=Wg(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Pb))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Mb),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Ty(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,Db)})})}_removeTriggerEvents(){this._triggerElement&&(Pb.forEach(t=>{this._triggerElement.removeEventListener(t,this,Db)}),this._pointerUpEventsRegistered&&Mb.forEach(t=>{this._triggerElement.removeEventListener(t,this,Db)}))}}const Fb=new Ut("mat-ripple-global-options");let jb=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new Lb(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(ps(ba),ps(ol),ps(ay),ps(Fb,8),ps(rb,8))},t.\u0275dir=be({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&qs("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),Ub=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[cb,cy],cb]}),t})(),Vb=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})(),Bb=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Ub,Hu,Vb]]}),t})();const qb=new Ut("mat-label-global-options");function Hb(t,e,n,i){return r(n)&&(i=n,n=void 0),i?Hb(t,e,n).pipe(F(t=>c(t)?i(...t):i(t))):new b(r=>{!function t(e,n,r,i,o){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,o),s=()=>t.removeEventListener(n,r,o)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),s=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),s=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,a=e.length;s<a;s++)t(e[s],n,r,i,o)}i.add(s)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}function Wb(t){return e=>e.lift(new zb(t))}class zb{constructor(t){this.notifier=t}call(t,e){const n=new Gb(t),r=M(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class Gb extends L{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}const $b=["underline"],Kb=["connectionContainer"],Yb=["inputContainer"],Xb=["label"];function Qb(t,e){1&t&&(ws(0),vs(1,"div",14),bs(2,"div",15),bs(3,"div",16),bs(4,"div",17),_s(),vs(5,"div",18),bs(6,"div",15),bs(7,"div",16),bs(8,"div",17),_s(),Es())}function Zb(t,e){1&t&&(vs(0,"div",19),Ms(1,1),_s())}function Jb(t,e){if(1&t&&(ws(0),Ms(1,2),vs(2,"span"),Ks(3),_s(),Es()),2&t){const t=Ns(2);oi(3),Ys(t._control.placeholder)}}function tw(t,e){1&t&&Ms(0,3,["*ngSwitchCase","true"])}function ew(t,e){1&t&&(vs(0,"span",23),Ks(1," *"),_s())}function nw(t,e){if(1&t){const t=Cs();vs(0,"label",20,21),ks("cdkObserveContent",(function(){return Xe(t),Ns().updateOutlineGap()})),hs(2,Jb,4,1,"ng-container",12),hs(3,tw,1,0,void 0,12),hs(4,ew,2,0,"span",22),_s()}if(2&t){const t=Ns();qs("mat-empty",t._control.empty&&!t._shouldAlwaysFloat)("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat)("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),gs("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),ls("for",t._control.id)("aria-owns",t._control.id),oi(2),gs("ngSwitchCase",!1),oi(1),gs("ngSwitchCase",!0),oi(1),gs("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function rw(t,e){1&t&&(vs(0,"div",24),Ms(1,4),_s())}function iw(t,e){if(1&t&&(vs(0,"div",25,26),bs(2,"span",27),_s()),2&t){const t=Ns();oi(2),qs("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function ow(t,e){1&t&&(vs(0,"div"),Ms(1,5),_s()),2&t&&gs("@transitionMessages",Ns()._subscriptAnimationState)}function sw(t,e){if(1&t&&(vs(0,"div",31),Ks(1),_s()),2&t){const t=Ns(2);gs("id",t._hintLabelId),oi(1),Ys(t.hintLabel)}}function aw(t,e){if(1&t&&(vs(0,"div",28),hs(1,sw,2,2,"div",29),Ms(2,6),bs(3,"div",30),Ms(4,7),_s()),2&t){const t=Ns();gs("@transitionMessages",t._subscriptAnimationState),oi(1),gs("ngIf",t.hintLabel)}}const cw=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],lw=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let uw=0,hw=(()=>{class t{constructor(){this.id=`mat-error-${uw++}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["mat-error"]],hostAttrs:["role","alert",1,"mat-error"],hostVars:1,hostBindings:function(t,e){2&t&&ls("id",e.id)},inputs:{id:"id"}}),t})();const dw={transitionMessages:jy("transitionMessages",[Hy("enter",qy({opacity:1,transform:"translateY(0%)"})),Wy("void => enter",[qy({opacity:0,transform:"translateY(-100%)"}),Uy("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let pw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t}),t})();function fw(t){return Error(`A hint was already declared for 'align="${t}"'.`)}let mw=0,gw=(()=>{class t{constructor(){this.align="start",this.id=`mat-hint-${mw++}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(t,e){2&t&&(ls("id",e.id)("align",null),qs("mat-right","end"==e.align))},inputs:{align:"align",id:"id"}}),t})(),yw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["mat-label"]]}),t})(),vw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["mat-placeholder"]]}),t})(),_w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","matPrefix",""]]}),t})(),bw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","matSuffix",""]]}),t})(),ww=0;class Ew{constructor(t){this._elementRef=t}}const Sw=ub(Ew,"primary"),Cw=new Ut("MAT_FORM_FIELD_DEFAULT_OPTIONS"),xw=new Ut("MatFormField");let Tw=(()=>{class t extends Sw{constructor(t,e,n,r,i,o,s,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=o,this._ngZone=s,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId=`mat-hint-${ww++}`,this._labelId=`mat-form-field-label-${ww++}`,this._labelOptions=n||{},this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Vg(t)}get _shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}get _canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}get _labelChild(){return this._labelChildNonStatic||this._labelChildStatic}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(cd(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Wb(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(Wb(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),$(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(cd(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(cd(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Wb(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!!this._labelChild}_shouldLabelFloat(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Hb(this._label.nativeElement,"transitionend").pipe(Zh(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){if(this._hintChildren){let t,e;this._hintChildren.forEach(n=>{if("start"===n.align){if(t||this.hintLabel)throw fw("start");t=n}else if("end"===n.align){if(e)throw fw("end");e=n}})}}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if("hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),o=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const o=this._getStartEnd(i),s=this._getStartEnd(t.children[0].getBoundingClientRect());let a=0;for(const e of t.children)a+=e.offsetWidth;e=Math.abs(s-o)-5,n=a>0?.75*a+10:0}for(let s=0;s<i.length;s++)i[s].style.width=`${e}px`;for(let s=0;s<o.length;s++)o[s].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(ps(ba),ps(Do),ps(qb,8),ps(Py,8),ps(Cw,8),ps(ay),ps(ol),ps(rb,8))},t.\u0275cmp=fe({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){var r;1&t&&(Ac(n,pw,!0),Rc(n,pw,!0),Ac(n,yw,!0),Rc(n,yw,!0),Ac(n,vw,!0),Ac(n,hw,!0),Ac(n,gw,!0),Ac(n,_w,!0),Ac(n,bw,!0)),2&t&&(xc(r=Nc())&&(e._controlNonStatic=r.first),xc(r=Nc())&&(e._controlStatic=r.first),xc(r=Nc())&&(e._labelChildNonStatic=r.first),xc(r=Nc())&&(e._labelChildStatic=r.first),xc(r=Nc())&&(e._placeholderChild=r.first),xc(r=Nc())&&(e._errorChildren=r),xc(r=Nc())&&(e._hintChildren=r),xc(r=Nc())&&(e._prefixChildren=r),xc(r=Nc())&&(e._suffixChildren=r))},viewQuery:function(t,e){var n;1&t&&(kc($b,!0),Tc(Kb,!0),kc(Yb,!0),kc(Xb,!0)),2&t&&(xc(n=Nc())&&(e.underlineRef=n.first),xc(n=Nc())&&(e._connectionContainerRef=n.first),xc(n=Nc())&&(e._inputContainerRef=n.first),xc(n=Nc())&&(e._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&qs("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat)("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[ga([{provide:xw,useExisting:t}]),ta],ngContentSelectors:lw,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(Ps(cw),vs(0,"div",0),vs(1,"div",1,2),ks("click",(function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)})),hs(3,Qb,9,0,"ng-container",3),hs(4,Zb,2,0,"div",4),vs(5,"div",5,6),Ms(7),vs(8,"span",7),hs(9,nw,5,16,"label",8),_s(),_s(),hs(10,rw,2,0,"div",9),_s(),hs(11,iw,3,4,"div",10),vs(12,"div",11),hs(13,ow,2,1,"div",12),hs(14,aw,5,2,"div",13),_s(),_s()),2&t&&(oi(3),gs("ngIf","outline"==e.appearance),oi(1),gs("ngIf",e._prefixChildren.length),oi(5),gs("ngIf",e._hasFloatingLabel()),oi(1),gs("ngIf",e._suffixChildren.length),oi(1),gs("ngIf","outline"!=e.appearance),oi(1),gs("ngSwitch",e._getDisplayedMessages()),oi(1),gs("ngSwitchCase","error"),oi(1),gs("ngSwitchCase","hint"))},directives:[Mu,Uu,Vu,ry],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[dw.transitionMessages]},changeDetection:0}),t})(),kw=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Hu,cb,iy],cb]}),t})();class Iw{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Aw(t,this.durationSelector))}}class Aw extends L{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=M(this,n);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,r){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Rw(t){return!c(t)&&t-parseFloat(t)+1>=0}function Ow(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Nw(t,e=Yg){return n=()=>function(t=0,e,n){let r=-1;return Rw(e)?r=Number(e)<1?1:Number(e):k(e)&&(n=e),k(n)||(n=Yg),new b(e=>{const i=Rw(t)?t:+t-n.now();return n.schedule(Ow,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new Iw(n))};var n}const Dw=fy({passive:!0});let Pw=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Rh;const e=Wg(t),n=this._monitoredElements.get(e);if(n)return n.subject.asObservable();const r=new x,i="cdk-text-field-autofilled",o=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",o,Dw),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",o,Dw)}}),r.asObservable()}stopMonitoring(t){const e=Wg(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(Yt(ay),Yt(ol))},t.\u0275prov=ht({factory:function(){return new t(Yt(ay),Yt(ol))},token:t,providedIn:"root"}),t})(),Mw=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[cy]]}),t})();const Lw=new Ut("MAT_INPUT_VALUE_ACCESSOR"),Fw=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let jw=0;class Uw{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}const Vw=db(Uw);let Bw=(()=>{class t extends Vw{constructor(t,e,n,r,i,o,s,a,c){super(o,r,i,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._uid=`mat-input-${jw++}`,this.focused=!1,this.stateChanges=new x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>uy().has(t));const l=this._elementRef.nativeElement,u=l.nodeName.toLowerCase();this._inputValueAccessor=s||l,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&c.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===u,this._isTextarea="textarea"===u,this._isNativeSelect&&(this.controlType=l.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Vg(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=Vg(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&uy().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Vg(t)}ngOnInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){if(Fw.indexOf(this._type)>-1)throw Error(`Input type "${this._type}" isn't supported by matInput.`)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(ps(ba),ps(ay),ps(vm,10),ps(mg,8),ps(kg,8),ps(kb),ps(Lw,10),ps(Pw),ps(ol))},t.\u0275dir=be({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:10,hostBindings:function(t,e){1&t&&ks("focus",(function(){return e._focusChanged(!0)}))("blur",(function(){return e._focusChanged(!1)}))("input",(function(){return e._onInput()})),2&t&&(Qs("disabled",e.disabled)("required",e.required),ls("id",e.id)("placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-describedby",e._ariaDescribedby||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),qs("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher"},exportAs:["matInput"],features:[ga([{provide:pw,useExisting:t}]),ta,sa]}),t})(),qw=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[kb],imports:[[Mw,kw],Mw,kw]}),t})();const Hw=["mat-button",""],Ww=["*"],zw=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class Gw{constructor(t){this._elementRef=t}}const $w=ub(lb(hb(Gw)));let Kw=(()=>{class t extends $w{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of zw)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this._focusMonitor.monitor(this._elementRef,!0),this.isRoundButton&&(this.color="accent")}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(ps(ba),ps(Ay),ps(rb,8))},t.\u0275cmp=fe({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;1&t&&kc(jb,!0),2&t&&xc(n=Nc())&&(e.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:3,hostBindings:function(t,e){2&t&&(ls("disabled",e.disabled||null),qs("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[ta],attrs:Hw,ngContentSelectors:Ww,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(Ps(),vs(0,"span",0),Ms(1),_s(),bs(2,"div",1),bs(3,"div",2)),2&t&&(oi(2),qs("mat-button-ripple-round",e.isRoundButton||e.isIconButton),gs("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[jb],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t})(),Yw=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Ub,cb],cb]}),t})();function Xw(t,e){return new b(e?n=>e.schedule(Qw,0,{error:t,subscriber:n}):e=>e.error(t))}function Qw({error:t,subscriber:e}){e.error(t)}class Zw{}class Jw{}class tE{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof tE?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new tE;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof tE?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class eE{encodeKey(t){return nE(t)}encodeValue(t){return nE(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function nE(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class rE{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new eE,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new rE({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function iE(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function oE(t){return"undefined"!=typeof Blob&&t instanceof Blob}function sE(t){return"undefined"!=typeof FormData&&t instanceof FormData}class aE{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new tE),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new rE,this.urlWithParams=e}serializeBody(){return null===this.body?null:iE(this.body)||oE(this.body)||sE(this.body)||"string"==typeof this.body?this.body:this.body instanceof rE?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:sE(this.body)?null:oE(this.body)?this.body.type||null:iE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rE?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new aE(e,n,i,{params:c,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}const cE=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class lE{constructor(t,e=200,n="OK"){this.headers=t.headers||new tE,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class uE extends lE{constructor(t={}){super(t),this.type=cE.ResponseHeader}clone(t={}){return new uE({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class hE extends lE{constructor(t={}){super(t),this.type=cE.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new hE({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class dE extends lE{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function pE(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let fE=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof aE)r=t;else{let i=void 0;i=n.headers instanceof tE?n.headers:new tE(n.headers);let o=void 0;n.params&&(o=n.params instanceof rE?n.params:new rE({fromObject:n.params})),r=new aE(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Sh(r).pipe(dd(t=>this.handler.handle(t)));if(t instanceof aE||"events"===n.observe)return i;const o=i.pipe(Ph(t=>t instanceof hE));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(F(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(F(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(F(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(F(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new rE).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,pE(n,e))}post(t,e,n={}){return this.request("POST",t,pE(n,e))}put(t,e,n={}){return this.request("PUT",t,pE(n,e))}}return t.\u0275fac=function(e){return new(e||t)(Yt(Zw))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class mE{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const gE=new Ut("HTTP_INTERCEPTORS");let yE=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const vE=/^\)\]\}',?\n/;class _E{}let bE=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),wE=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new b(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new tE(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new uE({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),c=null;204!==i&&(c=void 0===n.response?n.responseText:n.response),0===i&&(i=c?200:0);let l=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(vE,"");try{c=""!==c?JSON.parse(c):null}catch(u){c=t,l&&(l=!1,c={error:u,text:c})}}l?(e.next(new hE({body:c,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new dE({error:c,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new dE({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let c=!1;const l=r=>{c||(e.next(o()),c=!0);let i={type:cE.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},u=t=>{let n={type:cE.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",l),null!==r&&n.upload&&n.upload.addEventListener("progress",u)),n.send(r),e.next({type:cE.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",l),null!==r&&n.upload&&n.upload.removeEventListener("progress",u)),n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(Yt(_E))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const EE=new Ut("XSRF_COOKIE_NAME"),SE=new Ut("XSRF_HEADER_NAME");class CE{}let xE=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ru(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(Yt(Fl),Yt(Hc),Yt(EE))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),TE=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Yt(CE),Yt(SE))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),kE=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(gE,[]);this.chain=t.reduceRight((t,e)=>new mE(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Yt(Jw),Yt(Yo))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),IE=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:TE,useClass:yE}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:EE,useValue:e.cookieName}:[],e.headerName?{provide:SE,useValue:e.headerName}:[]]}}}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[TE,{provide:gE,useExisting:TE,multi:!0},{provide:CE,useClass:xE},{provide:EE,useValue:"XSRF-TOKEN"},{provide:SE,useValue:"X-XSRF-TOKEN"}]}),t})(),AE=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[fE,{provide:Zw,useClass:kE},wE,{provide:Jw,useExisting:wE},bE,{provide:_E,useExisting:bE}],imports:[[IE.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();const RE=["*"];function OE(t){return Error(`Unable to find icon with the name "${t}"`)}function NE(t){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL "+`via Angular's DomSanitizer. Attempted URL was "${t}".`)}function DE(t){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by "+`Angular's DomSanitizer. Attempted literal was "${t}".`)}class PE{constructor(t,e){this.options=e,t.nodeName?this.svgElement=t:this.url=t}}let ME=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new PE(n,r))}addSvgIconLiteralInNamespace(t,e,n,r){const i=this._sanitizer.sanitize(Vr.HTML,n);if(!i)throw DE(n);const o=this._createSvgElementForSingleIcon(i,r);return this._addSvgIconConfig(t,e,new PE(o,r))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new PE(e,n))}addSvgIconSetLiteralInNamespace(t,e,n){const r=this._sanitizer.sanitize(Vr.HTML,e);if(!r)throw DE(e);const i=this._svgElementFromString(r);return this._addSvgIconSetConfig(t,new PE(i,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(Vr.RESOURCE_URL,t);if(!e)throw NE(t);const n=this._cachedIconsByUrl.get(e);return n?Sh(LE(n)):this._loadSvgIconFromConfig(new PE(t)).pipe(fd(t=>this._cachedIconsByUrl.set(e,t)),F(t=>LE(t)))}getNamedSvgIcon(t,e=""){const n=FE(e,t),r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):Xw(OE(n))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgElement?Sh(LE(t.svgElement)):this._loadSvgIconFromConfig(t).pipe(fd(e=>t.svgElement=e),F(t=>LE(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Sh(n):sm(e.filter(t=>!t.svgElement).map(t=>this._loadSvgIconSetFromConfig(t).pipe(Yh(e=>{const n=`Loading icon set URL: ${this._sanitizer.sanitize(Vr.RESOURCE_URL,t.url)} failed: ${e.message}`;return this._errorHandler?this._errorHandler.handleError(new Error(n)):console.error(n),Sh(null)})))).pipe(F(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw OE(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgElement){const e=this._extractSvgIconFromSet(r.svgElement,t,r.options);if(e)return e}}return null}_loadSvgIconFromConfig(t){return this._fetchUrl(t.url).pipe(F(e=>this._createSvgElementForSingleIcon(e,t.options)))}_loadSvgIconSetFromConfig(t){return t.svgElement?Sh(t.svgElement):this._fetchUrl(t.url).pipe(F(e=>(t.svgElement||(t.svgElement=this._svgElementFromString(e)),t.svgElement)))}_createSvgElementForSingleIcon(t,e){const n=this._svgElementFromString(t);return this._setSvgAttributes(n,e),n}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const o=this._svgElementFromString("<svg></svg>");return o.appendChild(i),this._setSvgAttributes(o,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchUrl(t){if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==t)throw Error(`Cannot fetch icon from URL "${t}".`);const e=this._sanitizer.sanitize(Vr.RESOURCE_URL,t);if(!e)throw NE(t);const n=this._inProgressUrlFetches.get(e);if(n)return n;const r=this._httpClient.get(e,{responseType:"text"}).pipe(yd(()=>this._inProgressUrlFetches.delete(e)),et());return this._inProgressUrlFetches.set(e,r),r}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(FE(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}}return t.\u0275fac=function(e){return new(e||t)(Yt(fE,8),Yt(vh),Yt(Fl,8),Yt(sr,8))},t.\u0275prov=ht({factory:function(){return new t(Yt(fE,8),Yt(vh),Yt(Fl,8),Yt(sr,8))},token:t,providedIn:"root"}),t})();function LE(t){return t.cloneNode(!0)}function FE(t,e){return t+":"+e}class jE{constructor(t){this._elementRef=t}}const UE=ub(jE),VE=new Ut("mat-icon-location",{providedIn:"root",factory:function(){const t=Xt(Fl),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),BE=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],qE=BE.map(t=>`[${t}]`).join(", "),HE=/^url\(['"]?#(.*?)['"]?\)$/;let WE=(()=>{class t extends UE{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=h.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Vg(t)}get fontSet(){return this._fontSet}set fontSet(t){this._fontSet=this._cleanupFontValue(t)}get fontIcon(){return this._fontIcon}set fontIcon(t){this._fontIcon=this._cleanupFontValue(t)}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnChanges(t){const e=t.svgIcon;if(e)if(this._currentIconFetch.unsubscribe(),this.svgIcon){const[t,e]=this._splitIconName(this.svgIcon);this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(e,t).pipe(Zh(1)).subscribe(t=>this._setSvgElement(t),n=>{const r=`Error retrieving icon ${t}:${e}! ${n.message}`;this._errorHandler?this._errorHandler.handleError(new Error(r)):console.error(r)})}else e.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}ngOnInit(){this._usingFontIcon()&&this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&this._location&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let n=0;n<e.length;n++)e[n].textContent+=" ";if(this._location){const e=this._location.getPathname();this._previousPath=e,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(e)}this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(qE),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)BE.forEach(t=>{const i=e[r],o=i.getAttribute(t),s=o?o.match(HE):null;if(s){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:s[1]})}})}}return t.\u0275fac=function(e){return new(e||t)(ps(ba),ps(ME),fs("aria-hidden"),ps(VE,8),ps(sr,8))},t.\u0275cmp=fe({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:4,hostBindings:function(t,e){2&t&&qs("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color)},inputs:{color:"color",inline:"inline",fontSet:"fontSet",fontIcon:"fontIcon",svgIcon:"svgIcon"},exportAs:["matIcon"],features:[ta,sa],ngContentSelectors:RE,decls:1,vars:0,template:function(t,e){1&t&&(Ps(),Ms(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),zE=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[cb],cb]}),t})();function GE(t,e){1&t&&(vs(0,"span"),Ks(1,"Please enter your nickname"),_s())}class $E{isErrorState(t,e){return!!(t&&t.invalid&&(t.dirty||t.touched||e&&e.submitted))}}let KE=(()=>{class t{constructor(t,e,n){this.router=t,this.datepipe=e,this.formBuilder=n,this.nickname="",this.ref=Ug.database().ref("users/"),this.matcher=new $E}ngOnInit(){localStorage.getItem("nickname")&&this.router.navigate(["/roomlist"]),this.loginForm=this.formBuilder.group({nickname:[null,Tm.required]})}onFormSubmit(t){const e=t;e.userId="",e.fullName="",e.email="user@amansoft.com",e.imgProfile="assets/img/person.png",e.status="online",e.isEnabled=!0,e.timeLoged=this.datepipe.transform(new Date,"dd/MM/yyyy HH:mm:ss"),this.ref.orderByChild("nickname").equalTo(e.nickname).once("value",t=>{if(t.exists())localStorage.setItem("nickname",e.nickname),this.router.navigate(["/roomlist"]);else{const t=Ug.database().ref("users/").push();e.userId=t.key,t.set(e),localStorage.setItem("nickname",e.nickname),this.router.navigate(["/roomlist"])}})}}return t.\u0275fac=function(e){return new(e||t)(ps(Lf),ps(qu),ps(Lg))},t.\u0275cmp=fe({type:t,selectors:[["app-login"]],decls:14,vars:4,consts:[[1,"container"],[1,"example-form",3,"formGroup","ngSubmit"],[1,"example-full-width"],["matInput","","placeholder","Enter your nickname","formControlName","nickname",3,"errorStateMatcher"],[4,"ngIf"],[1,"button-row"],["type","submit","mat-fab","","color","primary",3,"disabled"]],template:function(t,e){1&t&&(vs(0,"div",0),vs(1,"form",1),ks("ngSubmit",(function(){return e.onFormSubmit(e.loginForm.value)})),vs(2,"h2"),Ks(3,"Please login using your nickname"),_s(),vs(4,"mat-form-field",2),vs(5,"mat-label"),Ks(6,"Nickname"),_s(),bs(7,"input",3),vs(8,"mat-error"),hs(9,GE,2,0,"span",4),_s(),_s(),vs(10,"div",5),vs(11,"button",6),vs(12,"mat-icon"),Ks(13,"login"),_s(),_s(),_s(),_s(),_s()),2&t&&(oi(1),gs("formGroup",e.loginForm),oi(6),gs("errorStateMatcher",e.matcher),oi(2),gs("ngIf",!e.loginForm.get("nickname").valid&&e.loginForm.get("nickname").touched),oi(2),gs("disabled",!e.loginForm.valid))},directives:[Cg,wm,kg,Tw,yw,Bw,pm,bm,Pg,hw,Mu,Kw,WE],styles:[".example-container[_ngcontent-%COMP%]{position:relative;padding:5px}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.example-full-width[_ngcontent-%COMP%]:nth-last-child(0){margin-bottom:10px}.button-row[_ngcontent-%COMP%]{margin:10px 0}.mat-flat-button[_ngcontent-%COMP%]{margin:5px}"]}),t})();function YE(t){return t&&"function"==typeof t.connect}const XE=[[["caption"]]],QE=["caption"];function ZE(t){return class extends t{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Vg(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const JE=new Ut("CDK_TABLE");let tS=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(ps(Wa))},t.\u0275dir=be({type:t,selectors:[["","cdkCellDef",""]]}),t})(),eS=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(ps(Wa))},t.\u0275dir=be({type:t,selectors:[["","cdkHeaderCellDef",""]]}),t})(),nS=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(ps(Wa))},t.\u0275dir=be({type:t,selectors:[["","cdkFooterCellDef",""]]}),t})();class rS{}const iS=ZE(rS);let oS=(()=>{class t extends iS{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"))}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const e=this._stickyEnd;this._stickyEnd=Vg(t),this._hasStickyChanged=e!==this._stickyEnd}}return t.\u0275fac=function(e){return new(e||t)(ps(JE,8))},t.\u0275dir=be({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,e,n){var r;1&t&&(Ac(n,tS,!0),Ac(n,eS,!0),Ac(n,nS,!0)),2&t&&(xc(r=Nc())&&(e.cell=r.first),xc(r=Nc())&&(e.headerCell=r.first),xc(r=Nc())&&(e.footerCell=r.first))},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[ga([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),ta]}),t})();class sS{constructor(t,e){e.nativeElement.classList.add(`cdk-column-${t.cssClassFriendlyName}`)}}let aS=(()=>{class t extends sS{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(ps(oS),ps(ba))},t.\u0275dir=be({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[ta]}),t})(),cS=(()=>{class t extends sS{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(ps(oS),ps(ba))},t.\u0275dir=be({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:["role","gridcell",1,"cdk-cell"],features:[ta]}),t})(),lS=(()=>{class t{constructor(t,e){this.template=t,this._differs=e}ngOnChanges(t){if(!this._columnsDiffer){const e=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(e).create(),this._columnsDiffer.diff(e)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof dS?t.headerCell.template:this instanceof mS?t.footerCell.template:t.cell.template}}return t.\u0275fac=function(e){return new(e||t)(ps(Wa),ps(Ua))},t.\u0275dir=be({type:t,features:[sa]}),t})();class uS extends lS{}const hS=ZE(uS);let dS=(()=>{class t extends hS{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(ps(Wa),ps(Ua),ps(JE,8))},t.\u0275dir=be({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[ta,sa]}),t})();class pS extends lS{}const fS=ZE(pS);let mS=(()=>{class t extends fS{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(ps(Wa),ps(Ua),ps(JE,8))},t.\u0275dir=be({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[ta,sa]}),t})(),gS=(()=>{class t extends lS{constructor(t,e,n){super(t,e),this._table=n}}return t.\u0275fac=function(e){return new(e||t)(ps(Wa),ps(Ua),ps(JE,8))},t.\u0275dir=be({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[ta]}),t})(),yS=(()=>{class t{constructor(e){this._viewContainer=e,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}}return t.\u0275fac=function(e){return new(e||t)(ps(Ga))},t.\u0275dir=be({type:t,selectors:[["","cdkCellOutlet",""]]}),t.mostRecentCellOutlet=null,t})(),vS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Ss(0,0)},directives:[yS],encapsulation:2}),t})(),_S=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Ss(0,0)},directives:[yS],encapsulation:2}),t})();const bS=["top","bottom","left","right"];class wS{constructor(t,e,n,r=!0){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=n,this._isBrowser=r}clearStickyPositioning(t,e){for(const n of t)if(n.nodeType===n.ELEMENT_NODE){this._removeStickyStyle(n,e);for(let t=0;t<n.children.length;t++)this._removeStickyStyle(n.children[t],e)}}updateStickyColumns(t,e,n){const r=e.some(t=>t)||n.some(t=>t);if(!t.length||!r||!this._isBrowser)return;const i=t[0],o=i.children.length,s=this._getCellWidths(i),a=this._getStickyStartColumnPositions(s,e),c=this._getStickyEndColumnPositions(s,n),l="rtl"===this.direction;for(const u of t)for(let t=0;t<o;t++){const r=u.children[t];e[t]&&this._addStickyStyle(r,l?"right":"left",a[t]),n[t]&&this._addStickyStyle(r,l?"left":"right",c[t])}}stickRows(t,e,n){if(!this._isBrowser)return;const r="bottom"===n?t.reverse():t;let i=0;for(let o=0;o<r.length;o++){if(!e[o])continue;const t=r[o];if(this._isNativeHtmlTable)for(let e=0;e<t.children.length;e++)this._addStickyStyle(t.children[e],n,i);else this._addStickyStyle(t,n,i);if(o===r.length-1)return;i+=t.getBoundingClientRect().height}}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const n=t.querySelector("tfoot");e.some(t=>!t)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0)}_removeStickyStyle(t,e){for(const n of e)t.style[n]="";t.style.zIndex=this._getCalculatedZIndex(t),bS.some(e=>!!t.style[e])||(t.style.position="",t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,n){t.classList.add(this._stickCellCss),t.style[e]=`${n}px`,t.style.cssText+="position: -webkit-sticky; position: sticky; ",t.style.zIndex=this._getCalculatedZIndex(t)}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let n=0;for(const r of bS)t.style[r]&&(n+=e[r]);return n?`${n}`:""}_getCellWidths(t){const e=[],n=t.children;for(let r=0;r<n.length;r++)e.push(n[r].getBoundingClientRect().width);return e}_getStickyStartColumnPositions(t,e){const n=[];let r=0;for(let i=0;i<t.length;i++)e[i]&&(n[i]=r,r+=t[i]);return n}_getStickyEndColumnPositions(t,e){const n=[];let r=0;for(let i=t.length;i>0;i--)e[i]&&(n[i]=r,r+=t[i]);return n}}function ES(t){return Error(`Could not find column with id "${t}".`)}let SS=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(ps(Ga),ps(ba))},t.\u0275dir=be({type:t,selectors:[["","rowOutlet",""]]}),t})(),CS=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(ps(Ga),ps(ba))},t.\u0275dir=be({type:t,selectors:[["","headerRowOutlet",""]]}),t})(),xS=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(ps(Ga),ps(ba))},t.\u0275dir=be({type:t,selectors:[["","footerRowOutlet",""]]}),t})(),TS=(()=>{class t{constructor(t,e,n,r,i,o,s){this._differs=t,this._changeDetectorRef=e,this._elementRef=n,this._dir=i,this._platform=s,this._onDestroy=new x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this._multiTemplateDataRows=!1,this.viewChange=new Ch({start:0,end:Number.MAX_VALUE}),r||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=o,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){vr()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}.`),this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=Vg(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&this._forceRenderDataRows()}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,e)=>this.trackBy?this.trackBy(e.dataIndex,e.data):e)}ngAfterContentChecked(){if(this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&!this._rowDefs.length)throw Error("Missing definitions for header, footer, and row; cannot determine which columns should be rendered.");this._renderUpdatedColumns(),this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription&&this._observeRenderChanges(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),YE(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return;const e=this._rowOutlet.viewContainer;t.forEachOperation((t,n,r)=>{if(null==t.previousIndex)this._insertRow(t.item,r);else if(null==r)e.remove(n);else{const t=e.get(n);e.move(t,r)}}),this._updateRowIndexContext(),t.forEachIdentityChange(t=>{e.get(t.currentIndex).context.$implicit=t.item.data}),this.updateStickyColumnStyles()}setHeaderRowDef(t){this._customHeaderRowDefs=new Set([t]),this._headerRowDefChanged=!0}setFooterRowDef(t){this._customFooterRowDefs=new Set([t]),this._footerRowDefChanged=!0}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._elementRef.nativeElement.querySelector("thead");e&&(e.style.display=t.length?"":"none");const n=this._headerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,n,"top"),this._headerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),e=this._elementRef.nativeElement.querySelector("tfoot");e&&(e.style.display=t.length?"":"none");const n=this._footerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);this._stickyStyler.clearStickyPositioning([...t,...e,...n],["left","right"]),t.forEach((t,e)=>{this._addStickyColumnStyles([t],this._headerRowDefs[e])}),this._rowDefs.forEach(t=>{const n=[];for(let r=0;r<e.length;r++)this._renderRows[r].rowDef===t&&n.push(e[r]);this._addStickyColumnStyles(n,t)}),n.forEach((t,e)=>{this._addStickyColumnStyles([t],this._footerRowDefs[e])}),Array.from(this._columnDefsByName.values()).forEach(t=>t.resetStickyChanged())}_getAllRenderRows(){const t=[],e=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let r=this._data[n];const i=this._getRenderRowsForData(r,n,e.get(r));this._cachedRenderRowsMap.has(r)||this._cachedRenderRowsMap.set(r,new WeakMap);for(let e=0;e<i.length;e++){let n=i[e];const r=this._cachedRenderRowsMap.get(n.data);r.has(n.rowDef)?r.get(n.rowDef).push(n):r.set(n.rowDef,[n]),t.push(n)}}return t}_getRenderRowsForData(t,e,n){return this._getRowDefs(t,e).map(r=>{const i=n&&n.has(r)?n.get(r):[];if(i.length){const t=i.shift();return t.dataIndex=e,t}return{data:t,rowDef:r,dataIndex:e}})}_cacheColumnDefs(){this._columnDefsByName.clear(),kS(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(t=>{if(this._columnDefsByName.has(t.name))throw function(t){return Error(`Duplicate column definition name provided: "${t}".`)}(t.name);this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=kS(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=kS(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=kS(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(t=>!t.when);if(!this.multiTemplateDataRows&&t.length>1)throw Error("There can only be one default row without a when predicate function.");this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(t,e)=>t||!!e.getColumnsDiff();this._rowDefs.reduce(t,!1)&&this._forceRenderDataRows(),this._headerRowDefs.reduce(t,!1)&&this._forceRenderHeaderRows(),this._footerRowDefs.reduce(t,!1)&&this._forceRenderFooterRows()}_switchDataSource(t){this._data=[],YE(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;if(YE(this.dataSource)?t=this.dataSource.connect(this):(e=this.dataSource)&&(e instanceof b||"function"==typeof e.lift&&"function"==typeof e.subscribe)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Sh(this.dataSource)),void 0===t)throw Error("Provided data source did not match an array, Observable, or DataSource");var e;this._renderChangeSubscription=t.pipe(Wb(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,e)=>this._renderRow(this._headerRowOutlet,t,e)),this.updateStickyHeaderRowStyles(),this.updateStickyColumnStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,e)=>this._renderRow(this._footerRowOutlet,t,e)),this.updateStickyFooterRowStyles(),this.updateStickyColumnStyles()}_addStickyColumnStyles(t,e){const n=Array.from(e.columns||[]).map(t=>{const e=this._columnDefsByName.get(t);if(!e)throw ES(t);return e}),r=n.map(t=>t.sticky),i=n.map(t=>t.stickyEnd);this._stickyStyler.updateStickyColumns(t,r,i)}_getRenderedRows(t){const e=[];for(let n=0;n<t.viewContainer.length;n++){const r=t.viewContainer.get(n);e.push(r.rootNodes[0])}return e}_getRowDefs(t,e){if(1==this._rowDefs.length)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(n=>!n.when||n.when(e,t));else{let r=this._rowDefs.find(n=>n.when&&n.when(e,t))||this._defaultRowDef;r&&n.push(r)}if(!n.length)throw function(t){return Error("Could not find a matching row definition for the"+`provided row data: ${JSON.stringify(t)}`)}(t);return n}_insertRow(t,e){this._renderRow(this._rowOutlet,t.rowDef,e,{$implicit:t.data})}_renderRow(t,e,n,r={}){t.viewContainer.createEmbeddedView(e.template,r,n);for(let i of this._getCellTemplates(e))yS.mostRecentCellOutlet&&yS.mostRecentCellOutlet._viewContainer.createEmbeddedView(i,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let e=0,n=t.length;e<n;e++){const r=t.get(e).context;r.count=n,r.first=0===e,r.last=e===n-1,r.even=e%2==0,r.odd=!r.even,this.multiTemplateDataRows?(r.dataIndex=this._renderRows[e].dataIndex,r.renderIndex=e):r.index=this._renderRows[e].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,e=>{const n=this._columnDefsByName.get(e);if(!n)throw ES(e);return t.extractCellTemplate(n)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),e=[{tag:"thead",outlet:this._headerRowOutlet},{tag:"tbody",outlet:this._rowOutlet},{tag:"tfoot",outlet:this._footerRowOutlet}];for(const n of e){const e=this._document.createElement(n.tag);e.setAttribute("role","rowgroup"),e.appendChild(n.outlet.elementRef.nativeElement),t.appendChild(e)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows(),this.updateStickyColumnStyles()}_checkStickyStates(){const t=(t,e)=>t||e.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&this.updateStickyColumnStyles()}_setupStickyStyler(){this._stickyStyler=new wS(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._platform.isBrowser),(this._dir?this._dir.change:Sh()).pipe(Wb(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(t=>!t._table||t._table===this)}}return t.\u0275fac=function(e){return new(e||t)(ps(Ua),ps(Do),ps(ba),fs("role"),ps(Py,8),ps(Fl),ps(ay))},t.\u0275cmp=fe({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,e,n){var r;1&t&&(Ac(n,oS,!0),Ac(n,gS,!0),Ac(n,dS,!0),Ac(n,mS,!0)),2&t&&(xc(r=Nc())&&(e._contentColumnDefs=r),xc(r=Nc())&&(e._contentRowDefs=r),xc(r=Nc())&&(e._contentHeaderRowDefs=r),xc(r=Nc())&&(e._contentFooterRowDefs=r))},viewQuery:function(t,e){var n;1&t&&(Tc(SS,!0),Tc(CS,!0),Tc(xS,!0)),2&t&&(xc(n=Nc())&&(e._rowOutlet=n.first),xc(n=Nc())&&(e._headerRowOutlet=n.first),xc(n=Nc())&&(e._footerRowOutlet=n.first))},hostAttrs:[1,"cdk-table"],inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows"},exportAs:["cdkTable"],features:[ga([{provide:JE,useExisting:t}])],ngContentSelectors:QE,decls:4,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(Ps(XE),Ms(0),Ss(1,0),Ss(2,1),Ss(3,2))},directives:[CS,SS,xS],encapsulation:2}),t})();function kS(t,e){return t.concat(Array.from(e))}let IS=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})();const AS=[[["caption"]]],RS=["caption"];let OS=(()=>{class t extends TS{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky"}}return t.\u0275fac=function(e){return NS(e||t)},t.\u0275cmp=fe({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],exportAs:["matTable"],features:[ga([{provide:TS,useExisting:t},{provide:JE,useExisting:t}]),ta],ngContentSelectors:RS,decls:4,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(Ps(AS),Ms(0),Ss(1,0),Ss(2,1),Ss(3,2))},directives:[CS,SS,xS],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type,[dir=rtl] mat-header-cell:first-of-type,[dir=rtl] mat-footer-cell:first-of-type{padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type,[dir=rtl] mat-header-cell:last-of-type,[dir=rtl] mat-footer-cell:last-of-type{padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type,[dir=rtl] td.mat-cell:first-of-type,[dir=rtl] td.mat-footer-cell:first-of-type{padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type,[dir=rtl] td.mat-cell:last-of-type,[dir=rtl] td.mat-footer-cell:last-of-type{padding-right:0;padding-left:24px}\n'],encapsulation:2}),t})();const NS=nr(OS);let DS=(()=>{class t extends tS{}return t.\u0275fac=function(e){return PS(e||t)},t.\u0275dir=be({type:t,selectors:[["","matCellDef",""]],features:[ga([{provide:tS,useExisting:t}]),ta]}),t})();const PS=nr(DS);let MS=(()=>{class t extends eS{}return t.\u0275fac=function(e){return LS(e||t)},t.\u0275dir=be({type:t,selectors:[["","matHeaderCellDef",""]],features:[ga([{provide:eS,useExisting:t}]),ta]}),t})();const LS=nr(MS);let FS=(()=>{class t extends oS{}return t.\u0275fac=function(e){return jS(e||t)},t.\u0275dir=be({type:t,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[ga([{provide:oS,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),ta]}),t})();const jS=nr(FS);let US=(()=>{class t extends aS{constructor(t,e){super(t,e),e.nativeElement.classList.add(`mat-column-${t.cssClassFriendlyName}`)}}return t.\u0275fac=function(e){return new(e||t)(ps(oS),ps(ba))},t.\u0275dir=be({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[ta]}),t})(),VS=(()=>{class t extends cS{constructor(t,e){super(t,e),e.nativeElement.classList.add(`mat-column-${t.cssClassFriendlyName}`)}}return t.\u0275fac=function(e){return new(e||t)(ps(oS),ps(ba))},t.\u0275dir=be({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[ta]}),t})(),BS=(()=>{class t extends dS{}return t.\u0275fac=function(e){return qS(e||t)},t.\u0275dir=be({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[ga([{provide:dS,useExisting:t}]),ta]}),t})();const qS=nr(BS);let HS=(()=>{class t extends gS{}return t.\u0275fac=function(e){return WS(e||t)},t.\u0275dir=be({type:t,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[ga([{provide:gS,useExisting:t}]),ta]}),t})();const WS=nr(HS);let zS=(()=>{class t extends vS{}return t.\u0275fac=function(e){return GS(e||t)},t.\u0275cmp=fe({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[ga([{provide:vS,useExisting:t}]),ta],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Ss(0,0)},directives:[yS],encapsulation:2}),t})();const GS=nr(zS);let $S=(()=>{class t extends _S{}return t.\u0275fac=function(e){return KS(e||t)},t.\u0275cmp=fe({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[ga([{provide:_S,useExisting:t}]),ta],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Ss(0,0)},directives:[yS],encapsulation:2}),t})();const KS=nr($S);let YS=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[IS,cb],cb]}),t})();class XS{}const QS=pb(lb(XS));let ZS=(()=>{class t extends QS{constructor(){super(...arguments),this.sortables=new Map,this._stateChanges=new x,this.start="asc",this._direction="",this.sortChange=new fc}get direction(){return this._direction}set direction(t){if(vr()&&t&&"asc"!==t&&"desc"!==t)throw function(t){return Error(`${t} is not a valid sort direction ('asc' or 'desc').`)}(t);this._direction=t}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=Vg(t)}register(t){if(!t.id)throw Error("MatSortHeader must be provided with a unique id.");if(this.sortables.has(t.id))throw Error(`Cannot have two MatSortables with the same id (${t.id}).`);this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){if(!t)return"";let e=function(t,e){let n=["asc","desc"];return"desc"==t&&n.reverse(),e||n.push(""),n}(t.start||this.start,null!=t.disableClear?t.disableClear:this.disableClear),n=e.indexOf(this.direction)+1;return n>=e.length&&(n=0),e[n]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return JS(e||t)},t.\u0275dir=be({type:t,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"],active:["matSortActive","active"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[ta,sa]}),t})();const JS=nr(ZS);let tC=(()=>{class t{constructor(){this.changes=new x,this.sortButtonLabel=t=>`Change sorting for ${t}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:function(){return new t},token:t,providedIn:"root"}),t})();const eC={provide:tC,deps:[[new ot,new at,tC]],useFactory:function(t){return t||new tC}};let nC=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[eC],imports:[[Hu]]}),t})();function rC(t,e){if(1&t&&(_n(),bs(0,"circle",3)),2&t){const t=Ns();Bs("animation-name","mat-progress-spinner-stroke-rotate-"+t.diameter)("stroke-dashoffset",t._strokeDashOffset,"px")("stroke-dasharray",t._strokeCircumference,"px")("stroke-width",t._circleStrokeWidth,"%"),ls("r",t._circleRadius)}}function iC(t,e){if(1&t&&(_n(),bs(0,"circle",3)),2&t){const t=Ns();Bs("stroke-dashoffset",t._strokeDashOffset,"px")("stroke-dasharray",t._strokeCircumference,"px")("stroke-width",t._circleStrokeWidth,"%"),ls("r",t._circleRadius)}}function oC(t,e){if(1&t&&(_n(),bs(0,"circle",3)),2&t){const t=Ns();Bs("animation-name","mat-progress-spinner-stroke-rotate-"+t.diameter)("stroke-dashoffset",t._strokeDashOffset,"px")("stroke-dasharray",t._strokeCircumference,"px")("stroke-width",t._circleStrokeWidth,"%"),ls("r",t._circleRadius)}}function sC(t,e){if(1&t&&(_n(),bs(0,"circle",3)),2&t){const t=Ns();Bs("stroke-dashoffset",t._strokeDashOffset,"px")("stroke-dasharray",t._strokeCircumference,"px")("stroke-width",t._circleStrokeWidth,"%"),ls("r",t._circleRadius)}}class aC{constructor(t){this._elementRef=t}}const cC=ub(aC,"primary"),lC=new Ut("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});let uC=(()=>{class t extends cC{constructor(e,n,r,i,o){super(e),this._elementRef=e,this._document=r,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const s=t._diameters;s.has(r.head)||s.set(r.head,new Set([100])),this._fallbackAnimation=n.EDGE||n.TRIDENT,this._noopAnimations="NoopAnimations"===i&&!!o&&!o._forceAnimations,o&&(o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=Bg(t),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=Bg(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,Bg(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=gy(t)||this._document.head,this._attachStyleNode(),t.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}get _circleRadius(){return(this.diameter-10)/2}get _viewBox(){const t=2*this._circleRadius+this.strokeWidth;return`0 0 ${t} ${t}`}get _strokeCircumference(){return 2*Math.PI*this._circleRadius}get _strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._strokeCircumference:null}get _circleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const e=this._styleRoot,n=this._diameter,r=t._diameters;let i=r.get(e);if(!i||!i.has(n)){const t=this._document.createElement("style");t.setAttribute("mat-spinner-animation",n+""),t.textContent=this._getAnimationText(),e.appendChild(t),i||(i=new Set,r.set(e,i)),i.add(n)}}_getAnimationText(){return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,`${.95*this._strokeCircumference}`).replace(/END_VALUE/g,`${.2*this._strokeCircumference}`).replace(/DIAMETER/g,`${this.diameter}`)}}return t.\u0275fac=function(e){return new(e||t)(ps(ba),ps(ay),ps(Fl,8),ps(rb,8),ps(lC))},t.\u0275cmp=fe({type:t,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(ls("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),Bs("width",e.diameter,"px")("height",e.diameter,"px"),qs("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[ta],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(_n(),vs(0,"svg",0),hs(1,rC,1,9,"circle",1),hs(2,iC,1,7,"circle",2),_s()),2&t&&(Bs("width",e.diameter,"px")("height",e.diameter,"px"),gs("ngSwitch","indeterminate"===e.mode),ls("viewBox",e._viewBox),oi(1),gs("ngSwitchCase",!0),oi(1),gs("ngSwitchCase",!1))},directives:[Uu,Vu],styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),t._diameters=new WeakMap,t})(),hC=(()=>{class t extends uC{constructor(t,e,n,r,i){super(t,e,n,r,i),this.mode="indeterminate"}}return t.\u0275fac=function(e){return new(e||t)(ps(ba),ps(ay),ps(Fl,8),ps(rb,8),ps(lC))},t.\u0275cmp=fe({type:t,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(t,e){2&t&&(Bs("width",e.diameter,"px")("height",e.diameter,"px"),qs("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color"},features:[ta],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(_n(),vs(0,"svg",0),hs(1,oC,1,9,"circle",1),hs(2,sC,1,7,"circle",2),_s()),2&t&&(Bs("width",e.diameter,"px")("height",e.diameter,"px"),gs("ngSwitch","indeterminate"===e.mode),ls("viewBox",e._viewBox),oi(1),gs("ngSwitchCase",!0),oi(1),gs("ngSwitchCase",!1))},directives:[Uu,Vu],styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),t})(),dC=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[cb,Hu],cb]}),t})();function pC(t,e){1&t&&bs(0,"mat-spinner")}function fC(t,e){if(1&t&&(vs(0,"div",12),hs(1,pC,1,0,"mat-spinner",13),_s()),2&t){const t=Ns();oi(1),gs("ngIf",t.isLoadingResults)}}function mC(t,e){1&t&&(vs(0,"th",14),Ks(1,"Room Name"),_s())}function gC(t,e){if(1&t&&(vs(0,"td",15),Ks(1),_s()),2&t){const t=e.$implicit;oi(1),Ys(t.roomname)}}function yC(t,e){1&t&&bs(0,"tr",16)}function vC(t,e){if(1&t){const t=Cs();vs(0,"tr",17),ks("click",(function(){Xe(t);const n=e.$implicit;return Ns().enterChatRoom(n.roomname)})),_s()}}const _C=function(){return["/addroom"]},bC=t=>{const e=[];return t.forEach(t=>{const n=t.val();n.key=t.key,e.push(n)}),e};let wC=(()=>{class t{constructor(t,e,n){this.route=t,this.router=e,this.datepipe=n,this.nickname="",this.displayedColumns=["roomname"],this.rooms=[],this.isLoadingResults=!0,this.nickname=localStorage.getItem("nickname"),Ug.database().ref("rooms/").on("value",t=>{this.rooms=[],this.rooms=bC(t),this.isLoadingResults=!1})}ngOnInit(){}enterChatRoom(t){const e={roomname:"",nickname:"",message:"",date:"",type:""};e.roomname=t,e.nickname=this.nickname,e.date=this.datepipe.transform(new Date,"dd/MM/yyyy HH:mm:ss"),e.type="join",Ug.database().ref("roomusers/").orderByChild("roomname").equalTo(t).on("value",e=>{let n=[];n=bC(e);const r=n.find(t=>t.nickname===this.nickname);if(void 0!==r)Ug.database().ref("roomusers/"+r.key).update({status:"online"});else{const e={roomname:"",nickname:"",status:""};e.roomname=t,e.nickname=this.nickname,e.status="online",Ug.database().ref("roomusers/").push().set(e)}}),this.router.navigate(["/chatroom",t])}logout(){localStorage.removeItem("nickname"),this.router.navigate(["/login"])}}return t.\u0275fac=function(e){return new(e||t)(ps(kp),ps(Lf),ps(qu))},t.\u0275cmp=fe({type:t,selectors:[["app-roomlist"]],decls:20,vars:7,consts:[[1,"example-container","mat-elevation-z8"],["mat-flat-button","",3,"click"],["class","example-loading-shade",4,"ngIf"],[1,"button-row"],["mat-flat-button","","color","primary",3,"routerLink"],[1,"mat-elevation-z8"],["mat-table","","matSort","","matSortActive","roomname","matSortDisableClear","","matSortDirection","asc",1,"example-table",3,"dataSource"],["matColumnDef","roomname"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"example-loading-shade"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click"]],template:function(t,e){1&t&&(vs(0,"div",0),vs(1,"h3"),Ks(2),vs(3,"button",1),ks("click",(function(){return e.logout()})),vs(4,"mat-icon"),Ks(5,"logout"),_s(),_s(),_s(),vs(6,"h2"),Ks(7,"Room List"),_s(),hs(8,fC,2,1,"div",2),vs(9,"div",3),vs(10,"button",4),vs(11,"mat-icon"),Ks(12,"add"),_s(),_s(),_s(),vs(13,"div",5),vs(14,"table",6),ws(15,7),hs(16,mC,2,0,"th",8),hs(17,gC,2,1,"td",9),Es(),hs(18,yC,1,0,"tr",10),hs(19,vC,1,0,"tr",11),_s(),_s(),_s()),2&t&&(oi(2),Xs("",e.nickname," "),oi(6),gs("ngIf",e.isLoadingResults),oi(2),gs("routerLink",function(t,e,n){const r=rn()+6,i=Ke();return i[r]===ri?as(i,r,e()):function(t,e){return t[e]}(i,r)}(0,_C)),oi(4),gs("dataSource",e.rooms),oi(4),gs("matHeaderRowDef",e.displayedColumns),oi(1),gs("matRowDefColumns",e.displayedColumns))},directives:[Kw,WE,Mu,Ff,OS,ZS,FS,MS,DS,BS,HS,hC,US,VS,zS,$S],styles:[".example-container[_ngcontent-%COMP%]{position:relative;padding:10px}.example-table-container[_ngcontent-%COMP%]{position:relative;max-height:400px;overflow:auto}table[_ngcontent-%COMP%]{width:100%}.button-row[_ngcontent-%COMP%]{margin:10px 0}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:56px;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}.example-rate-limit-reached[_ngcontent-%COMP%]{color:#980000;max-width:360px;text-align:center}.mat-column-number[_ngcontent-%COMP%], .mat-column-state[_ngcontent-%COMP%]{max-width:64px}.mat-column-created[_ngcontent-%COMP%]{max-width:124px}"]}),t})(),EC=1;const SC=(()=>Promise.resolve())(),CC={};function xC(t){return t in CC&&(delete CC[t],!0)}const TC={setImmediate(t){const e=EC++;return CC[e]=!0,SC.then(()=>xC(e)&&t()),e},clearImmediate(t){xC(t)}};class kC extends Gg{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=TC.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(TC.clearImmediate(e),t.scheduled=void 0)}}class IC extends Kg{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const AC=new IC(kC);function RC(t,e){return n=>n.lift(new OC(t,e))}class OC{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new NC(t,this.compare,this.keySelector))}}class NC extends f{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}let DC=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Sh(this.value);case"E":return Xw(this.error);case"C":return Oh()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})(),PC=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new b(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Nw(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Sh()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Ph(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(t,e){let n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Hb(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(Yt(ol),Yt(ay),Yt(Fl,8))},t.\u0275prov=ht({factory:function(){return new t(Yt(ol),Yt(ay),Yt(Fl,8))},token:t,providedIn:"root"}),t})(),MC=(()=>{class t{constructor(t,e,n,r){this.elementRef=t,this.scrollDispatcher=e,this.ngZone=n,this.dir=r,this._destroyed=new x,this._elementScrolled=new b(t=>this.ngZone.runOutsideAngular(()=>Hb(this.elementRef.nativeElement,"scroll").pipe(Wb(this._destroyed)).subscribe(t)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=n?t.end:t.start),null==t.right&&(t.right=n?t.start:t.end),null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&0!=my()?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),2==my()?t.left=t.right:1==my()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const e=this.elementRef.nativeElement;"object"==typeof document&&"scrollBehavior"in document.documentElement.style?e.scrollTo(t):(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left))}measureScrollOffset(t){const e=this.elementRef.nativeElement;if("top"==t)return e.scrollTop;if("bottom"==t)return e.scrollHeight-e.clientHeight-e.scrollTop;const n=this.dir&&"rtl"==this.dir.value;return"start"==t?t=n?"right":"left":"end"==t&&(t=n?"left":"right"),n&&2==my()?"left"==t?e.scrollWidth-e.clientWidth-e.scrollLeft:e.scrollLeft:n&&1==my()?"left"==t?e.scrollLeft+e.scrollWidth-e.clientWidth:-e.scrollLeft:"left"==t?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft}}return t.\u0275fac=function(e){return new(e||t)(ps(ba),ps(PC),ps(ol),ps(Py,8))},t.\u0275dir=be({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t})(),LC=(()=>{class t{constructor(t,e,n){this._platform=t,this._document=n,e.runOutsideAngular(()=>{const e=this._getWindow();this._change=t.isBrowser?$(Hb(e,"resize"),Hb(e,"orientationchange")):Sh(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._getDocument(),e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Nw(t)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(Yt(ay),Yt(ol),Yt(Fl,8))},t.\u0275prov=ht({factory:function(){return new t(Yt(ay),Yt(ol),Yt(Fl,8))},token:t,providedIn:"root"}),t})(),FC=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})(),jC=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[My,cy,FC],My,FC]}),t})();function UC(){throw Error("Host already has a portal attached")}class VC{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&UC(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class BC extends VC{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class qC extends VC{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class HC extends VC{constructor(t){super(),this.element=t instanceof ba?t.nativeElement:t}}class WC{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&UC(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof BC?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof qC?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof HC?(this._attachedPortal=t,this.attachDomPortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class zC extends WC{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let GC=(()=>{class t extends WC{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new fc,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(ps(_a),ps(Ga),ps(Fl))},t.\u0275dir=be({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ta]}),t})(),$C=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})();class KC{constructor(t,e){this._parentInjector=t,this._customTokens=e}get(t,e){const n=this._customTokens.get(t);return void 0!==n?n:this._parentInjector.get(t,e)}}class YC{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Hg(-this._previousScrollPosition.left),t.style.top=Hg(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function XC(){return Error("Scroll strategy has already been attached.")}class QC{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){if(this._overlayRef)throw XC();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ZC{enable(){}disable(){}attach(){}}function JC(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function tx(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class ex{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw XC();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();JC(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let nx=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new ZC,this.close=t=>new QC(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new YC(this._viewportRuler,this._document),this.reposition=t=>new ex(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(Yt(PC),Yt(LC),Yt(ol),Yt(Fl))},t.\u0275prov=ht({factory:function(){return new t(Yt(PC),Yt(LC),Yt(ol),Yt(Fl))},token:t,providedIn:"root"}),t})();class rx{constructor(t){if(this.scrollStrategy=new ZC,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class ix{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class ox{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function sx(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "top", "bottom" or "center".')}function ax(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "start", "end" or "center".')}let cx=(()=>{class t{constructor(t){this._attachedOverlays=[],this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}},this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(Yt(Fl))},t.\u0275prov=ht({factory:function(){return new t(Yt(Fl))},token:t,providedIn:"root"}),t})();const lx=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let ux=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(t||lx){const t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),lx?e.setAttribute("platform","test"):t||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(Yt(Fl),Yt(ay))},t.\u0275prov=ht({factory:function(){return new t(Yt(Fl),Yt(ay))},token:t,providedIn:"root"}),t})();class hx{constructor(t,e,n,r,i,o,s,a){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=o,this._document=s,this._location=a,this._backdropElement=null,this._backdropClick=new x,this._attachments=new x,this._detachments=new x,this._locationChanges=h.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Zh(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEvents.asObservable()}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Hg(this._config.width),t.height=Hg(this._config.height),t.minWidth=Hg(this._config.minWidth),t.minHeight=Hg(this._config.minHeight),t.maxWidth=Hg(this._config.maxWidth),t.maxHeight=Hg(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;qg(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe(Wb($(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const dx=/([A-Za-z%]+)$/;class px{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new x,this._resizeSubscription=h.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let o of this._preferredPositions){let s=this._getOriginPoint(t,o),a=this._getOverlayPoint(s,e,o),c=this._getOverlayFit(a,e,n,o);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,s);this._canFitWithFlexibleDimensions(c,a,n)?r.push({position:o,origin:s,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(s,o)}):(!i||i.overlayFit.visibleArea<c.visibleArea)&&(i={overlayFit:c,overlayPoint:a,originPoint:s,position:o,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&fx(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){let{x:i,y:o}=t,s=this._getOffset(r,"x"),a=this._getOffset(r,"y");s&&(i+=s),a&&(o+=a);let c=0-o,l=o+e.height-n.height,u=this._subtractOverflows(e.width,0-i,i+e.width-n.width),h=this._subtractOverflows(e.height,c,l),d=u*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:u==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,o=mx(this._overlayRef.getConfig().minHeight),s=mx(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=s&&s<=i;return(t.fitsInViewportVertically||null!=o&&o<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=this._viewportRect,i=Math.max(t.x+e.width-r.right,0),o=Math.max(t.y+e.height-r.bottom,0),s=Math.max(r.top-n.top-t.y,0),a=Math.max(r.left-n.left-t.x,0);let c=0,l=0;return c=e.width<=r.width?a||-i:t.x<this._viewportMargin?r.left-n.left-t.x:0,l=e.height<=r.height?s||-o:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:c,y:l},{x:t.x+c,y:t.y+l}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new ox(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,o,s,a,c,l;if("top"===e.overlayY)o=t.y,i=n.height-o+this._viewportMargin;else if("bottom"===e.overlayY)s=n.height-t.y+2*this._viewportMargin,i=n.height-s+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,o=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)l=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)c=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-r/2)}return{top:o,left:c,bottom:s,right:l,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=Hg(n.height),r.top=Hg(n.top),r.bottom=Hg(n.bottom),r.width=Hg(n.width),r.left=Hg(n.left),r.right=Hg(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=Hg(t)),i&&(r.maxWidth=Hg(i))}this._lastBoundingBoxSize=n,fx(this._boundingBox.style,r)}_resetBoundingBoxStyles(){fx(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){fx(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();fx(n,this._getExactOverlayY(e,t,r)),fx(n,this._getExactOverlayX(e,t,r))}else n.position="static";let s="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(s+=`translateX(${a}px) `),c&&(s+=`translateY(${c}px)`),n.transform=s.trim(),o.maxHeight&&(r?n.maxHeight=Hg(o.maxHeight):i&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=Hg(o.maxWidth):i&&(n.maxWidth="")),fx(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=o,"bottom"===t.overlayY?r.bottom=`${this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)}px`:r.top=Hg(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=`${this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)}px`:i.left=Hg(o.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:tx(t,n),isOriginOutsideView:JC(t,n),isOverlayClipped:tx(e,n),isOverlayOutsideView:JC(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{ax("originX",t.originX),sx("originY",t.originY),ax("overlayX",t.overlayX),sx("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&qg(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof ba)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function fx(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function mx(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(dx);return n&&"px"!==n?null:parseFloat(e)}return t||null}class gx{constructor(t,e,n,r,i,o,s){this._preferredPositions=[],this._positionStrategy=new px(n,r,i,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new ix(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class yx{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:o,maxHeight:s}=n,a=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==i&&"100vh"!==i||s&&"100%"!==s&&"100vh"!==s);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let vx=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new yx}connectedTo(t,e,n){return new gx(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new px(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(Yt(LC),Yt(Fl),Yt(ay),Yt(ux))},t.\u0275prov=ht({factory:function(){return new t(Yt(LC),Yt(Fl),Yt(ay),Yt(ux))},token:t,providedIn:"root"}),t})(),_x=0,bx=(()=>{class t{constructor(t,e,n,r,i,o,s,a,c,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=o,this._ngZone=s,this._document=a,this._directionality=c,this._location=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new rx(t);return i.direction=i.direction||this._directionality.value,new hx(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id=`cdk-overlay-${_x++}`,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(xl)),new zC(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(Yt(nx),Yt(ux),Yt(_a),Yt(vx),Yt(cx),Yt(Yo),Yt(ol),Yt(Fl),Yt(Py),Yt(Zl,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const wx={provide:new Ut("cdk-connected-overlay-scroll-strategy"),deps:[bx],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let Ex=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[bx,wx],imports:[[My,$C,jC],jC]}),t})();class Sx{constructor(t){this.total=t}call(t,e){return e.subscribe(new Cx(t,this.total))}}class Cx extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}const xx=new Set;let Tx,kx=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ix}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!xx.has(t))try{Tx||(Tx=document.createElement("style"),Tx.setAttribute("type","text/css"),document.head.appendChild(Tx)),Tx.sheet&&(Tx.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),xx.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(Yt(ay))},t.\u0275prov=ht({factory:function(){return new t(Yt(ay))},token:t,providedIn:"root"}),t})();function Ix(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let Ax=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Rx(qg(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=kh(Rx(qg(t)).map(t=>this._registerQuery(t).observable));return e=ad(e.pipe(Zh(1)),e.pipe(t=>t.lift(new Sx(1)),Xg(0))),e.pipe(F(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(t=>{e.matches=e.matches||t.matches,e.breakpoints[t.query]=t.matches}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new b(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(cd(e),F(e=>({query:t,matches:e.matches})),Wb(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(Yt(kx),Yt(ol))},t.\u0275prov=ht({factory:function(){return new t(Yt(kx),Yt(ol))},token:t,providedIn:"root"}),t})();function Rx(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function Ox(t,e){if(1&t){const t=Cs();vs(0,"div",1),vs(1,"button",2),ks("click",(function(){return Xe(t),Ns().action()})),Ks(2),_s(),_s()}if(2&t){const t=Ns();oi(2),Ys(t.data.action)}}function Nx(t,e){}const Dx=Math.pow(2,31)-1;class Px{constructor(t,e){this._overlayRef=e,this._afterDismissed=new x,this._afterOpened=new x,this._onAction=new x,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,Dx))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed.asObservable()}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction.asObservable()}}const Mx=new Ut("MatSnackBarData");class Lx{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let Fx=(()=>{class t{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(ps(Px),ps(Mx))},t.\u0275cmp=fe({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(vs(0,"span"),Ks(1),_s(),hs(2,Ox,3,1,"div",0)),2&t&&(oi(1),Ys(e.data.message),oi(1),gs("ngIf",e.hasAction))},directives:[Mu,Kw],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),t})();const jx={snackBarState:jy("state",[Hy("void, hidden",qy({transform:"scale(0.8)",opacity:0})),Hy("visible",qy({transform:"scale(1)",opacity:1})),Wy("* => visible",Uy("150ms cubic-bezier(0, 0, 0.2, 1)")),Wy("* => void, * => hidden",Uy("75ms cubic-bezier(0.4, 0.0, 1, 1)",qy({opacity:0})))])};let Ux=(()=>{class t extends WC{constructor(t,e,n,r){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=n,this.snackBarConfig=r,this._destroyed=!1,this._onExit=new x,this._onEnter=new x,this._animationState="void",this.attachDomPortal=t=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(t)),this._role="assertive"!==r.politeness||r.announcementMessage?"off"===r.politeness?null:"status":"alert"}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:e,toState:n}=t;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){const t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.asObservable().pipe(Zh(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach snack bar content after content is already attached")}}return t.\u0275fac=function(e){return new(e||t)(ps(ol),ps(ba),ps(Do),ps(Lx))},t.\u0275cmp=fe({type:t,selectors:[["snack-bar-container"]],viewQuery:function(t,e){var n;1&t&&Tc(GC,!0),2&t&&xc(n=Nc())&&(e._portalOutlet=n.first)},hostAttrs:[1,"mat-snack-bar-container"],hostVars:2,hostBindings:function(t,e){1&t&&Is("@state.done",(function(t){return e.onAnimationEnd(t)})),2&t&&(ls("role",e._role),Zs("@state",e._animationState))},features:[ta],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&hs(0,Nx,0,0,"ng-template",0)},directives:[GC],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[jx.snackBarState]}}),t})(),Vx=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Ex,$C,Hu,Yw,cb],cb]}),t})();const Bx=new Ut("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new Lx}});let qx=(()=>{class t{constructor(t,e,n,r,i,o){this._overlay=t,this._live=e,this._injector=n,this._breakpointObserver=r,this._parentSnackBar=i,this._defaultConfig=o,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){const r=Object.assign(Object.assign({},this._defaultConfig),n);return r.data={message:t,action:e},r.announcementMessage||(r.announcementMessage=t),this.openFromComponent(Fx,r)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){const n=new KC(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[Lx,e]])),r=new BC(Ux,e.viewContainerRef,n),i=t.attach(r);return i.instance.snackBarConfig=e,i.instance}_attach(t,e){const n=Object.assign(Object.assign(Object.assign({},new Lx),this._defaultConfig),e),r=this._createOverlay(n),i=this._attachSnackBarContainer(r,n),o=new Px(i,r);if(t instanceof Wa){const e=new qC(t,null,{$implicit:n.data,snackBarRef:o});o.instance=i.attachTemplatePortal(e)}else{const e=this._createInjector(n,o),r=new BC(t,void 0,e),s=i.attachComponentPortal(r);o.instance=s.instance}return this._breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait)").pipe(Wb(r.detachments())).subscribe(t=>{const e=r.overlayElement.classList;t.matches?e.add("mat-snack-bar-handset"):e.remove("mat-snack-bar-handset")}),this._animateSnackBar(o,n),this._openedSnackBarRef=o,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration)),e.announcementMessage&&this._live.announce(e.announcementMessage,e.politeness)}_createOverlay(t){const e=new rx;e.direction=t.direction;let n=this._overlay.position().global();const r="rtl"===t.direction,i="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!r||"end"===t.horizontalPosition&&r,o=!i&&"center"!==t.horizontalPosition;return i?n.left("0"):o?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){return new KC(t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,new WeakMap([[Px,e],[Mx,t.data]]))}}return t.\u0275fac=function(e){return new(e||t)(Yt(bx),Yt(xy),Yt(Yo),Yt(Ax),Yt(t,12),Yt(Bx))},t.\u0275prov=ht({factory:function(){return new t(Yt(bx),Yt(xy),Yt(Vt),Yt(Ax),Yt(t,12),Yt(Bx))},token:t,providedIn:Vx}),t})();function Hx(t,e){1&t&&(vs(0,"span"),Ks(1,"Enter room name"),_s())}class Wx{isErrorState(t,e){return!!(t&&t.invalid&&(t.dirty||t.touched||e&&e.submitted))}}let zx=(()=>{class t{constructor(t,e,n,r){this.router=t,this.route=e,this.formBuilder=n,this.snackBar=r,this.nickname="",this.roomname="",this.ref=Ug.database().ref("rooms/"),this.matcher=new Wx}ngOnInit(){this.roomForm=this.formBuilder.group({roomname:[null,Tm.required]})}onFormSubmit(t){const e=t;this.ref.orderByChild("roomname").equalTo(e.roomname).once("value",t=>{t.exists()?this.snackBar.open("Room name already exist!"):(Ug.database().ref("rooms/").push().set(e),this.router.navigate(["/roomlist"]))})}}return t.\u0275fac=function(e){return new(e||t)(ps(Lf),ps(kp),ps(Lg),ps(qx))},t.\u0275cmp=fe({type:t,selectors:[["app-addroom"]],decls:14,vars:4,consts:[[1,"container"],[1,"example-form",3,"formGroup","ngSubmit"],[1,"example-full-width"],["matInput","","placeholder","Enter room name","formControlName","roomname",3,"errorStateMatcher"],[4,"ngIf"],[1,"button-row"],["type","submit","mat-fab","","color","primary",3,"disabled"]],template:function(t,e){1&t&&(vs(0,"div",0),vs(1,"form",1),ks("ngSubmit",(function(){return e.onFormSubmit(e.roomForm.value)})),vs(2,"h2"),Ks(3,"Please enter new Room"),_s(),vs(4,"mat-form-field",2),vs(5,"mat-label"),Ks(6,"Room Name"),_s(),bs(7,"input",3),vs(8,"mat-error"),hs(9,Hx,2,0,"span",4),_s(),_s(),vs(10,"div",5),vs(11,"button",6),vs(12,"mat-icon"),Ks(13,"save"),_s(),_s(),_s(),_s(),_s()),2&t&&(oi(1),gs("formGroup",e.roomForm),oi(6),gs("errorStateMatcher",e.matcher),oi(2),gs("ngIf",!e.roomForm.get("roomname").valid&&e.roomForm.get("roomname").touched),oi(2),gs("disabled",!e.roomForm.valid))},directives:[Cg,wm,kg,Tw,yw,Bw,pm,bm,Pg,hw,Mu,Kw,WE],styles:[".example-container[_ngcontent-%COMP%]{position:relative;padding:5px}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.example-full-width[_ngcontent-%COMP%]:nth-last-child(0){margin-bottom:10px}.button-row[_ngcontent-%COMP%]{margin:10px 0}.mat-flat-button[_ngcontent-%COMP%]{margin:5px}"]}),t})();var Gx=n("mrSG");const $x=["*"];function Kx(t,e){if(1&t){const t=Cs();vs(0,"div",2),ks("click",(function(){return Xe(t),Ns()._onBackdropClicked()})),_s()}2&t&&qs("mat-drawer-shown",Ns()._isShowingBackdrop())}function Yx(t,e){1&t&&(vs(0,"mat-drawer-content"),Ms(1,2),_s())}const Xx=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Qx=["mat-drawer","mat-drawer-content","*"];function Zx(t,e){if(1&t){const t=Cs();vs(0,"div",2),ks("click",(function(){return Xe(t),Ns()._onBackdropClicked()})),_s()}2&t&&qs("mat-drawer-shown",Ns()._isShowingBackdrop())}function Jx(t,e){1&t&&(vs(0,"mat-sidenav-content",3),Ms(1,2),_s())}const tT=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],eT=["mat-sidenav","mat-sidenav-content","*"],nT={transformDrawer:jy("transform",[Hy("open, open-instant",qy({transform:"none",visibility:"visible"})),Hy("void",qy({"box-shadow":"none",visibility:"hidden"})),Wy("void => open-instant",Uy("0ms")),Wy("void <=> open, open-instant => void",Uy("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])};function rT(t){throw Error(`A drawer was already declared for 'position="${t}"'`)}const iT=new Ut("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),oT=new Ut("MAT_DRAWER_CONTAINER");let sT=(()=>{class t extends MC{constructor(t,e,n,r,i){super(n,r,i),this._changeDetectorRef=t,this._container=e}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return t.\u0275fac=function(e){return new(e||t)(ps(Do),ps(Ct(()=>cT)),ps(ba),ps(PC),ps(ol))},t.\u0275cmp=fe({type:t,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,e){2&t&&Bs("margin-left",e._container._contentMargins.left,"px")("margin-right",e._container._contentMargins.right,"px")},features:[ta],ngContentSelectors:$x,decls:1,vars:0,template:function(t,e){1&t&&(Ps(),Ms(0))},encapsulation:2,changeDetection:0}),t})(),aT=(()=>{class t{constructor(t,e,n,r,i,o,s){this._elementRef=t,this._focusTrapFactory=e,this._focusMonitor=n,this._platform=r,this._ngZone=i,this._doc=o,this._container=s,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new x,this._animationEnd=new x,this._animationState="void",this.openedChange=new fc(!0),this._destroyed=new x,this.onPositionChanged=new fc,this._modeChanged=new x,this.openedChange.subscribe(t=>{t?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{Hb(this._elementRef.nativeElement,"keydown").pipe(Ph(t=>27===t.keyCode&&!this.disableClose&&!oy(t)),Wb(this._destroyed)).subscribe(t=>this._ngZone.run(()=>{this.close(),t.stopPropagation(),t.preventDefault()}))}),this._animationEnd.pipe(RC((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{const{fromState:e,toState:n}=t;(0===n.indexOf("open")&&"void"===e||"void"===n&&0===e.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!=this._position&&(this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Vg(t)}get autoFocus(){const t=this._autoFocus;return null==t?"side"!==this.mode:t}set autoFocus(t){this._autoFocus=Vg(t)}get opened(){return this._opened}set opened(t){this.toggle(Vg(t))}get _openedStream(){return this.openedChange.pipe(Ph(t=>t),F(()=>{}))}get openedStart(){return this._animationStarted.pipe(Ph(t=>t.fromState!==t.toState&&0===t.toState.indexOf("open")),F(()=>{}))}get _closedStream(){return this.openedChange.pipe(Ph(t=>!t),F(()=>{}))}get closedStart(){return this._animationStarted.pipe(Ph(t=>t.fromState!==t.toState&&"void"===t.toState),F(()=>{}))}_takeFocus(){this.autoFocus&&this._focusTrap&&this._focusTrap.focusInitialElementWhenReady().then(t=>{t||"function"!=typeof this._elementRef.nativeElement.focus||this._elementRef.nativeElement.focus()})}_restoreFocus(){if(!this.autoFocus)return;const t=this._doc&&this._doc.activeElement;t&&this._elementRef.nativeElement.contains(t)&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur()),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}toggle(t=!this.opened,e="program"){return this._opened=t,t?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=e):(this._animationState="void",this._restoreFocus()),this._updateFocusTrapState(),new Promise(t=>{this.openedChange.pipe(Zh(1)).subscribe(e=>t(e?"open":"close"))})}get _width(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(t){this._animationStarted.next(t)}_animationDoneListener(t){this._animationEnd.next(t)}}return t.\u0275fac=function(e){return new(e||t)(ps(ba),ps(Ey),ps(Ay),ps(ay),ps(ol),ps(Fl,8),ps(oT,8))},t.\u0275cmp=fe({type:t,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,e){1&t&&Is("@transform.start",(function(t){return e._animationStartListener(t)}))("@transform.done",(function(t){return e._animationDoneListener(t)})),2&t&&(ls("align",null),Zs("@transform",e._animationState),qs("mat-drawer-end","end"===e.position)("mat-drawer-over","over"===e.mode)("mat-drawer-push","push"===e.mode)("mat-drawer-side","side"===e.mode)("mat-drawer-opened",e.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",onPositionChanged:"positionChanged",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart"},exportAs:["matDrawer"],ngContentSelectors:$x,decls:2,vars:0,consts:[[1,"mat-drawer-inner-container"]],template:function(t,e){1&t&&(Ps(),vs(0,"div",0),Ms(1),_s())},encapsulation:2,data:{animation:[nT.transformDrawer]},changeDetection:0}),t})(),cT=(()=>{class t{constructor(t,e,n,r,i,o=!1,s){this._dir=t,this._element=e,this._ngZone=n,this._changeDetectorRef=r,this._animationMode=s,this._drawers=new gc,this.backdropClick=new fc,this._destroyed=new x,this._doCheckSubject=new x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new x,t&&t.change.pipe(Wb(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),i.change().pipe(Wb(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=o}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Vg(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:Vg(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(cd(this._allDrawers),Wb(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(t=>!t._container||t._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(cd(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._doCheckSubject.pipe(Xg(10),Wb(this._destroyed)).subscribe(()=>this.updateContentMargins())}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,e=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._width;else if("push"==this._left.mode){const n=this._left._width;t+=n,e-=n}if(this._right&&this._right.opened)if("side"==this._right.mode)e+=this._right._width;else if("push"==this._right.mode){const n=this._right._width;e+=n,t-=n}t=t||null,e=e||null,t===this._contentMargins.left&&e===this._contentMargins.right||(this._contentMargins={left:t,right:e},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Ph(t=>t.fromState!==t.toState),Wb(this._drawers.changes)).subscribe(t=>{"open-instant"!==t.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(Wb(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(Wb(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.asObservable().pipe(Zh(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(Wb($(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const e=this._element.nativeElement.classList,n="mat-drawer-container-has-open";t?e.add(n):e.remove(n)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?(null!=this._end&&rT("end"),this._end=t):(null!=this._start&&rT("start"),this._start=t)}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawer()}_closeModalDrawer(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t.close())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return t.\u0275fac=function(e){return new(e||t)(ps(Py,8),ps(ba),ps(ol),ps(Do),ps(LC),ps(iT),ps(rb,8))},t.\u0275cmp=fe({type:t,selectors:[["mat-drawer-container"]],contentQueries:function(t,e,n){var r;1&t&&(Ac(n,sT,!0),Ac(n,aT,!0)),2&t&&(xc(r=Nc())&&(e._content=r.first),xc(r=Nc())&&(e._allDrawers=r))},viewQuery:function(t,e){var n;1&t&&kc(sT,!0),2&t&&xc(n=Nc())&&(e._userContent=n.first)},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,e){2&t&&qs("mat-drawer-container-explicit-backdrop",e._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[ga([{provide:oT,useExisting:t}])],ngContentSelectors:Qx,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,e){1&t&&(Ps(Xx),hs(0,Kx,1,2,"div",0),Ms(1),Ms(2,1),hs(3,Yx,2,0,"mat-drawer-content",1)),2&t&&(gs("ngIf",e.hasBackdrop),oi(3),gs("ngIf",!e._content))},directives:[Mu,sT],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),t})(),lT=(()=>{class t extends sT{constructor(t,e,n,r,i){super(t,e,n,r,i)}}return t.\u0275fac=function(e){return new(e||t)(ps(Do),ps(Ct(()=>dT)),ps(ba),ps(PC),ps(ol))},t.\u0275cmp=fe({type:t,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,e){2&t&&Bs("margin-left",e._container._contentMargins.left,"px")("margin-right",e._container._contentMargins.right,"px")},features:[ta],ngContentSelectors:$x,decls:1,vars:0,template:function(t,e){1&t&&(Ps(),Ms(0))},encapsulation:2,changeDetection:0}),t})(),uT=(()=>{class t extends aT{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=Vg(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=Bg(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=Bg(t)}}return t.\u0275fac=function(e){return hT(e||t)},t.\u0275cmp=fe({type:t,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,e){2&t&&(ls("align",null),Bs("top",e.fixedInViewport?e.fixedTopGap:null,"px")("bottom",e.fixedInViewport?e.fixedBottomGap:null,"px"),qs("mat-drawer-end","end"===e.position)("mat-drawer-over","over"===e.mode)("mat-drawer-push","push"===e.mode)("mat-drawer-side","side"===e.mode)("mat-drawer-opened",e.opened)("mat-sidenav-fixed",e.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[ta],ngContentSelectors:$x,decls:2,vars:0,consts:[[1,"mat-drawer-inner-container"]],template:function(t,e){1&t&&(Ps(),vs(0,"div",0),Ms(1),_s())},encapsulation:2,data:{animation:[nT.transformDrawer]},changeDetection:0}),t})();const hT=nr(uT);let dT=(()=>{class t extends cT{}return t.\u0275fac=function(e){return pT(e||t)},t.\u0275cmp=fe({type:t,selectors:[["mat-sidenav-container"]],contentQueries:function(t,e,n){var r;1&t&&(Ac(n,lT,!0),Ac(n,uT,!0)),2&t&&(xc(r=Nc())&&(e._content=r.first),xc(r=Nc())&&(e._allDrawers=r))},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,e){2&t&&qs("mat-drawer-container-explicit-backdrop",e._backdropOverride)},exportAs:["matSidenavContainer"],features:[ga([{provide:oT,useExisting:t}]),ta],ngContentSelectors:eT,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(t,e){1&t&&(Ps(tT),hs(0,Zx,1,2,"div",0),Ms(1),Ms(2,1),hs(3,Jx,2,0,"mat-sidenav-content",1)),2&t&&(gs("ngIf",e.hasBackdrop),oi(3),gs("ngIf",!e._content))},directives:[Mu,lT,MC],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),t})();const pT=nr(dT);let fT=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Hu,cb,cy,FC],FC,cb]}),t})();const mT=["*",[["mat-card-footer"]]],gT=["*","mat-card-footer"];let yT=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(ps(rb,8))},t.\u0275cmp=fe({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&qs("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:gT,decls:2,vars:0,template:function(t,e){1&t&&(Ps(mT),Ms(0),Ms(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),vT=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[cb],cb]}),t})();const _T=["chatcontent"];function bT(t,e){if(1&t){const t=Cs();vs(0,"mat-card",18),ks("click",(function(){Xe(t);const n=e.$implicit;return Ns().onSelect(n)})),vs(1,"mat-icon"),Ks(2,"person"),_s(),vs(3,"span",19),Ks(4),_s(),_s()}if(2&t){const t=e.$implicit;oi(4),Ys(t.nickname)}}function wT(t,e){if(1&t&&(vs(0,"div",23),vs(1,"span",24),Ks(2),_s(),vs(3,"span",25),Ks(4),_s(),_s()),2&t){const t=Ns().$implicit;oi(2),Ys(t.date),oi(2),Ys(t.message)}}function ET(t,e){1&t&&(vs(0,"span",31),Ks(1,"Me"),_s())}function ST(t,e){if(1&t&&(vs(0,"span",31),Ks(1),_s()),2&t){const t=Ns(2).$implicit;oi(1),Ys(t.nickname)}}const CT=function(t,e){return{"right-bubble":t,"left-bubble":e}};function xT(t,e){if(1&t&&(vs(0,"div",26),vs(1,"div",27),hs(2,ET,2,0,"span",28),hs(3,ST,2,1,"span",28),vs(4,"span",29),Ks(5),_s(),vs(6,"p",30),Ks(7),_s(),_s(),_s()),2&t){const t=Ns().$implicit,e=Ns();oi(1),gs("ngClass",(5,n=CT,r=t.nickname===e.nickname,i=t.nickname!==e.nickname,pc(Ke(),rn(),5,n,r,i,void 0))),oi(1),gs("ngIf",t.nickname===e.nickname),oi(1),gs("ngIf",t.nickname!==e.nickname),oi(2),Xs(" at ",t.date,""),oi(2),Ys(t.message)}var n,r,i}function TT(t,e){if(1&t&&(vs(0,"div",20),hs(1,wT,5,2,"div",21),hs(2,xT,8,8,"ng-template",null,22,Lc),_s()),2&t){const t=e.$implicit,n=ds(3);oi(1),gs("ngIf","join"===t.type||"exit"===t.type)("ngIfElse",n)}}function kT(t,e){1&t&&(vs(0,"span"),Ks(1,"Enter your message"),_s())}class IT{isErrorState(t,e){return!!(t&&t.invalid&&(t.dirty||t.touched||e&&e.submitted))}}const AT=t=>{const e=[];return t.forEach(t=>{const n=t.val();n.key=t.key,e.push(n)}),e};let RT=(()=>{class t{constructor(t,e,n,r){this.router=t,this.route=e,this.formBuilder=n,this.datepipe=r,this.scrolltop=null,this.nickname="",this.roomname="",this.priv_roomname="",this.message="",this.users=[],this.chats=[],this.matcher=new IT,this.ref=Ug.database().ref("private_room/"),this.nickname=localStorage.getItem("nickname"),this.roomname=this.route.snapshot.params.roomname,Ug.database().ref("chats/").on("value",t=>{this.chats=[];const e=AT(t);this.chats=e.filter(t=>t.roomname==this.roomname),setTimeout(()=>this.scrolltop=this.chatcontent.nativeElement.scrollHeight,500)}),Ug.database().ref("roomusers/").orderByChild("roomname").equalTo(this.roomname).on("value",t=>{const e=AT(t);this.users=e.filter(t=>"online"===t.status&&t.nickname!==this.nickname)}),this.initPrivateChat()}ngOnInit(){this.chatForm=this.formBuilder.group({message:[null,Tm.required]})}onFormSubmit(t){const e=t;e.roomname=this.roomname,e.nickname=this.nickname,e.date=this.datepipe.transform(new Date,"dd/MM/yyyy HH:mm:ss"),e.type="message",Ug.database().ref("chats/").push().set(e),this.chatForm=this.formBuilder.group({message:[null,Tm.required]})}exitChat(){Ug.database().ref("roomusers/").orderByChild("roomname").equalTo(this.roomname).on("value",t=>{let e=[];e=AT(t);const n=e.find(t=>t.nickname===this.nickname);void 0!==n&&Ug.database().ref("roomusers/"+n.key).update({status:"offline"})}),this.router.navigate(["/roomlist"])}isOver(){return window.matchMedia("(max-width: 960px)").matches}onSelect(t){const e=t.nickname+"_"+this.nickname,n={roomname:"",from:"",message:"",state:!0,type:"",timeSent:""};n.roomname=e,n.from=t.nickname,n.message="Message From "+n.from,n.type="message",n.timeSent=this.datepipe.transform(new Date,"dd/MM/yyyy HH:mm:ss"),this.ref.orderByChild("private_room").equalTo(e).once("value",t=>{t.exists()?console.log("Room name already exist!"):(Ug.database().ref("private_room/"+e).push().set(n),this.priv_roomname=e,this.initPrivateChat())})}initPrivateChat(){Ug.database().ref("private_room/"+this.priv_roomname).on("value",t=>{this.chats=[];const e=AT(t);this.chats=e.filter(t=>t.roomname===this.priv_roomname),setTimeout(()=>this.scrolltop=this.chatcontent.nativeElement.scrollHeight,500)})}clearMessages(){}send(t){return Object(Gx.__awaiter)(this,void 0,void 0,(function*(){if(""!==this.message.trim())try{const e=t;e.roomname=this.roomname,e.nickname=this.nickname,e.date=this.datepipe.transform(new Date,"dd/MM/yyyy HH:mm:ss"),e.type="message",Ug.database().ref("chats/").push().set(e),this.message=""}catch(e){console.log(e)}}))}}return t.\u0275fac=function(e){return new(e||t)(ps(Lf),ps(kp),ps(Lg),ps(qu))},t.\u0275cmp=fe({type:t,selectors:[["app-chatroom"]],viewQuery:function(t,e){var n;1&t&&kc(_T,!0),2&t&&xc(n=Nc())&&(e.chatcontent=n.first)},decls:24,vars:8,consts:[[1,"example-container","mat-elevation-z8"],[1,"drawer-container"],["mode","side","opened","",1,"left-drawer"],["div","","fxLayout","row","fxLayoutAlign","space-evenly  center",1,"users-pane"],[1,"users-card"],["type","button","mat-button","","matSuffix","","mat-icon-button","","aria-label","Exit",3,"click"],[2,"margin-left","10px","color","brown"],["class","users-card",3,"click",4,"ngFor","ngForOf"],[1,"chat-pane"],[1,"chat-content",3,"scrollTop"],["chatcontent",""],["class","message-box",4,"ngFor","ngForOf"],[1,"sticky-footer"],[1,"message-form",3,"formGroup","ngSubmit"],[1,"message-form-field"],["matInput","","placeholder","Enter message here","formControlName","message",3,"errorStateMatcher"],[4,"ngIf"],["type","submit","mat-button","","matSuffix","","mat-icon-button","","aria-label","Send",3,"disabled"],[1,"users-card",3,"click"],[1,"username"],[1,"message-box"],["class","chat-status","text-center","",4,"ngIf","ngIfElse"],["message",""],["text-center","",1,"chat-status"],[1,"chat-date"],[1,"chat-content-center"],[1,"chat-message"],[1,"right-bubble",3,"ngClass"],["class","msg-name",4,"ngIf"],[1,"msg-date"],["text-wrap",""],[1,"msg-name"]],template:function(t,e){1&t&&(vs(0,"div",0),vs(1,"mat-drawer-container",1),vs(2,"mat-drawer",2),vs(3,"div",3),vs(4,"mat-card",4),vs(5,"button",5),ks("click",(function(){return e.exitChat()})),vs(6,"mat-icon"),Ks(7,"logout"),_s(),_s(),vs(8,"span",6),Ks(9),_s(),_s(),hs(10,bT,5,1,"mat-card",7),_s(),_s(),vs(11,"mat-drawer-content",8),vs(12,"div",9,10),hs(14,TT,4,2,"div",11),_s(),vs(15,"footer",12),vs(16,"form",13),ks("ngSubmit",(function(){return e.onFormSubmit(e.chatForm.value)})),vs(17,"mat-form-field",14),bs(18,"input",15),vs(19,"mat-error"),hs(20,kT,2,0,"span",16),_s(),vs(21,"button",17),vs(22,"mat-icon"),Ks(23,"send"),_s(),_s(),_s(),_s(),_s(),_s(),_s(),_s()),2&t&&(oi(9),Ys(e.nickname),oi(1),gs("ngForOf",e.users),oi(2),gs("scrollTop",e.scrolltop),oi(2),gs("ngForOf",e.chats),oi(2),gs("formGroup",e.chatForm),oi(2),gs("errorStateMatcher",e.matcher),oi(2),gs("ngIf",!e.chatForm.get("message").valid&&e.chatForm.get("message").touched),oi(1),gs("disabled",!e.chatForm.valid))},directives:[cT,aT,yT,Kw,bw,WE,Du,sT,Cg,wm,kg,Tw,Bw,pm,bm,Pg,hw,Mu,Ou],styles:['.example-container[_ngcontent-%COMP%]{display:flex;padding:10px}.drawer-container[_ngcontent-%COMP%]{position:absolute;right:0;left:0;bottom:0;top:0}.left-drawer[_ngcontent-%COMP%]{width:200px}.users-pane[_ngcontent-%COMP%]{height:500px}.users-card[_ngcontent-%COMP%]{margin:5px 20px}.username[_ngcontent-%COMP%]{position:absolute;margin-top:5px;margin-left:10px}footer.sticky-footer[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;padding:10px;background-color:#fff;border-top:1px solid #efefef}.message-form[_ngcontent-%COMP%]{margin-left:200px}.message-form-field[_ngcontent-%COMP%]{width:94%;margin:0 4% 0 2%}.message-box[_ngcontent-%COMP%]{float:left;width:98%;margin:5px 0 0 2%}.chat-message[_ngcontent-%COMP%]{width:80%;min-height:40px}.chat-message[_ngcontent-%COMP%]   .right-bubble[_ngcontent-%COMP%]{position:relative;background:#dcf8c6;border-top-left-radius:.4em;border-bottom-left-radius:.4em;border-bottom-right-radius:.4em;padding:5px 10px 10px;left:15%}.chat-message[_ngcontent-%COMP%]   .right-bubble[_ngcontent-%COMP%]   span.msg-name[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:green}.chat-message[_ngcontent-%COMP%]   .right-bubble[_ngcontent-%COMP%]   span.msg-date[_ngcontent-%COMP%]{font-size:10px}.chat-message[_ngcontent-%COMP%]   .right-bubble[_ngcontent-%COMP%]:after{content:"";position:absolute;right:0;top:13px;width:0;height:0;border:27px solid transparent;border-left-color:#dcf8c6;border-right:0;border-top:0;margin-top:-13.5px;margin-right:-27px}.chat-message[_ngcontent-%COMP%]   .left-bubble[_ngcontent-%COMP%]{position:relative;background:#add8e6;border-top-right-radius:.4em;border-bottom-left-radius:.4em;border-bottom-right-radius:.4em;padding:5px 10px 10px;left:5%}.chat-message[_ngcontent-%COMP%]   .left-bubble[_ngcontent-%COMP%]   span.msg-name[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#00f}.chat-message[_ngcontent-%COMP%]   .left-bubble[_ngcontent-%COMP%]   span.msg-date[_ngcontent-%COMP%]{font-size:10px}.chat-message[_ngcontent-%COMP%]   .left-bubble[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;top:13px;width:0;height:0;border:27px solid transparent;border-right-color:#add8e6;border-left:0;border-top:0;margin-top:-13.5px;margin-left:-27px}.chat-message[_ngcontent-%COMP%]   .chat-status[_ngcontent-%COMP%]{min-height:49px}.chat-message[_ngcontent-%COMP%]   .chat-status[_ngcontent-%COMP%]   .chat-date[_ngcontent-%COMP%]{display:block;font-size:10px;font-style:italic;color:#fff;text-shadow:0 -1px 0 #222,0 1px 0 #aaa;height:15px;left:10%;right:10%}.chat-message[_ngcontent-%COMP%]   .chat-status[_ngcontent-%COMP%]   .chat-content-center[_ngcontent-%COMP%]{padding:5px 10px;background-color:#e1e1f7;border-radius:6px;font-size:12px;color:#555;height:34px;left:10%;right:10%}.chat-content[_ngcontent-%COMP%]{overflow-y:scroll;height:600px}.gene-chat-list[_ngcontent-%COMP%], .gene-chat-wrap[_ngcontent-%COMP%]{display:block!important}.sp-l[_ngcontent-%COMP%]{text-align:left!important}']}),t})();const OT=["*",[["mat-toolbar-row"]]],NT=["*","mat-toolbar-row"];class DT{constructor(t){this._elementRef=t}}const PT=ub(DT);let MT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),LT=(()=>{class t extends PT{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){vr()&&this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length&&Array.from(this._elementRef.nativeElement.childNodes).filter(t=>!(t.classList&&t.classList.contains("mat-toolbar-row"))).filter(t=>t.nodeType!==(this._document?this._document.COMMENT_NODE:8)).some(t=>!(!t.textContent||!t.textContent.trim()))&&function(){throw Error("MatToolbar: Attempting to combine different toolbar modes. Either specify multiple `<mat-toolbar-row>` elements explicitly or just place content inside of a `<mat-toolbar>` for a single row.")}()}}return t.\u0275fac=function(e){return new(e||t)(ps(ba),ps(ay),ps(Fl))},t.\u0275cmp=fe({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){var r;1&t&&Ac(n,MT,!0),2&t&&xc(r=Nc())&&(e._toolbarRows=r)},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&qs("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[ta],ngContentSelectors:NT,decls:2,vars:0,template:function(t,e){1&t&&(Ps(OT),Ms(0),Ms(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}\n"],encapsulation:2,changeDetection:0}),t})(),FT=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[cb],cb]}),t})();function jT(t,e=Yg){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new UT(r,e))}class UT{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new VT(t,this.delay,this.scheduler))}}class VT extends f{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(VT.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new BT(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(DC.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(DC.createComplete()),this.unsubscribe()}}class BT{constructor(t,e){this.time=t,this.notification=e}}const qT=["mat-menu-item",""],HT=["*"];function WT(t,e){if(1&t){const t=Cs();vs(0,"div",0),ks("keydown",(function(e){return Xe(t),Ns()._handleKeydown(e)}))("click",(function(){return Xe(t),Ns().closed.emit("click")}))("@transformMenu.start",(function(e){return Xe(t),Ns()._onAnimationStart(e)}))("@transformMenu.done",(function(e){return Xe(t),Ns()._onAnimationDone(e)})),vs(1,"div",1),Ms(2),_s(),_s()}if(2&t){const t=Ns();gs("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),ls("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const zT={transformMenu:jy("transformMenu",[Hy("void",qy({opacity:0,transform:"scale(0.8)"})),Wy("void => enter",Vy([zy(".mat-menu-content, .mat-mdc-menu-content",Uy("100ms linear",qy({opacity:1}))),Uy("120ms cubic-bezier(0, 0, 0.2, 1)",qy({transform:"scale(1)"}))])),Wy("* => void",Uy("100ms 25ms linear",qy({opacity:0})))]),fadeInItems:jy("fadeInItems",[Hy("showing",qy({opacity:1})),Wy("void => *",[qy({opacity:0}),Uy("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let GT=(()=>{class t{constructor(t,e,n,r,i,o,s){this._template=t,this._componentFactoryResolver=e,this._appRef=n,this._injector=r,this._viewContainerRef=i,this._document=o,this._changeDetectorRef=s,this._attached=new x}attach(t={}){this._portal||(this._portal=new qC(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new zC(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));const e=this._template.elementRef.nativeElement;e.parentNode.insertBefore(this._outlet.outletElement,e),this._changeDetectorRef&&this._changeDetectorRef.markForCheck(),this._portal.attach(this._outlet,t),this._attached.next()}detach(){this._portal.isAttached&&this._portal.detach()}ngOnDestroy(){this._outlet&&this._outlet.dispose()}}return t.\u0275fac=function(e){return new(e||t)(ps(Wa),ps(_a),ps(xl),ps(Yo),ps(Ga),ps(Fl),ps(Do))},t.\u0275dir=be({type:t,selectors:[["ng-template","matMenuContent",""]]}),t})();const $T=new Ut("MAT_MENU_PANEL");class KT{}const YT=hb(lb(KT));let XT=(()=>{class t extends YT{constructor(t,e,n,r){super(),this._elementRef=t,this._focusMonitor=n,this._parentMenu=r,this.role="menuitem",this._hovered=new x,this._focused=new x,this._highlighted=!1,this._triggersSubmenu=!1,n&&n.monitor(this._elementRef,!1),r&&r.addItem&&r.addItem(this),this._document=e}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e),this._focused.next(this)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement,e=this._document?this._document.TEXT_NODE:3;let n="";if(t.childNodes){const r=t.childNodes.length;for(let i=0;i<r;i++)t.childNodes[i].nodeType===e&&(n+=t.childNodes[i].textContent)}return n.trim()}}return t.\u0275fac=function(e){return new(e||t)(ps(ba),ps(Fl),ps(Ay),ps($T,8))},t.\u0275cmp=fe({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,e){1&t&&ks("click",(function(t){return e._checkDisabled(t)}))("mouseenter",(function(){return e._handleMouseEnter()})),2&t&&(ls("role",e.role)("tabindex",e._getTabIndex())("aria-disabled",e.disabled.toString())("disabled",e.disabled||null),qs("mat-menu-item",!0)("mat-menu-item-highlighted",e._highlighted)("mat-menu-item-submenu-trigger",e._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[ta],attrs:qT,ngContentSelectors:HT,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(t,e){1&t&&(Ps(),Ms(0),bs(1,"div",0)),2&t&&(oi(1),gs("matRippleDisabled",e.disableRipple||e.disabled)("matRippleTrigger",e._getHostElement()))},directives:[jb],encapsulation:2,changeDetection:0}),t})();const QT=new Ut("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let ZT=0,JT=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._ngZone=e,this._defaultOptions=n,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new gc,this._tabSubscription=h.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new x,this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new fc,this.close=this.closed,this.panelId=`mat-menu-panel-${ZT++}`}get xPosition(){return this._xPosition}set xPosition(t){"before"!==t&&"after"!==t&&function(){throw Error('xPosition value must be either \'before\' or after\'.\n      Example: <mat-menu xPosition="before" #menu="matMenu"></mat-menu>')}(),this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){"above"!==t&&"below"!==t&&function(){throw Error('yPosition value must be either \'above\' or below\'.\n      Example: <mat-menu yPosition="above" #menu="matMenu"></mat-menu>')}(),this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=Vg(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Vg(t)}set panelClass(t){const e=this._previousPanelClass;e&&e.length&&e.split(" ").forEach(t=>{this._classList[t]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(t=>{this._classList[t]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new yy(this._directDescendantItems).withWrap().withTypeAhead(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(cd(this._directDescendantItems),id(t=>$(...t.map(t=>t._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(cd(this._directDescendantItems),id(t=>$(...t.map(t=>t._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const e=t.keyCode,n=this._keyManager;switch(e){case 27:oy(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;case 36:case 35:oy(t)||(36===e?n.setFirstItemActive():n.setLastItemActive(),t.preventDefault());break;default:38!==e&&40!==e||n.setFocusOrigin("keyboard"),n.onKeydown(t)}}focusFirstItem(t="program"){this.lazyContent?this._ngZone.onStable.asObservable().pipe(Zh(1)).subscribe(()=>this._focusFirstItem(t)):this._focusFirstItem(t)}_focusFirstItem(t){const e=this._keyManager;if(e.setFocusOrigin(t).setFirstItemActive(),!e.activeItem&&this._directDescendantItems.length){let t=this._directDescendantItems.first._getHostElement().parentElement;for(;t;){if("menu"===t.getAttribute("role")){t.focus();break}t=t.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const e=`mat-elevation-z${Math.min(4+t,24)}`,n=Object.keys(this._classList).find(t=>t.startsWith("mat-elevation-z"));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)}setPositionClasses(t=this.xPosition,e=this.yPosition){const n=this._classList;n["mat-menu-before"]="before"===t,n["mat-menu-after"]="after"===t,n["mat-menu-above"]="above"===e,n["mat-menu-below"]="below"===e}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(cd(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return t.\u0275fac=function(e){return new(e||t)(ps(ba),ps(ol),ps(QT))},t.\u0275dir=be({type:t,contentQueries:function(t,e,n){var r;1&t&&(Ac(n,GT,!0),Ac(n,XT,!0),Ac(n,XT,!1)),2&t&&(xc(r=Nc())&&(e.lazyContent=r.first),xc(r=Nc())&&(e._allItems=r),xc(r=Nc())&&(e.items=r))},viewQuery:function(t,e){var n;1&t&&kc(Wa,!0),2&t&&xc(n=Nc())&&(e.templateRef=n.first)},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),t})(),tk=(()=>{class t extends JT{}return t.\u0275fac=function(e){return ek(e||t)},t.\u0275dir=be({type:t,features:[ta]}),t})();const ek=nr(tk);let nk=(()=>{class t extends tk{constructor(t,e,n){super(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)(ps(ba),ps(ol),ps(QT))},t.\u0275cmp=fe({type:t,selectors:[["mat-menu"]],exportAs:["matMenu"],features:[ga([{provide:$T,useExisting:tk},{provide:tk,useExisting:t}]),ta],ngContentSelectors:HT,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,e){1&t&&(Ps(),hs(0,WT,3,6,"ng-template"))},directives:[Ou],styles:['.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[zT.transformMenu,zT.fadeInItems]},changeDetection:0}),t})();const rk=new Ut("mat-menu-scroll-strategy"),ik={provide:rk,deps:[bx],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},ok=fy({passive:!0});let sk=(()=>{class t{constructor(t,e,n,r,i,o,s,a){this._overlay=t,this._element=e,this._viewContainerRef=n,this._parentMenu=i,this._menuItemInstance=o,this._dir=s,this._focusMonitor=a,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=h.EMPTY,this._hoverSubscription=h.EMPTY,this._menuCloseSubscription=h.EMPTY,this._handleTouchStart=()=>this._openedBy="touch",this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new fc,this.onMenuOpen=this.menuOpened,this.menuClosed=new fc,this.onMenuClose=this.menuClosed,e.nativeElement.addEventListener("touchstart",this._handleTouchStart,ok),o&&(o._triggersSubmenu=this.triggersSubmenu()),this._scrollStrategy=r}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.asObservable().subscribe(t=>{this._destroyMenu(),"click"!==t&&"tab"!==t||!this._parentMenu||this._parentMenu.closed.emit(t)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,ok),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const t=this._createOverlay(),e=t.getConfig();this._setPosition(e.positionStrategy),e.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof tk&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}_destroyMenu(){if(!this._overlayRef||!this.menuOpen)return;const t=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this._restoreFocus(),t instanceof tk?(t._resetAnimation(),t.lazyContent?t._animationDone.pipe(Ph(t=>"void"===t.toState),Zh(1),Wb(t.lazyContent._attached)).subscribe({next:()=>t.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),t.lazyContent&&t.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")}_setMenuElevation(){if(this.menu.setElevation){let t=0,e=this.menu.parentMenu;for(;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}}_restoreFocus(){this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)}_checkMenu(){this.menu||function(){throw Error('matMenuTriggerFor: must pass in an mat-menu instance.\n\n    Example:\n      <mat-menu #menu="matMenu"></mat-menu>\n      <button [matMenuTriggerFor]="menu"></button>')}()}_createOverlay(){if(!this._overlayRef){const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new rx({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(t=>{this.menu.setPositionClasses("start"===t.connectionPair.overlayX?"after":"before","top"===t.connectionPair.overlayY?"below":"above")})}_setPosition(t){let[e,n]="before"===this.menu.xPosition?["end","start"]:["start","end"],[r,i]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[o,s]=[r,i],[a,c]=[e,n],l=0;this.triggersSubmenu()?(c=e="before"===this.menu.xPosition?"start":"end",n=a="end"===e?"start":"end",l="bottom"===r?8:-8):this.menu.overlapTrigger||(o="top"===r?"bottom":"top",s="top"===i?"bottom":"top"),t.withPositions([{originX:e,originY:o,overlayX:a,overlayY:r,offsetY:l},{originX:n,originY:o,overlayX:c,overlayY:r,offsetY:l},{originX:e,originY:s,overlayX:a,overlayY:i,offsetY:-l},{originX:n,originY:s,overlayX:c,overlayY:i,offsetY:-l}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),e=this._overlayRef.detachments();return $(t,this._parentMenu?this._parentMenu.closed:Sh(),this._parentMenu?this._parentMenu._hovered().pipe(Ph(t=>t!==this._menuItemInstance),Ph(()=>this._menuOpen)):Sh(),e)}_handleMousedown(t){Ty(t)||(this._openedBy=0===t.button?"mouse":null,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const e=t.keyCode;this.triggersSubmenu()&&(39===e&&"ltr"===this.dir||37===e&&"rtl"===this.dir)&&this.openMenu()}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(Ph(t=>t===this._menuItemInstance&&!t.disabled),jT(0,AC)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof tk&&this.menu._isAnimating?this.menu._animationDone.pipe(Zh(1),jT(0,AC),Wb(this._parentMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new qC(this.menu.templateRef,this._viewContainerRef)),this._portal}}return t.\u0275fac=function(e){return new(e||t)(ps(bx),ps(ba),ps(Ga),ps(rk),ps(tk,8),ps(XT,10),ps(Py,8),ps(Ay))},t.\u0275dir=be({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(t,e){1&t&&ks("mousedown",(function(t){return e._handleMousedown(t)}))("keydown",(function(t){return e._handleKeydown(t)}))("click",(function(t){return e._handleClick(t)})),2&t&&ls("aria-expanded",e.menuOpen||null)("aria-controls",e.menuOpen?e.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),t})(),ak=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[ik],imports:[cb]}),t})(),ck=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[ik],imports:[[Hu,cb,Ub,Ex,ak],FC,cb,ak]}),t})(),lk=(()=>{class t{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=Vg(t)}get inset(){return this._inset}set inset(t){this._inset=Vg(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,e){2&t&&(ls("aria-orientation",e.vertical?"vertical":"horizontal"),qs("mat-divider-vertical",e.vertical)("mat-divider-horizontal",!e.vertical)("mat-divider-inset",e.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,e){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),t})(),uk=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[cb],cb]}),t})();const hk=["*"],dk=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],pk=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"];class fk{}const mk=lb(hb(fk));class gk{}const yk=hb(gk);let vk=(()=>{class t extends mk{constructor(){super(...arguments),this._stateChanges=new x}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return _k(e||t)},t.\u0275cmp=fe({type:t,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[ta,sa],ngContentSelectors:hk,decls:1,vars:0,template:function(t,e){1&t&&(Ps(),Ms(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),t})();const _k=nr(vk);let bk=(()=>{class t extends mk{constructor(t){super(),this._elementRef=t,this._stateChanges=new x,"action-list"===this._getListType()&&t.nativeElement.classList.add("mat-action-list")}_getListType(){const t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(ps(ba))},t.\u0275cmp=fe({type:t,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[ta,sa],ngContentSelectors:hk,decls:1,vars:0,template:function(t,e){1&t&&(Ps(),Ms(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),t})(),wk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),t})(),Ek=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),t})(),Sk=(()=>{class t extends yk{constructor(t,e,n,r){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new x,this._disabled=!1,this._isInteractiveList=!!(n||r&&"action-list"===r._getListType()),this._list=n||r;const i=this._getHostElement();"button"!==i.nodeName.toLowerCase()||i.hasAttribute("type")||i.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Wb(this._destroyed)).subscribe(()=>{e.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=Vg(t)}ngAfterContentInit(){!function(t,e,n="mat"){t.changes.pipe(cd(t)).subscribe(({length:t})=>{Ab(e,`${n}-2-line`,!1),Ab(e,`${n}-3-line`,!1),Ab(e,`${n}-multi-line`,!1),2===t||3===t?Ab(e,`${n}-${t}-line`,!0):t>3&&Ab(e,`${n}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(ps(ba),ps(Do),ps(vk,8),ps(bk,8))},t.\u0275cmp=fe({type:t,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,e,n){var r;1&t&&(Ac(n,wk,!0),Ac(n,Ek,!0),Ac(n,Ib,!0)),2&t&&(xc(r=Nc())&&(e._avatar=r.first),xc(r=Nc())&&(e._icon=r.first),xc(r=Nc())&&(e._lines=r))},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(t,e){2&t&&qs("mat-list-item-disabled",e.disabled)("mat-list-item-avatar",e._avatar||e._icon)("mat-list-item-with-avatar",e._avatar||e._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[ta],ngContentSelectors:pk,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,e){1&t&&(Ps(dk),vs(0,"div",0),bs(1,"div",1),Ms(2),vs(3,"div",2),Ms(4,1),_s(),Ms(5,2),_s()),2&t&&(oi(1),gs("matRippleTrigger",e._getHostElement())("matRippleDisabled",e._isRippleDisabled()))},directives:[jb],encapsulation:2,changeDetection:0}),t})(),Ck=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Rb,Ub,cb,Vb,Hu],Rb,cb,Vb,uk]}),t})();function xk(t){return e=>e.lift(new Tk(t))}class Tk{constructor(t){this.value=t}call(t,e){return e.subscribe(new kk(t,this.value))}}class kk extends f{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}function Ik(t){return getComputedStyle(t)}function Ak(t,e){for(var n in e){var r=e[n];"number"==typeof r&&(r+="px"),t.style[n]=r}return t}function Rk(t){var e=document.createElement("div");return e.className=t,e}var Ok="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function Nk(t,e){if(!Ok)throw new Error("No element matching method supported");return Ok.call(t,e)}function Dk(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function Pk(t,e){return Array.prototype.filter.call(t.children,(function(t){return Nk(t,e)}))}var Mk=function(t){return"ps__thumb-"+t},Lk=function(t){return"ps__rail-"+t},Fk=function(t){return"ps--active-"+t},jk=function(t){return"ps--scrolling-"+t},Uk={x:null,y:null};function Vk(t,e){var n=t.element.classList,r=jk(e);n.contains(r)?clearTimeout(Uk[e]):n.add(r)}function Bk(t,e){Uk[e]=setTimeout((function(){return t.isAlive&&t.element.classList.remove(jk(e))}),t.settings.scrollingThreshold)}var qk=function(t){this.element=t,this.handlers={}},Hk={isEmpty:{configurable:!0}};qk.prototype.bind=function(t,e){void 0===this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},qk.prototype.unbind=function(t,e){var n=this;this.handlers[t]=this.handlers[t].filter((function(r){return!(!e||r===e)||(n.element.removeEventListener(t,r,!1),!1)}))},qk.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)},Hk.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every((function(e){return 0===t.handlers[e].length}))},Object.defineProperties(qk.prototype,Hk);var Wk=function(){this.eventElements=[]};function zk(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}function Gk(t,e,n,r,i){var o;if(void 0===r&&(r=!0),void 0===i&&(i=!1),"top"===e)o=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");o=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(t,e,n,r,i){var o=n[0],s=n[1],a=n[2],c=n[3],l=n[4],u=n[5];void 0===r&&(r=!0),void 0===i&&(i=!1);var h=t.element;t.reach[c]=null,h[a]<1&&(t.reach[c]="start"),h[a]>t[o]-t[s]-1&&(t.reach[c]="end"),e&&(h.dispatchEvent(zk("ps-scroll-"+c)),e<0?h.dispatchEvent(zk("ps-scroll-"+l)):e>0&&h.dispatchEvent(zk("ps-scroll-"+u)),r&&function(t,e){Vk(t,e),Bk(t,e)}(t,c)),t.reach[c]&&(e||i)&&h.dispatchEvent(zk("ps-"+c+"-reach-"+t.reach[c]))}(t,n,o,r,i)}function $k(t){return parseInt(t,10)||0}Wk.prototype.eventElement=function(t){var e=this.eventElements.filter((function(e){return e.element===t}))[0];return e||(e=new qk(t),this.eventElements.push(e)),e},Wk.prototype.bind=function(t,e,n){this.eventElement(t).bind(e,n)},Wk.prototype.unbind=function(t,e,n){var r=this.eventElement(t);r.unbind(e,n),r.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(r),1)},Wk.prototype.unbindAll=function(){this.eventElements.forEach((function(t){return t.unbindAll()})),this.eventElements=[]},Wk.prototype.once=function(t,e,n){var r=this.eventElement(t),i=function(t){r.unbind(e,i),n(t)};r.bind(e,i)};var Kk={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function Yk(t){var e=t.element,n=Math.floor(e.scrollTop),r=e.getBoundingClientRect();t.containerWidth=Math.ceil(r.width),t.containerHeight=Math.ceil(r.height),t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(Pk(e,Lk("x")).forEach((function(t){return Dk(t)})),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(Pk(e,Lk("y")).forEach((function(t){return Dk(t)})),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=Xk(t,$k(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=$k((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=Xk(t,$k(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=$k(n*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),function(t,e){var n={width:e.railXWidth},r=Math.floor(t.scrollTop);n.left=e.isRtl?e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:t.scrollLeft,e.isScrollbarXUsingBottom?n.bottom=e.scrollbarXBottom-r:n.top=e.scrollbarXTop+r,Ak(e.scrollbarXRail,n);var i={top:r,height:e.railYHeight};e.isScrollbarYUsingRight?i.right=e.isRtl?e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth-9:e.scrollbarYRight-t.scrollLeft:i.left=e.isRtl?e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:e.scrollbarYLeft+t.scrollLeft,Ak(e.scrollbarYRail,i),Ak(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),Ak(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}(e,t),t.scrollbarXActive?e.classList.add(Fk("x")):(e.classList.remove(Fk("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=!0===t.isRtl?t.contentWidth:0),t.scrollbarYActive?e.classList.add(Fk("y")):(e.classList.remove(Fk("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)}function Xk(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function Qk(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],c=e[6],l=e[7],u=e[8],h=t.element,d=null,p=null,f=null;function m(e){e.touches&&e.touches[0]&&(e[i]=e.touches[0].pageY),h[c]=d+f*(e[i]-p),Vk(t,l),Yk(t),e.stopPropagation(),e.preventDefault()}function g(){Bk(t,l),t[u].classList.remove("ps--clicking"),t.event.unbind(t.ownerDocument,"mousemove",m)}function y(e,s){d=h[c],s&&e.touches&&(e[i]=e.touches[0].pageY),p=e[i],f=(t[r]-t[n])/(t[o]-t[a]),s?t.event.bind(t.ownerDocument,"touchmove",m):(t.event.bind(t.ownerDocument,"mousemove",m),t.event.once(t.ownerDocument,"mouseup",g),e.preventDefault()),t[u].classList.add("ps--clicking"),e.stopPropagation()}t.event.bind(t[s],"mousedown",(function(t){y(t)})),t.event.bind(t[s],"touchstart",(function(t){y(t,!0)}))}var Zk={"click-rail":function(t){t.event.bind(t.scrollbarY,"mousedown",(function(t){return t.stopPropagation()})),t.event.bind(t.scrollbarYRail,"mousedown",(function(e){var n=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top;t.element.scrollTop+=(n>t.scrollbarYTop?1:-1)*t.containerHeight,Yk(t),e.stopPropagation()})),t.event.bind(t.scrollbarX,"mousedown",(function(t){return t.stopPropagation()})),t.event.bind(t.scrollbarXRail,"mousedown",(function(e){var n=e.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left;t.element.scrollLeft+=(n>t.scrollbarXLeft?1:-1)*t.containerWidth,Yk(t),e.stopPropagation()}))},"drag-thumb":function(t){Qk(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),Qk(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(t){var e=t.element;t.event.bind(t.ownerDocument,"keydown",(function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(Nk(e,":hover")||Nk(t.scrollbarX,":focus")||Nk(t.scrollbarY,":focus"))){var r,i=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(i){if("IFRAME"===i.tagName)i=i.contentDocument.activeElement;else for(;i.shadowRoot;)i=i.shadowRoot.activeElement;if(Nk(r=i,"input,[contenteditable]")||Nk(r,"select,[contenteditable]")||Nk(r,"textarea,[contenteditable]")||Nk(r,"button,[contenteditable]"))return}var o=0,s=0;switch(n.which){case 37:o=n.metaKey?-t.contentWidth:n.altKey?-t.containerWidth:-30;break;case 38:s=n.metaKey?t.contentHeight:n.altKey?t.containerHeight:30;break;case 39:o=n.metaKey?t.contentWidth:n.altKey?t.containerWidth:30;break;case 40:s=n.metaKey?-t.contentHeight:n.altKey?-t.containerHeight:-30;break;case 32:s=n.shiftKey?t.containerHeight:-t.containerHeight;break;case 33:s=t.containerHeight;break;case 34:s=-t.containerHeight;break;case 36:s=t.contentHeight;break;case 35:s=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&0!==o||t.settings.suppressScrollY&&0!==s||(e.scrollTop-=s,e.scrollLeft+=o,Yk(t),function(n,r){var i=Math.floor(e.scrollTop);if(0===n){if(!t.scrollbarYActive)return!1;if(0===i&&r>0||i>=t.contentHeight-t.containerHeight&&r<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===r){if(!t.scrollbarXActive)return!1;if(0===o&&n<0||o>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}(o,s)&&n.preventDefault())}}))},wheel:function(t){var e=t.element;function n(n){var r=function(t){var e=t.deltaX,n=-1*t.deltaY;return void 0!==e&&void 0!==n||(e=-1*t.wheelDeltaX/6,n=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,n*=10),e!=e&&n!=n&&(e=0,n=t.wheelDelta),t.shiftKey?[-n,-e]:[e,n]}(n),i=r[0],o=r[1];if(!function(t,n,r){if(!Kk.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(t))return!1;for(var i=t;i&&i!==e;){if(i.classList.contains("ps__child--consume"))return!0;var o=Ik(i);if(r&&o.overflowY.match(/(scroll|auto)/)){var s=i.scrollHeight-i.clientHeight;if(s>0&&(i.scrollTop>0&&r<0||i.scrollTop<s&&r>0))return!0}if(n&&o.overflowX.match(/(scroll|auto)/)){var a=i.scrollWidth-i.clientWidth;if(a>0&&(i.scrollLeft>0&&n<0||i.scrollLeft<a&&n>0))return!0}i=i.parentNode}return!1}(n.target,i,o)){var s=!1;t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(o?e.scrollTop-=o*t.settings.wheelSpeed:e.scrollTop+=i*t.settings.wheelSpeed,s=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(i?e.scrollLeft+=i*t.settings.wheelSpeed:e.scrollLeft-=o*t.settings.wheelSpeed,s=!0):(e.scrollTop-=o*t.settings.wheelSpeed,e.scrollLeft+=i*t.settings.wheelSpeed),Yk(t),(s=s||function(n,r){var i=Math.floor(e.scrollTop),o=0===e.scrollTop,s=i+e.offsetHeight===e.scrollHeight,a=0===e.scrollLeft,c=e.scrollLeft+e.offsetWidth===e.scrollWidth;return!(Math.abs(r)>Math.abs(n)?o||s:a||c)||!t.settings.wheelPropagation}(i,o))&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}void 0!==window.onwheel?t.event.bind(e,"wheel",n):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",n)},touch:function(t){if(Kk.supportsTouch||Kk.supportsIePointer){var e=t.element,n={},r=0,i={},o=null;Kk.supportsTouch?(t.event.bind(e,"touchstart",l),t.event.bind(e,"touchmove",u),t.event.bind(e,"touchend",h)):Kk.supportsIePointer&&(window.PointerEvent?(t.event.bind(e,"pointerdown",l),t.event.bind(e,"pointermove",u),t.event.bind(e,"pointerup",h)):window.MSPointerEvent&&(t.event.bind(e,"MSPointerDown",l),t.event.bind(e,"MSPointerMove",u),t.event.bind(e,"MSPointerUp",h)))}function s(n,r){e.scrollTop-=r,e.scrollLeft-=n,Yk(t)}function a(t){return t.targetTouches?t.targetTouches[0]:t}function c(t){return!(t.pointerType&&"pen"===t.pointerType&&0===t.buttons||(!t.targetTouches||1!==t.targetTouches.length)&&(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function l(t){if(c(t)){var e=a(t);n.pageX=e.pageX,n.pageY=e.pageY,r=(new Date).getTime(),null!==o&&clearInterval(o)}}function u(o){if(c(o)){var l=a(o),u={pageX:l.pageX,pageY:l.pageY},h=u.pageX-n.pageX,d=u.pageY-n.pageY;if(function(t,n,r){if(!e.contains(t))return!1;for(var i=t;i&&i!==e;){if(i.classList.contains("ps__child--consume"))return!0;var o=Ik(i);if(r&&o.overflowY.match(/(scroll|auto)/)){var s=i.scrollHeight-i.clientHeight;if(s>0&&(i.scrollTop>0&&r<0||i.scrollTop<s&&r>0))return!0}if(n&&o.overflowX.match(/(scroll|auto)/)){var a=i.scrollWidth-i.clientWidth;if(a>0&&(i.scrollLeft>0&&n<0||i.scrollLeft<a&&n>0))return!0}i=i.parentNode}return!1}(o.target,h,d))return;s(h,d),n=u;var p=(new Date).getTime(),f=p-r;f>0&&(i.x=h/f,i.y=d/f,r=p),function(n,r){var i=Math.floor(e.scrollTop),o=e.scrollLeft,s=Math.abs(n),a=Math.abs(r);if(a>s){if(r<0&&i===t.contentHeight-t.containerHeight||r>0&&0===i)return 0===window.scrollY&&r>0&&Kk.isChrome}else if(s>a&&(n<0&&o===t.contentWidth-t.containerWidth||n>0&&0===o))return!0;return!0}(h,d)&&o.preventDefault()}}function h(){t.settings.swipeEasing&&(clearInterval(o),o=setInterval((function(){t.isInitialized?clearInterval(o):i.x||i.y?Math.abs(i.x)<.01&&Math.abs(i.y)<.01?clearInterval(o):(s(30*i.x,30*i.y),i.x*=.8,i.y*=.8):clearInterval(o)}),10))}}},Jk=function(t,e){var n=this;if(void 0===e&&(e={}),"string"==typeof t&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var r in this.element=t,t.classList.add("ps"),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},e)this.settings[r]=e[r];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var i,o,s=function(){return t.classList.add("ps--focus")},a=function(){return t.classList.remove("ps--focus")};this.isRtl="rtl"===Ik(t).direction,!0===this.isRtl&&t.classList.add("ps__rtl"),this.isNegativeScroll=(o=t.scrollLeft,t.scrollLeft=-1,i=t.scrollLeft<0,t.scrollLeft=o,i),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new Wk,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=Rk(Lk("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=Rk(Mk("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",s),this.event.bind(this.scrollbarX,"blur",a),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var c=Ik(this.scrollbarXRail);this.scrollbarXBottom=parseInt(c.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=$k(c.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=$k(c.borderLeftWidth)+$k(c.borderRightWidth),Ak(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=$k(c.marginLeft)+$k(c.marginRight),Ak(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=Rk(Lk("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=Rk(Mk("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",s),this.event.bind(this.scrollbarY,"blur",a),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var l=Ik(this.scrollbarYRail);this.scrollbarYRight=parseInt(l.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=$k(l.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(t){var e=Ik(t);return $k(e.width)+$k(e.paddingLeft)+$k(e.paddingRight)+$k(e.borderLeftWidth)+$k(e.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=$k(l.borderTopWidth)+$k(l.borderBottomWidth),Ak(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=$k(l.marginTop)+$k(l.marginBottom),Ak(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(t){return Zk[t](n)})),this.lastScrollTop=Math.floor(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",(function(t){return n.onScroll(t)})),Yk(this)};Jk.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,Ak(this.scrollbarXRail,{display:"block"}),Ak(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=$k(Ik(this.scrollbarXRail).marginLeft)+$k(Ik(this.scrollbarXRail).marginRight),this.railYMarginHeight=$k(Ik(this.scrollbarYRail).marginTop)+$k(Ik(this.scrollbarYRail).marginBottom),Ak(this.scrollbarXRail,{display:"none"}),Ak(this.scrollbarYRail,{display:"none"}),Yk(this),Gk(this,"top",0,!1,!0),Gk(this,"left",0,!1,!0),Ak(this.scrollbarXRail,{display:""}),Ak(this.scrollbarYRail,{display:""}))},Jk.prototype.onScroll=function(t){this.isAlive&&(Yk(this),Gk(this,"top",this.element.scrollTop-this.lastScrollTop),Gk(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},Jk.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),Dk(this.scrollbarX),Dk(this.scrollbarY),Dk(this.scrollbarXRail),Dk(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},Jk.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(t){return!t.match(/^ps([-_].+|)$/)})).join(" ")};var tI=Jk,eI=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,r){return t[0]===e&&(n=r,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}()}(),nI="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,rI="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),iI="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(rI):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)},oI=["top","right","bottom","left","width","height","size","weight"],sI="undefined"!=typeof MutationObserver,aI=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&a()}function s(){iI(o)}function a(){var t=Date.now();if(n){if(t-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,20);i=t}return a}(this.refresh.bind(this))}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){nI&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),sI?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){nI&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;oI.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),cI=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},lI=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||rI},uI=fI(0,0,0,0);function hI(t){return parseFloat(t)||0}function dI(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+hI(t["border-"+n+"-width"])}),0)}var pI="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof lI(t).SVGGraphicsElement}:function(t){return t instanceof lI(t).SVGElement&&"function"==typeof t.getBBox};function fI(t,e,n,r){return{x:t,y:e,width:n,height:r}}var mI=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=fI(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t,e=(t=this.target,nI?pI(t)?function(t){var e=t.getBBox();return fI(0,0,e.width,e.height)}(t):function(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return uI;var r=lI(t).getComputedStyle(t),i=function(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n];e[i]=hI(t["padding-"+i])}return e}(r),o=i.left+i.right,s=i.top+i.bottom,a=hI(r.width),c=hI(r.height);if("border-box"===r.boxSizing&&(Math.round(a+o)!==e&&(a-=dI(r,"left","right")+o),Math.round(c+s)!==n&&(c-=dI(r,"top","bottom")+s)),!function(t){return t===lI(t).document.documentElement}(t)){var l=Math.round(a+o)-e,u=Math.round(c+s)-n;1!==Math.abs(l)&&(a-=l),1!==Math.abs(u)&&(c-=u)}return fI(i.left,i.top,a,c)}(t):uI);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),gI=function(t,e){var n,r,i,o,s,a,c,l=(r=(n=e).x,i=n.y,o=n.width,s=n.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(a.prototype),cI(c,{x:r,y:i,width:o,height:s,top:i,right:r+o,bottom:s+i,left:r}),c);cI(this,{target:t,contentRect:l})},yI=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new eI,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof lI(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new mI(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof lI(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new gI(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),vI="undefined"!=typeof WeakMap?new WeakMap:new eI,_I=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=aI.getInstance(),r=new yI(e,n,this);vI.set(this,r)};["observe","unobserve","disconnect"].forEach((function(t){_I.prototype[t]=function(){var e;return(e=vI.get(this))[t].apply(e,arguments)}}));var bI=void 0!==rI.ResizeObserver?rI.ResizeObserver:_I;function wI(t,e){if(1&t&&(vs(0,"div",3),bs(1,"div",4),bs(2,"div",5),bs(3,"div",6),bs(4,"div",7),_s()),2&t){const t=Ns();qs("ps-at-top",t.states.top)("ps-at-left",t.states.left)("ps-at-right",t.states.right)("ps-at-bottom",t.states.bottom),oi(1),qs("ps-indicator-show",t.indicatorY&&t.interaction),oi(1),qs("ps-indicator-show",t.indicatorX&&t.interaction),oi(1),qs("ps-indicator-show",t.indicatorX&&t.interaction),oi(1),qs("ps-indicator-show",t.indicatorY&&t.interaction)}}const EI=["*"],SI=new Ut("PERFECT_SCROLLBAR_CONFIG");class CI{constructor(t,e,n,r){this.x=t,this.y=e,this.w=n,this.h=r}}class xI{constructor(t,e){this.x=t,this.y=e}}const TI=["psScrollY","psScrollX","psScrollUp","psScrollDown","psScrollLeft","psScrollRight","psYReachEnd","psYReachStart","psXReachEnd","psXReachStart"];class kI{constructor(t={}){this.assign(t)}assign(t={}){for(const e in t)this[e]=t[e]}}let II=(()=>{let t=class{constructor(t,e,n,r,i){this.zone=t,this.differs=e,this.elementRef=n,this.platformId=r,this.defaults=i,this.instance=null,this.ro=null,this.timeout=null,this.animation=null,this.configDiff=null,this.ngDestroy=new x,this.disabled=!1,this.psScrollY=new fc,this.psScrollX=new fc,this.psScrollUp=new fc,this.psScrollDown=new fc,this.psScrollLeft=new fc,this.psScrollRight=new fc,this.psYReachEnd=new fc,this.psYReachStart=new fc,this.psXReachEnd=new fc,this.psXReachStart=new fc}ngOnInit(){if(!this.disabled&&Wu(this.platformId)){const t=new kI(this.defaults);t.assign(this.config),this.zone.runOutsideAngular(()=>{this.instance=new tI(this.elementRef.nativeElement,t)}),this.configDiff||(this.configDiff=this.differs.find(this.config||{}).create(),this.configDiff.diff(this.config||{})),this.zone.runOutsideAngular(()=>{this.ro=new bI(()=>{this.update()}),this.elementRef.nativeElement.children[0]&&this.ro.observe(this.elementRef.nativeElement.children[0]),this.ro.observe(this.elementRef.nativeElement)}),this.zone.runOutsideAngular(()=>{TI.forEach(t=>{const e=t.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`);Hb(this.elementRef.nativeElement,e).pipe(Nw(20),Wb(this.ngDestroy)).subscribe(e=>{this[t].emit(e)})})})}}ngOnDestroy(){Wu(this.platformId)&&(this.ngDestroy.next(),this.ngDestroy.complete(),this.ro&&this.ro.disconnect(),this.timeout&&"undefined"!=typeof window&&window.clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.instance&&this.instance.destroy()}),this.instance=null)}ngDoCheck(){!this.disabled&&this.configDiff&&Wu(this.platformId)&&this.configDiff.diff(this.config||{})&&(this.ngOnDestroy(),this.ngOnInit())}ngOnChanges(t){t.disabled&&!t.disabled.isFirstChange()&&Wu(this.platformId)&&t.disabled.currentValue!==t.disabled.previousValue&&(!0===t.disabled.currentValue?this.ngOnDestroy():!1===t.disabled.currentValue&&this.ngOnInit())}ps(){return this.instance}update(){"undefined"!=typeof window&&(this.timeout&&window.clearTimeout(this.timeout),this.timeout=window.setTimeout(()=>{if(!this.disabled&&this.configDiff)try{this.zone.runOutsideAngular(()=>{this.instance&&this.instance.update()})}catch(t){}},0))}geometry(t="scroll"){return new CI(this.elementRef.nativeElement[t+"Left"],this.elementRef.nativeElement[t+"Top"],this.elementRef.nativeElement[t+"Width"],this.elementRef.nativeElement[t+"Height"])}position(t=!1){return!t&&this.instance?new xI(this.instance.reach.x||0,this.instance.reach.y||0):new xI(this.elementRef.nativeElement.scrollLeft,this.elementRef.nativeElement.scrollTop)}scrollable(t="any"){const e=this.elementRef.nativeElement;return"any"===t?e.classList.contains("ps--active-x")||e.classList.contains("ps--active-y"):"both"===t?e.classList.contains("ps--active-x")&&e.classList.contains("ps--active-y"):e.classList.contains("ps--active-"+t)}scrollTo(t,e,n){this.disabled||(null==e&&null==n?this.animateScrolling("scrollTop",t,n):(null!=t&&this.animateScrolling("scrollLeft",t,n),null!=e&&this.animateScrolling("scrollTop",e,n)))}scrollToX(t,e){this.animateScrolling("scrollLeft",t,e)}scrollToY(t,e){this.animateScrolling("scrollTop",t,e)}scrollToTop(t,e){this.animateScrolling("scrollTop",t||0,e)}scrollToLeft(t,e){this.animateScrolling("scrollLeft",t||0,e)}scrollToRight(t,e){this.animateScrolling("scrollLeft",this.elementRef.nativeElement.scrollWidth-this.elementRef.nativeElement.clientWidth-(t||0),e)}scrollToBottom(t,e){this.animateScrolling("scrollTop",this.elementRef.nativeElement.scrollHeight-this.elementRef.nativeElement.clientHeight-(t||0),e)}scrollToElement(t,e,n){const r=this.elementRef.nativeElement.querySelector(t);if(r){const t=r.getBoundingClientRect(),i=this.elementRef.nativeElement.getBoundingClientRect();this.elementRef.nativeElement.classList.contains("ps--active-x")&&this.animateScrolling("scrollLeft",t.left-i.left+this.elementRef.nativeElement.scrollLeft+(e||0),n),this.elementRef.nativeElement.classList.contains("ps--active-y")&&this.animateScrolling("scrollTop",t.top-i.top+this.elementRef.nativeElement.scrollTop+(e||0),n)}}animateScrolling(t,e,n){if(this.animation&&(window.cancelAnimationFrame(this.animation),this.animation=null),n&&"undefined"!=typeof window){if(e!==this.elementRef.nativeElement[t]){let r=0,i=0,o=performance.now(),s=this.elementRef.nativeElement[t];const a=(s-e)/2,c=l=>{i+=Math.PI/(n/(l-o)),r=Math.round(e+a+a*Math.cos(i)),this.elementRef.nativeElement[t]===s&&(i>=Math.PI?this.animateScrolling(t,e,0):(this.elementRef.nativeElement[t]=r,s=this.elementRef.nativeElement[t],o=l,this.animation=window.requestAnimationFrame(c)))};window.requestAnimationFrame(c)}}else this.elementRef.nativeElement[t]=e}};return t.\u0275fac=function(e){return new(e||t)(ps(ol),ps(Va),ps(ba),ps(Hc),ps(SI,8))},t.\u0275dir=be({type:t,selectors:[["","perfectScrollbar",""]],inputs:{disabled:"disabled",config:["perfectScrollbar","config"]},outputs:{psScrollY:"psScrollY",psScrollX:"psScrollX",psScrollUp:"psScrollUp",psScrollDown:"psScrollDown",psScrollLeft:"psScrollLeft",psScrollRight:"psScrollRight",psYReachEnd:"psYReachEnd",psYReachStart:"psYReachStart",psXReachEnd:"psXReachEnd",psXReachStart:"psXReachStart"},exportAs:["ngxPerfectScrollbar"],features:[sa]}),t})(),AI=(()=>{let t=class{constructor(t,e,n){this.zone=t,this.cdRef=e,this.platformId=n,this.states={},this.indicatorX=!1,this.indicatorY=!1,this.interaction=!1,this.scrollPositionX=0,this.scrollPositionY=0,this.scrollDirectionX=0,this.scrollDirectionY=0,this.usePropagationX=!1,this.usePropagationY=!1,this.allowPropagationX=!1,this.allowPropagationY=!1,this.stateTimeout=null,this.ngDestroy=new x,this.stateUpdate=new x,this.disabled=!1,this.usePSClass=!0,this.autoPropagation=!1,this.scrollIndicators=!1,this.psScrollY=new fc,this.psScrollX=new fc,this.psScrollUp=new fc,this.psScrollDown=new fc,this.psScrollLeft=new fc,this.psScrollRight=new fc,this.psYReachEnd=new fc,this.psYReachStart=new fc,this.psXReachEnd=new fc,this.psXReachStart=new fc}ngOnInit(){Wu(this.platformId)&&(this.stateUpdate.pipe(Wb(this.ngDestroy),RC((t,e)=>t===e&&!this.stateTimeout)).subscribe(t=>{this.stateTimeout&&"undefined"!=typeof window&&(window.clearTimeout(this.stateTimeout),this.stateTimeout=null),"x"===t||"y"===t?(this.interaction=!1,"x"===t?(this.indicatorX=!1,this.states.left=!1,this.states.right=!1,this.autoPropagation&&this.usePropagationX&&(this.allowPropagationX=!1)):"y"===t&&(this.indicatorY=!1,this.states.top=!1,this.states.bottom=!1,this.autoPropagation&&this.usePropagationY&&(this.allowPropagationY=!1))):("left"===t||"right"===t?(this.states.left=!1,this.states.right=!1,this.states[t]=!0,this.autoPropagation&&this.usePropagationX&&(this.indicatorX=!0)):"top"!==t&&"bottom"!==t||(this.states.top=!1,this.states.bottom=!1,this.states[t]=!0,this.autoPropagation&&this.usePropagationY&&(this.indicatorY=!0)),this.autoPropagation&&"undefined"!=typeof window&&(this.stateTimeout=window.setTimeout(()=>{this.indicatorX=!1,this.indicatorY=!1,this.stateTimeout=null,this.interaction&&(this.states.left||this.states.right)&&(this.allowPropagationX=!0),this.interaction&&(this.states.top||this.states.bottom)&&(this.allowPropagationY=!0),this.cdRef.markForCheck()},500))),this.cdRef.markForCheck(),this.cdRef.detectChanges()}),this.zone.runOutsideAngular(()=>{if(this.directiveRef){const t=this.directiveRef.elementRef.nativeElement;Hb(t,"wheel").pipe(Wb(this.ngDestroy)).subscribe(t=>{!this.disabled&&this.autoPropagation&&this.checkPropagation(t,t.deltaX,t.deltaY)}),Hb(t,"touchmove").pipe(Wb(this.ngDestroy)).subscribe(t=>{if(!this.disabled&&this.autoPropagation){const e=t.touches[0].clientX,n=t.touches[0].clientY;this.checkPropagation(t,e-this.scrollPositionX,n-this.scrollPositionY),this.scrollPositionX=e,this.scrollPositionY=n}}),$(Hb(t,"ps-scroll-x").pipe(xk("x")),Hb(t,"ps-scroll-y").pipe(xk("y")),Hb(t,"ps-x-reach-end").pipe(xk("right")),Hb(t,"ps-y-reach-end").pipe(xk("bottom")),Hb(t,"ps-x-reach-start").pipe(xk("left")),Hb(t,"ps-y-reach-start").pipe(xk("top"))).pipe(Wb(this.ngDestroy)).subscribe(t=>{this.disabled||!this.autoPropagation&&!this.scrollIndicators||this.stateUpdate.next(t)})}}),window.setTimeout(()=>{TI.forEach(t=>{this.directiveRef&&(this.directiveRef[t]=this[t])})},0))}ngOnDestroy(){Wu(this.platformId)&&(this.ngDestroy.next(),this.ngDestroy.unsubscribe(),this.stateTimeout&&"undefined"!=typeof window&&window.clearTimeout(this.stateTimeout))}ngDoCheck(){if(Wu(this.platformId)&&!this.disabled&&this.autoPropagation&&this.directiveRef){const t=this.directiveRef.elementRef.nativeElement;this.usePropagationX=t.classList.contains("ps--active-x"),this.usePropagationY=t.classList.contains("ps--active-y")}}checkPropagation(t,e,n){this.interaction=!0;const r=e<0?-1:1,i=n<0?-1:1;(this.usePropagationX&&this.usePropagationY||this.usePropagationX&&(!this.allowPropagationX||this.scrollDirectionX!==r)||this.usePropagationY&&(!this.allowPropagationY||this.scrollDirectionY!==i))&&(t.preventDefault(),t.stopPropagation()),e&&(this.scrollDirectionX=r),n&&(this.scrollDirectionY=i),this.stateUpdate.next("interaction"),this.cdRef.detectChanges()}};return t.\u0275fac=function(e){return new(e||t)(ps(ol),ps(Do),ps(Hc))},t.\u0275cmp=fe({type:t,selectors:[["perfect-scrollbar"]],viewQuery:function(t,e){var n;1&t&&Tc(II,!0),2&t&&xc(n=Nc())&&(e.directiveRef=n.first)},hostVars:4,hostBindings:function(t,e){2&t&&qs("ps-show-limits",e.autoPropagation)("ps-show-active",e.scrollIndicators)},inputs:{disabled:"disabled",usePSClass:"usePSClass",autoPropagation:"autoPropagation",scrollIndicators:"scrollIndicators",config:"config"},outputs:{psScrollY:"psScrollY",psScrollX:"psScrollX",psScrollUp:"psScrollUp",psScrollDown:"psScrollDown",psScrollLeft:"psScrollLeft",psScrollRight:"psScrollRight",psYReachEnd:"psYReachEnd",psYReachStart:"psYReachStart",psXReachEnd:"psXReachEnd",psXReachStart:"psXReachStart"},exportAs:["ngxPerfectScrollbar"],ngContentSelectors:EI,decls:4,vars:5,consts:[[2,"position","static",3,"perfectScrollbar","disabled"],[1,"ps-content"],["class","ps-overlay",3,"ps-at-top","ps-at-left","ps-at-right","ps-at-bottom",4,"ngIf"],[1,"ps-overlay"],[1,"ps-indicator-top"],[1,"ps-indicator-left"],[1,"ps-indicator-right"],[1,"ps-indicator-bottom"]],template:function(t,e){1&t&&(Ps(),vs(0,"div",0),vs(1,"div",1),Ms(2),_s(),hs(3,wI,5,16,"div",2),_s()),2&t&&(qs("ps",e.usePSClass),gs("perfectScrollbar",e.config)("disabled",e.disabled),oi(3),gs("ngIf",e.scrollIndicators))},directives:[II,Mu],styles:["perfect-scrollbar{position:relative;display:block;overflow:hidden;width:100%;height:100%;max-width:100%;max-height:100%}perfect-scrollbar[hidden]{display:none}perfect-scrollbar[fxflex]{display:-webkit-box;display:flex;flex-direction:column;height:auto;min-width:0;min-height:0;-webkit-box-direction:column;-webkit-box-orient:column}perfect-scrollbar[fxflex]>.ps{flex:1 1 auto;width:auto;height:auto;min-width:0;min-height:0;-webkit-box-flex:1}perfect-scrollbar[fxlayout]>.ps,perfect-scrollbar[fxlayout]>.ps>.ps-content{display:-webkit-box;display:flex;flex:1 1 auto;flex-direction:inherit;align-items:inherit;align-content:inherit;justify-content:inherit;width:100%;height:100%;-webkit-box-align:inherit;-webkit-box-direction:inherit;-webkit-box-flex:1;-webkit-box-orient:inherit;-webkit-box-pack:inherit},perfect-scrollbar[fxlayout=row]>.ps,perfect-scrollbar[fxlayout=row]>.ps>.ps-content{flex-direction:row!important;-webkit-box-direction:row!important;-webkit-box-orient:row!important}perfect-scrollbar[fxlayout=column]>.ps,perfect-scrollbar[fxlayout=column]>.ps>.ps-content{flex-direction:column!important;-webkit-box-direction:column!important;-webkit-box-orient:column!important}perfect-scrollbar>.ps{position:static;display:block;width:100%;height:100%;max-width:100%;max-height:100%}perfect-scrollbar>.ps textarea{-ms-overflow-style:scrollbar}perfect-scrollbar>.ps>.ps-overlay{position:absolute;top:0;right:0;bottom:0;left:0;display:block;overflow:hidden;pointer-events:none}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{position:absolute;opacity:0;-webkit-transition:opacity .3s ease-in-out;transition:opacity .3s ease-in-out}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{left:0;min-width:100%;min-height:24px}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right{top:0;min-width:24px;min-height:100%}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left{left:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right{right:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom{bottom:0}perfect-scrollbar>.ps.ps--active-y>.ps__rail-y{top:0!important;right:0!important;left:auto!important;width:10px;cursor:default;-webkit-transition:width .2s linear,opacity .2s linear,background-color .2s linear;transition:width .2s linear,opacity .2s linear,background-color .2s linear}perfect-scrollbar>.ps.ps--active-y>.ps__rail-y.ps--clicking,perfect-scrollbar>.ps.ps--active-y>.ps__rail-y:hover{width:15px}perfect-scrollbar>.ps.ps--active-x>.ps__rail-x{top:auto!important;bottom:0!important;left:0!important;height:10px;cursor:default;-webkit-transition:height .2s linear,opacity .2s linear,background-color .2s linear;transition:height .2s linear,opacity .2s linear,background-color .2s linear}perfect-scrollbar>.ps.ps--active-x>.ps__rail-x.ps--clicking,perfect-scrollbar>.ps.ps--active-x>.ps__rail-x:hover{height:15px}perfect-scrollbar>.ps.ps--active-x.ps--active-y>.ps__rail-y{margin:0 0 10px}perfect-scrollbar>.ps.ps--active-x.ps--active-y>.ps__rail-x{margin:0 10px 0 0}perfect-scrollbar>.ps.ps--scrolling-x>.ps__rail-x,perfect-scrollbar>.ps.ps--scrolling-y>.ps__rail-y{opacity:.9;background-color:#eee}perfect-scrollbar.ps-show-always>.ps.ps--active-x>.ps__rail-x,perfect-scrollbar.ps-show-always>.ps.ps--active-y>.ps__rail-y{opacity:.6}perfect-scrollbar.ps-show-active>.ps.ps--active-y>.ps-overlay:not(.ps-at-top) .ps-indicator-top{opacity:1;background:-webkit-gradient(linear,left top,left bottom,from(rgba(255,255,255,.5)),to(rgba(255,255,255,0)));background:linear-gradient(to bottom,rgba(255,255,255,.5) 0,rgba(255,255,255,0) 100%)}perfect-scrollbar.ps-show-active>.ps.ps--active-y>.ps-overlay:not(.ps-at-bottom) .ps-indicator-bottom{opacity:1;background:-webkit-gradient(linear,left bottom,left top,from(rgba(255,255,255,.5)),to(rgba(255,255,255,0)));background:linear-gradient(to top,rgba(255,255,255,.5) 0,rgba(255,255,255,0) 100%)}perfect-scrollbar.ps-show-active>.ps.ps--active-x>.ps-overlay:not(.ps-at-left) .ps-indicator-left{opacity:1;background:-webkit-gradient(linear,left top,right top,from(rgba(255,255,255,.5)),to(rgba(255,255,255,0)));background:linear-gradient(to right,rgba(255,255,255,.5) 0,rgba(255,255,255,0) 100%)}perfect-scrollbar.ps-show-active>.ps.ps--active-x>.ps-overlay:not(.ps-at-right) .ps-indicator-right{opacity:1;background:-webkit-gradient(linear,right top,left top,from(rgba(255,255,255,.5)),to(rgba(255,255,255,0)));background:linear-gradient(to left,rgba(255,255,255,.5) 0,rgba(255,255,255,0) 100%)}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-top .ps-indicator-top{background:-webkit-gradient(linear,left top,left bottom,from(rgba(170,170,170,.5)),to(rgba(170,170,170,0)));background:linear-gradient(to bottom,rgba(170,170,170,.5) 0,rgba(170,170,170,0) 100%)}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-bottom .ps-indicator-bottom{background:-webkit-gradient(linear,left bottom,left top,from(rgba(170,170,170,.5)),to(rgba(170,170,170,0)));background:linear-gradient(to top,rgba(170,170,170,.5) 0,rgba(170,170,170,0) 100%)}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-left .ps-indicator-left{background:-webkit-gradient(linear,left top,right top,from(rgba(170,170,170,.5)),to(rgba(170,170,170,0)));background:linear-gradient(to right,rgba(170,170,170,.5) 0,rgba(170,170,170,0) 100%)}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-right .ps-indicator-right{background:-webkit-gradient(linear,right top,left top,from(rgba(170,170,170,.5)),to(rgba(170,170,170,0)));background:linear-gradient(to left,rgba(170,170,170,.5) 0,rgba(170,170,170,0) 100%)}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-left .ps-indicator-left.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-right .ps-indicator-right.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-bottom .ps-indicator-bottom.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-top .ps-indicator-top.ps-indicator-show{opacity:1}",".ps{overflow:hidden!important;overflow-anchor:none;-ms-overflow-style:none;touch-action:auto;-ms-touch-action:auto}.ps__rail-x{display:none;opacity:0;transition:background-color .2s linear,opacity .2s linear;-webkit-transition:background-color .2s linear,opacity .2s linear;height:15px;bottom:0;position:absolute}.ps__rail-y{display:none;opacity:0;transition:background-color .2s linear,opacity .2s linear;-webkit-transition:background-color .2s linear,opacity .2s linear;width:15px;right:0;position:absolute}.ps--active-x>.ps__rail-x,.ps--active-y>.ps__rail-y{display:block;background-color:transparent}.ps--focus>.ps__rail-x,.ps--focus>.ps__rail-y,.ps--scrolling-x>.ps__rail-x,.ps--scrolling-y>.ps__rail-y,.ps:hover>.ps__rail-x,.ps:hover>.ps__rail-y{opacity:.6}.ps .ps__rail-x.ps--clicking,.ps .ps__rail-x:focus,.ps .ps__rail-x:hover,.ps .ps__rail-y.ps--clicking,.ps .ps__rail-y:focus,.ps .ps__rail-y:hover{background-color:#eee;opacity:.9}.ps__thumb-x{background-color:#aaa;border-radius:6px;transition:background-color .2s linear,height .2s ease-in-out;-webkit-transition:background-color .2s linear,height .2s ease-in-out;height:6px;bottom:2px;position:absolute}.ps__thumb-y{background-color:#aaa;border-radius:6px;transition:background-color .2s linear,width .2s ease-in-out;-webkit-transition:background-color .2s linear,width .2s ease-in-out;width:6px;right:2px;position:absolute}.ps__rail-x.ps--clicking .ps__thumb-x,.ps__rail-x:focus>.ps__thumb-x,.ps__rail-x:hover>.ps__thumb-x{background-color:#999;height:11px}.ps__rail-y.ps--clicking .ps__thumb-y,.ps__rail-y:focus>.ps__thumb-y,.ps__rail-y:hover>.ps__thumb-y{background-color:#999;width:11px}@supports (-ms-overflow-style:none){.ps{overflow:auto!important}}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.ps{overflow:auto!important}}"],encapsulation:2}),t})(),RI=(()=>{let t=class{};return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Hu],Hu]}),t})();const OI=["chatcontent"],NI=function(t){return{color:t}};function DI(t,e){if(1&t){const t=Cs();vs(0,"mat-list-item",31),ks("click",(function(){Xe(t);const n=e.$implicit;return Ns().onSelect(n)})),vs(1,"div",32),bs(2,"img",33),_s(),vs(3,"div",34),vs(4,"span"),Ks(5),_s(),vs(6,"p",35),bs(7,"span",36),Ks(8),_s(),_s(),_s()}if(2&t){const t=e.$implicit;oi(2),Ls("src",t.imgProfile,Hr),oi(3),Xs(" ",t.nickname," "),oi(2),gs("ngStyle",hc(4,NI,"online"==t.status?"lightgreen":"red")),oi(1),Xs(" ",t.status," ")}}function PI(t,e){if(1&t&&(vs(0,"div"),vs(1,"h6",16),Ks(2),_s(),vs(3,"p",35),bs(4,"span",36),Ks(5),_s(),_s()),2&t){const t=Ns();oi(2),Xs(" last seen ",null==t.selectedChat?null:t.selectedChat.timeLoged,""),oi(2),gs("ngStyle",hc(3,NI,"online"==(null==t.selectedChat?null:t.selectedChat.status)?"lightgreen":"red")),oi(1),Xs(" ",t.selectedChat.status," ")}}function MI(t,e){if(1&t&&(vs(0,"div",40),vs(1,"div"),bs(2,"img",14),_s(),vs(3,"div",41),vs(4,"div",42),vs(5,"span",43),Ks(6),_s(),vs(7,"span"),Ks(8),_s(),_s(),vs(9,"div"),vs(10,"span",44),Ks(11),_s(),_s(),_s(),bs(12,"span",8),_s()),2&t){const t=Ns().$implicit,e=Ns();oi(2),gs("src",e.selectedChat.imgProfile,Hr),oi(4),Xs(" ",null==t?null:t.from," "),oi(2),Ys(null==t?null:t.message),oi(3),Ys(null==t?null:t.timeSent)}}function LI(t,e){if(1&t&&(vs(0,"div",40),bs(1,"span",8),vs(2,"div",41),vs(3,"div",45),vs(4,"span",43),Ks(5),_s(),vs(6,"span"),Ks(7),_s(),_s(),vs(8,"div"),vs(9,"span",46),Ks(10),_s(),_s(),_s(),vs(11,"div"),bs(12,"img",7),_s(),_s()),2&t){const t=Ns().$implicit;oi(5),Xs(" ",null==t?null:t.from," "),oi(2),Ys(null==t?null:t.message),oi(3),Ys(null==t?null:t.timeSent)}}function FI(t,e){if(1&t&&(vs(0,"div",37),hs(1,MI,13,4,"div",38),hs(2,LI,13,3,"div",39),_s()),2&t){const t=e.$implicit,n=Ns();gs("ngSwitch",t.from),oi(1),gs("ngSwitchCase",n.nickname),oi(1),gs("ngSwitchCase",null==n.selectedChat?null:n.selectedChat.nickname)}}const jI=t=>{const e=[];return t.forEach(t=>{const n=t.val();n.key=t.key,e.push(n)}),e};let UI=(()=>{class t{constructor(t,e){this.datepipe=t,this.router=e,this.chats=[],this.messages=[{from:"them",msg:"Need help in Refferal Module",time:"5 min ago"},{from:"me",msg:"What kind of issue you faced?",time:"4 min ago"},{from:"them",msg:"By refferal invite, my friend not get refferal offer",time:"2 min ago"},{from:"them",msg:"and I have not received any notification",time:"2 min ago"}],this.users=[],this.nickname="",this.priv_roomname="",this.scrolltop=null,this.ref=Ug.database().ref("private_room/"),this.nickname=localStorage.getItem("nickname"),Ug.database().ref("users/").on("value",t=>{const e=jI(t);this.users=e.filter(t=>t.nickname!==this.nickname)})}send(){var t;return Object(Gx.__awaiter)(this,void 0,void 0,(function*(){if(""!==this.newMessage.trim()&&(null===(t=this.selectedChat)||void 0===t?void 0:t.nickname))try{const t={roomname:"",from:"",message:"",state:!0,type:"",timeSent:""};t.roomname=this.priv_roomname,t.from=this.nickname,t.message=this.newMessage,t.type="message",t.timeSent=this.datepipe.transform(new Date,"dd/MM/yyyy HH:mm:ss"),Ug.database().ref("private_room/"+t.roomname).push().set(t),this.newMessage="",window.scrollTo(0,document.body.scrollHeight)}catch(e){console.log(e)}}))}clearMessages(){this.chats.length=0}ngOnInit(){this.selectedChat=Object.assign({},{imgProfile:"assets/img/noavatar.png"})}initPrivateChat(){Ug.database().ref("private_room/"+this.priv_roomname).on("value",t=>{this.chats=[];const e=jI(t);this.chats=e.filter(t=>t.roomname===this.priv_roomname),setTimeout(()=>this.scrolltop=this.chatcontent.nativeElement.scrollHeight,500)})}isOver(){return window.matchMedia("(max-width: 960px)").matches}onSelect(t){this.nickname?(this.selectedChat=t,this.priv_roomname=this.setOneToOneChat(this.nickname,this.selectedChat.nickname),this.ref.child(this.priv_roomname).once("value",t=>{if(t.exists())console.log("Room name already exist!"),this.initPrivateChat();else try{const t={roomname:"",from:"",message:"",state:!0,type:"",timeSent:""};t.roomname=this.priv_roomname,t.from=this.nickname,t.message="Start Chat With "+this.selectedChat.nickname,t.type="message",t.timeSent=this.datepipe.transform(new Date,"dd/MM/yyyy HH:mm:ss"),Ug.database().ref("private_room").child(t.roomname).push().set(t),this.initPrivateChat()}catch(e){console.log(e)}})):alert("\u064a\u062c\u0628 \u0639\u0644\u064a\u0643 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 !")}logout(){localStorage.removeItem("nickname"),this.router.navigate(["/login"])}login(){this.nickname||this.router.navigate(["/login"])}setOneToOneChat(t,e){return t.trim().length<e.trim().length?t+e:e+t}}return t.\u0275fac=function(e){return new(e||t)(ps(qu),ps(Lf))},t.\u0275cmp=fe({type:t,selectors:[["ms-chat"]],viewQuery:function(t,e){var n;1&t&&kc(OI,!0),2&t&&xc(n=Nc())&&(e.chatcontent=n.first)},decls:84,vars:14,consts:[["fxLayout","row","fxLayoutAlign","start",1,"gene-chat-page"],["fxFlex.gt-md","100","fxFlex.gt-sm","100","fxFlex","100"],[1,"mat-pad-none"],[1,"chat-content-area"],[1,"gene-chat-sidebar",3,"mode","opened"],["chatnavbar",""],[1,"mat-blue-600","chat-toolbar-side"],["width","50","src","assets/img/person.png",1,"img-circle"],["fxFlex",""],["mat-icon-button","",3,"mat-menu-trigger-for"],[1,"gene-chat-user"],[3,"click",4,"ngFor","ngForOf"],[1,"chat-toolbar","mat-blue-600"],["mat-icon-button","",3,"click"],["width","50",1,"img-circle",3,"src"],["fxFlex","",1,"pad-wrap"],[1,"margin-none"],[4,"ngIf"],["mat-icon-button",""],["fxLayout","column","fxLayoutAlign","end stretch",1,"gene-chat-area"],[1,"gene-chat-content",3,"scrollTop"],["chatcontent",""],["class","gene-chat-wrap","fxLayout","column",3,"ngSwitch",4,"ngFor","ngForOf"],[1,"gene-chat-form"],["fxLayout","row","fxLayoutAlign","space-around center"],["mat-fab","",1,"gene-send-btn","mat-blue-800",3,"click"],["placeholder","Send message",3,"ngModel","keyup.enter","ngModelChange"],["user","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item",""],["them","matMenu"],[3,"click"],[1,"gene-chat-thumb"],["mat-list-avatar","","alt","",1,"img-circle",3,"src"],[1,"gene-user-info","pad-wrap"],["mat-line",""],[1,"circle",3,"ngStyle"],["fxLayout","column",1,"gene-chat-wrap",3,"ngSwitch"],["class","gene-chat-list mat-blue-800","fxLayout","row","fxLayoutAlign","start start","class","mrgn-b-md",4,"ngSwitchCase"],["class","gene-chat-list mat-green","fxLayout","row","fxLayoutAlign","start start","class","mrgn-b-md",4,"ngSwitchCase"],["fxLayout","row","fxLayoutAlign","start start",1,"mrgn-b-md"],[1,"pad-wrap"],[1,"mat-blue-800","gene-chat-msg"],[1,"gene-block"],[1,"meta-post","gene-text-md"],[1,"mat-green","gene-chat-msg"],[1,"meta-post","sp-l","gene-text-md"]],template:function(t,e){if(1&t){const t=Cs();vs(0,"div",0),vs(1,"div",1),vs(2,"mat-card",2),vs(3,"mat-sidenav-container",3),vs(4,"mat-sidenav",4,5),vs(6,"mat-toolbar",6),vs(7,"a"),bs(8,"img",7),_s(),bs(9,"span",8),vs(10,"button",9),vs(11,"mat-icon"),Ks(12,"more_horiz"),_s(),_s(),_s(),bs(13,"hr"),vs(14,"mat-nav-list",10),hs(15,DI,9,6,"mat-list-item",11),_s(),_s(),vs(16,"mat-toolbar",12),vs(17,"button",13),ks("click",(function(){return Xe(t),ds(5).toggle()})),vs(18,"mat-icon"),Ks(19,"short_text"),_s(),_s(),vs(20,"a"),bs(21,"img",14),_s(),vs(22,"div",15),vs(23,"h5",16),Ks(24),_s(),hs(25,PI,6,5,"div",17),_s(),vs(26,"button",18),vs(27,"mat-icon"),Ks(28,"attach_file"),_s(),_s(),vs(29,"button",9),vs(30,"mat-icon"),Ks(31,"more_horiz"),_s(),_s(),_s(),vs(32,"div",19),vs(33,"perfect-scrollbar"),vs(34,"div",20,21),hs(36,FI,3,3,"div",22),_s(),_s(),vs(37,"div",23),vs(38,"div",24),vs(39,"button",25),ks("click",(function(){return e.send()})),vs(40,"mat-icon"),Ks(41,"send"),_s(),_s(),vs(42,"input",26),ks("keyup.enter",(function(){return e.send()}))("ngModelChange",(function(t){return e.newMessage=t})),_s(),_s(),_s(),_s(),_s(),_s(),_s(),_s(),vs(43,"mat-menu",null,27),vs(45,"button",28),ks("click",(function(){return e.login()})),vs(46,"mat-icon"),Ks(47," account_circle "),_s(),vs(48,"span"),Ks(49),_s(),_s(),vs(50,"button",29),vs(51,"mat-icon"),Ks(52," settings "),_s(),vs(53,"span"),Ks(54," Settings "),_s(),_s(),vs(55,"button",29),vs(56,"mat-icon"),Ks(57,"help"),_s(),vs(58,"span"),Ks(59,"Help"),_s(),_s(),bs(60,"mat-divider"),vs(61,"button",28),ks("click",(function(){return e.logout()})),vs(62,"mat-icon"),Ks(63," exit_to_app "),_s(),vs(64,"span"),Ks(65," Logout "),_s(),_s(),_s(),vs(66,"mat-menu",null,30),vs(68,"button",29),vs(69,"mat-icon"),Ks(70," account_circle "),_s(),vs(71,"span"),Ks(72," Contact Info "),_s(),_s(),vs(73,"button",29),vs(74,"mat-icon"),Ks(75," volume_mute "),_s(),vs(76,"span"),Ks(77," Mute Chat "),_s(),_s(),bs(78,"mat-divider"),vs(79,"button",28),ks("click",(function(){return e.clearMessages()})),vs(80,"mat-icon"),Ks(81," clear_all "),_s(),vs(82,"span"),Ks(83," Clear Messages "),_s(),_s(),_s()}if(2&t){const t=ds(44),n=ds(67);oi(4),gs("mode",e.isOver()?"over":"side")("opened",!e.isOver()),oi(6),gs("mat-menu-trigger-for",t),oi(5),gs("ngForOf",e.users),oi(6),Ls("src",null==e.selectedChat?null:e.selectedChat.imgProfile,Hr),oi(3),Ys(null==e.selectedChat?null:e.selectedChat.nickname),oi(1),gs("ngIf",null==e.selectedChat?null:e.selectedChat.userId),oi(4),gs("mat-menu-trigger-for",n),oi(4),Bs("height","400px"),oi(1),gs("scrollTop",e.scrolltop),oi(2),gs("ngForOf",e.chats),oi(6),gs("ngModel",e.newMessage),oi(7),Xs(" ",e.nickname||"Login"," ")}},directives:[yT,dT,uT,LT,Kw,sk,WE,vk,Du,Mu,AI,pm,bm,Sg,nk,XT,lk,Sk,wk,Ib,Bu,Uu,Vu],styles:['.gene-chat-list,.gene-chat-wrap{display:block!important}.sp-l{text-align:left!important}.circle:before{content:" \\25CF";font-size:10px}'],encapsulation:2}),t})();var VI,BI=(VI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}VI(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),qI=function(t){function e(e,n){var r=this,i=this.constructor.prototype;return(r=t.call(this,e)||this).statusCode=n,r.__proto__=i,r}return BI(e,t),e}(Error),HI=function(t){function e(e){void 0===e&&(e="A timeout occurred.");var n=this,r=this.constructor.prototype;return(n=t.call(this,e)||this).__proto__=r,n}return BI(e,t),e}(Error),WI=function(t){function e(e){void 0===e&&(e="An abort occurred.");var n=this,r=this.constructor.prototype;return(n=t.call(this,e)||this).__proto__=r,n}return BI(e,t),e}(Error),zI=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},GI=function(){return function(t,e,n){this.statusCode=t,this.statusText=e,this.content=n}}(),$I=function(){function t(){}return t.prototype.get=function(t,e){return this.send(zI({},e,{method:"GET",url:t}))},t.prototype.post=function(t,e){return this.send(zI({},e,{method:"POST",url:t}))},t.prototype.delete=function(t,e){return this.send(zI({},e,{method:"DELETE",url:t}))},t.prototype.getCookieString=function(t){return""},t}(),KI=function(t){return t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Information=2]="Information",t[t.Warning=3]="Warning",t[t.Error=4]="Error",t[t.Critical=5]="Critical",t[t.None=6]="None",t}({}),YI=function(){function t(){}return t.prototype.log=function(t,e){},t.instance=new t,t}(),XI=function(){function t(){}return t.isRequired=function(t,e){if(null==t)throw new Error("The '"+e+"' argument is required.")},t.isIn=function(t,e,n){if(!(t in e))throw new Error("Unknown "+n+" value: "+t+".")},t}();function QI(t,e){var n="";return ZI(t)?(n="Binary data of length "+t.byteLength,e&&(n+=". Content: '"+function(t){var e=new Uint8Array(t),n="";return e.forEach((function(t){n+="0x"+(t<16?"0":"")+t.toString(16)+" "})),n.substr(0,n.length-1)}(t)+"'")):"string"==typeof t&&(n="String data of length "+t.length,e&&(n+=". Content: '"+t+"'")),n}function ZI(t){return t&&"undefined"!=typeof ArrayBuffer&&(t instanceof ArrayBuffer||t.constructor&&"ArrayBuffer"===t.constructor.name)}function JI(t,e,n,r,i,o,s){return a=this,void 0,l=function(){var a,c,l,u,h;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(d){switch(d.label){case 0:return i?[4,i()]:[3,2];case 1:(l=d.sent())&&((a={}).Authorization="Bearer "+l,c=a),d.label=2;case 2:return t.log(KI.Trace,"("+e+" transport) sending data. "+QI(o,s)+"."),u=ZI(o)?"arraybuffer":"text",[4,n.post(r,{content:o,headers:c,responseType:u})];case 3:return h=d.sent(),t.log(KI.Trace,"("+e+" transport) request complete. Response status: "+h.statusCode+"."),[2]}}))},new((c=void 0)||(c=Promise))((function(t,e){function n(t){try{i(l.next(t))}catch(n){e(n)}}function r(t){try{i(l.throw(t))}catch(n){e(n)}}function i(e){e.done?t(e.value):new c((function(t){t(e.value)})).then(n,r)}i((l=l.apply(a,[])).next())}));var a,c,l}var tA,eA=function(){function t(){this.observers=[]}return t.prototype.next=function(t){for(var e=0,n=this.observers;e<n.length;e++)n[e].next(t)},t.prototype.error=function(t){for(var e=0,n=this.observers;e<n.length;e++){var r=n[e];r.error&&r.error(t)}},t.prototype.complete=function(){for(var t=0,e=this.observers;t<e.length;t++){var n=e[t];n.complete&&n.complete()}},t.prototype.subscribe=function(t){return this.observers.push(t),new nA(this,t)},t}(),nA=function(){function t(t,e){this.subject=t,this.observer=e}return t.prototype.dispose=function(){var t=this.subject.observers.indexOf(this.observer);t>-1&&this.subject.observers.splice(t,1),0===this.subject.observers.length&&this.subject.cancelCallback&&this.subject.cancelCallback().catch((function(t){}))},t}(),rA=function(){function t(t){this.minimumLogLevel=t}return t.prototype.log=function(t,e){if(t>=this.minimumLogLevel)switch(t){case KI.Critical:case KI.Error:console.error("["+(new Date).toISOString()+"] "+KI[t]+": "+e);break;case KI.Warning:console.warn("["+(new Date).toISOString()+"] "+KI[t]+": "+e);break;case KI.Information:console.info("["+(new Date).toISOString()+"] "+KI[t]+": "+e);break;default:console.log("["+(new Date).toISOString()+"] "+KI[t]+": "+e)}},t}(),iA=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),oA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};if("undefined"==typeof XMLHttpRequest){var sA=require;tA=sA("request")}var aA=function(t){function e(e){var n=t.call(this)||this;if(void 0===tA)throw new Error("The 'request' module could not be loaded.");return n.logger=e,n.cookieJar=tA.jar(),n.request=tA.defaults({jar:n.cookieJar}),n}return iA(e,t),e.prototype.send=function(t){var e=this;return new Promise((function(n,r){var i;i=ZI(t.content)?Buffer.from(t.content):t.content||"";var o=e.request(t.url,{body:i,encoding:"arraybuffer"===t.responseType?null:"utf8",headers:oA({"X-Requested-With":"XMLHttpRequest"},t.headers),method:t.method,timeout:t.timeout},(function(i,o,s){if(t.abortSignal&&(t.abortSignal.onabort=null),i)return"ETIMEDOUT"===i.code&&(e.logger.log(KI.Warning,"Timeout from HTTP request."),r(new HI)),e.logger.log(KI.Warning,"Error from HTTP request. "+i),void r(i);o.statusCode>=200&&o.statusCode<300?n(new GI(o.statusCode,o.statusMessage||"",s)):r(new qI(o.statusMessage||"",o.statusCode||0))}));t.abortSignal&&(t.abortSignal.onabort=function(){o.abort(),r(new WI)})}))},e.prototype.getCookieString=function(t){return this.cookieJar.getCookieString(t)},e}($I),cA=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lA=function(t){function e(e){var n=t.call(this)||this;return n.logger=e,n}return cA(e,t),e.prototype.send=function(t){var e=this;return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new WI):t.method?t.url?new Promise((function(n,r){var i=new XMLHttpRequest;i.open(t.method,t.url,!0),i.withCredentials=!0,i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Content-Type","text/plain;charset=UTF-8");var o=t.headers;o&&Object.keys(o).forEach((function(t){i.setRequestHeader(t,o[t])})),t.responseType&&(i.responseType=t.responseType),t.abortSignal&&(t.abortSignal.onabort=function(){i.abort(),r(new WI)}),t.timeout&&(i.timeout=t.timeout),i.onload=function(){t.abortSignal&&(t.abortSignal.onabort=null),i.status>=200&&i.status<300?n(new GI(i.status,i.statusText,i.response||i.responseText)):r(new qI(i.statusText,i.status))},i.onerror=function(){e.logger.log(KI.Warning,"Error from HTTP request. "+i.status+": "+i.statusText+"."),r(new qI(i.statusText,i.status))},i.ontimeout=function(){e.logger.log(KI.Warning,"Timeout from HTTP request."),r(new HI)},i.send(t.content||"")})):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))},e}($I),uA=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hA=function(t){function e(e){var n=t.call(this)||this;return n.httpClient="undefined"!=typeof XMLHttpRequest?new lA(e):new aA(e),n}return uA(e,t),e.prototype.send=function(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new WI):t.method?t.url?this.httpClient.send(t):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))},e.prototype.getCookieString=function(t){return this.httpClient.getCookieString(t)},e}($I),dA=function(){function t(){}return t.write=function(e){return""+e+t.RecordSeparator},t.parse=function(e){if(e[e.length-1]!==t.RecordSeparator)throw new Error("Message is incomplete.");var n=e.split(t.RecordSeparator);return n.pop(),n},t.RecordSeparatorCode=30,t.RecordSeparator=String.fromCharCode(t.RecordSeparatorCode),t}(),pA=function(){function t(){}return t.prototype.writeHandshakeRequest=function(t){return dA.write(JSON.stringify(t))},t.prototype.parseHandshakeResponse=function(t){var e,n;if(ZI(t)||"undefined"!=typeof Buffer&&t instanceof Buffer){var r=new Uint8Array(t);if(-1===(o=r.indexOf(dA.RecordSeparatorCode)))throw new Error("Message is incomplete.");var i=o+1;e=String.fromCharCode.apply(null,r.slice(0,i)),n=r.byteLength>i?r.slice(i).buffer:null}else{var o,s=t;if(-1===(o=s.indexOf(dA.RecordSeparator)))throw new Error("Message is incomplete.");e=s.substring(0,i=o+1),n=s.length>i?s.substring(i):null}var a=dA.parse(e),c=JSON.parse(a[0]);if(c.type)throw new Error("Expected a handshake response from the server.");return[n,c]},t}(),fA=function(t){return t[t.Invocation=1]="Invocation",t[t.StreamItem=2]="StreamItem",t[t.Completion=3]="Completion",t[t.StreamInvocation=4]="StreamInvocation",t[t.CancelInvocation=5]="CancelInvocation",t[t.Ping=6]="Ping",t[t.Close=7]="Close",t}({}),mA=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}c((r=r.apply(t,e||[])).next())}))},gA=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},yA=function(t){return t[t.Disconnected=0]="Disconnected",t[t.Connected=1]="Connected",t}({}),vA=function(){function t(t,e,n){var r=this;XI.isRequired(t,"connection"),XI.isRequired(e,"logger"),XI.isRequired(n,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this.logger=e,this.protocol=n,this.connection=t,this.handshakeProtocol=new pA,this.connection.onreceive=function(t){return r.processIncomingData(t)},this.connection.onclose=function(t){return r.connectionClosed(t)},this.callbacks={},this.methods={},this.closedCallbacks=[],this.id=0,this.receivedHandshakeResponse=!1,this.connectionState=yA.Disconnected,this.cachedPingMessage=this.protocol.writeMessage({type:fA.Ping})}return t.create=function(e,n,r){return new t(e,n,r)},Object.defineProperty(t.prototype,"state",{get:function(){return this.connectionState},enumerable:!0,configurable:!0}),t.prototype.start=function(){return mA(this,void 0,void 0,(function(){var t,e,n=this;return gA(this,(function(r){switch(r.label){case 0:return t={protocol:this.protocol.name,version:this.protocol.version},this.logger.log(KI.Debug,"Starting HubConnection."),this.receivedHandshakeResponse=!1,e=new Promise((function(t,e){n.handshakeResolver=t,n.handshakeRejecter=e})),[4,this.connection.start(this.protocol.transferFormat)];case 1:return r.sent(),this.logger.log(KI.Debug,"Sending handshake request."),[4,this.sendMessage(this.handshakeProtocol.writeHandshakeRequest(t))];case 2:return r.sent(),this.logger.log(KI.Information,"Using HubProtocol '"+this.protocol.name+"'."),this.cleanupTimeout(),this.resetTimeoutPeriod(),this.resetKeepAliveInterval(),[4,e];case 3:return r.sent(),this.connectionState=yA.Connected,[2]}}))}))},t.prototype.stop=function(){return this.logger.log(KI.Debug,"Stopping HubConnection."),this.cleanupTimeout(),this.cleanupPingTimer(),this.connection.stop()},t.prototype.stream=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i,o=this.createStreamInvocation(t,n),s=new eA;s.cancelCallback=function(){var t=e.createCancelInvocation(o.invocationId),n=e.protocol.writeMessage(t);return delete e.callbacks[o.invocationId],i.then((function(){return e.sendMessage(n)}))},this.callbacks[o.invocationId]=function(t,e){e?s.error(e):t&&(t.type===fA.Completion?t.error?s.error(new Error(t.error)):s.complete():s.next(t.item))};var a=this.protocol.writeMessage(o);return i=this.sendMessage(a).catch((function(t){s.error(t),delete e.callbacks[o.invocationId]})),s},t.prototype.sendMessage=function(t){return this.resetKeepAliveInterval(),this.connection.send(t)},t.prototype.send=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=this.createInvocation(t,e,!0),i=this.protocol.writeMessage(r);return this.sendMessage(i)},t.prototype.invoke=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.createInvocation(t,n,!1),o=new Promise((function(t,n){e.callbacks[i.invocationId]=function(e,r){r?n(r):e&&(e.type===fA.Completion?e.error?n(new Error(e.error)):t(e.result):n(new Error("Unexpected message type: "+e.type)))};var r=e.protocol.writeMessage(i);e.sendMessage(r).catch((function(t){n(t),delete e.callbacks[i.invocationId]}))}));return o},t.prototype.on=function(t,e){t&&e&&(t=t.toLowerCase(),this.methods[t]||(this.methods[t]=[]),-1===this.methods[t].indexOf(e)&&this.methods[t].push(e))},t.prototype.off=function(t,e){if(t){t=t.toLowerCase();var n=this.methods[t];if(n)if(e){var r=n.indexOf(e);-1!==r&&(n.splice(r,1),0===n.length&&delete this.methods[t])}else delete this.methods[t]}},t.prototype.onclose=function(t){t&&this.closedCallbacks.push(t)},t.prototype.processIncomingData=function(t){if(this.cleanupTimeout(),this.receivedHandshakeResponse||(t=this.processHandshakeResponse(t),this.receivedHandshakeResponse=!0),t)for(var e=0,n=this.protocol.parseMessages(t,this.logger);e<n.length;e++){var r=n[e];switch(r.type){case fA.Invocation:this.invokeClientMethod(r);break;case fA.StreamItem:case fA.Completion:var i=this.callbacks[r.invocationId];null!=i&&(r.type===fA.Completion&&delete this.callbacks[r.invocationId],i(r));break;case fA.Ping:break;case fA.Close:this.logger.log(KI.Information,"Close message received from server."),this.connection.stop(r.error?new Error("Server returned an error on close: "+r.error):void 0);break;default:this.logger.log(KI.Warning,"Invalid message type: "+r.type+".")}}this.resetTimeoutPeriod()},t.prototype.processHandshakeResponse=function(t){var e,n,r;try{r=(e=this.handshakeProtocol.parseHandshakeResponse(t))[0],n=e[1]}catch(s){var i;this.logger.log(KI.Error,i="Error parsing handshake response: "+s);var o=new Error(i);throw this.connection.stop(o),this.handshakeRejecter(o),o}if(n.error)throw this.logger.log(KI.Error,i="Server returned handshake error: "+n.error),this.handshakeRejecter(i),this.connection.stop(new Error(i)),new Error(i);return this.logger.log(KI.Debug,"Server handshake complete."),this.handshakeResolver(),r},t.prototype.resetKeepAliveInterval=function(){var t=this;this.cleanupPingTimer(),this.pingServerHandle=setTimeout((function(){return mA(t,void 0,void 0,(function(){return gA(this,(function(t){switch(t.label){case 0:if(this.connectionState!==yA.Connected)return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.sendMessage(this.cachedPingMessage)];case 2:return t.sent(),[3,4];case 3:return t.sent(),this.cleanupPingTimer(),[3,4];case 4:return[2]}}))}))}),this.keepAliveIntervalInMilliseconds)},t.prototype.resetTimeoutPeriod=function(){var t=this;this.connection.features&&this.connection.features.inherentKeepAlive||(this.timeoutHandle=setTimeout((function(){return t.serverTimeout()}),this.serverTimeoutInMilliseconds))},t.prototype.serverTimeout=function(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))},t.prototype.invokeClientMethod=function(t){var e=this,n=this.methods[t.target.toLowerCase()];if(n){if(n.forEach((function(n){return n.apply(e,t.arguments)})),t.invocationId){var r="Server requested a response, which is not supported in this version of the client.";this.logger.log(KI.Error,r),this.connection.stop(new Error(r))}}else this.logger.log(KI.Warning,"No client method with the name '"+t.target+"' found.")},t.prototype.connectionClosed=function(t){var e=this,n=this.callbacks;this.callbacks={},this.connectionState=yA.Disconnected,this.handshakeRejecter&&this.handshakeRejecter(t),Object.keys(n).forEach((function(e){(0,n[e])(null,t||new Error("Invocation canceled due to connection being closed."))})),this.cleanupTimeout(),this.cleanupPingTimer(),this.closedCallbacks.forEach((function(n){return n.apply(e,[t])}))},t.prototype.cleanupPingTimer=function(){this.pingServerHandle&&clearTimeout(this.pingServerHandle)},t.prototype.cleanupTimeout=function(){this.timeoutHandle&&clearTimeout(this.timeoutHandle)},t.prototype.createInvocation=function(t,e,n){if(n)return{arguments:e,target:t,type:fA.Invocation};var r=this.id;return this.id++,{arguments:e,invocationId:r.toString(),target:t,type:fA.Invocation}},t.prototype.createStreamInvocation=function(t,e){var n=this.id;return this.id++,{arguments:e,invocationId:n.toString(),target:t,type:fA.StreamInvocation}},t.prototype.createCancelInvocation=function(t){return{invocationId:t,type:fA.CancelInvocation}},t}(),_A=function(t){return t[t.None=0]="None",t[t.WebSockets=1]="WebSockets",t[t.ServerSentEvents=2]="ServerSentEvents",t[t.LongPolling=4]="LongPolling",t}({}),bA=function(t){return t[t.Text=1]="Text",t[t.Binary=2]="Binary",t}({}),wA=function(){function t(){this.isAborted=!1,this.onabort=null}return t.prototype.abort=function(){this.isAborted||(this.isAborted=!0,this.onabort&&this.onabort())},Object.defineProperty(t.prototype,"signal",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aborted",{get:function(){return this.isAborted},enumerable:!0,configurable:!0}),t}(),EA=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}c((r=r.apply(t,e||[])).next())}))},SA=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},CA=function(){function t(t,e,n,r){this.httpClient=t,this.accessTokenFactory=e,this.logger=n,this.pollAbort=new wA,this.logMessageContent=r,this.running=!1,this.onreceive=null,this.onclose=null}return Object.defineProperty(t.prototype,"pollAborted",{get:function(){return this.pollAbort.aborted},enumerable:!0,configurable:!0}),t.prototype.connect=function(t,e){return EA(this,void 0,void 0,(function(){var n,r,i,o;return SA(this,(function(s){switch(s.label){case 0:if(XI.isRequired(t,"url"),XI.isRequired(e,"transferFormat"),XI.isIn(e,bA,"transferFormat"),this.url=t,this.logger.log(KI.Trace,"(LongPolling transport) Connecting."),e===bA.Binary&&"undefined"!=typeof XMLHttpRequest&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");return n={abortSignal:this.pollAbort.signal,headers:{},timeout:1e5},e===bA.Binary&&(n.responseType="arraybuffer"),[4,this.getAccessToken()];case 1:return r=s.sent(),this.updateHeaderToken(n,r),i=t+"&_="+Date.now(),this.logger.log(KI.Trace,"(LongPolling transport) polling: "+i+"."),[4,this.httpClient.get(i,n)];case 2:return 200!==(o=s.sent()).statusCode?(this.logger.log(KI.Error,"(LongPolling transport) Unexpected response code: "+o.statusCode+"."),this.closeError=new qI(o.statusText||"",o.statusCode),this.running=!1):this.running=!0,this.receiving=this.poll(this.url,n),[2]}}))}))},t.prototype.getAccessToken=function(){return EA(this,void 0,void 0,(function(){return SA(this,(function(t){switch(t.label){case 0:return this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:return[2,t.sent()];case 2:return[2,null]}}))}))},t.prototype.updateHeaderToken=function(t,e){t.headers||(t.headers={}),e?t.headers.Authorization="Bearer "+e:t.headers.Authorization&&delete t.headers.Authorization},t.prototype.poll=function(t,e){return EA(this,void 0,void 0,(function(){var n,r,i,o;return SA(this,(function(s){switch(s.label){case 0:s.trys.push([0,,8,9]),s.label=1;case 1:return this.running?[4,this.getAccessToken()]:[3,7];case 2:n=s.sent(),this.updateHeaderToken(e,n),s.label=3;case 3:return s.trys.push([3,5,,6]),r=t+"&_="+Date.now(),this.logger.log(KI.Trace,"(LongPolling transport) polling: "+r+"."),[4,this.httpClient.get(r,e)];case 4:return 204===(i=s.sent()).statusCode?(this.logger.log(KI.Information,"(LongPolling transport) Poll terminated by server."),this.running=!1):200!==i.statusCode?(this.logger.log(KI.Error,"(LongPolling transport) Unexpected response code: "+i.statusCode+"."),this.closeError=new qI(i.statusText||"",i.statusCode),this.running=!1):i.content?(this.logger.log(KI.Trace,"(LongPolling transport) data received. "+QI(i.content,this.logMessageContent)+"."),this.onreceive&&this.onreceive(i.content)):this.logger.log(KI.Trace,"(LongPolling transport) Poll timed out, reissuing."),[3,6];case 5:return o=s.sent(),this.running?o instanceof HI?this.logger.log(KI.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this.closeError=o,this.running=!1):this.logger.log(KI.Trace,"(LongPolling transport) Poll errored after shutdown: "+o.message),[3,6];case 6:return[3,1];case 7:return[3,9];case 8:return this.logger.log(KI.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this.raiseOnClose(),[7];case 9:return[2]}}))}))},t.prototype.send=function(t){return EA(this,void 0,void 0,(function(){return SA(this,(function(e){return this.running?[2,JI(this.logger,"LongPolling",this.httpClient,this.url,this.accessTokenFactory,t,this.logMessageContent)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]}))}))},t.prototype.stop=function(){return EA(this,void 0,void 0,(function(){var t,e;return SA(this,(function(n){switch(n.label){case 0:this.logger.log(KI.Trace,"(LongPolling transport) Stopping polling."),this.running=!1,this.pollAbort.abort(),n.label=1;case 1:return n.trys.push([1,,5,6]),[4,this.receiving];case 2:return n.sent(),this.logger.log(KI.Trace,"(LongPolling transport) sending DELETE request to "+this.url+"."),t={headers:{}},[4,this.getAccessToken()];case 3:return e=n.sent(),this.updateHeaderToken(t,e),[4,this.httpClient.delete(this.url,t)];case 4:return n.sent(),this.logger.log(KI.Trace,"(LongPolling transport) DELETE request sent."),[3,6];case 5:return this.logger.log(KI.Trace,"(LongPolling transport) Stop finished."),this.raiseOnClose(),[7];case 6:return[2]}}))}))},t.prototype.raiseOnClose=function(){if(this.onclose){var t="(LongPolling transport) Firing onclose event.";this.closeError&&(t+=" Error: "+this.closeError),this.logger.log(KI.Trace,t),this.onclose(this.closeError)}},t}(),xA=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}c((r=r.apply(t,e||[])).next())}))},TA=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},kA=function(){function t(t,e,n,r,i){this.httpClient=t,this.accessTokenFactory=e,this.logger=n,this.logMessageContent=r,this.eventSourceConstructor=i,this.onreceive=null,this.onclose=null}return t.prototype.connect=function(t,e){return xA(this,void 0,void 0,(function(){var n,r=this;return TA(this,(function(i){switch(i.label){case 0:return XI.isRequired(t,"url"),XI.isRequired(e,"transferFormat"),XI.isIn(e,bA,"transferFormat"),this.logger.log(KI.Trace,"(SSE transport) Connecting."),this.url=t,this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(n=i.sent())&&(t+=(t.indexOf("?")<0?"?":"&")+"access_token="+encodeURIComponent(n)),i.label=2;case 2:return[2,new Promise((function(n,i){var o=!1;if(e===bA.Text){var s;if("undefined"!=typeof window)s=new r.eventSourceConstructor(t,{withCredentials:!0});else{var a=r.httpClient.getCookieString(t);s=new r.eventSourceConstructor(t,{withCredentials:!0,headers:{Cookie:a}})}try{s.onmessage=function(t){if(r.onreceive)try{r.logger.log(KI.Trace,"(SSE transport) data received. "+QI(t.data,r.logMessageContent)+"."),r.onreceive(t.data)}catch(e){return void r.close(e)}},s.onerror=function(t){var e=new Error(t.data||"Error occurred");o?r.close(e):i(e)},s.onopen=function(){r.logger.log(KI.Information,"SSE connected to "+r.url),r.eventSource=s,o=!0,n()}}catch(c){return void i(c)}}else i(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))}))]}}))}))},t.prototype.send=function(t){return xA(this,void 0,void 0,(function(){return TA(this,(function(e){return this.eventSource?[2,JI(this.logger,"SSE",this.httpClient,this.url,this.accessTokenFactory,t,this.logMessageContent)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]}))}))},t.prototype.stop=function(){return this.close(),Promise.resolve()},t.prototype.close=function(t){this.eventSource&&(this.eventSource.close(),this.eventSource=void 0,this.onclose&&this.onclose(t))},t}(),IA=function(){function t(t,e,n,r,i){this.logger=n,this.accessTokenFactory=e,this.logMessageContent=r,this.webSocketConstructor=i,this.httpClient=t,this.onreceive=null,this.onclose=null}return t.prototype.connect=function(t,e){return n=this,void 0,i=function(){var n,r=this;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(i){switch(i.label){case 0:return XI.isRequired(t,"url"),XI.isRequired(e,"transferFormat"),XI.isIn(e,bA,"transferFormat"),this.logger.log(KI.Trace,"(WebSockets transport) Connecting."),this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(n=i.sent())&&(t+=(t.indexOf("?")<0?"?":"&")+"access_token="+encodeURIComponent(n)),i.label=2;case 2:return[2,new Promise((function(n,i){var o;t=t.replace(/^http/,"ws");var s=r.httpClient.getCookieString(t);"undefined"==typeof window&&s&&(o=new r.webSocketConstructor(t,void 0,{headers:{Cookie:""+s}})),o||(o=new r.webSocketConstructor(t)),e===bA.Binary&&(o.binaryType="arraybuffer"),o.onopen=function(e){r.logger.log(KI.Information,"WebSocket connected to "+t+"."),r.webSocket=o,n()},o.onerror=function(t){var e=null;"undefined"!=typeof ErrorEvent&&t instanceof ErrorEvent&&(e=t.error),i(e)},o.onmessage=function(t){r.logger.log(KI.Trace,"(WebSockets transport) data received. "+QI(t.data,r.logMessageContent)+"."),r.onreceive&&r.onreceive(t.data)},o.onclose=function(t){return r.close(t)}}))]}}))},new((r=void 0)||(r=Promise))((function(t,e){function o(t){try{a(i.next(t))}catch(n){e(n)}}function s(t){try{a(i.throw(t))}catch(n){e(n)}}function a(e){e.done?t(e.value):new r((function(t){t(e.value)})).then(o,s)}a((i=i.apply(n,[])).next())}));var n,r,i},t.prototype.send=function(t){return this.webSocket&&this.webSocket.readyState===this.webSocketConstructor.OPEN?(this.logger.log(KI.Trace,"(WebSockets transport) sending data. "+QI(t,this.logMessageContent)+"."),this.webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")},t.prototype.stop=function(){return this.webSocket&&(this.webSocket.onclose=function(){},this.webSocket.onmessage=function(){},this.webSocket.onerror=function(){},this.webSocket.close(),this.webSocket=void 0,this.close(void 0)),Promise.resolve()},t.prototype.close=function(t){this.logger.log(KI.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!t||!1!==t.wasClean&&1e3===t.code?this.onclose():this.onclose(new Error("WebSocket closed with status code: "+t.code+" ("+t.reason+").")))},t}(),AA=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}c((r=r.apply(t,e||[])).next())}))},RA=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},OA=null,NA=null;if("undefined"==typeof window){var DA=require;OA=DA("ws"),NA=DA("eventsource")}var PA=function(){function t(t,e){var n;void 0===e&&(e={}),this.features={},XI.isRequired(t,"url"),this.logger=void 0===(n=e.logger)?new rA(KI.Information):null===n?YI.instance:n.log?n:new rA(n),this.baseUrl=this.resolveUrl(t),(e=e||{}).logMessageContent=e.logMessageContent||!1;var r="undefined"==typeof window;r||"undefined"==typeof WebSocket||e.WebSocket?r&&!e.WebSocket&&OA&&(e.WebSocket=OA):e.WebSocket=WebSocket,r||"undefined"==typeof EventSource||e.EventSource?r&&!e.EventSource&&void 0!==NA&&(e.EventSource=NA):e.EventSource=EventSource,this.httpClient=e.httpClient||new hA(this.logger),this.connectionState=2,this.options=e,this.onreceive=null,this.onclose=null}return t.prototype.start=function(t){return XI.isIn(t=t||bA.Binary,bA,"transferFormat"),this.logger.log(KI.Debug,"Starting connection with transfer format '"+bA[t]+"'."),2!==this.connectionState?Promise.reject(new Error("Cannot start a connection that is not in the 'Disconnected' state.")):(this.connectionState=0,this.startPromise=this.startInternal(t),this.startPromise)},t.prototype.send=function(t){if(1!==this.connectionState)throw new Error("Cannot send data if the connection is not in the 'Connected' State.");return this.transport.send(t)},t.prototype.stop=function(t){return AA(this,void 0,void 0,(function(){return RA(this,(function(e){switch(e.label){case 0:this.connectionState=2,this.stopError=t,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.startPromise];case 2:case 3:return e.sent(),[3,4];case 4:return this.transport?[4,this.transport.stop()]:[3,6];case 5:e.sent(),this.transport=void 0,e.label=6;case 6:return[2]}}))}))},t.prototype.startInternal=function(t){return AA(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,c=this;return RA(this,(function(l){switch(l.label){case 0:e=this.baseUrl,this.accessTokenFactory=this.options.accessTokenFactory,l.label=1;case 1:return l.trys.push([1,12,,13]),this.options.skipNegotiation?this.options.transport!==_A.WebSockets?[3,3]:(this.transport=this.constructTransport(_A.WebSockets),[4,this.transport.connect(e,t)]):[3,5];case 2:return l.sent(),[3,4];case 3:throw Error("Negotiation can only be skipped when using the WebSocket transport directly.");case 4:return[3,11];case 5:n=null,r=0,i=function(){var t;return RA(this,(function(i){switch(i.label){case 0:return[4,o.getNegotiationResponse(e)];case 1:if(n=i.sent(),2===o.connectionState)return[2,{value:void 0}];if(n.error)throw Error(n.error);if(n.ProtocolVersion)throw Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");return n.url&&(e=n.url),n.accessToken&&(t=n.accessToken,o.accessTokenFactory=function(){return t}),r++,[2]}}))},o=this,l.label=6;case 6:return[5,i()];case 7:if("object"==typeof(s=l.sent()))return[2,s.value];l.label=8;case 8:if(n.url&&r<100)return[3,6];l.label=9;case 9:if(100===r&&n.url)throw Error("Negotiate redirection limit exceeded.");return[4,this.createTransport(e,this.options.transport,n,t)];case 10:l.sent(),l.label=11;case 11:return this.transport instanceof CA&&(this.features.inherentKeepAlive=!0),this.transport.onreceive=this.onreceive,this.transport.onclose=function(t){return c.stopConnection(t)},this.changeState(0,1),[3,13];case 12:throw a=l.sent(),this.logger.log(KI.Error,"Failed to start the connection: "+a),this.connectionState=2,this.transport=void 0,a;case 13:return[2]}}))}))},t.prototype.getNegotiationResponse=function(t){return AA(this,void 0,void 0,(function(){var e,n,r,i,o,s;return RA(this,(function(a){switch(a.label){case 0:return this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(r=a.sent())&&((e={}).Authorization="Bearer "+r,n=e),a.label=2;case 2:i=this.resolveNegotiateUrl(t),this.logger.log(KI.Debug,"Sending negotiation request: "+i+"."),a.label=3;case 3:return a.trys.push([3,5,,6]),[4,this.httpClient.post(i,{content:"",headers:n})];case 4:if(200!==(o=a.sent()).statusCode)throw Error("Unexpected status code returned from negotiate "+o.statusCode);return[2,JSON.parse(o.content)];case 5:throw s=a.sent(),this.logger.log(KI.Error,"Failed to complete negotiation with the server: "+s),s;case 6:return[2]}}))}))},t.prototype.createConnectUrl=function(t,e){return e?t+(-1===t.indexOf("?")?"?":"&")+"id="+e:t},t.prototype.createTransport=function(t,e,n,r){return AA(this,void 0,void 0,(function(){var i,o,s,a,c,l;return RA(this,(function(u){switch(u.label){case 0:return i=this.createConnectUrl(t,n.connectionId),this.isITransport(e)?(this.logger.log(KI.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=e,[4,this.transport.connect(i,r)]):[3,2];case 1:return u.sent(),this.changeState(0,1),[2];case 2:o=0,s=n.availableTransports||[],u.label=3;case 3:return o<s.length?(a=s[o],this.connectionState=0,"number"!=typeof(c=this.resolveTransport(a,e,r))?[3,8]:(this.transport=this.constructTransport(c),n.connectionId?[3,5]:[4,this.getNegotiationResponse(t)])):[3,9];case 4:n=u.sent(),i=this.createConnectUrl(t,n.connectionId),u.label=5;case 5:return u.trys.push([5,7,,8]),[4,this.transport.connect(i,r)];case 6:return u.sent(),this.changeState(0,1),[2];case 7:return l=u.sent(),this.logger.log(KI.Error,"Failed to start the transport '"+_A[c]+"': "+l),this.connectionState=2,n.connectionId=void 0,[3,8];case 8:return o++,[3,3];case 9:throw new Error("Unable to initialize any of the available transports.")}}))}))},t.prototype.constructTransport=function(t){switch(t){case _A.WebSockets:if(!this.options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new IA(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.WebSocket);case _A.ServerSentEvents:if(!this.options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new kA(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.EventSource);case _A.LongPolling:return new CA(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1);default:throw new Error("Unknown transport: "+t+".")}},t.prototype.resolveTransport=function(t,e,n){var r=_A[t.transport];if(null==r)this.logger.log(KI.Debug,"Skipping transport '"+t.transport+"' because it is not supported by this client.");else{var i=t.transferFormats.map((function(t){return bA[t]}));if(function(t,e){return!t||0!=(e&t)}(e,r))if(i.indexOf(n)>=0){if((r!==_A.WebSockets||this.options.WebSocket)&&(r!==_A.ServerSentEvents||this.options.EventSource))return this.logger.log(KI.Debug,"Selecting transport '"+_A[r]+"'."),r;this.logger.log(KI.Debug,"Skipping transport '"+_A[r]+"' because it is not supported in your environment.'")}else this.logger.log(KI.Debug,"Skipping transport '"+_A[r]+"' because it does not support the requested transfer format '"+bA[n]+"'.");else this.logger.log(KI.Debug,"Skipping transport '"+_A[r]+"' because it was disabled by the client.")}return null},t.prototype.isITransport=function(t){return t&&"object"==typeof t&&"connect"in t},t.prototype.changeState=function(t,e){return this.connectionState===t&&(this.connectionState=e,!0)},t.prototype.stopConnection=function(t){this.transport=void 0,(t=this.stopError||t)?this.logger.log(KI.Error,"Connection disconnected with error '"+t+"'."):this.logger.log(KI.Information,"Connection disconnected."),this.connectionState=2,this.onclose&&this.onclose(t)},t.prototype.resolveUrl=function(t){if(0===t.lastIndexOf("https://",0)||0===t.lastIndexOf("http://",0))return t;if("undefined"==typeof window||!window||!window.document)throw new Error("Cannot resolve '"+t+"'.");var e=window.document.createElement("a");return e.href=t,this.logger.log(KI.Information,"Normalizing '"+t+"' to '"+e.href+"'."),e.href},t.prototype.resolveNegotiateUrl=function(t){var e=t.indexOf("?"),n=t.substring(0,-1===e?t.length:e);return"/"!==n[n.length-1]&&(n+="/"),(n+="negotiate")+(-1===e?"":t.substring(e))},t}(),MA=function(){function t(){this.name="json",this.version=1,this.transferFormat=bA.Text}return t.prototype.parseMessages=function(t,e){if("string"!=typeof t)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)return[];null===e&&(e=YI.instance);for(var n=[],r=0,i=dA.parse(t);r<i.length;r++){var o=JSON.parse(i[r]);if("number"!=typeof o.type)throw new Error("Invalid payload.");switch(o.type){case fA.Invocation:this.isInvocationMessage(o);break;case fA.StreamItem:this.isStreamItemMessage(o);break;case fA.Completion:this.isCompletionMessage(o);break;case fA.Ping:case fA.Close:break;default:e.log(KI.Information,"Unknown message type '"+o.type+"' ignored.");continue}n.push(o)}return n},t.prototype.writeMessage=function(t){return dA.write(JSON.stringify(t))},t.prototype.isInvocationMessage=function(t){this.assertNotEmptyString(t.target,"Invalid payload for Invocation message."),void 0!==t.invocationId&&this.assertNotEmptyString(t.invocationId,"Invalid payload for Invocation message.")},t.prototype.isStreamItemMessage=function(t){if(this.assertNotEmptyString(t.invocationId,"Invalid payload for StreamItem message."),void 0===t.item)throw new Error("Invalid payload for StreamItem message.")},t.prototype.isCompletionMessage=function(t){if(t.result&&t.error)throw new Error("Invalid payload for Completion message.");!t.result&&t.error&&this.assertNotEmptyString(t.error,"Invalid payload for Completion message."),this.assertNotEmptyString(t.invocationId,"Invalid payload for Completion message.")},t.prototype.assertNotEmptyString=function(t,e){if("string"!=typeof t||""===t)throw new Error(e)},t}(),LA=function(){function t(){}return t.prototype.configureLogging=function(t){return XI.isRequired(t,"logging"),this.logger=void 0!==t.log?t:new rA(t),this},t.prototype.withUrl=function(t,e){return XI.isRequired(t,"url"),this.url=t,this.httpConnectionOptions="object"==typeof e?e:{transport:e},this},t.prototype.withHubProtocol=function(t){return XI.isRequired(t,"protocol"),this.protocol=t,this},t.prototype.build=function(){var t=this.httpConnectionOptions||{};if(void 0===t.logger&&(t.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");var e=new PA(this.url,t);return vA.create(e,this.logger||YI.instance,this.protocol||new MA)},t}();let FA=(()=>{class t{constructor(t){this.httpClient=t,this.signalReceived=new fc,this.buildConnection=()=>{this.hubConnection=(new LA).withUrl("http://localhost:5000/signalHub").build()},this.startConnection=()=>{this.hubConnection.start().then(()=>{console.log("Connection Started..."),this.registerSignalEvents()}).catch(t=>{console.log("Error while starting connection: "+t),setTimeout((function(){this.startConnection()}),3e3)})},this.buildConnection(),this.startConnection()}registerSignalEvents(){this.hubConnection.on("SignalMessageReceived",t=>{this.signalReceived.emit(t)})}initSignRChat(){return this.httpClient.get("http://localhost:5000/api/v1/signals/deliverypoint")}}return t.\u0275fac=function(e){return new(e||t)(Yt(fE))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function jA(t,e){if(1&t&&(vs(0,"tr"),vs(1,"td"),Ks(2),_s(),vs(3,"td"),Ks(4),_s(),vs(5,"td"),Ks(6),_s(),vs(7,"td"),Ks(8),_s(),vs(9,"td"),Ks(10),_s(),vs(11,"td"),Ks(12),_s(),_s()),2&t){const t=e.$implicit,n=e.index;oi(2),Ys(n+1),oi(2),Ys(t.customerName),oi(2),Ys(t.description),oi(2),Ys(t.area),oi(2),Ys(t.zone),oi(2),Ys(t.signalDate)}}function UA(t,e){if(1&t&&(vs(0,"tbody"),hs(1,jA,13,6,"tr",10),_s()),2&t){const t=Ns();oi(1),gs("ngForOf",t.signalList)}}let VA=(()=>{class t{constructor(t){this.signalRService=t,this.signalList=new Array,this.signalRService.initSignRChat().subscribe(t=>{console.log(t)})}ngOnInit(){this.signalRService.signalReceived.subscribe(t=>{this.signalList.push(t),console.log(t)}),this.signalList.push({id:0,description:"Temp Data",customerName:"Temp CustomerName",accessCode:"Temp AccessCode",area:"Area",zone:"Zone",signalDate:"2020-07-15T04:22:25.737"})}}return t.\u0275fac=function(e){return new(e||t)(ps(FA))},t.\u0275cmp=fe({type:t,selectors:[["mat-ta-sqlsignalr"]],decls:28,vars:1,consts:[[1,"container-fluid"],[1,"container"],[1,"row"],[1,"col","col-md-6"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"thead-dark"],[1,"table-primary"],["scope","col"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(vs(0,"div",0),vs(1,"div",1),vs(2,"div",2),vs(3,"h4"),Ks(4,"Signals"),_s(),_s(),vs(5,"div",2),vs(6,"div",3),vs(7,"span"),vs(8,"p"),Ks(9,"You can monitor all activities by using this module."),_s(),_s(),_s(),_s(),vs(10,"div",4),vs(11,"table",5),vs(12,"thead",6),vs(13,"tr",7),vs(14,"th",8),Ks(15,"Index"),_s(),vs(16,"th",8),Ks(17,"Customer"),_s(),vs(18,"th",8),Ks(19,"Description"),_s(),vs(20,"th",8),Ks(21,"Area"),_s(),vs(22,"th",8),Ks(23,"Zone"),_s(),vs(24,"th",8),Ks(25,"Signal Date"),_s(),_s(),_s(),hs(26,UA,2,1,"tbody",9),_s(),_s(),_s(),_s(),bs(27,"router-outlet")),2&t&&(oi(26),gs("ngIf",e.signalList))},directives:[Mu,Bf,Du],styles:[""]}),t})();class BA{constructor(){this.MS_ID=0,this.FUSER_ID=null,this.TUSER_ID=null,this.MS_TYPE=null,this.MS_TEXT=null,this.MS_DATE=null,this.MS_STATE=!1}}var qA=function(t){return t[t.MESSAGE=0]="MESSAGE",t[t.IMAGE=1]="IMAGE",t[t.AUDIO=2]="AUDIO",t[t.VIDEO=3]="VIDEO",t[t.DOCUMENT=4]="DOCUMENT",t}({});let HA=(()=>{class t{constructor(t){this.http=t,this.chatReceived=new fc,this.usersState=new fc,this.buildConnection=()=>{this.hubConnection=(new LA).withUrl("http://localhost:5000/ms_chat_hub").build()},this.startConnection=()=>{this.hubConnection.start().then(()=>{this.registerSignalEvents()}).catch(t=>{console.log("Error while starting connection: "+t)})},this.buildUserConnection=()=>{this.userhubConnect=(new LA).withUrl("http://localhost:5000/user_hub").build()},this.startUsersConnection=()=>{this.userhubConnect.start().then(()=>{this.registerUsersEvents()}).catch(t=>{console.log("Error while starting connection Signal R: "+t)})},this.buildConnection(),this.startConnection(),this.buildUserConnection(),this.startUsersConnection()}registerSignalEvents(){this.hubConnection.on("MS_CHATMessageReceived",t=>{this.chatReceived.emit(t)})}registerUsersEvents(){this.userhubConnect.on("USER_TABLEStateus",t=>{this.usersState.emit(t)})}initSignRChat(){return this.http.get("http://localhost:5000/api/v1/chat/MS_CHAT")}Query(t){return this.http.get("http://localhost:5000/"+`${t}`).pipe(t=>t)}PostQuery(t,e){return this.http.post(`${"http://localhost:5000/"+t} `,e).pipe()}DeleteQuery(t,e){return this.http.delete(`${"http://localhost:5000/"+t+e}`).pipe()}}return t.\u0275fac=function(e){return new(e||t)(Yt(fE))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const WA=["myVideo"];function zA(t,e){if(1&t&&(vs(0,"div"),vs(1,"span"),Ks(2),_s(),_s()),2&t){const t=Ns();oi(2),Ys(null==t.chat?null:t.chat.MS_TEXT)}}function GA(t,e){if(1&t&&(vs(0,"div"),bs(1,"img",3),_s()),2&t){const t=Ns();oi(1),gs("src",t.url+t.chat.MS_TEXT||"http://placehold.it/180",Hr)}}function $A(t,e){if(1&t&&(vs(0,"div"),vs(1,"audio",4),bs(2,"source",5),Ks(3," Your browser does not support the audio element. "),_s(),_s()),2&t){const t=Ns();oi(2),gs("src",t.url+t.chat.MS_TEXT,Hr)}}function KA(t,e){if(1&t&&(vs(0,"div"),vs(1,"div",6),vs(2,"video",7,8),bs(4,"source",9),Ks(5," Your browser does not support the video element. "),_s(),_s(),_s()),2&t){const t=Ns();oi(4),gs("src",t.url+t.chat.MS_TEXT,Hr)}}function YA(t,e){if(1&t){const t=Cs();vs(0,"div",10),vs(1,"mat-icon"),Ks(2,"insert_drive_file"),_s(),Ks(3," \xa0\xa0\xa0 "),Ks(4),vs(5,"button",11),ks("click",(function(){Xe(t);const e=Ns();return e.downloadPdf(e.url+e.chat.MS_TEXT,e.chat.MS_TEXT.substr(20,10))})),vs(6,"mat-icon"),Ks(7,"cloud_download"),_s(),_s(),_s()}if(2&t){const t=Ns();oi(4),Xs(" ",t.chat.MS_TEXT.substr(20,50)," ")}}const XA=n("Iab2");let QA=(()=>{class t{constructor(){this.chat=new BA,this.msgType=qA}ngOnInit(){}downloadPdf(t,e){XA.saveAs(t,e)}openDoc(t,e){window.open(t+"#page="+e,"_blank","",!0)}playVideo(){this.myVideo.nativeElement.pause()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["dynamicMedia"]],viewQuery:function(t,e){var n;1&t&&kc(WA,!0),2&t&&xc(n=Nc())&&(e.myVideo=n.first)},inputs:{url:"url",chat:"chat"},decls:6,vars:6,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],["style","display: flex; align-items: center;",4,"ngSwitchCase"],[1,"rounded",3,"src"],["controls",""],["type","audio/mp3",3,"src"],[1,"video"],["width","320","height","240","controls","","preload","metadata"],["myVideo",""],["type","video/mp4",3,"src"],[2,"display","flex","align-items","center"],["mat-fab","",1,"gene-send-btn",3,"click"]],template:function(t,e){1&t&&(vs(0,"div",0),hs(1,zA,3,1,"div",1),hs(2,GA,2,1,"div",1),hs(3,$A,4,1,"div",1),hs(4,KA,6,1,"div",1),hs(5,YA,8,1,"div",2),_s()),2&t&&(gs("ngSwitch",e.chat.MS_TYPE),oi(1),gs("ngSwitchCase",e.msgType.MESSAGE),oi(1),gs("ngSwitchCase",e.msgType.IMAGE),oi(1),gs("ngSwitchCase",e.msgType.AUDIO),oi(1),gs("ngSwitchCase",e.msgType.VIDEO),oi(1),gs("ngSwitchCase",e.msgType.DOCUMENT))},directives:[Uu,Vu,WE,Kw],encapsulation:2}),t})();const ZA=["perfectScroll"];function JA(t,e){1&t&&(vs(0,"span"),Ks(1," online "),_s())}function tR(t,e){1&t&&(vs(0,"span"),Ks(1," offline "),_s())}const eR=function(t){return{color:t}};function nR(t,e){if(1&t){const t=Cs();vs(0,"mat-list-item",31),ks("click",(function(){Xe(t);const n=e.$implicit;return Ns().onSelect(n)})),vs(1,"div",32),bs(2,"img",33),_s(),vs(3,"div",34),vs(4,"span"),Ks(5),_s(),vs(6,"p",35),bs(7,"span",36),hs(8,JA,2,0,"span",15),hs(9,tR,2,0,"span",15),_s(),_s(),_s()}if(2&t){const t=e.$implicit;oi(2),Ls("src",t.USER_IMG,Hr),oi(3),Xs(" ",t.USER_UNIQNAME," "),oi(2),gs("ngStyle",hc(5,eR,1==t.USER_ISONLINE?"lightgreen":"red")),oi(1),gs("ngIf",1==t.USER_ISONLINE),oi(1),gs("ngIf",1!=t.USER_ISONLINE)}}function rR(t,e){if(1&t&&(vs(0,"div"),vs(1,"p",40),bs(2,"span",36),Ks(3," online "),_s(),_s()),2&t){const t=Ns(2);oi(2),gs("ngStyle",hc(1,eR,1==(null==t.selectedChat?null:t.selectedChat.USER_ISONLINE)?"lightgreen":"red"))}}function iR(t,e){if(1&t&&(vs(0,"p",41),Ks(1),function(t,e){const n=Ye();let r;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const t=e[n];if("date"===t.name)return t}throw new Error("The pipe 'date' could not be found!")}(0,n.pipeRegistry),n.data[21]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(21,r.onDestroy)):r=n.data[21];const i=r.factory||(r.factory=Se(r.type)),o=$t(ps),s=i();$t(o),function(t,e,n,r){21>=t.data.length&&(t.data[21]=null,t.blueprint[21]=null),e[21]=r}(n,Ke(),0,s)}(),_s()),2&t){const t=Ns(2);oi(1),Xs(" \u0622\u062e\u0631 \u0638\u0647\u0648\u0631 : ",function(t,e,n,r){const i=Ke(),o=Ue(i,t);return function(t,e){return is.isWrapped(e)&&(e=is.unwrap(e),t[Ge.lFrame.bindingIndex]=ri),e}(i,function(t,e){return t[1].data[e+19].pure}(i,t)?pc(i,rn(),e,o.transform,n,r,o):o.transform(n,r))}(2,1,null==t.selectedChat?null:t.selectedChat.USER_LASTSEEN,"yyyy/MM/dd hh:mm"),"")}}function oR(t,e){if(1&t&&(vs(0,"div"),vs(1,"p",37),Ks(2),_s(),hs(3,rR,4,3,"div",38),hs(4,iR,3,4,"ng-template",null,39,Lc),_s()),2&t){const t=ds(5),e=Ns();oi(2),Ys(null==e.selectedChat?null:e.selectedChat.USER_UNIQNAME),oi(1),gs("ngIf",1==(null==e.selectedChat?null:e.selectedChat.USER_ISONLINE))("ngIfElse",t)}}function sR(t,e){if(1&t&&(vs(0,"div",47),vs(1,"div"),bs(2,"img",7),_s(),vs(3,"div",48),vs(4,"div",49),vs(5,"span",50),Ks(6),_s(),bs(7,"dynamicMedia",51),_s(),vs(8,"div"),vs(9,"span",52),Ks(10),_s(),_s(),_s(),bs(11,"span",8),_s()),2&t){const t=Ns().$implicit,e=Ns(2);oi(2),gs("src",null==e.defoultUS?null:e.defoultUS.USER_IMG,Hr),oi(4),Xs(" ",null==e.defoultUS?null:e.defoultUS.USER_UNIQNAME," : "),oi(1),gs("url",e.url)("chat",t),oi(3),Ys(null==t?null:t.MS_DATE)}}function aR(t,e){if(1&t&&(vs(0,"div",47),bs(1,"span",8),vs(2,"div",48),vs(3,"div",53),vs(4,"span",50),Ks(5),_s(),bs(6,"dynamicMedia",51),_s(),vs(7,"div"),vs(8,"span",54),Ks(9),_s(),_s(),_s(),vs(10,"div"),bs(11,"img",7),_s(),_s()),2&t){const t=Ns().$implicit,e=Ns(2);oi(5),Xs(" ",null==e.selectedChat?null:e.selectedChat.USER_UNIQNAME," : "),oi(1),gs("url",e.url)("chat",t),oi(3),Ys(null==t?null:t.MS_DATE),oi(2),gs("src",null==e.selectedChat?null:e.selectedChat.USER_IMG,Hr)}}function cR(t,e){if(1&t&&(vs(0,"div",44),hs(1,sR,12,5,"div",45),hs(2,aR,12,5,"ng-template",null,46,Lc),_s()),2&t){const t=e.$implicit,n=ds(3),r=Ns(2);oi(1),gs("ngIf",t.FUSER_ID==(null==r.defoultUS?null:r.defoultUS.USER_ID))("ngIfElse",n)}}function lR(t,e){if(1&t&&(vs(0,"div",42),hs(1,cR,4,2,"div",43),_s()),2&t){const t=Ns();oi(1),gs("ngForOf",t.chats)}}function uR(t,e){if(1&t){const t=Cs();vs(0,"div",55),vs(1,"button",56),ks("click",(function(){return Xe(t),Ns().send()})),vs(2,"mat-icon"),Ks(3,"send"),_s(),_s(),vs(4,"input",57),ks("keyup.enter",(function(){return Xe(t),Ns().send()}))("ngModelChange",(function(e){return Xe(t),Ns().newMessage=e})),_s(),_s()}if(2&t){const t=Ns();oi(1),gs("disabled",t.newMessage?null:"newMessage"),oi(3),gs("ngModel",t.newMessage)}}function hR(t,e){if(1&t){const t=Cs();vs(0,"div",60),vs(1,"p"),Ks(2),_s(),vs(3,"button",61),ks("click",(function(){Xe(t);const n=e.$implicit,r=e.index;return Ns(2).deleteAttachment(n,r)})),bs(4,"img",62),_s(),_s()}if(2&t){const t=e.$implicit;oi(2),Ys(t.name)}}function dR(t,e){if(1&t){const t=Cs();hs(0,hR,5,1,"div",58),vs(1,"div"),vs(2,"button",59),ks("click",(function(){return Xe(t),Ns().sendFileChat()})),vs(3,"mat-icon"),Ks(4,"cloud_upload "),_s(),_s(),_s()}2&t&&gs("ngForOf",Ns().fileList)}n("Iab2");const pR=[{path:"chat",component:UI},{path:"sql",component:VA},{path:"chat",component:(()=>{class t{constructor(t,e,n,r){this.chatRService=t,this.router=e,this.http=n,this.resolver=r,this.url="http://localhost:5000/",this.users=[],this.chats=[],this.defoultUS={USER_ID:1,USER_UNIQNAME:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0627\u0644\u0625\u0641\u062a\u0631\u0627\u0636\u064a",USER_IMG:"https://picsum.photos/200/300?grayscale",USER_ISONLINE:!0},this.model=new Array,this.msgType=qA,this.fileList=[],this.imageSrc=new Array,this.chatList=[],this.formData=new FormData,this.chatRService.Query("api/v1/userlist/user").subscribe(t=>{this.users=[],this.users=t;let e=this.defoultUS.USER_ID;this.users=this.users.filter(t=>t.USER_ID!==e)})}ngOnInit(){this.chats=[],this.chatRService.chatReceived.subscribe(t=>{this.scrollToBottom(),this.chats.push(t)})}onSelect(t){this.defoultUS.USER_UNIQNAME?(this.selectedChat=t,this.defoultUS.USER_ID||this.selectedChat.USER_ID?this.chatRService.Query(`api/v1/chat/MS_CHATWITH?FUSER_ID=${+this.defoultUS.USER_ID}&TUSER_ID=${+this.selectedChat.USER_ID}`).subscribe(t=>{this.chats=t}):alert("\u0631\u0642\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0623\u0648 \u0631\u0642\u0645 \u0627\u0644\u0633\u062a\u0642\u0628\u0644 \u063a\u064a\u0631 \u0645\u0648\u062c\u0648\u062f !")):alert("\u064a\u062c\u0628 \u0639\u0644\u064a\u0643 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 !")}send(){return Object(Gx.__awaiter)(this,void 0,void 0,(function*(){if(!this.selectedChat)return alert("\u064a\u062c\u0628 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0633\u062a\u0644\u0645 !"),!1;try{let t=new BA;t.FUSER_ID=this.defoultUS.USER_ID,t.TUSER_ID=this.selectedChat.USER_ID,t.MS_TYPE=this.msgType.MESSAGE,t.MS_TEXT=this.newMessage,t.MS_STATE=!0,t.MS_DATE=new Date,this.chatRService.PostQuery("api/v1/chat/MS_CHAT",t).subscribe(t=>{if(1==t)return this.newMessage="",this.scrollToBottom(),!1;alert("\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0625\u0631\u0633\u0627\u0644 !")})}catch(t){console.log(t)}}))}scrollToBottom(){this.perfectScroll.directiveRef.update(),this.perfectScroll.directiveRef.scrollToBottom(0,500)}logout(){localStorage.removeItem("defoultUS"),this.router.navigate([""])}login(){this.router.navigate([""])}clearMessages(){if(void 0===this.selectedChat)return alert("\u0644\u0645 \u064a\u062a\u0645 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629 !"),!1;this.chatRService.DeleteQuery("api/v1/chat/MS_CHAT",`?FUSER_ID=${+this.defoultUS.USER_ID}&TUSER_ID=${+this.selectedChat.USER_ID}`).subscribe(t=>{this.chats=t})}isOver(){return window.matchMedia("(max-width: 960px)").matches}onSelectFile(t,e){if(this.fileList=e,this.fileList.length>0){if(null==this.getFileExtension(this.fileList[0].name))return alert("\u0625\u0645\u062a\u062f\u0627\u062f \u0627\u0644\u0645\u0644\u0641 \u063a\u064a\u0631 \u0645\u0642\u0628\u0648\u0644 !"),!1;for(let t of this.fileList){this.formData.append("files",t);let e=new FileReader;e.onload=t=>{this.imageSrc.push(t.target.result)},e.readAsDataURL(t)}}}deleteAttachment(t,e){var n=Array.from(this.fileList);this.fileList=n.filter(e=>e!==t)}sendFileChat(){if(0===this.fileList.length)return;const t=new FormData;for(let n of this.fileList)t.append("files",n),t.append("FUSER_ID",""+this.defoultUS.USER_ID),t.append("TUSER_ID",""+this.selectedChat.USER_ID),t.append("MS_TYPE",""+this.getFileExtension(n.name)||"5");const e=new aE("POST","http://localhost:5000/api/v1/chat/MS_FILE",t,{reportProgress:!0});this.http.request(e).subscribe(t=>{if(t.ok)return this.fileList=[],alert("\u062a\u0645 \u0627\u0644\u0625\u0631\u0633\u0627\u0644 \u0628\u0646\u062c\u0627\u062d ."),!1})}getFileExtension(t){let e=t.substring(t.lastIndexOf(".")+1,t.length)||t;if(e)switch(e){case"jpg":case"gif":case"jpeg":case"png":return this.msgType.IMAGE;case"mp3":return this.msgType.AUDIO;case"mp4":return this.msgType.VIDEO;case"txt":case"doc":case"docx":case"pdf":return this.msgType.DOCUMENT;default:return}}}return t.\u0275fac=function(e){return new(e||t)(ps(HA),ps(Lf),ps(fE),ps(_a))},t.\u0275cmp=fe({type:t,selectors:[["mat-ta-chat-sigr"]],viewQuery:function(t,e){var n;1&t&&kc(ZA,!0),2&t&&xc(n=Nc())&&(e.perfectScroll=n.first)},decls:79,vars:17,consts:[["fxLayout","row","fxLayoutAlign","start",1,"gene-chat-page"],["fxFlex.gt-md","100","fxFlex.gt-sm","100","fxFlex","100"],[1,"mat-pad-none"],[1,"chat-content-area"],[1,"gene-chat-sidebar",3,"mode","opened"],["chatnavbar",""],[1,"mat-blue-600","chat-toolbar-side"],[1,"img-circle",3,"src"],["fxFlex",""],["mat-icon-button","",3,"mat-menu-trigger-for"],[1,"gene-chat-user"],[3,"click",4,"ngFor","ngForOf"],[1,"chat-toolbar","mat-blue-600"],["mat-icon-button","",3,"click"],["fxFlex","",1,"pad-wrap"],[4,"ngIf"],["mat-icon-button","",3,"disabled","click"],["type","file","accept",".gif,.jpg,.jpeg,.png,.doc,.docx,.txt,.pdf,.mp3,.mp4",2,"display","none",3,"change"],["file",""],["mat-icon-button","",3,"disabled","mat-menu-trigger-for"],["fxLayout","column","fxLayoutAlign","end stretch",1,"gene-chat-area"],[3,"scrollIndicators"],["perfectScroll",""],["class","gene-chat-content",4,"ngIf"],[1,"gene-chat-form"],["fxLayout","row","fxLayoutAlign","space-around center",4,"ngIf","ngIfElse"],["other_select",""],["user","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item",""],["them","matMenu"],[3,"click"],[1,"gene-chat-thumb"],["mat-list-avatar","","alt","",1,"img-circle",3,"src"],[1,"gene-user-info","pad-wrap"],["mat-line",""],[1,"circle",3,"ngStyle"],[1,"margin-none"],[4,"ngIf","ngIfElse"],["toggle_view",""],["mat-line","",1,"margin-none","small-tx"],[1,"margin-none","small-tx"],[1,"gene-chat-content"],["class","gene-chat-wrap","fxLayout","column",4,"ngFor","ngForOf"],["fxLayout","column",1,"gene-chat-wrap"],["class","gene-chat-list mat-blue-800","fxLayout","row","fxLayoutAlign","start start","class","mrgn-b-md",4,"ngIf","ngIfElse"],["other_user",""],["fxLayout","row","fxLayoutAlign","start start",1,"mrgn-b-md"],[1,"pad-wrap"],[1,"mat-blue-800","gene-chat-msg"],[1,"gene-block"],[3,"url","chat"],[1,"meta-post","gene-text-md"],[1,"mat-green","gene-chat-msg"],[1,"meta-post","sp-l","gene-text-md"],["fxLayout","row","fxLayoutAlign","space-around center"],["mat-fab","",1,"gene-send-btn","mat-blue-800",3,"disabled","click"],["placeholder","\u0646\u0635 \u0627\u0644\u0631\u0633\u0627\u0644\u0629",3,"ngModel","keyup.enter","ngModelChange"],["class","files-list",4,"ngFor","ngForOf"],["mat-flat-button","","color","primary",1,"btn-cent","gene-send-btn","mat-blue-800",3,"click"],[1,"files-list"],[1,"delete-file",3,"click"],["src","assets/img/Recycle_Bin_Full.png"]],template:function(t,e){if(1&t){const t=Cs();vs(0,"div",0),vs(1,"div",1),vs(2,"mat-card",2),vs(3,"mat-sidenav-container",3),vs(4,"mat-sidenav",4,5),vs(6,"mat-toolbar",6),vs(7,"div"),vs(8,"a"),bs(9,"img",7),_s(),_s(),bs(10,"span",8),vs(11,"button",9),vs(12,"mat-icon"),Ks(13,"more_horiz"),_s(),_s(),_s(),bs(14,"hr"),vs(15,"mat-nav-list",10),hs(16,nR,10,7,"mat-list-item",11),_s(),_s(),vs(17,"mat-toolbar",12),vs(18,"button",13),ks("click",(function(){return Xe(t),ds(5).toggle()})),vs(19,"mat-icon"),Ks(20,"short_text"),_s(),_s(),vs(21,"a"),bs(22,"img",7),_s(),vs(23,"div",14),hs(24,oR,6,3,"div",15),_s(),vs(25,"div"),vs(26,"button",16),ks("click",(function(){return Xe(t),ds(30).click()})),vs(27,"mat-icon"),Ks(28,"attach_file"),_s(),vs(29,"input",17,18),ks("change",(function(n){Xe(t);const r=ds(30);return e.onSelectFile(n,r.files)})),_s(),_s(),vs(31,"button",19),vs(32,"mat-icon"),Ks(33,"more_horiz"),_s(),_s(),_s(),_s(),vs(34,"div",20),vs(35,"div"),vs(36,"perfect-scrollbar",21,22),hs(38,lR,2,1,"div",23),_s(),_s(),vs(39,"div",24),hs(40,uR,5,2,"div",25),hs(41,dR,5,1,"ng-template",null,26,Lc),_s(),_s(),_s(),_s(),_s(),_s(),vs(43,"mat-menu",null,27),vs(45,"button",28),ks("click",(function(){return e.login()})),vs(46,"mat-icon"),Ks(47," account_circle "),_s(),vs(48,"span"),Ks(49),_s(),_s(),vs(50,"button",29),vs(51,"mat-icon"),Ks(52,"help"),_s(),vs(53,"span"),Ks(54,"\u0645\u0633\u0627\u0639\u062f\u0629"),_s(),_s(),bs(55,"mat-divider"),vs(56,"button",28),ks("click",(function(){return e.logout()})),vs(57,"mat-icon"),Ks(58," exit_to_app "),_s(),vs(59,"span"),Ks(60," \u062a\u0633\u062c\u064a\u0644 \u062e\u0631\u0648\u062c "),_s(),_s(),_s(),vs(61,"mat-menu",null,30),vs(63,"button",29),vs(64,"mat-icon"),Ks(65," account_circle "),_s(),vs(66,"span"),Ks(67," \u062d\u0633\u0627\u0628 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 "),_s(),_s(),vs(68,"button",29),vs(69,"mat-icon"),Ks(70," volume_mute "),_s(),vs(71,"span"),Ks(72," \u0643\u062a\u0645 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629 "),_s(),_s(),bs(73,"mat-divider"),vs(74,"button",28),ks("click",(function(){return e.clearMessages()})),vs(75,"mat-icon"),Ks(76," clear_all "),_s(),vs(77,"span"),Ks(78," \u062d\u0630\u0641 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629 "),_s(),_s(),_s()}if(2&t){const t=ds(42),n=ds(44),r=ds(62);oi(4),gs("mode",e.isOver()?"over":"side")("opened",!e.isOver()),oi(5),gs("src",null!=(null==e.defoultUS?null:e.defoultUS.USER_IMG)?null==e.defoultUS?null:e.defoultUS.USER_IMG:"assets/img/noavatar.png",Hr),oi(2),gs("mat-menu-trigger-for",n),oi(5),gs("ngForOf",e.users),oi(6),gs("src",null!=(null==e.selectedChat?null:e.selectedChat.USER_IMG)?null==e.selectedChat?null:e.selectedChat.USER_IMG:"assets/img/noavatar.png",Hr),oi(2),gs("ngIf",null==e.selectedChat?null:e.selectedChat.USER_ID),oi(2),gs("disabled",e.selectedChat?null:"selectedChat"),oi(5),gs("disabled",e.selectedChat?null:"selectedChat")("mat-menu-trigger-for",r),oi(5),Bs("height","400px"),gs("scrollIndicators",!0),oi(2),gs("ngIf",(null==e.defoultUS?null:e.defoultUS.USER_ID)&&(null==e.selectedChat?null:e.selectedChat.USER_ID)),oi(2),gs("ngIf",0==(null==e.fileList?null:e.fileList.length))("ngIfElse",t),oi(9),Xs(" ",e.defoultUS.USER_UNIQNAME||"Login"," ")}},directives:[yT,dT,uT,LT,Kw,sk,WE,vk,Du,Mu,AI,nk,XT,lk,Sk,wk,Ib,Bu,QA,pm,bm,Sg],pipes:[qu],styles:['.gene-chat-list[_ngcontent-%COMP%], .gene-chat-wrap[_ngcontent-%COMP%]{display:block!important}.gene-chat-wrap[_ngcontent-%COMP%]{margin:0 10px!important}.sp-l[_ngcontent-%COMP%]{text-align:left!important}.small-tx[_ngcontent-%COMP%]{font-size:inherit!important;font-family:inherit!important;font-weight:100!important}.img-circle[_ngcontent-%COMP%]{height:50px}.circle[_ngcontent-%COMP%]:before{content:" \\25CF";font-size:10px}.div-cir[_ngcontent-%COMP%]{background:beige;width:50px;height:50px;border-radius:50%;background-image:url(noavatar.0bca52afdb2b99981323.png);background-size:cover}.files-list[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:80%;margin:10px auto;background:#fff;border:1px dashed;border-radius:12px;padding:5px;color:#1c8adb}.files-list[_ngcontent-%COMP%]   .delete-file[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer}.files-list[_ngcontent-%COMP%]   .delete-file[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px}.btn-cent[_ngcontent-%COMP%]{margin:auto;display:flow-root}']}),t})()},{path:"clint",component:(()=>{class t{constructor(){}ngOnInit(){}send(){this.hub=(new LA).withUrl("https://localhost:44338/signalr").configureLogging(KI.Error).build(),this.hub.start().catch(t=>console.error(t.toString())),this.hub.on("Send",t=>console.log(t))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["mat-ta-clintsignr"]],decls:3,vars:0,consts:[["type","submit","mat-fab","","color","primary",3,"click"]],template:function(t,e){1&t&&(vs(0,"button",0),ks("click",(function(){return e.send()})),vs(1,"mat-icon"),Ks(2,"login"),_s(),_s())},directives:[Kw,WE],styles:[""]}),t})()},{path:"login",component:KE},{path:"roomlist",component:wC},{path:"addroom",component:zx},{path:"chatroom/:roomname",component:RT},{path:"",redirectTo:"/chat",pathMatch:"full"}];let fR=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Qf.forRoot(pR)],Qf]}),t})();const mR={apiKey:"AAAA_tWJt1g:APA91bGqGdSgun-WfA6LB0UsHhuGE-9lFhKfTLBWi8JYtGMOjydQpN2eo3Wbi84Wrd_zWCq7iGZOLeFsB0ZrHLjehhky7zTDMsarJzdQRHKSTSiPMkWcYKpKdirjifI6KAUIQoBJknRs",databaseURL:"https://yemensys-abe75.firebaseio.com"};let gR=(()=>{class t{constructor(){this.title="angular-chat",Ug.initializeApp(mR)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container"]],template:function(t,e){1&t&&(vs(0,"div",0),bs(1,"router-outlet"),_s())},directives:[Bf],styles:[".container[_ngcontent-%COMP%]{padding:20px}"]}),t})();const yR={provide:new Ut("mat-autocomplete-scroll-strategy"),deps:[bx],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let vR=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[yR],imports:[[Bb,Ex,cb,Hu],FC,Bb,cb]}),t})(),_R=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Ny,cb],cb]}),t})(),bR=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[cb,Ub],cb]}),t})(),wR=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})(),ER=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Ub,cb,iy,wR],cb,wR]}),t})();const SR=new Ut("mat-chips-default-options"),CR={separatorKeyCodes:[13]};let xR=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[kb,{provide:SR,useValue:CR}]}),t})(),TR=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[My]]}),t})(),kR=(()=>{class t{constructor(){this.changes=new x,this.optionalLabel="Optional"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:function(){return new t},token:t,providedIn:"root"}),t})();const IR={provide:kR,deps:[[new ot,new at,kR]],useFactory:function(t){return t||new kR}};let AR=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[IR,kb],imports:[[cb,Hu,$C,Yw,TR,zE,Ub],cb]}),t})();function RR(t,e){}class OR{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const NR={dialogContainer:jy("dialogContainer",[Hy("void, exit",qy({opacity:0,transform:"scale(0.7)"})),Hy("enter",qy({transform:"none"})),Wy("* => enter",Uy("150ms cubic-bezier(0, 0, 0.2, 1)",qy({transform:"none",opacity:1}))),Wy("* => void, * => exit",Uy("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",qy({opacity:0})))])};function DR(){throw Error("Attempting to attach dialog content after content is already attached")}let PR=(()=>{class t extends WC{constructor(t,e,n,r,i){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=i,this._elementFocusedBeforeDialogWasOpened=null,this._state="enter",this._animationStateChanged=new fc,this.attachDomPortal=t=>(this._portalOutlet.hasAttached()&&DR(),this._setupFocusTrap(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=i.ariaLabelledBy||null,this._document=r}attachComponentPortal(t){return this._portalOutlet.hasAttached()&&DR(),this._setupFocusTrap(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached()&&DR(),this._setupFocusTrap(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._focusTrap.focusInitialElement()||this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_containsFocus(){const t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}_onAnimationDone(t){"enter"===t.toState?this._trapFocus():"exit"===t.toState&&this._restoreFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(ps(ba),ps(Ey),ps(Do),ps(Fl,8),ps(OR))},t.\u0275cmp=fe({type:t,selectors:[["mat-dialog-container"]],viewQuery:function(t,e){var n;1&t&&Tc(GC,!0),2&t&&xc(n=Nc())&&(e._portalOutlet=n.first)},hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&Is("@dialogContainer.start",(function(t){return e._onAnimationStart(t)}))("@dialogContainer.done",(function(t){return e._onAnimationDone(t)})),2&t&&(ls("id",e._id)("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),Zs("@dialogContainer",e._state))},features:[ta],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&hs(0,RR,0,0,"ng-template",0)},directives:[GC],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[NR.dialogContainer]}}),t})(),MR=0;class LR{constructor(t,e,n=`mat-dialog-${MR++}`){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new x,this._afterClosed=new x,this._beforeClosed=new x,this._state=0,e._id=n,e._animationStateChanged.pipe(Ph(t=>"done"===t.phaseName&&"enter"===t.toState),Zh(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Ph(t=>"done"===t.phaseName&&"exit"===t.toState),Zh(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Ph(t=>27===t.keyCode&&!this.disableClose&&!oy(t))).subscribe(t=>{t.preventDefault(),this.close()}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():this.close()})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Ph(t=>"start"===t.phaseName),Zh(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._containerInstance._startExitAnimation(),this._state=1}afterOpened(){return this._afterOpened.asObservable()}afterClosed(){return this._afterClosed.asObservable()}beforeClosed(){return this._beforeClosed.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}const FR=new Ut("MatDialogData"),jR=new Ut("mat-dialog-default-options"),UR=new Ut("mat-dialog-scroll-strategy"),VR={provide:UR,deps:[bx],useFactory:function(t){return()=>t.scrollStrategies.block()}};let BR=(()=>{class t{constructor(t,e,n,r,i,o,s){this._overlay=t,this._injector=e,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new x,this._afterOpenedAtThisLevel=new x,this._ariaHiddenElements=new Map,this.afterAllClosed=Nh(()=>this.openDialogs.length?this._afterAllClosed:this._afterAllClosed.pipe(cd(void 0))),this._scrollStrategy=i}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}get _afterAllClosed(){const t=this._parentDialog;return t?t._afterAllClosed:this._afterAllClosedAtThisLevel}open(t,e){if((e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new OR)).id&&this.getDialogById(e.id))throw Error(`Dialog with id "${e.id}" exists already. The dialog id must be unique.`);const n=this._createOverlay(e),r=this._attachDialogContainer(n,e),i=this._attachDialogContent(t,r,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new rx({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=Yo.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:OR,useValue:e}]}),r=new BC(PR,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(r).instance}_attachDialogContent(t,e,n,r){const i=new LR(n,e,r.id);if(t instanceof Wa)e.attachTemplatePortal(new qC(t,null,{$implicit:r.data,dialogRef:i}));else{const n=this._createInjector(r,i,e),o=e.attachComponentPortal(new BC(t,r.viewContainerRef,n));i.componentInstance=o.instance}return i.updateSize(r.width,r.height).updatePosition(r.position),i}_createInjector(t,e,n){const r=t&&t.viewContainerRef&&t.viewContainerRef.injector,i=[{provide:PR,useValue:n},{provide:FR,useValue:t.data},{provide:LR,useValue:e}];return!t.direction||r&&r.get(Py,null)||i.push({provide:Py,useValue:{value:t.direction,change:Sh()}}),Yo.create({parent:r||this._injector,providers:i})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(Yt(bx),Yt(Yo),Yt(Zl,8),Yt(jR,8),Yt(UR),Yt(t,12),Yt(ux))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),qR=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[BR,VR],imports:[[Ex,$C,cb],cb]}),t})(),HR=(()=>{class t{constructor(){this.changes=new x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(t,e){return`${t} \u2013 ${e}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:function(){return new t},token:t,providedIn:"root"}),t})();const WR={provide:new Ut("mat-datepicker-scroll-strategy"),deps:[bx],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let zR=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[HR,WR],imports:[[Hu,Yw,qR,Ex,Ny,$C],FC]}),t})(),GR=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})(),$R=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Hu,GR,$C]]}),t})(),KR=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Rb,cb],Rb,cb]}),t})();const YR={provide:new Ut("mat-select-scroll-strategy"),deps:[bx],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let XR=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[YR],imports:[[Hu,Ex,Bb,cb],FC,kw,Bb,cb]}),t})();const QR={provide:new Ut("mat-tooltip-scroll-strategy"),deps:[bx],useFactory:function(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}};let ZR=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[QR],imports:[[Ny,Hu,Ex,cb],cb,FC]}),t})(),JR=(()=>{class t{constructor(){this.changes=new x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,e,n)=>{if(0==n||0==e)return`0 of ${n}`;const r=t*e;return`${r+1} \u2013 ${r<(n=Math.max(n,0))?Math.min(r+e,n):r+e} of ${n}`}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:function(){return new t},token:t,providedIn:"root"}),t})();const tO={provide:JR,deps:[[new ot,new at,JR]],useFactory:function(t){return t||new JR}};let eO=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[tO],imports:[[Hu,Yw,XR,ZR]]}),t})(),nO=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Hu,cb],cb]}),t})(),rO=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Ub,cb],cb]}),t})(),iO=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Hu,cb],cb]}),t})(),oO=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})(),sO=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[oO,Ub,cb,iy],oO,cb]}),t})(),aO=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Hu,cb,$C,Ub,iy,Ny],cb]}),t})(),cO=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(ps(Wa))},t.\u0275dir=be({type:t,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),t})(),lO=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[Ay,cO]}),t})(),uO=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[lO,cb],cb]}),t})(),hO=(()=>{class t{constructor(t){this.matIconRegistry=t}static forRoot(){return{ngModule:t,providers:[ME]}}}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)(Yt(ME))},imports:[[vR,_R,Yw,bR,vT,ER,xR,AR,zR,qR,$R,kw,KR,zE,qw,Ck,ck,eO,nO,dC,rO,Ub,XR,fT,iO,sO,Vx,nC,YS,aO,FT,ZR,uO,Tb],vR,_R,Yw,bR,vT,ER,xR,AR,zR,qR,$R,kw,KR,zE,qw,Ck,ck,eO,nO,dC,rO,Ub,XR,fT,iO,sO,Vx,nC,YS,aO,FT,ZR,uO,Tb]}),t})(),dO=(()=>{class t{}return t.\u0275mod=ve({type:t,bootstrap:[gR]}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[qu],imports:[[Eh,fR,AE,ob,Fg,jg,hO,RI]]}),t})();(function(){if(yr)throw new Error("Cannot enable prod mode after platform setup.");gr=!1})(),bh().bootstrapModule(dO).catch(t=>console.error(t))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=(15&a)<<2|l>>6,h=63&l;c||(h=64,s||(u=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[u],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,c=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==c)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==c&&r.push(a<<6&192|c))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},l=function(t){try{return c.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=u(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function p(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}var f=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,m.prototype.create),i}return r.__extends(e,t),e}(Error),m=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?g(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",c=new f(i,a),l=0,u=Object.keys(r);l<u.length;l++){var h=u[l];"_"!==h.slice(-1)&&(h in c&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),c[h]=r[h])}return c},t}();function g(t,e){return t.replace(y,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var y=/\{\$([^}]+)}/g;function v(t){return JSON.parse(t)}var _=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=v(l(o[0])||""),n=v(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},b=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],c=this.chain_[2],l=this.chain_[3],u=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=l^a&(c^l),o=1518500249):(i=a^c^l,o=1859775393):r<60?(i=a&c|l&(a|c),o=2400959708):(i=a^c^l,o=3395469782);var h=(s<<5|s>>>27)+i+u+o+n[r]&4294967295;u=l,l=c,c=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function E(){}function S(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=m,e.FirebaseError=f,e.Sha1=b,e.assert=o,e.assertionError=s,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=c,e.base64Decode=l,e.base64Encode=function(t){var e=a(t);return c.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.decode=_,e.deepCopy=function(t){return u(void 0,t)},e.deepExtend=u,e.errorPrefix=S,e.getUA=d,e.isAdmin=function(t){var e=_(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return d().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=d();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNode=p,e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!p()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return d().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=_(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=_(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=_(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=v,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(S(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(S(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(S(t,e,r)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);